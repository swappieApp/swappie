if (self.CavalryLogger) { CavalryLogger.start_js(["1n\/mT"]); }

__d("AnalyticsBuiltInBreakdowns",[],(function a(b,c,d,e,f,g){f.exports={APP_VERSION:"$fb.app_version",USING_FB_LOGIN:"$fb.using_fb_login",GENDER:"$fb.gender",AGE:"$fb.age",LOCALE:"$fb.locale",COUNTRY:"$fb.country",DEVICE_TYPE:"$fb.device_type",DEVICE_OS_TYPE:"$fb.device_os_type",CLIENT_TYPE:"$fb.client_type",BROWSER:"$fb.browser",DEVICE_MODEL:"$fb.device_model",OS_VERSION:"$fb.os_version",BROWSER_VERSION:"$fb.browser_version",SDK_VERSION:"$fb.sdk_version",TIMEZONE:"$fb.device_timezone",CARRIER:"$fb.carrier",SCREEN_DIMENSIONS:"$fb.screen_dimensions",CORE_COUNT:"$fb.core_count",TOTAL_DISK_GB:"$fb.total_disk_gb",REMAINING_DISK_GB:"$fb.remaining_disk_gb",ACQUISITION_SOURCE:"$fb.acquisition_source",ACQUISITION_SOURCE_L1:"$fb.acquisition_source_l1",ACQUISITION_SOURCE_L2:"$fb.acquisition_source_l2",ACQUISITION_SOURCE_L3:"$fb.acquisition_source_l3",CITY_CODE:"$fb.city_code",REGION_CODE:"$fb.region_code",PLATFORM:"$fb.$platform",PAGE_ID:"$fb.$page_id",ACQUISITION_TYPE:"$fb.acquisition_type",DOMAIN:"$fb.$domain",REFERER_DOMAIN:"$fb.$referer_domain",WEB_TRAFFIC_SOURCE:"$fb.$web_traffic_source",WEB_TRAFFIC_SEARCH_SOURCE:"$fb.$web_traffic_search_source",WEB_TRAFFIC_SOCIAL_SOURCE:"$fb.$web_traffic_social_source",WEB_URL:"$fb.$web_url",REFERER_URL:"$fb.$referer_url",UTM_CAMPAIGN_SOURCE:"$fb.$utm_campaign_source",UTM_CAMPAIGN_MEDIUM:"$fb.$utm_campaign_medium",UTM_CAMPAIGN_TERM:"$fb.$utm_campaign_term",UTM_CAMPAIGN_CONTENT:"$fb.$utm_campaign_content",UTM_CAMPAIGN_NAME:"$fb.$utm_campaign_name"}}),null);
__d("AnalyticsCohortChartType",[],(function a(b,c,d,e,f,g){f.exports={CUMULATIVE_USER_RETENTION:"CUMULATIVE_USER_RETENTION",USER_RETENTION:"USER_RETENTION",VALUE_RETENTION:"VALUE_RETENTION",CUMULATIVE_EVENTS:"CUMULATIVE_EVENTS",LIFETIME_VALUE:"LIFETIME_VALUE"}}),null);
__d("AnalyticsCohortCollationInterval",[],(function a(b,c,d,e,f,g){f.exports={DAILY:"DAILY",WEEKLY:"WEEKLY",MONTHLY:"MONTHLY"}}),null);
__d("AnalyticsErrorCodes",[],(function a(b,c,d,e,f,g){f.exports={ANALYTICS_PUSH_CERT_EXPIRED:28e3,ANALYTICS_PUSH_CERT_BAD_FORMAT:28001,ANALYTICS_PUSH_CERT_INVALID:28002}}),null);
__d("AnalyticsInsightFeedback",[],(function a(b,c,d,e,f,g){f.exports={RATE_POSITIVE:"RATE_POSITIVE",RATE_NEGATIVE:"RATE_NEGATIVE"}}),null);
__d("AnalyticsOutcomes",[],(function a(b,c,d,e,f,g){f.exports={TIME_SPENT:"TIME_SPENT",RETENTION:"RETENTION",PURCHASE_VALUE:"PURCHASE_VALUE",WAU_GROWTH:"WAU_GROWTH",TIME_SPENT_TREND:"TIME_SPENT_TREND",PURCHASE_VALUE_TREND:"PURCHASE_VALUE_TREND",ANOMALY_TIMESPENT_MEDIAN:"ANOMALY_TIMESPENT_MEDIAN",ANOMALY_RETENTION:"ANOMALY_RETENTION",ANOMALY_ACTIVE_USERS:"ANOMALY_ACTIVE_USERS",ANOMALY_PURCHASEVALUE_MEAN:"ANOMALY_PURCHASEVALUE_MEAN",ANOMALY_PURCHASEVALUE_SUM:"ANOMALY_PURCHASEVALUE_SUM",ANOMALY_PURCHASEVALUE_COUNT:"ANOMALY_PURCHASEVALUE_COUNT"}}),null);
__d("AnalyticsOutcomeTypes",[],(function a(b,c,d,e,f,g){f.exports={ATTRIBUTION:"ATTRIBUTION",DELTA:"DELTA",VALUE:"VALUE",ANOMALY:"ANOMALY"}}),null);
__d("AnalyticsQueryConstants",[],(function a(b,c,d,e,f,g){f.exports={cardinality_limit:10}}),null);
__d("AnalyticsSettingConstants",[],(function a(b,c,d,e,f,g){f.exports={AWS_KINESIS_FIREHOSE_REGION:{EU_WEST_1:"eu-west-1",US_EAST_1:"us-east-1",US_WEST_1:"us-west-2"}}}),null);
__d("AppEventsAppIdentifyingBreakdowns",[],(function a(b,c,d,e,f,g){f.exports={app_version:null,short_version_code:null,app_name:null,ui_element:null}}),null);
__d("AppEventsCombinedBreakdowns",[],(function a(b,c,d,e,f,g){f.exports={AGE_GENDER:"AGE_GENDER"}}),null);
__d("AppEventsLowCardinalityAggregatingColumn",[],(function a(b,c,d,e,f,g){f.exports={"$fb.acquisition_source":"$fb.acquisition_source","$fb.acquisition_type":"$fb.acquisition_type","$fb.age":"$fb.age","$fb.browser":"$fb.browser","$fb.client_type":"$fb.client_type","$fb.device_os_type":"$fb.device_os_type","$fb.device_type":"$fb.device_type","$fb.gender":"$fb.gender","$fb.$platform":"$fb.$platform","$fb.$web_traffic_search_source":"$fb.$web_traffic_search_source","$fb.$web_traffic_social_source":"$fb.$web_traffic_social_source","$fb.$web_traffic_source":"$fb.$web_traffic_source","$fb.using_fb_login":"$fb.using_fb_login"}}),null);
__d("GEPushServiceType",[],(function a(b,c,d,e,f,g){f.exports={APNS:1,GCM:2,Parse:3}}),null);
__d("InsightsFunnelConstants",[],(function a(b,c,d,e,f,g){f.exports={MAX_NUM_STAGES:10}}),null);
__d("PulseEmotionalMapping",[],(function a(b,c,d,e,f,g){f.exports={bored:"restless",inspired:"inspired",entertained:"happy",excited:"amazing",relaxed:"good",grateful:"grateful",sad:"sad",positive:"blessed",proud:"proud",motivated:"bad",angry:"mad",emotional:"emotional",tired:"exhausted",pained:"pained",worried:"scared",wonderful:"wonderful",awesome:"great",content:"happy",depressed:"depressed",nostalgic:"nostalgic",awake:"crazy",meh:"meh",impressed:"important",shocked:"suprised",thoughtful:"brave"}}),null);
__d("SegmentCustomAudienceIneligibilityReason",[],(function a(b,c,d,e,f,g){f.exports={USER_PROPERTIES:"USER_PROPERTIES",WEB_PARAMETERS:"WEB_PARAMETERS",PIXEL_DEVICE:"PIXEL_DEVICE",PIXEL_DEMOGRAPHICS:"PIXEL_DEMOGRAPHICS",PIXEL_INSTALL_SOURCE:"PIXEL_INSTALL_SOURCE",HAS_OFFLINE:"HAS_OFFLINE",HAS_VIDEO:"HAS_VIDEO",HAS_PAGE:"HAS_PAGE",HAS_EVENT:"HAS_EVENT",HAS_AD_MONETIZATION_PROPERTY:"HAS_AD_MONETIZATION_PROPERTY",HAS_DIRECT_DEAL:"HAS_DIRECT_DEAL",PIXEL_NEW_USER_EVENT:"PIXEL_NEW_USER_EVENT",PIXEL_VALUE_RULE:"PIXEL_VALUE_RULE",ESG_PERCENTILE_VALUE:"ESG_PERCENTILE_VALUE",WEB_PARAMETERS_REFERRER_DOMAIN:"WEB_PARAMETERS_REFERRER_DOMAIN",WEB_PARAMETERS_TRAFFIC_SOURCE:"WEB_PARAMETERS_TRAFFIC_SOURCE",WEB_PARAMETERS_TRAFFIC_SEARCH_SOURCE:"WEB_PARAMETERS_TRAFFIC_SEARCH_SOURCE",WEB_PARAMETERS_TRAFFIC_SOCIAL_SOURCE:"WEB_PARAMETERS_TRAFFIC_SOCIAL_SOURCE",HAS_PAGE_EVENTS:"HAS_PAGE_EVENTS"}}),null);
__d("LTVPredictorActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h={SET_AVG_REVENUE_PER_DAU:"SET_AVG_REVENUE_PER_DAU",SET_NUM_DAYS_TO_PREDICT:"SET_NUM_DAYS_TO_PREDICT",SET_CURRENT_REQUEST:"SET_CURRENT_REQUEST",SET_DATA_PERIOD_TO_FIT:"SET_DATA_PERIOD_TO_FIT",SET_RETENTION_DATA:"SET_RETENTION_DATA",VALID_RESPONSE:"VALID_RESPONSE"};f.exports=h}),null);
__d("LTVPredictorDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("LTVPredictorActions",["invariant","AsyncRequest","LTVPredictorDispatcher","LTVPredictorActionTypes","URI"],(function a(b,c,d,e,f,g,h){"use strict";var i={sendRequest:function j(k){new(c("AsyncRequest"))(k).setHandler(function(l){var m=l.payload.area_under_curve||0,n=l.payload.fitted_y_values,o=l.payload.r_squared||0;n!==null||h(0);c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").VALID_RESPONSE,requestURI:k,response:{areaUnderCurve:m,fittedYValues:n,rSquared:o}})}).setMethod("POST").send()},setAvgRevPerDAU:function j(k){c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").SET_AVG_REVENUE_PER_DAU,avgRevPerDAU:k})},setCurrentRequest:function j(k){c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").SET_CURRENT_REQUEST,request:k})},setDataPeriodToFit:function j(k){c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").SET_DATA_PERIOD_TO_FIT,dataPeriodToFit:k})},setRetentionData:function j(k,l){c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").SET_RETENTION_DATA,xValues:k,yValues:l})},setNumDaysToPredict:function j(k){c("LTVPredictorDispatcher").dispatch({type:c("LTVPredictorActionTypes").SET_NUM_DAYS_TO_PREDICT,numDaysToPredict:k})}};f.exports=i}),null);
__d("LTVPredictorARPUInput.react",["cx","LTVPredictorActions","React","SUIAnalyticsGriffinTheme","SUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){j.constructor.call(this);this.$LTVPredictorARPUInput1=function(l){var m=Number(l),n=void 0;if(!isNaN(m))c("LTVPredictorActions").setAvgRevPerDAU(m);else n="Please enter a valid number.";this.setState({error:n,currInput:l})}.bind(this);this.state={currInput:"",error:null}}k.prototype.render=function(){return c("React").createElement("div",{className:"_oqo"},c("React").createElement("h1",null,"Estimated Average Revenue Per DAU"),c("React").createElement(c("SUITextInput.react"),{errorMessage:this.state.error,theme:c("SUIAnalyticsGriffinTheme"),value:this.state.currInput,onChange:this.$LTVPredictorARPUInput1}))};f.exports=k}),null);
__d("LTVPredictorCalculateButton.react",["cx","LTVPredictorActions","React","SUIAnalyticsGriffinTheme","SUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$LTVPredictorCalculateButton1=function(){var q=this.props.xValues,r=this.props.originalYValues,s=q.indexOf(this.props.dataPeriodToFit[0]),t=q.indexOf(this.props.dataPeriodToFit[1])+1,u=q.slice(s,t),v=r.slice(s,t);c("LTVPredictorActions").setCurrentRequest({modelType:this.props.modelType,yValues:v,xValues:u,lifePeriod:[0,this.props.numDaysToPredict],stepSize:this.props.stepSize})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_oqo"},c("React").createElement(c("SUIButton.react"),{label:"Calculate",theme:c("SUIAnalyticsGriffinTheme"),onClick:this.$LTVPredictorCalculateButton1}))};f.exports=k}),null);
__d("LTVPredictorCandelaStyleSheet",["CandelaStyleSheet"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("CandelaStyleSheet").fromJS({annotationmarker:{stroke:"#000",strokeWidth:1,radius:3},area:{fill:"auto",stroke:"#000",strokeWidth:1,opacity:1},axistitle:{color:"#000",fontSize:12,fontWeight:"normal",textAlign:"center",visibility:"visible"},line:{visibility:"hidden"}})}),null);
__d("LTVPredictorChart.react",["BUIInsightsLineAreaChart.react","CandelaGroupScaleBuilder","LTVPredictorCandelaStyleSheet","React","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("CandelaGroupScaleBuilder").group;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=[];if(!this.props.fittedYValues.length)for(var m=0;m<this.props.xValues.length;m++)l.push({time:this.props.xValues[m],originalYValuesWhite:this.props.originalYValues[m],originalYValuesGray:this.props.originalYValues[m]});else{var n=this.props.stepSize.toString().split(".")[1],o=n?n.length:0,p=0;for(var q=0;q<this.props.fittedYValues.length;q++){var r=q*this.props.stepSize;if(r===this.props.xValues[p]){l.push({time:this.props.xValues[p],originalYValuesWhite:this.props.originalYValues[p],originalYValuesGray:this.props.originalYValues[p],fittedYValues:this.props.fittedYValues[q]});p+=1}else{if(r>this.props.xValues[p]){l.push({time:this.props.xValues[p],originalYValuesWhite:this.props.originalYValues[p],originalYValuesGray:this.props.originalYValues[p]});p+=1}l.push({time:r.toFixed(o),fittedYValues:this.props.fittedYValues[q]})}}for(p;p<this.props.xValues.length;p++)l.push({time:this.props.xValues[p],originalYValuesWhite:this.props.originalYValues[p],originalYValuesGray:this.props.originalYValues[p]})}var s={fittedYValues:"#A3E6FF",originalYValuesWhite:"#FFF",originalYValuesGray:"#8E8E8E"},t={time:{type:"number"},fittedYValues:{renderAs:"area",type:"number"},originalYValuesGray:{renderAs:"line",type:"number"},originalYValuesWhite:{renderAs:"line",type:"number"}},u=[];if(this.props.xValues.length){var v=this.props.xValues.indexOf(this.props.dataPeriodToFit[0]),w=this.props.xValues.indexOf(this.props.dataPeriodToFit[1])+1,x=0;for(;x<v;x++)u.push({dependentVariableName:"originalYValuesGray",renderAs:"marker",value:this.props.xValues[x],variableName:"time"});for(;x<w;x++)u.push({dependentVariableName:"originalYValuesWhite",renderAs:"marker",value:this.props.xValues[x],variableName:"time"});for(;x<this.props.xValues.length;x++)u.push({dependentVariableName:"originalYValuesGray",renderAs:"marker",value:this.props.xValues[x],variableName:"time"})}return c("React").createElement(c("BUIInsightsLineAreaChart.react"),{annotations:c("immutable").List(u),autoColors:c("immutable").Map(s),data:l,height:300,interactive:false,plotX:j("time").setTitle("Time").from(0).niceStepOnly(),plotY:[j("originalYValuesGray","originalYValuesWhite","fittedYValues").from(0)],schema:t,styleSheet:c("LTVPredictorCandelaStyleSheet"),width:600})};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("LTVPredictorCohortLifePeriodSelector.react",["cx","FBNumberInput.react","LTVPredictorActions","React","SUIAnalyticsGriffinTheme","SUIButton.react","SUIToggleButtonGroup.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=0,l=[30,90,180];i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.$LTVPredictorCohortLifePeriodSelector1=function(){return c("React").createElement("div",{className:"_3-8w"},"Predict for ",c("React").createElement(c("FBNumberInput.react"),{className:"_5_u2",defaultValue:k,maxValue:365,minValue:0,onValueChange:c("LTVPredictorActions").setNumDaysToPredict})," days")};m.prototype.render=function(){var n=l.includes(this.props.numDaysToPredict)?this.props.numDaysToPredict:k,o=l.map(function(p){return c("React").createElement(c("SUIButton.react"),{height:"normal",key:p,label:p+" days",theme:c("SUIAnalyticsGriffinTheme"),type:"button",value:p})});return c("React").createElement("div",{className:"_oqo"},c("React").createElement("h1",null,"Select the number of days to predict"),c("React").createElement(c("SUIToggleButtonGroup.react"),{selectedDepressed:true,theme:c("SUIAnalyticsGriffinTheme"),value:n,onChange:c("LTVPredictorActions").setNumDaysToPredict},o,c("React").createElement(c("SUIButton.react"),{height:"normal",label:"Custom",theme:c("SUIAnalyticsGriffinTheme"),type:"button",value:k})),n===k?this.$LTVPredictorCohortLifePeriodSelector1():null)};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("LTVPredictorDataStore",["FluxLoadObjectStore","LTVPredictorActionTypes","LTVPredictorDispatcher","LTVPredictorActions","URI"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){switch(l.type){case c("LTVPredictorActionTypes").VALID_RESPONSE:return this.__handleOne(k,l.requestURI,l.response);default:return k}};j.prototype.__load=function(k){c("LTVPredictorActions").sendRequest(k)};function j(){h.apply(this,arguments)}f.exports=new j(c("LTVPredictorDispatcher"))}),null);
__d("LTVPredictorInputStore",["FluxReduceStore","immutable","LTVPredictorActionTypes","LTVPredictorDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({avgRevPerDAU:0,dataPeriodToFit:[0,0],numDaysToPredict:30,request:null,xValues:[0],yValues:[0]}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){var p=n.avgRevPerDAU,q=n.dataPeriodToFit,r=n.numDaysToPredict,s=n.request,t=n.xValues,u=n.yValues;switch(o.type){case c("LTVPredictorActionTypes").SET_AVG_REVENUE_PER_DAU:p=o.avgRevPerDAU;break;case c("LTVPredictorActionTypes").SET_NUM_DAYS_TO_PREDICT:r=o.numDaysToPredict;break;case c("LTVPredictorActionTypes").SET_CURRENT_REQUEST:s=o.request;break;case c("LTVPredictorActionTypes").SET_DATA_PERIOD_TO_FIT:q=o.dataPeriodToFit;break;case c("LTVPredictorActionTypes").SET_RETENTION_DATA:t=o.xValues;u=o.yValues;q=[t[0],t[t.length-1]];s=null;break;default:return n}return new l({avgRevPerDAU:p,dataPeriodToFit:q,numDaysToPredict:r,request:s,xValues:t,yValues:u})};function m(){j.apply(this,arguments)}f.exports=new m(c("LTVPredictorDispatcher"))}),null);
__d("LTVPredictorResultInfo.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=void 0,m=void 0,n=void 0;if(this.props.rSquared)l=c("React").createElement("h1",null,"Fitted model's R-squared: ",Math.round(this.props.rSquared*100)/100);if(this.props.areaUnderCurve)m=c("React").createElement("h1",null,"Estimated number of active days per user in this time period: ",Math.round(this.props.areaUnderCurve*100)/100);if(this.props.areaUnderCurve&&this.props.avgRevPerDAU)n=c("React").createElement("h1",null,"Recommended bid (estimated revenue per user for selected period): ",Math.round(this.props.areaUnderCurve*this.props.avgRevPerDAU*100)/100);return c("React").createElement("div",{className:"_oqo"},l,m,n)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XLTVPredictorDataChangeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/neko_ltv_predictor/update/",{model_type:{type:"String",required:true},y_values:{type:"FloatVector",required:true},x_values:{type:"FloatVector",required:true},life_period:{type:"FloatVector",required:true},step_size:{type:"Float",required:true}})}),null);
__d("LTVPredictorUtils",["URI","XLTVPredictorDataChangeAsyncController"],(function a(b,c,d,e,f,g){"use strict";var h={requestToURI:function i(j){return c("XLTVPredictorDataChangeAsyncController").getURIBuilder().setString("model_type",j.modelType).setFloatVector("y_values",j.yValues).setFloatVector("x_values",j.xValues).setFloatVector("life_period",j.lifePeriod).setFloat("step_size",j.stepSize).getURI()}};f.exports=h}),null);
__d("LTVPredictorAnalyticsDialogButtonContainer.react",["cx","fbt","FluxContainer","GriffinButton","Layout.react","LTVPredictorActions","LTVPredictorARPUInput.react","LTVPredictorCalculateButton.react","LTVPredictorChart.react","LTVPredictorCohortLifePeriodSelector.react","LTVPredictorDataStore","LTVPredictorDispatcher","LTVPredictorInputStore","LTVPredictorResultInfo.react","LTVPredictorUtils","React","ScrollableArea.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=.1;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$LTVPredictorAnalyticsDialogContainer5=function(u){this.setState({showDialog:u})}.bind(this),this.$LTVPredictorAnalyticsDialogContainer4=function(){this.$LTVPredictorAnalyticsDialogContainer5(true)}.bind(this),q}o.prototype.componentWillReceiveProps=function(p){this.$LTVPredictorAnalyticsDialogContainer1(p)};o.prototype.componentWillMount=function(){c("LTVPredictorDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};o.getStores=function(){return[c("LTVPredictorDataStore"),c("LTVPredictorInputStore")]};o.calculateState=function(p){var q=c("LTVPredictorInputStore").getState(),r=q.avgRevPerDAU,s=q.request,t=q.yValues,u=q.xValues,v=q.dataPeriodToFit,w=q.numDaysToPredict,x=void 0,y=[];if(s){var z=c("LTVPredictorUtils").requestToURI(s),A=c("LTVPredictorDataStore").get(z),B=A.getValue();if(B){x=B.areaUnderCurve;y=B.fittedYValues}}return{areaUnderCurve:x,avgRevPerDAU:r,dataPeriodToFit:v,fittedYValues:y,numDaysToPredict:w,originalYValues:t,showDialog:p?p.showDialog:false,xValues:u}};o.prototype.render=function(){return c("React").createElement("div",{className:"_44c3",key:"ltv_predictor"},this.$LTVPredictorAnalyticsDialogContainer2(),this.$LTVPredictorAnalyticsDialogContainer3())};o.prototype.$LTVPredictorAnalyticsDialogContainer2=function(){var p=this.props.collationInterval!=="DAILY",q=i._("LTV Predictor"),r=i._("Please use Daily user retention data");return c("React").createElement(c("GriffinButton"),{className:"_3-90","data-tooltip-position":"below",disabled:p,key:"ltv_predictor",label:q,ref:"ltvPredictor",tooltip:p?r:null,onClick:this.$LTVPredictorAnalyticsDialogContainer4})};o.prototype.$LTVPredictorAnalyticsDialogContainer3=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.state.showDialog,width:975,onToggle:this.$LTVPredictorAnalyticsDialogContainer5},c("React").createElement(c("XUIDialogTitle.react"),null,i._("LTV Predictor")),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("Layout.react"),null,c("React").createElement(m,{className:"_46pc"},c("React").createElement(c("ScrollableArea.react"),{height:360,scrollbar:"fade"},c("React").createElement(c("LTVPredictorCohortLifePeriodSelector.react"),{numDaysToPredict:this.state.numDaysToPredict}),c("React").createElement(c("LTVPredictorARPUInput.react"),null),c("React").createElement(c("LTVPredictorCalculateButton.react"),{dataPeriodToFit:this.state.dataPeriodToFit,modelType:"bestfit",numDaysToPredict:this.state.numDaysToPredict,originalYValues:this.state.originalYValues,stepSize:n,xValues:this.state.xValues}))),c("React").createElement(l,{className:"_46pd"},c("React").createElement(c("LTVPredictorChart.react"),{dataPeriodToFit:this.state.dataPeriodToFit,fittedYValues:this.state.fittedYValues,numDaysToPredict:this.state.numDaysToPredict,originalYValues:this.state.originalYValues,stepSize:n,xValues:this.state.xValues}),c("React").createElement(c("LTVPredictorResultInfo.react"),{areaUnderCurve:this.state.areaUnderCurve,avgRevPerDAU:this.state.avgRevPerDAU})))))};o.prototype.$LTVPredictorAnalyticsDialogContainer1=function(p){if(p.cohortAverageRetention&&p.cohortAverageRetention.length>0){var q=p.cohortAverageRetention.map(function(s){return s.value/100}),r=Array.from(q.keys());c("LTVPredictorActions").setRetentionData(r,q)}};f.exports=c("FluxContainer").create(o)}),null);
__d("InsightsCodeSnippet",["React","ReactDOM"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;"use strict";for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.onClick=function(){c("ReactDOM").findDOMNode(this.refs.textarea).focus();c("ReactDOM").findDOMNode(this.refs.textarea).select()}.bind(this),l}j.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"fbInsightsCodeSnippet",onClick:this.onClick,role:"presentation"},c("React").createElement("div",{className:"topEdge"}),c("React").createElement("div",{className:"bottomEdge"}),c("React").createElement("textarea",{row:"1",readOnly:true,ref:"textarea",wrap:"off",value:this.props.code}))};f.exports=j}),null);
__d("InsightsLegendColoredCheckbox.react",["ix","cx","xuiglyph","Image.react","Keys","React","emptyFunction","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={checked:this.props.checked!==undefined?this.props.checked:this.props.defaultChecked},this.isChecked=function(){return this.props.checked!==undefined?this.props.checked:this.state.checked}.bind(this),this.onChange=function(t){this.toggleState()}.bind(this),this.onClick=function(t){this.toggleState()}.bind(this),this.onKeyDown=function(t){if(t.keyCode==c("Keys").SPACE){this.toggleState();t.preventDefault()}}.bind(this),this.toggleState=function(){if(!this.props.disabled){var t=!this.isChecked();this.setState({checked:t});this.props.onChange(t)}}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){"use strict";var p=o.checked!==undefined?o.checked:this.state.checked;this.setState({checked:p})};n.prototype.render=function(){"use strict";var o=c("joinClasses")(this.props.className,"_86a"),p=c("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"checkbox",checked:this.isChecked(),onChange:c("emptyFunction")})),q=null;switch(this.props.size){case"small":q=h("140199");break;case"medium":q=h("140200");break;case"large":q=h("140201");break}return c("React").createElement("span",{"aria-checked":this.isChecked(),className:o,onClick:this.onClick,onKeyDown:this.onKeyDown,role:"checkbox",style:{background:this.props.color},tabIndex:"0"},p,c("React").createElement(c("Image.react"),{src:q,style:{display:this.isChecked()?"inline-block":"none",margin:2}}))};n.propTypes={checked:m.bool,color:m.string.isRequired,defaultChecked:m.bool,disabled:m.bool,onChange:m.func,size:m.string};n.defaultProps={checked:undefined,defaultChecked:false,onChange:c("emptyFunction"),size:"small"};f.exports=n}),null);
__d("InsightsLegendCheckboxKey.react",["cx","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","InsightsLegendColoredCheckbox.react","React","Tooltip","emptyFunction"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={checked:this.props.checked},this.onChange=function(r){this.setState({checked:r});this.props.onChange(r)}.bind(this),n}l.prototype.componentWillReceiveProps=function(m){"use strict";var n=m.checked!==undefined?m.checked:this.state.checked;this.setState({checked:n})};l.prototype.render=function(){"use strict";var m=this.props.isInline?"inline":"block";return c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_83g",display:m},c("React").createElement(c("InsightsLegendColoredCheckbox.react"),{disabled:this.props.disabled,color:this.props.color,checked:this.state.checked,size:"small",onChange:this.onChange}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(this.props.children),{className:"_83h _4vge",style:{marginLeft:10,marginBottom:6,color:this.props.color}}),this.props.children))};l.propTypes={checked:k.bool,color:k.string.isRequired,disabled:k.bool,onChange:k.func,isInline:k.bool};l.defaultProps={checked:true,onChange:c("emptyFunction"),isInline:true};f.exports=l}),null);
__d("InsightsLegendScrollableVert.react",["InsightsLegend_DEPRECATED.react","LayoutScrollableView.react","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){return c("React").createElement(c("LayoutScrollableView.react"),{height:this.props.height,width:this.props.width},c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{className:this.props.className,layout:c("InsightsLegend_DEPRECATED.react").layout.STACKED},this.props.children))};function k(){h.apply(this,arguments)}k.propTypes={height:j.number.isRequired,width:j.number.isRequired};f.exports=k}),null);
__d("FalcorCustomEventsSettingsText",["fbt","AnalyticsProductName","Link.react","React","URI","XDeveloperDocumentationController"],(function a(b,c,d,e,f,g,h){var i=c("XDeveloperDocumentationController").getURIBuilder().setString("path1","app-events").setString("path2","ios").getURI().setSubdomain("developers").setFragment("purchase"),j=c("XDeveloperDocumentationController").getURIBuilder().setString("path1","app-events").setString("path2","android").getURI().setSubdomain("developers").setFragment("purchase"),k={title:h._("Configuraci\u00f3n de eventos de la aplicaci\u00f3n"),iOSImplicitPurchaseEvents:{header:h._("Registro autom\u00e1tico de eventos de compra en la aplicaci\u00f3n en iOS (recomendado)"),description:h._("Al activar esta opci\u00f3n se registran todos los eventos de compra en la aplicaci\u00f3n autom\u00e1ticamente. Esta funci\u00f3n requiere la versi\u00f3n 3.22 del SDK de Facebook para iOS o una versi\u00f3n posterior."),purchaseValidationNotice:h._("A partir de la versi\u00f3n 4.6 del SDK, todas las compras registradas se validar\u00e1n con Apple."),noticeHeader:h._("Aviso:"),notice:h._("Cuando esta opci\u00f3n est\u00e9 activada, no debes registrar las compras en la aplicaci\u00f3n manualmente; de lo contrario, aparecer\u00e1n duplicadas. {link to developer docs}",[h.param("link to developer docs",c("React").createElement(c("Link.react"),{target:"_blank",href:i},h._("M\u00e1s informaci\u00f3n")))])},AndroidImplicitPurchaseEvents:{header:h._("Registro autom\u00e1tico de eventos de compra en la aplicaci\u00f3n en Android (recomendado)"),description:h._("Al activarlo, todos los eventos de compra en la aplicaci\u00f3n se registrar\u00e1n autom\u00e1ticamente. Esta funci\u00f3n requiere la versi\u00f3n 4.27 del SDK de Facebook para Android o una versi\u00f3n posterior."),noticeHeader:h._("Aviso:"),notice:h._("Cuando esta opci\u00f3n est\u00e9 activada, no debes registrar las compras en la aplicaci\u00f3n manualmente; de lo contrario, aparecer\u00e1n duplicadas. {link to developer docs}",[h.param("link to developer docs",c("React").createElement(c("Link.react"),{target:"_blank",href:j},h._("M\u00e1s informaci\u00f3n")))])},automaticAnalyticsEvents:{header:h._("Solo iOS: registrar eventos de an\u00e1lisis autom\u00e1ticamente"),description:h._("Al activar esta opci\u00f3n se registran todos los eventos de compra autom\u00e1ticamente.")},sharedSecret:{header:h._("Clave secreta compartida de compras en la aplicaci\u00f3n"),description:h._("Este es un c\u00f3digo \u00fanico generado en iTunes Connect que nos permite validar las compras de suscripci\u00f3n autorrenovables con Apple. Si tu aplicaci\u00f3n no ofrece suscripciones, no es necesario rellenar este campo."),badSecretMessage:h._("Esta no es una clave secreta compartida v\u00e1lida. Prueba a introducirla de nuevo."),writeRequestError:h._("No lo hemos ahorrado correctamente. Actualiza la p\u00e1gina y vuelve a guardarlo de nuevo.")},viewRestrictedInsights:{header:h._("Permitir que los usuarios de Analytics vean la informaci\u00f3n de compra"),description:h._("Al activarlo, cualquier persona que tenga acceso a {Facebook Analytics product name} podr\u00e1 ver los datos de eventos de compra recomendados. {link to help center}",[h.param("Facebook Analytics product name",c("AnalyticsProductName").shortName),h.param("link to help center",c("React").createElement(c("Link.react"),{target:"_blank",href:new(c("URI"))("https://www.facebook.com/help/analytics/1654494724808448")},h._("M\u00e1s informaci\u00f3n")))])},sessionTimeoutInterval:{header:h._("Intervalo de tiempo de espera de la sesi\u00f3n"),description:h._("Esta opci\u00f3n establece el tiempo (en segundos) que puede pasar sin recibirse eventos antes de que se inicie una nueva sesi\u00f3n. Si introduces un valor inferior a diez, el campo se restablecer\u00e1 con el valor predeterminado de 60 segundos."),sdkVersion:h._("Nota: Esta funci\u00f3n requiere la versi\u00f3n 4.11 (o superior) del SDK de Facebook."),invalidInput:h._("Introduce un n\u00famero entero mayor que nueve en este campo."),writeRequestError:h._("No se ha guardado correctamente. Actualiza la p\u00e1gina y vuelve a intentarlo.")},discardButton:h._("Descartar"),saveChangesButton:h._("Guardar cambios"),link:h._("Configuraci\u00f3n de los eventos de la aplicaci\u00f3n"),failedToGetSettings:h._("Se ha producido un problema al recuperar la configuraci\u00f3n de los eventos de la aplicaci\u00f3n. Vuelve a intentarlo m\u00e1s tarde."),failedToUpdateSettings:h._("Se ha producido un problema al actualizar la configuraci\u00f3n de los eventos de la aplicaci\u00f3n. Vuelve a intentarlo m\u00e1s tarde.")};f.exports=k}),null);
__d("DevsiteAndroidSettingImplicitPurchaseWarningDialog",["fbt","FalcorCustomEventsSettingsText","React","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){"use strict";var i={showSupportedSDKWarning:function j(){c("SimpleXUIDialog").show(c("FalcorCustomEventsSettingsText").AndroidImplicitPurchaseEvents.notice,h._("Evitar las compras duplicadas"))},showUnsupportedSDKWarning:function j(){c("SimpleXUIDialog").show(c("React").createElement("span",null,h._("El inicio de sesi\u00f3n autom\u00e1tico de compras en la aplicaci\u00f3n ahora est\u00e1 activado para tu aplicaci\u00f3n. Sin embargo, esta funci\u00f3n requiere la versi\u00f3n 4.27 del SDK de Facebook de Android o una posterior.")," ",c("React").createElement("a",{href:"https://developers.facebook.com/docs/android",target:"_blank"},h._("Haz clic aqu\u00ed"))," ",h._("para descargar e instalar la versi\u00f3n m\u00e1s reciente del SDK de Facebook. Una vez que hayas integrado la nueva versi\u00f3n del SDK, debes llegar a cabo un paso m\u00e1s para activar la funci\u00f3n en Android,")," ",c("React").createElement("a",{href:"https://developers.facebook.com/docs/app-events/android/#purchase",target:"_blank"},h._("Haz clic aqu\u00ed"))," ",h._("y sigue los pasos.")),h._("Un paso m\u00e1s"))},show:function j(k,l){k.addEventListener("change",function(m){if(!m.target.checked)return;if(l)this.showSupportedSDKWarning();else this.showUnsupportedSDKWarning()}.bind(this))}};f.exports=i}),null);
__d("DevsiteIOSSettingImplicitPurchaseWarningDialog",["fbt","FalcorCustomEventsSettingsText","React","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){var i={showSupportedSDKWarning:function j(){c("SimpleXUIDialog").show(c("FalcorCustomEventsSettingsText").iOSImplicitPurchaseEvents.notice,h._("Evitar las compras duplicadas"))},showUnsupportedSDKWarning:function j(){c("SimpleXUIDialog").show(c("React").createElement("span",null,h._("El registro autom\u00e1tico de compras en la aplicaci\u00f3n en iOS ahora est\u00e1 activado. Sin embargo, esta funci\u00f3n requiere la versi\u00f3n 3.22 del SDK de Facebook para iOS o una posterior.")," ",c("React").createElement("a",{href:"https://developers.facebook.com/docs/ios",target:"_blank"},h._("Haz clic aqu\u00ed"))," ",h._("para descargar e instalar la versi\u00f3n m\u00e1s reciente del SDK de Facebook. Una vez que hayas integrado la nueva versi\u00f3n del SDK, las compras en la aplicaci\u00f3n se registrar\u00e1n autom\u00e1ticamente en iOS.")),h._("Un paso m\u00e1s"))},show:function j(k,l){k.addEventListener("change",function(m){if(!m.target.checked)return;if(l)this.showSupportedSDKWarning();else this.showUnsupportedSDKWarning()}.bind(this))}};f.exports=i}),null);
__d("AnalyticsAggregationChartCreateMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsAggregationChartCreateData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsAggregationChartCreateData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},o=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],p={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:o,storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},r={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[n,l,q,k],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsAggregationChartCreateMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsAggregationChartCreateResponsePayload",name:"analytics_aggregation_chart_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[k,{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null},{kind:"FragmentSpread",name:"AnalyticsAggregationChartEditor_chart",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1482442045166101",kind:"Batch",metadata:{},name:"AnalyticsAggregationChartCreateMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsAggregationChartCreateMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsAggregationChartCreateResponsePayload",name:"analytics_aggregation_chart_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},l,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},p,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},r],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[l,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},p],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:o,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},r,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[n,q,k],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null},k],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsAggregationChartEditMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsAggregationChartEditData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsAggregationChartEditData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},m=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],n={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:m,storageKey:null},o={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},p={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},q={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[o,l,p,k],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsAggregationChartEditMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsAggregationChartEditResponsePayload",name:"analytics_aggregation_chart_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredAggregationChart",name:"chart",plural:false,selections:[{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null},{kind:"FragmentSpread",name:"AnalyticsAggregationChartEditor_chart",args:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1625588737491881",kind:"Batch",metadata:{},name:"AnalyticsAggregationChartEditMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsAggregationChartEditMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsAggregationChartEditResponsePayload",name:"analytics_aggregation_chart_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredAggregationChart",name:"chart",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},k,{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},l,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},n,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},q],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[l,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},n],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:m,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},q,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[o,p,k],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[o,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsAggregationChartEditor_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},j={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsAggregationChartEditor_chart",selections:[{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},i,{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},j,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},j],storageKey:null}],storageKey:null}],type:"AnalyticsStoredAggregationChart"}}();f.exports=h}),null);
__d("AnalyticsAggregationChartFragmentContainer_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},j={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsAggregationChartFragmentContainer_chart",selections:[{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},i,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},j,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},j],storageKey:null}],storageKey:null}],type:"AnalyticsChart"}}();f.exports=h}),null);
__d("AnalyticsAnnouncementsQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null}],j={kind:"ScalarField",alias:"fullscreenExperience",args:[{kind:"Variable",name:"entity_id",variableName:"entityID",type:"ID"}],name:"fullscreen_experience",storageKey:null},k={kind:"ScalarField",alias:"hasDismissedGoalLineAnnouncement",args:null,name:"has_dismissed_goal_line_announcement",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsAnnouncementsQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"LinkedField",alias:"userConfig",args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[j,k],storageKey:null}],storageKey:null}],type:"Query"},id:"1386715361441444",kind:"Batch",metadata:{},name:"AnalyticsAnnouncementsQuery",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsAnnouncementsQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:"userConfig",args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[j,k,{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsChartDeleteMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsChartDeleteData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsChartDeleteData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsChartDeleteMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsChartDeleteResponsePayload",name:"analytics_chart_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[k],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1297068037067230",kind:"Batch",metadata:{},name:"AnalyticsChartDeleteMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsChartDeleteMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsChartDeleteResponsePayload",name:"analytics_chart_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},k],storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsChart_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsChart_chart",selections:[{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"FragmentSpread",name:"AnalyticsAggregationChartFragmentContainer_chart",args:null},{kind:"FragmentSpread",name:"AnalyticsFunnelChartFragmentContainer_chart",args:null},{kind:"FragmentSpread",name:"AnalyticsKPIBarChart_actions",args:null},{kind:"FragmentSpread",name:"AnalyticsOverviewChartCard_chart",args:null}],type:"AnalyticsChart"};f.exports=h}),null);
__d("AnalyticsDashboardChartAutoCreateAndRedirectQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"entityID",type:"ID!"}],k=[{kind:"Literal",name:"first",value:1e3,type:"Int"}],l={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardChartAutoCreateAndRedirectQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[l,m],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'}],storageKey:null}],type:"Query"},id:"1512171002181983",kind:"Batch",metadata:{},name:"AnalyticsDashboardChartAutoCreateAndRedirectQuery",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardChartAutoCreateAndRedirectQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},l,m],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'},l],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardCreateMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsDashboardCreateData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsDashboardCreateData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l=[k,{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null}],m={kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:l,storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'},n={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:l,storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardCreateMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardCreateResponsePayload",name:"analytics_dashboard_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[m],storageKey:null},n],storageKey:null}],type:"Mutation"},id:"1447032295360199",kind:"Batch",metadata:{},name:"AnalyticsDashboardCreateMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardCreateMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardCreateResponsePayload",name:"analytics_dashboard_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[m,k],storageKey:null},n],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardDeleteMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsDashboardDeleteData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsDashboardDeleteData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:[k,{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardDeleteMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardDeleteResponsePayload",name:"analytics_dashboard_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[l],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1074506429321384",kind:"Batch",metadata:{},name:"AnalyticsDashboardDeleteMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardDeleteMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardDeleteResponsePayload",name:"analytics_dashboard_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[l,k],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardEditMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsDashboardEditData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsDashboardEditData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"dashboard_visibility",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"time_last_updated",storageKey:null},o={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardEditMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardEditResponsePayload",name:"analytics_dashboard_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,m,n,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[k],storageKey:null},o],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1341910539179242",kind:"Batch",metadata:{},name:"AnalyticsDashboardEditMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardEditMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsDashboardEditResponsePayload",name:"analytics_dashboard_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,m,n,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},k],storageKey:null},o],storageKey:null}],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardFunnelCreateMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsFunnelCreateData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsFunnelCreateData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},o=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],p={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:o,storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},r={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[n,l,q,k],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardFunnelCreateMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelCreateResponsePayload",name:"analytics_funnel_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1494838093943698",kind:"Batch",metadata:{},name:"AnalyticsDashboardFunnelCreateMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardFunnelCreateMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelCreateResponsePayload",name:"analytics_funnel_create",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[n,k,{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},l,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},p,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},r],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[l,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},p],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:o,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},r,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[n,q,k],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardQueryUtilsQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"entityID",type:"ID!"}],k=[{kind:"Literal",name:"first",value:1e3,type:"Int"}],l={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsDashboardQueryUtilsQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:[l,m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"owner",plural:false,selections:[l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'}],storageKey:null}],type:"Query"},id:"1604583442915687",kind:"Batch",metadata:{},name:"AnalyticsDashboardQueryUtilsQuery",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsDashboardQueryUtilsQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:[l,m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"owner",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'},l],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsEntityUserConfigDismissNoticeMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsEntityUserConfigDismissNoticeData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsEntityUserConfigDismissNoticeData!"}],concreteType:"AnalyticsEntityUserConfigDismissNoticeResponsePayload",name:"analytics_entity_user_config_dismiss_notice",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntityUserConfig",name:"entity_user_config",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsEntityUserConfigDismissNoticeMutation",selections:j,type:"Mutation"},id:"1178701835565123",kind:"Batch",metadata:{},name:"AnalyticsEntityUserConfigDismissNoticeMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsEntityUserConfigDismissNoticeMutation",operation:"mutation",selections:j},text:null}}();f.exports=h}),null);
__d("AnalyticsFunnelChartFragmentContainer_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},j={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsFunnelChartFragmentContainer_chart",selections:[{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[i,j,{kind:"InlineFragment",type:"AnalyticsStoredSegment",selections:[k]}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[j],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},i,k],type:"AnalyticsFunnel"}}();f.exports=h}),null);
__d("AnalyticsFunnelCreateMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsFunnelCreateData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsFunnelCreateData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"funnel",plural:false,selections:[k],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsFunnelCreateMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelCreateResponsePayload",name:"analytics_funnel_create",plural:false,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"FragmentSpread",name:"GriffinFunnelSection_funnels",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1801925679837523",kind:"Batch",metadata:{},name:"AnalyticsFunnelCreateMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsFunnelCreateMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelCreateResponsePayload",name:"analytics_funnel_create",plural:false,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"nodes",plural:true,selections:[k,{kind:"ScalarField",alias:null,args:null,name:"is_internal",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"event_rule_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},k],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_last_seen",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_constraint",storageKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsFunnelDeleteMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsFunnelDeleteData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsFunnelDeleteData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsFunnelDeleteMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelDeleteResponsePayload",name:"analytics_funnel_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"FragmentSpread",name:"GriffinFunnelSection_funnels",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1362482427202811",kind:"Batch",metadata:{},name:"AnalyticsFunnelDeleteMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsFunnelDeleteMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelDeleteResponsePayload",name:"analytics_funnel_delete",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"nodes",plural:true,selections:[k,{kind:"ScalarField",alias:null,args:null,name:"is_internal",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"event_rule_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},k],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_last_seen",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_constraint",storageKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsFunnelEditMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsFunnelEditData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsFunnelEditData!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"is_internal",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"event_rule_name",storageKey:null},o={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},p={kind:"ScalarField",alias:null,args:null,name:"time_last_seen",storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"time_constraint",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsFunnelEditMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelEditResponsePayload",name:"analytics_funnel_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"funnel",plural:false,selections:[k,l,m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[n,o],storageKey:null},p,q],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1434180353301863",kind:"Batch",metadata:{},name:"AnalyticsFunnelEditMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsFunnelEditMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsFunnelEditResponsePayload",name:"analytics_funnel_edit",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"funnel",plural:false,selections:[k,l,m,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},n,o,k],storageKey:null},p,q],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsInsightFeedbackMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AnalyticsInsightFeedbackData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"AnalyticsInsightFeedbackData!"}],concreteType:"AnalyticsInsightFeedbackResponsePayload",name:"analytics_insight_feedback",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsight",name:"insight",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"user_feedback",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsInsightFeedbackMutation",selections:j,type:"Mutation"},id:"1499520290123229",kind:"Batch",metadata:{},name:"AnalyticsInsightFeedbackMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsInsightFeedbackMutation",operation:"mutation",selections:j},text:null}}();f.exports=h}),null);
__d("AnalyticsInsightsGraphQLUtils_InsightQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"appId",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"appId",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"outcome",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"population_value",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"population_count",storageKey:null},o={kind:"ScalarField",alias:null,args:null,name:"insight_value",storageKey:null},p={kind:"ScalarField",alias:null,args:null,name:"insight_section",storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"outcome_type",storageKey:null},r={kind:"ScalarField",alias:null,args:null,name:"user_feedback",storageKey:null},s={kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},t={kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null},u={kind:"ScalarField",alias:null,args:null,name:"insight_time",storageKey:null},v={kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"summary",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"InlineStyleAtRange",name:"inline_style_ranges",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"offset",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"length",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"inline_style",storageKey:null}],storageKey:null}],storageKey:null},w={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},x={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsInsightsGraphQLUtils_InsightQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsightsConnection",name:"insights",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsightsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsight",name:"node",plural:false,selections:[k,l,m,n,o,p,q,r,s,t,u,v,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[w,x],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},id:"1718218778190667",kind:"Batch",metadata:{},name:"AnalyticsInsightsGraphQLUtils_InsightQuery",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsInsightsGraphQLUtils_InsightQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsightsConnection",name:"insights",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsightsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsInsight",name:"node",plural:false,selections:[l,q,m,n,o,p,k,r,s,t,u,v,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},w,x,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsKPIBarChart_actions.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsKPIBarChart_actions",selections:[{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null}]}],storageKey:null}],type:"AnalyticsChart"};f.exports=h}),null);
__d("AnalyticsOverviewChartCard_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnalyticsOverviewChartCard_chart",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null}],type:"AnalyticsChart"};f.exports=h}),null);
__d("AnalyticsOverviewDashboardQueryRendererQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"analyticsEntityID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"analyticsEntityID",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},o=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],p={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:o,storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},r={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[m,n,q,l],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsOverviewDashboardQueryRendererQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"overview_layout",plural:true,selections:[k,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[l,{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},id:"1603078746420825",kind:"Batch",metadata:{},name:"AnalyticsOverviewDashboardQueryRendererQuery",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsOverviewDashboardQueryRendererQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"overview_layout",plural:true,selections:[k,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[m,{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},n,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},p,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},r],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},p],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:o,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},r,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[m,q,l],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[m,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null},l],storageKey:null}],storageKey:null},l],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsUserConfigEditMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"SetAnalyticsUserConfigFlagData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"SetAnalyticsUserConfigFlagData!"}],k={kind:"ScalarField",alias:null,args:null,name:"has_viewed_marketing_opt_in",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"has_dismissed_value_prop_nux",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsUserConfigEditMutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"SetAnalyticsUserConfigFlagResponsePayload",name:"set_analytics_user_config_flag",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"user_config",plural:false,selections:[k,l],storageKey:null}],storageKey:null}],type:"Mutation"},id:"1434059586649189",kind:"Batch",metadata:{},name:"AnalyticsUserConfigEditMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsUserConfigEditMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"SetAnalyticsUserConfigFlagResponsePayload",name:"set_analytics_user_config_flag",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"user_config",plural:false,selections:[k,l,{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsUserConfigSetFlagMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"SetAnalyticsUserConfigFlagWithIDData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"SetAnalyticsUserConfigFlagWithIDData!"}],concreteType:"SetAnalyticsUserConfigFlagWithIdResponsePayload",name:"set_analytics_user_config_flag_with_id",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"user_config",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"has_dismissed_value_prop_nux_banner",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"has_dismissed_ltv_section_upsell",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"has_dismissed_funnel_upsell",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"has_dismissed_goal_line_nux",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AnalyticsUserConfigSetFlagMutation",selections:j,type:"Mutation"},id:"1458523174239193",kind:"Batch",metadata:{},name:"AnalyticsUserConfigSetFlagMutation",query:{argumentDefinitions:i,kind:"Root",name:"AnalyticsUserConfigSetFlagMutation",operation:"mutation",selections:j},text:null}}();f.exports=h}),null);
__d("AutomatedInsightDashboardQueryRendererQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"insightID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"entityID",type:"ID!"}],k=[{kind:"Variable",name:"id",variableName:"insightID",type:"ID"}],l={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},n={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},o={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},p=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],q={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:p,storageKey:null},r={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},s={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[n,o,r,m],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AutomatedInsightDashboardQueryRendererQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AutomatedInsight",name:"automated_insight",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[m,{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},id:"1428808587167484",kind:"Batch",metadata:{},name:"AutomatedInsightDashboardQueryRendererQuery",query:{argumentDefinitions:i,kind:"Root",name:"AutomatedInsightDashboardQueryRendererQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:k,concreteType:"AutomatedInsight",name:"automated_insight",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[l,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},o,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},q,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},s],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[o,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},q],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:p,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},s,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[n,r,m],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[n,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null},m],storageKey:null}],storageKey:null},m],storageKey:null},m],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("AutomatedInsightFeedbackMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"AutomatedInsightFeedbackData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"AutomatedInsightFeedbackData!"}],concreteType:"AutomatedInsightFeedbackResponsePayload",name:"automated_insight_feedback",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AutomatedInsight",name:"automated_insight",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"user_feedback",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AutomatedInsightFeedbackMutation",selections:j,type:"Mutation"},id:"1581808258543540",kind:"Batch",metadata:{},name:"AutomatedInsightFeedbackMutation",query:{argumentDefinitions:i,kind:"Root",name:"AutomatedInsightFeedbackMutation",operation:"mutation",selections:j},text:null}}();f.exports=h}),null);
__d("AutomatedInsightsApi_FetchInsightsQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"id",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"LinkedField",alias:null,args:null,concreteType:"AutomatedInsightsConnection",name:"automated_insights",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AutomatedInsightsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AutomatedInsight",name:"node",plural:false,selections:[k,{kind:"ScalarField",alias:null,args:null,name:"user_feedback",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"start_time",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_time",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"AutomatedInsightsApi_FetchInsightsQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[l],storageKey:null}],type:"Query"},id:"1241217335984617",kind:"Batch",metadata:{},name:"AutomatedInsightsApi_FetchInsightsQuery",query:{argumentDefinitions:i,kind:"Root",name:"AutomatedInsightsApi_FetchInsightsQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[l,k],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("GriffinChartEditor_chart.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GriffinChartEditor_chart",selections:[{kind:"ScalarField",alias:"chartType",args:null,name:"chart_type",storageKey:null},{kind:"FragmentSpread",name:"AnalyticsAggregationChartEditor_chart",args:null}],type:"AnalyticsChart"};f.exports=h}),null);
__d("GriffinCustomDashboardChartEditControllerQueryRendererQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"chartID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"chartID",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},m={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},n={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"GriffinCustomDashboardChartEditControllerQueryRendererQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:null,name:"node",plural:false,selections:[{kind:"FragmentSpread",name:"GriffinChartEditor_chart",args:null}],storageKey:null}],type:"Query"},id:"1493181454109042",kind:"Batch",metadata:{},name:"GriffinCustomDashboardChartEditControllerQueryRendererQuery",query:{argumentDefinitions:i,kind:"Root",name:"GriffinCustomDashboardChartEditControllerQueryRendererQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:null,name:"node",plural:false,selections:[k,{kind:"ScalarField",alias:"chartType",args:null,name:"chart_type",storageKey:null},l,{kind:"InlineFragment",type:"AnalyticsStoredAggregationChart",selections:[{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},m,{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},n,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[k,m,{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},l],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[m,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},n],storageKey:null}],storageKey:null}]}],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("GriffinCustomDashboardViewControllerQueryRendererQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"dashboardID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"entityID",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},l={kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},m=[k,l],n={kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"AnalyticsDashboardsConnection",name:"dashboards",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboardsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDashboard",name:"node",plural:false,selections:m,storageKey:null}],storageKey:null}],storageKey:'dashboards{"first":1000}'},o=[{kind:"Variable",name:"id",variableName:"dashboardID",type:"ID"}],p={kind:"ScalarField",alias:null,args:null,name:"dashboard_visibility",storageKey:null},q={kind:"ScalarField",alias:null,args:null,name:"time_last_updated",storageKey:null},r={kind:"ScalarField",alias:null,args:null,name:"size",storageKey:null},s={kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},t=[{kind:"ScalarField",alias:"type",args:null,name:"date_range_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"since",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"until",storageKey:null}],u={kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsDateRange",name:"date_range",plural:false,selections:t,storageKey:null},v={kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},w={kind:"LinkedField",alias:null,args:null,concreteType:null,name:"segment",plural:false,selections:[s,l,v,k],storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"GriffinCustomDashboardViewControllerQueryRendererQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[n,{kind:"LinkedField",alias:null,args:o,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,p,q,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"owner",plural:false,selections:m,storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[r,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[k,{kind:"FragmentSpread",name:"AnalyticsChart_chart",args:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},id:"1686537128034885",kind:"Batch",metadata:{},name:"GriffinCustomDashboardViewControllerQueryRendererQuery",query:{argumentDefinitions:i,kind:"Root",name:"GriffinCustomDashboardViewControllerQueryRendererQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[n,{kind:"LinkedField",alias:null,args:o,concreteType:"AnalyticsDashboard",name:"dashboard",plural:false,selections:[k,l,p,q,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"owner",plural:false,selections:[s,k,l],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartPlacement",name:"layout",plural:true,selections:[r,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"chart",plural:false,selections:[s,{kind:"ScalarField",alias:null,args:null,name:"chart_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"description",storageKey:null},l,{kind:"ScalarField",alias:null,args:null,name:"inherit_segment",storageKey:null},{kind:"LinkedField",alias:"queries",args:null,concreteType:"AppEventQuerySpec",name:"aggregation_queries",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"aggregation_period",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdowns",storageKey:null},u,{kind:"ScalarField",alias:null,args:null,name:"event_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_columns",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"ordering_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"limit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"metric",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"segment_id",storageKey:null},w],storageKey:null},{kind:"LinkedField",alias:"goal",args:null,concreteType:"AnalyticsNestedChartGoal",name:"chart_goal",plural:false,selections:[l,{kind:"ScalarField",alias:null,args:null,name:"value",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsChartGoalBound",name:"goal_bound",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"start_value",storageKey:null},u],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:"date_range",args:null,concreteType:"AnalyticsDateRange",name:"analytics_date_range",plural:false,selections:t,storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"breakdown",storageKey:null},w,{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[s,v,k],storageKey:null},{kind:"LinkedField",alias:"actions",args:null,concreteType:null,name:"chart_actions",plural:true,selections:[s,{kind:"ScalarField",alias:null,args:null,name:"type",storageKey:null},{kind:"InlineFragment",type:"AnalyticsInternalLinkChartAction",selections:[{kind:"ScalarField",alias:null,args:null,name:"section",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_query_data",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}]}],storageKey:null},k],storageKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("GriffinFunnelCalloutQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"has_dismissed_funnel_upsell",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GriffinFunnelCalloutQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i],storageKey:null}],storageKey:null}],type:"Query"},id:"1507169905995504",kind:"Batch",metadata:{},name:"GriffinFunnelCalloutQuery",query:{argumentDefinitions:[],kind:"Root",name:"GriffinFunnelCalloutQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null}}();f.exports=h}),null);
__d("GriffinFunnelSectionQueryRendererQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"entityID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"entityID",type:"ID!"}],k={kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null};return{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"GriffinFunnelSectionQueryRendererQuery",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"FragmentSpread",name:"GriffinFunnelSection_funnels",args:null}],storageKey:null}],storageKey:null}],type:"Query"},id:"1576084562465917",kind:"Batch",metadata:{},name:"GriffinFunnelSectionQueryRendererQuery",query:{argumentDefinitions:i,kind:"Root",name:"GriffinFunnelSectionQueryRendererQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:j,concreteType:"AnalyticsEntity",name:"analytics_entity",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsFunnelsConnection",name:"funnels",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"nodes",plural:true,selections:[k,{kind:"ScalarField",alias:null,args:null,name:"is_internal",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"event_rule_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null},k],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_last_seen",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_constraint",storageKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}]},text:null}}();f.exports=h}),null);
__d("GriffinFunnelSection_funnels.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GriffinFunnelSection_funnels",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsStoredFunnel",name:"nodes",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_internal",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"stages",plural:true,selections:[{kind:"ScalarField",alias:null,args:null,name:"event_rule_name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"serialized_filter",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_last_seen",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"time_constraint",storageKey:null}],storageKey:null}],type:"AnalyticsFunnelsConnection"};f.exports=h}),null);
__d("GriffinGoalLineNUXQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"has_dismissed_goal_line_nux",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GriffinGoalLineNUXQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i],storageKey:null}],storageKey:null}],type:"Query"},id:"1490719490983893",kind:"Batch",metadata:{},name:"GriffinGoalLineNUXQuery",query:{argumentDefinitions:[],kind:"Root",name:"GriffinGoalLineNUXQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null}}();f.exports=h}),null);
__d("GriffinLifetimeValueSectionUpsellQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,args:null,name:"has_dismissed_ltv_section_upsell",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GriffinLifetimeValueSectionUpsellQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i],storageKey:null}],storageKey:null}],type:"Query"},id:"1560508714007130",kind:"Batch",metadata:{},name:"GriffinLifetimeValueSectionUpsellQuery",query:{argumentDefinitions:[],kind:"Root",name:"GriffinLifetimeValueSectionUpsellQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AnalyticsUserConfig",name:"analytics_user_config",plural:false,selections:[i,{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null}}();f.exports=h}),null);
__d("AnalyticsDashboardActions",["AnalyticsActionType","AnalyticsDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={resizeChart:function i(j){c("AnalyticsDispatcher").dispatchAction({type:c("AnalyticsActionType").DASHBOARDS.CHART_RESIZE,data:{id:j}})}};f.exports=h}),null);
__d("AnalyticsInsight",["GriffinSegmentUtils","InsightsUtils","immutable"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.$AnalyticsInsight1=i.id;this.$AnalyticsInsight2=i.outcome;this.$AnalyticsInsight3=i.type;this.$AnalyticsInsight4=i.population_value;this.$AnalyticsInsight5=i.population_count;this.$AnalyticsInsight6=i.rules;this.$AnalyticsInsight7=i.value;this.$AnalyticsInsight8=i.count;this.$AnalyticsInsight9=i.text;this.$AnalyticsInsight10=i.text_styles;this.$AnalyticsInsight11=i.feedback;this.$AnalyticsInsight12=i.section;this.$AnalyticsInsight13=i.since;this.$AnalyticsInsight14=i.until;this.$AnalyticsInsight15=i.time}h.prototype.getID=function(){return this.$AnalyticsInsight1};h.prototype.getOutcome=function(){return this.$AnalyticsInsight2};h.prototype.getOutcomeType=function(){return this.$AnalyticsInsight3};h.prototype.getSection=function(){return this.$AnalyticsInsight12};h.prototype.getRules=function(){return this.$AnalyticsInsight6};h.prototype.getWireFormatSegment=function(){return c("GriffinSegmentUtils").getWireFormat(this.getRules().toJS(),null)};h.prototype.getInsightValue=function(){return this.$AnalyticsInsight7};h.prototype.getPopulationValue=function(){return this.$AnalyticsInsight4};h.prototype.getPercentChange=function(){return this.getInsightValue()/this.getPopulationValue()-1};h.prototype.getText=function(){return this.$AnalyticsInsight9};h.prototype.getTextStyles=function(){return this.$AnalyticsInsight10};h.prototype.getFeedback=function(){return this.$AnalyticsInsight11};h.prototype.getSince=function(){return this.$AnalyticsInsight13};h.prototype.getSinceUTCTime=function(){return c("InsightsUtils").pstTimeToUTCDay(new Date(this.getSince()*1e3)).getTime()};h.prototype.getUntil=function(){return this.$AnalyticsInsight14};h.prototype.getTime=function(){return this.$AnalyticsInsight15};h.prototype.getUntilUTCTime=function(){return c("InsightsUtils").pstTimeToUTCDay(new Date(this.getUntil()*1e3)).getTime()};h.prototype.getLogParams=function(){return babelHelpers["extends"]({insightId:this.getID(),outcome:this.getOutcome()},this.getRules().map(function(i){return i.parameter_name}).toMap().mapKeys(function(i){return"dimension_"+i}).toJS(),this.getRules().map(function(i){return i.values?i.values[0]:null}).toMap().mapKeys(function(i){return"dimension_value_"+i}).toJS(),{pct_bucket:this.$AnalyticsInsight16()})};h.prototype.$AnalyticsInsight16=function(){return this.getPopulationValue()===0?NaN:Math.round(Math.max(Math.min(100*this.getPercentChange(),500),-500)/10)*10};h.prototype.getAnalyticsInsightObject=function(){return{id:this.$AnalyticsInsight1,outcome:this.$AnalyticsInsight2,type:this.$AnalyticsInsight3,population_value:this.$AnalyticsInsight4,population_count:this.$AnalyticsInsight5,rules:this.$AnalyticsInsight6,value:this.$AnalyticsInsight7,count:this.$AnalyticsInsight8,text:this.$AnalyticsInsight9,text_styles:this.$AnalyticsInsight10,feedback:this.$AnalyticsInsight11,section:this.$AnalyticsInsight12,since:this.$AnalyticsInsight13,until:this.$AnalyticsInsight14,time:this.$AnalyticsInsight15}};f.exports=h}),null);
__d("AnalyticsInsightFeedbackMutation",["RelayFBEnvironment","RelayModern","AnalyticsInsightFeedbackMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsInsightFeedbackMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{insight_id:l.insightId,user_feedback:l.feedback}},onCompleted:m&&m.onSuccess,onError:function n(o){m&&m.onFailure}})}f.exports={commit:k}}),null);
__d("AnalyticsInsightsGraphQLUtils",["AnalyticsInsight","AnalyticsOutcomeTypes","AnalyticsSiteVarConfig","GriffinSections","immutable","RelayFBEnvironment","RelayModern","AnalyticsInsightsGraphQLUtils_InsightQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").fetchQuery,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsInsightsGraphQLUtils_InsightQuery.graphql")},k={fetchInsights:function l(m){var n=h(c("RelayFBEnvironment"),j,{appId:m}).then(function(o){var p=o.analytics_entity.insights.edges,q=c("AnalyticsSiteVarConfig").numInsightsToShow;if(q!==null)p=p.slice(0,q);var r=p.find(function(u){return u.node.outcome_type===c("AnalyticsOutcomeTypes").ANOMALY});if(r){var s=[r],t=p.filter(function(u){return u.node.id!==r.node.id});p=s.concat(t)}return{insights:c("immutable").List(p.map(function(u){var v=JSON.parse(u.node.segment.serialized_filter),w=v.demographic_rules.concat(v.device_rules),x=c("immutable").List(w),y=[];if(u.node.summary)u.node.summary.inline_style_ranges.map(function(B){y.push({length:B.length,offset:B.offset,inlineStyle:B.inline_style})});var z=u.node.summary?u.node.summary.text:"",A=c("immutable").List(y);return new(c("AnalyticsInsight"))({id:u.node.id,outcome:u.node.outcome,type:u.node.outcome_type,population_value:u.node.population_value,population_count:u.node.population_count,value:u.node.insight_value,count:u.node.count,text:z,text_styles:A,rules:x,feedback:u.node.user_feedback,section:c("GriffinSections")[u.node.insight_section],since:u.node.since,until:u.node.until,time:u.node.insight_time})}))}});return n}};f.exports=k}),null);
__d("AnalyticsInsightsApi",["AnalyticsInsight","AnalyticsInsightsGraphQLUtils","AnalyticsInsightFeedbackMutation","immutable"],(function a(b,c,d,e,f,g){"use strict";var h={rateInsight:function i(j,k,l){c("AnalyticsInsightFeedbackMutation").commit({insightId:k,feedback:l})},fetchInsights:function i(j){return c("AnalyticsInsightsGraphQLUtils").fetchInsights(j)}};f.exports=h}),null);
__d("AnalyticsInsightsStore",["AnalyticsDispatcher","AnalyticsInsight","FluxReduceStore","GriffinSections","immutable","AnalyticsActionType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").INSIGHTS,m={appID:null,error:null,sectionIndexes:c("immutable").Map(),insights:c("immutable").List(),isInitializing:false,clickedInsight:null,visibleInsightsCount:0};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case l.INITIALIZE_INSIGHTS:return new n().set("isInitializing",true).set("clickedInsight",this.getClickedInsight());case l.INSIGHTS_FETCHED:return this.$AnalyticsInsightsStore1(p,r);case l.INSIGHTS_FETCH_FAILED:return this.$AnalyticsInsightsStore2(p,r);case l.INSIGHT_RATED:return this.$AnalyticsInsightsStore3(p,r);case l.INSIGHT_NAVIGATED:return this.$AnalyticsInsightsStore4(p,r);case l.INSIGHT_CLICKED:return this.$AnalyticsInsightsStore5(p,r);case l.INSIGHT_UNHIGHLIGHT:return p.set("clickedInsight",null);case l.VISIBLE_INSIGHTS_COUNT_CHANGED:return p.set("visibleInsightsCount",r.visibleInsightsCount);default:return p}};o.prototype.isInitializing=function(){return this.getState().isInitializing};o.prototype.getAppID=function(){return this.getState().appID};o.prototype.getError=function(){return this.getState().error};o.prototype.getInsights=function(){return this.getState().insights};o.prototype.getVisibleInsights=function(p){return p===c("GriffinSections").OVERVIEW||p===c("GriffinSections").AUTOMATED_INSIGHTS?this.getInsights():this.getInsights().filter(function(q){return q.getSection()===p})};o.prototype.getCurrentInsightIndex=function(p){var q=this.getState().sectionIndexes.get(p);return q||0?q:0};o.prototype.getVisibleInsightsCount=function(){return this.getState().visibleInsightsCount};o.prototype.getClickedInsightID=function(){var p=this.getClickedInsight();return p?String(p.getID()):null};o.prototype.getClickedInsight=function(){return this.getState().clickedInsight};o.prototype.getClickedInsightOutcome=function(){var p=this.getState().clickedInsight;return p?p.getOutcome():null};o.prototype.$AnalyticsInsightsStore2=function(p,q){return p.set("error",q.error).set("isInitializing",false)};o.prototype.$AnalyticsInsightsStore1=function(p,q){return p.set("insights",q.insights).set("isInitializing",false).set("appID",q.appID)};o.prototype.$AnalyticsInsightsStore5=function(p,q){return p.set("clickedInsight",q.insightClicked)};o.prototype.$AnalyticsInsightsStore4=function(p,q){return p.setIn(["sectionIndexes",q.section],q.index)};o.prototype.$AnalyticsInsightsStore3=function(p,q){var r=p.insights.findIndex(function(s){return s.getID()===q.id}),s=new(c("AnalyticsInsight"))(babelHelpers["extends"]({},p.insights.get(r).getAnalyticsInsightObject(),{feedback:q.rating}));return p.setIn(["insights",r],s)};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("SegmentStoreType",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l,m={activeSegmentID:null,appliedSegment:null,lastAppliedSegment:null,isSelectorShown:false,showConditions:false,showPercentile:false,segmentTotal:null,totalUsers:null,modifiedSegment:{name:null,orderedRules:[null],percentileRule:null},sizeError:null,totalSizeError:null,loadingSegment:false,estimatedCustomAudienceSize:null,estimatedCustomAudienceSizeError:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}var o={segmentList:null,segmentError:null};j=babelHelpers.inherits(p,c("immutable").Record(o));k=j&&j.prototype;function p(){j.apply(this,arguments)}var q="comparison",r="entry_push",s="exit_push",t="lightweight",u="custom_audience",v=(l={},l[q]="compare_segment",l[t]="segment",l[r]="entry_push",l[s]="exit_push",l);f.exports={Comparison:q,EntryPush:r,ExitPush:s,Lightweight:t,CustomAudience:u,SegmentBaseStoreState:n,SegmentListStoreState:p,URIKeys:v}}),null);
__d("AnalyticsUntypedUIUtils",["cx","fbt","SegmentStoreType","AnalyticsGKNames","AnalyticsGKs","BonsaiApiDataAdapter","BonsaiApiPromise","DateTime","GriffinSections","InsightsContext","InsightsNumUtils","URI","XDeveloperAppController","Timezone"],(function a(b,c,d,e,f,g,h,i){var j=c("SegmentStoreType").Comparison,k=c("SegmentStoreType").Lightweight,l=c("SegmentStoreType").URIKeys,m=c("Timezone").UTC,n={formatLaserReceivedDate:function o(p){var q=c("DateTime").fromLegacyArgs(new Date(p),m);return i._("{date in form of Mon dd, YEAR} (hora del Pac\u00edfico)",[i.param("date in form of Mon dd, YEAR",q.format("F j, Y"))])},metricSort:function o(p,q,r){return function(s,t){if(!t||!t[p])return-1;if(!s||!s[p])return 1;var u=s[p],v=t[p];if(r){u=u[r];v=v[r]}if(q)return v.localeCompare(u);return(v||0)-(u||0)}},getEventOrParameterEditDisabled:function o(){return c("InsightsContext").isReadOnly()||c("InsightsContext").isEventSourceGroup()||c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_EDIT_EVENTS_BLACKLIST)},getEventOrParameterDeactivationTooltip:function o(){if(c("InsightsContext").isEventSourceGroup())return i._("Ve a la secci\u00f3n \"Eventos\" de los respectivos or\u00edgenes de eventos (aplicaci\u00f3n, p\u00edxel de Facebook, etc.) para editar los par\u00e1metros o los eventos individuales.");if(c("InsightsContext").isReadOnly())return i._("No tienes suficientes permisos para editar eventos ni par\u00e1metros.");return null}};f.exports=n}),null);
__d("AnalyticsInsightsActions",["AnalyticsDispatcher","AnalyticsGKNames","AnalyticsGKs","AnalyticsInsight","AnalyticsInsightsApi","AnalyticsInsightsStore","AnalyticsNavigationUtils","AnalyticsOutcomeTypes","Base64","FBJSON","GriffinSections","GriffinSegmentUtils","AnalyticsActionType","InsightsContext"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").INSIGHTS,i={initialize:function j(k){if(c("AnalyticsInsightsStore").isInitializing()||c("AnalyticsInsightsStore").getAppID()===k)return;c("AnalyticsDispatcher").dispatchAction({type:h.INITIALIZE_INSIGHTS});c("AnalyticsInsightsApi").fetchInsights(k).done(function(l){return c("AnalyticsDispatcher").dispatchAction(babelHelpers["extends"]({},l,{type:h.INSIGHTS_FETCHED,appID:k}))},function(l){return c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHTS_FETCH_FAILED,error:{code:l.error,message:l.errorSummary}})})},navigate:function j(k,l){if(l<0||l>=c("AnalyticsInsightsStore").getInsights().count())return;c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_NAVIGATED,section:k,index:l})},insightClicked:function j(k){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_CLICKED,insightClicked:k})},insightClickNavigate:function j(k){this.insightClicked(k);c("AnalyticsNavigationUtils").getSectionInsightsURI(k.getSection(),"","",babelHelpers["extends"]({insight:c("Base64").encode(c("FBJSON").stringify(k.getAnalyticsInsightObject())),insight_id:k.getID(),segment:c("GriffinSegmentUtils").getURIEncodedSegment(k.getWireFormatSegment()),since:String(k.getSinceUTCTime()),until:String(k.getUntilUTCTime())},k.getOutcomeType()===c("AnalyticsOutcomeTypes").VALUE?{is_comparing:String(true)}:{})).go()},insightUnhighlight:function j(){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_UNHIGHLIGHT})},insightRated:function j(k,l,m){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_RATED,id:k,rating:l===m?null:m});var n=c("AnalyticsInsightsStore").getAppID();if(n&&!c("InsightsContext").isDemoApp())c("AnalyticsInsightsApi").rateInsight(n,k,l===m?null:m)},setVisibleInsightsCount:function j(k){if(c("AnalyticsInsightsStore").getVisibleInsightsCount()===k)return;c("AnalyticsDispatcher").dispatchAction({type:h.VISIBLE_INSIGHTS_COUNT_CHANGED,visibleInsightsCount:k})}};f.exports=i}),null);
__d("AnalyticsDateRangeActions",["fbt","AnalyticsActionType","AnalyticsDateRangeType","AnalyticsDispatcher","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsInsightsActions","DateTime","InsightsContext","InsightsEventLogger","InsightsGraphAPI","InsightsGraphAPIConstants","PageTransitions","Timezone","URI"],(function a(b,c,d,e,f,g,h){var i=c("AnalyticsActionType").DATE_RANGE,j=c("AnalyticsDateUtils").DateRangeTypes,k={initialize:function l(m){var n=new(c("URI"))(c("URI").getNextURI()),o=this._getDateRangeFromURI(n),p=void 0,q=void 0;if(o!==null&&this._isValidDateRange(o)){p=o;q=this._getDateRangeTypeFromURI(n)||j.DATE_RANGE}else{p=c("InsightsContext").getDefaultVisibleDateRange(m);q=c("InsightsContext").getVisibleDateRangeTypeOrDefault()}c("AnalyticsDispatcher").dispatchAction({type:i.INITIALIZE,fullDateRange:c("InsightsContext").getFullDateRange(),timezoneID:m,visibleDateRange:p,visibleDateRangeType:q})},updateDateRangeFromURI:function l(m){var n=this._getDateRangeFromURI(m),o=c("AnalyticsDateRangeStore").getVisibleDateRange();if(n===null||!this._isValidDateRange(n)||n.since.getTime()===o.since.getTime()&&n.until.getTime()===o.until.getTime())return;c("AnalyticsDispatcher").dispatchAction({type:i.APPLY,visibleDateRange:n,visibleDateRangeType:this._getDateRangeTypeFromURI(m)||j.DATE_RANGE})},updateTimezone:function l(m){c("AnalyticsDispatcher").dispatchAction({type:i.TIMEZONE_UPDATE_START});c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").APP_EVENT_CONFIG_NODE,c("InsightsContext").getAnalyticsEventConfigID(),{query_timezone:m}).done(function(n){var o=c("Timezone").getByName(m);c("AnalyticsDispatcher").dispatchAction({type:i.TIMEZONE_UPDATE_COMPLETE,timezoneID:o})},function(n){c("AnalyticsDispatcher").dispatchAction({type:i.TIMEZONE_UPDATE_ERROR,errorMessage:h._("Error al actualizar la zona horaria")})})},_getDateRangeFromURI:function l(m){var n=m.getQueryData(),o=this._getDateRangeTypeFromURI(m),p=c("AnalyticsDateRangeStore").getTimezoneID(),q=parseInt(n.since,10),r=parseInt(n.until,10),s=c("AnalyticsDateRangeType").DATE_RANGE;return(!q||!r)&&o===s?null:c("AnalyticsDateUtils").getFixedDateRange({type:o||s,since:new(c("DateTime"))(q,p),until:new(c("DateTime"))(r,p)})},_getDateRangeTypeFromURI:function l(m){var n=m.getQueryData();return n.range_type||null},_isValidDateRange:function l(m){var n=c("InsightsContext").getTwoYearDateRange(),o=c("AnalyticsDateRangeStore").getTimezoneID(),p=c("AnalyticsDateUtils").getNowInTimezoneUTCDate(o);return m.until>=m.since&&m.until<=p.toDate()&&m.since>=n.since.getTime()},applyDateRange:function l(m,n){c("InsightsEventLogger").logDateRangeChange(n.since.getTime(),n.until.getTime(),m!==j.DATE_RANGE);c("AnalyticsInsightsActions").insightUnhighlight();c("InsightsContext").setVisibleDateRange(n);var o=new(c("URI"))(c("URI").getNextURI()),p=babelHelpers["extends"]({},o.getQueryData(),{since:n.since.getTime(),until:n.until.getTime(),range_type:m});o.setQueryData(p);c("PageTransitions").go(o,true)}};f.exports=k}),null);
__d("SegmentListStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("AnalyticsActionType").Segment,k=c("SegmentStoreType").SegmentListStoreState;h=babelHelpers.inherits(l,c("FluxReduceStore"));i=h&&h.prototype;l.prototype.getInitialState=function(){return new k()};l.prototype.reduce=function(m,n){var o=n.action;switch(o.type){case j.FETCH_SEGMENT_LIST_START:return m;case j.FETCH_SEGMENT_LIST_COMPLETE:return m.set("segmentList",o.segmentList);case j.UPDATE_SEGMENT_ERROR:return m.set("segmentError",o.errorMessage)}return m};l.prototype.getSegmentError=function(){return this.getState().segmentError};l.prototype.getSegmentsList=function(){return this.getState().segmentList};l.prototype.getSegment=function(m){var n=this.getState().segmentList;if(!n)return null;return n.find(function(o){return o!=null&&String(m)===String(o.id)})};l.prototype.getAllUserSegment=function(){var m=this.getState().segmentList;if(!m)return null;return m.find(function(n){return n.is_all_user})};function l(){h.apply(this,arguments)}f.exports=new l(c("AnalyticsDispatcher"))}),null);
__d("SegmentBaseStore",["invariant","AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","GriffinSegmentRules","GriffinSegmentUtils","SegmentStoreType","SegmentListStore"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsActionType").Segment,l=c("SegmentStoreType").SegmentBaseStoreState;i=babelHelpers.inherits(m,c("FluxReduceStore"));j=i&&i.prototype;m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){var p=o.action;c("AnalyticsDispatcher").waitFor([c("SegmentListStore").getDispatchToken()]);n=this.$SegmentBaseStore1(n);if(p.segmentType===this.__getStoreType())switch(p.type){case k.MODIFY_AND_APPLY_SEGMENT:return this.$SegmentBaseStore2(n,p);case k.UPDATE_ACTIVE_SEGMENT_ID:n=n.set("activeSegmentID",p.segmentID).set("loadingSegment",true);return this.$SegmentBaseStore1(n);case k.FETCH_TOTAL_USERS_START:return n.set("totalUsers",null).set("totalSizeError",null);case k.FETCH_TOTAL_USERS_COMPLETE:return n.set("totalUsers",p.totalUsers).set("totalSizeError",null);case k.FETCH_SEGMENT_TOTAL_START:return n.set("segmentTotal",null).set("sizeError",null);case k.FETCH_SEGMENT_TOTAL_COMPLETE:return n.set("segmentTotal",p.segmentTotal).set("sizeError",null);case k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_START:return n.set("estimatedCustomAudienceSize",null).set("estimatedCustomAudienceSizeError",null);case k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_COMPLETE:return n.set("estimatedCustomAudienceSize",p.estimatedCustomAudienceSize).set("estimatedCustomAudienceSizeError",null);case k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_ERROR:return n.set("estimatedCustomAudienceSizeError",true);case k.CLEAR_SEGMENT:n=this.$SegmentBaseStore2(n,{segment:null});return n.set("segmentTotal",n.get("totalUsers"));case k.CREATE_SEGMENT_START:n=n.set("lastAppliedSegment",n.get("appliedSegment"));n=this.$SegmentBaseStore2(n,{segment:null});return n.set("segmentTotal",n.get("totalUsers"));case k.MODIFY_SEGMENT:return this.$SegmentBaseStore3(n,p);case k.APPLY_SEGMENT:return this.$SegmentBaseStore4(n,p);case k.TOGGLE_SHOW_PERCENTILE:return n.set("showPercentile",p.showPercentile);case k.TOGGLE_IS_SELECTOR_SHOWN:return n.set("isSelectorShown",p.isSelectorShown);case k.TOGGLE_SHOW_CONDITIONS:return n.set("showConditions",p.showConditions);case k.UPDATE_SIZE_ERROR:return n.set("sizeError",p.errorMessage);case k.UPDATE_TOTAL_SIZE_ERROR:return n.set("totalSizeError",p.errorMessage);case k.RESET_SEGMENT:return this.$SegmentBaseStore5(n,p)}else if(p.type===k.TOGGLE_SHOW_CONDITIONS)return n.set("showConditions",false);return this.__handleInterfaceActions(n,o)};m.prototype.__getStoreType=function(){h(0)};m.prototype.__handleInterfaceActions=function(n,o){return n};m.prototype.getActiveSegmentID=function(){return this.getState().activeSegmentID};m.prototype.getAppliedSegment=function(){return this.getState().appliedSegment};m.prototype.getIsSegmentApplied=function(){return!c("GriffinSegmentUtils").isEmpty(this.getAppliedSegment())};m.prototype.getTotalUsers=function(){return this.getState().totalUsers};m.prototype.getSegmentTotalUsers=function(){var n=this.getState();return n.segmentTotal};m.prototype.getEstimatedCustomAudienceSize=function(){return this.getState().estimatedCustomAudienceSize};m.prototype.getEstimatedCustomAudienceSizeError=function(){return this.getState().estimatedCustomAudienceSizeError};m.prototype.getModifiedSegment=function(){return this.getState().modifiedSegment};m.prototype.isSegmentModified=function(){return!c("GriffinSegmentUtils").isEqual(this.getAppliedSegment(),this.getModifiedSegment())};m.prototype.getShowPercentile=function(){return this.getState().showPercentile};m.prototype.getSizeError=function(){return this.getState().sizeError};m.prototype.getTotalSizeError=function(){return this.getState().totalSizeError};m.prototype.isSelectorShown=function(){return this.getState().isSelectorShown};m.prototype.getShowConditions=function(){return this.getState().showConditions};m.prototype.$SegmentBaseStore4=function(n,o){var p=n.get("modifiedSegment"),q=babelHelpers["extends"]({},n.get("appliedSegment"),c("GriffinSegmentUtils").getWireFormat(p.orderedRules,p.percentileRule),{name:p.name});n=n.set("appliedSegment",q);n=n.set("segmentTotal",null).set("sizeError",null);return n};m.prototype.getIsAppliedSegmentUnsaved=function(){var n=this.getState().appliedSegment;if(!n||!n.id&&c("GriffinSegmentUtils").isEmpty(n))return false;if(!n.id)return true;var o=c("SegmentListStore").getSegment(n.id);if(!o)return true;return!c("GriffinSegmentUtils").isEqual(n,o)};m.prototype.getPeopleSegment=function(){var n=this.getState(),o=n.appliedSegment,p=n.loadingSegment,q=c("GriffinSegmentUtils").isEmpty(o),r=c("SegmentListStore").getSegmentsList();if(!p&&r)if(q)return c("SegmentListStore").getAllUserSegment();else if(o){if(o.id){var s=c("SegmentListStore").getSegment(o.id)||{},t=c("GriffinSegmentUtils").isEqual(o,s);if(!t)return babelHelpers["extends"]({},o,{id:null})}return o}return null};m.prototype.$SegmentBaseStore1=function(n){var o=c("SegmentListStore").getSegmentsList(),p=n.get("loadingSegment");if(p&&o){var q=n.get("activeSegmentID");if(q){var r=c("SegmentListStore").getSegment(q);n=this.$SegmentBaseStore2(n,{segment:r})}n=n.set("loadingSegment",false)}return n};m.prototype.$SegmentBaseStore2=function(n,o){n=n.set("appliedSegment",o.segment).set("activeSegmentID",o.segment?o.segment.id:null);n=n.set("segmentTotal",null).set("sizeError",null);var p=o.segment;if(p){var q=[].concat(p.event_rules||[],p.event_info_rules||[],(p.user_property_rules||[]).map(function(u){u.ruleType=c("GriffinSegmentRules").Types.USER_PROPERTY;return u}),(p.web_param_rules||[]).map(function(u){u.ruleType=c("GriffinSegmentRules").Types.WEB_PARAMS;return u}));if(q.length===0)q.push(null);var r=p.percentile_rules,s={name:p.name,orderedRules:q,percentileRule:r&&r.length!==0?r[0]:null};n=n.set("modifiedSegment",s);if(r&&r.length!==0)n=n.set("showPercentile",true)}else{var t={name:null,orderedRules:[null],percentileRule:null};n=n.set("modifiedSegment",t)}return n};m.prototype.$SegmentBaseStore3=function(n,o){var p=n.get("modifiedSegment"),q=o.orderedRules===undefined?p.orderedRules:o.orderedRules,r=o.percentileRule===undefined?p.percentileRule:o.percentileRule,s=o.name===undefined?p.name:o.name;return n.set("modifiedSegment",{name:s,orderedRules:q,percentileRule:r})};m.prototype.$SegmentBaseStore5=function(n,o){var p=n.get("lastAppliedSegment"),q=n.get("appliedSegment"),r=q?q:p;n=n.set("lastAppliedSegment",null);return this.$SegmentBaseStore2(n,{segment:r})};m.prototype.isLoadingSegment=function(){return this.getState().loadingSegment};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("ComparisonSegmentStore",["AnalyticsDispatcher","SegmentBaseStore","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SegmentStoreType").Comparison;h=babelHelpers.inherits(k,c("SegmentBaseStore"));i=h&&h.prototype;k.prototype.__getStoreType=function(){return j};function k(){h.apply(this,arguments)}f.exports=new k(c("AnalyticsDispatcher"))}),null);
__d("ComparisonSegmentActions",["ComparisonSegmentStore","SegmentBaseActions","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SegmentStoreType").Comparison;h=babelHelpers.inherits(k,c("SegmentBaseActions"));i=h&&h.prototype;function k(){i.constructor.call(this,j,c("ComparisonSegmentStore"))}f.exports=new k()}),null);
__d("CustomAudienceSegmentStore",["AnalyticsDispatcher","SegmentBaseStore","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SegmentStoreType").CustomAudience;h=babelHelpers.inherits(k,c("SegmentBaseStore"));i=h&&h.prototype;k.prototype.__getStoreType=function(){return j};function k(){h.apply(this,arguments)}f.exports=new k(c("AnalyticsDispatcher"))}),null);
__d("CustomAudienceSegmentActions",["invariant","AnalyticsActionType","AnalyticsDispatcher","CustomAudienceSegmentStore","InsightsGraphAPI","InsightsGraphAPIConstants","SegmentBaseActions","SegmentStoreType"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsActionType").Segment,l=c("SegmentStoreType").CustomAudience;i=babelHelpers.inherits(m,c("SegmentBaseActions"));j=i&&i.prototype;function m(){j.constructor.call(this,l,c("CustomAudienceSegmentStore"))}m.prototype.fetchEstimatedCustomAudienceSize=function(n){c("AnalyticsDispatcher").dispatch({action:{segmentType:l,type:k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_START}});var o=c("CustomAudienceSegmentStore").getAppliedSegment();o||h(0);var p=o.id;p!==null||h(0);c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").SEGMENT_NODE,p,{fields:["estimated_custom_audience_size.lookback_days("+n+")"]}).done(function(q){c("AnalyticsDispatcher").dispatchAction({segmentType:l,type:k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_COMPLETE,estimatedCustomAudienceSize:q.estimated_custom_audience_size})},function(q){c("AnalyticsDispatcher").dispatchAction({segmentType:l,type:k.FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_ERROR})})};f.exports=new m()}),null);
__d("GriffinEventDebuggingStore",["AnalyticsActionType","AnalyticsDispatcher","AnalyticsPredefinedBreakdownValues","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){var h,i,j,k,l=c("AnalyticsActionType").EVENT_DEBUGGING,m={app_versions:null,device_os_list:Object.keys(c("AnalyticsPredefinedBreakdownValues").device_os_type),entity_id:null,filters:{version:null,event_name:null,user:null,device:null,device_os:null},is_loading:false,is_loading_app_versions:false,error:null,events:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){"use strict";h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){"use strict";return new n()};o.prototype.reduce=function(p,q){"use strict";var r=q.action;switch(r.type){case l.APPLY_FILTER:return p.set("filters",r.filters);case l.INITIALIZE:return p.entity_id?new n().set("entity_id",r.entity_id):p.set("entity_id",r.entity_id);case l.REFRESH_START:return p.set("is_loading",true).set("events",null).set("error",null);case l.REFRESH_COMPLETE:return p.set("is_loading",false).set("events",r.events);case l.REFRESH_ERROR:return p.set("is_loading",false).set("error",r.error);case l.APP_VERSION_FETCH_START:return p.set("is_loading_app_versions",true).set("app_versions",null);case l.APP_VERSION_FETCH_COMPLETE:return p.set("is_loading_app_versions",false).set("app_versions",r.app_versions);case l.APP_VERSION_FETCH_ERROR:return p.set("is_loading_app_versions",false).set("error",r.error);default:return p}};o.prototype.isLoadingEvents=function(){"use strict";return this.getState().is_loading};o.prototype.isLoadingAppVersions=function(){"use strict";return this.getState().is_loading_app_versions};o.prototype.getEntityID=function(){"use strict";return this.getState().entity_id};o.prototype.getFilters=function(){"use strict";return this.getState().filters};o.prototype.getAppVersions=function(){"use strict";return this.getState().app_versions};o.prototype.getDeviceOSList=function(){"use strict";return this.getState().device_os_list};o.prototype.getEvents=function(){"use strict";return this.getState().events};o.prototype.getError=function(){"use strict";return this.getState().error};function o(){"use strict";j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("XAppAnalyticsEventDebuggingAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/analytics/event_debugging/",{app_id:{type:"Int",required:true},device_os_filter:{type:"String"},version_filter:{type:"String"},event_name_filter:{type:"String"},viewer_only_filter:{type:"Int"},attribution_id_filter:{type:"String"}})}),null);
__d("GriffinEventDebuggingActions",["AnalyticsActionType","AnalyticsQueryApi","InternalAnalyticsQueryBuilder","AnalyticsDispatcher","AppCustomEventType","AsyncRequest","BonsaiApiBreakdown","GriffinEventDebuggingStore","XAppAnalyticsEventDebuggingAsyncController"],(function a(b,c,d,e,f,g){var h=c("AnalyticsActionType").EVENT_DEBUGGING,i=function i(k,l){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({type:k},l)})},j={initializeEventDebuggingSection:function k(l){this.initializeForEntityID(l);if(!c("GriffinEventDebuggingStore").isLoadingEvents()&&c("GriffinEventDebuggingStore").getEvents()===null)this._fetchData(l);if(!c("GriffinEventDebuggingStore").isLoadingAppVersions()&&c("GriffinEventDebuggingStore").getAppVersions()===null)this._fetchAppVersions(l)},initializeForEntityID:function k(l){if(c("GriffinEventDebuggingStore").getEntityID()===l)return;i(h.INITIALIZE,{entity_id:l})},applyFilters:function k(l){i(h.APPLY_FILTER,{filters:l});this.refreshData()},refreshData:function k(){this._fetchData(c("GriffinEventDebuggingStore").getEntityID())},_fetchData:function k(l){i(h.REFRESH_START);var m=c("XAppAnalyticsEventDebuggingAsyncController").getURIBuilder().setInt("app_id",l).setInt("viewer_only_filter",c("GriffinEventDebuggingStore").getFilters().user).setString("attribution_id_filter",c("GriffinEventDebuggingStore").getFilters().device).setString("device_os_filter",c("GriffinEventDebuggingStore").getFilters().device_os).setString("event_name_filter",c("GriffinEventDebuggingStore").getFilters().event_name).setString("version_filter",c("GriffinEventDebuggingStore").getFilters().version).getURI();new(c("AsyncRequest"))().setURI(m).setMethod("POST").setReadOnly(true).setHandler(this._onResponse).setErrorHandler(this._onError).send()},_fetchAppVersions:function k(l){i(h.APP_VERSION_FETCH_START);var m=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(l).setEventName(c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP).setBreakdowns([c("BonsaiApiBreakdown").APP_VERSION]).setLimit(1e3).setNotifySamplingStore(false).setOnSuccess(function(n){var o=n.getBreakdownUniqueValues(c("BonsaiApiBreakdown").APP_VERSION).toJS();i(h.APP_VERSION_FETCH_COMPLETE,{app_versions:o})}).setOnError(function(n){return i(h.APP_VERSION_FETCH_ERROR,{error:{code:n.code,message:n.message}})}).setTag("app_versions").getTopBreakdownCountInLast28DayQuery();c("AnalyticsQueryApi").queryAppEventData([m])},_onError:function k(l){i(h.REFRESH_ERROR,{error:{code:l.error,message:l.errorSummary}})},_onResponse:function k(l){i(h.REFRESH_COMPLETE,{events:l.payload.events})}};f.exports=j}),null);
__d("LightweightSegmentStore",["AnalyticsDispatcher","SegmentBaseStore","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SegmentStoreType").Lightweight;h=babelHelpers.inherits(k,c("SegmentBaseStore"));i=h&&h.prototype;k.prototype.__getStoreType=function(){return j};function k(){h.apply(this,arguments)}f.exports=new k(c("AnalyticsDispatcher"))}),null);
__d("LightweightSegmentActions",["LightweightSegmentStore","SegmentBaseActions","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SegmentStoreType").Lightweight;h=babelHelpers.inherits(k,c("SegmentBaseActions"));i=h&&h.prototype;function k(){i.constructor.call(this,j,c("LightweightSegmentStore"))}f.exports=new k()}),null);
__d("PushEntrySegmentStore",["AnalyticsDispatcher","SegmentBaseStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("SegmentBaseStore"));i=h&&h.prototype;j.prototype.__getStoreType=function(){return"entry_push"};function j(){h.apply(this,arguments)}f.exports=new j(c("AnalyticsDispatcher"))}),null);
__d("PushEntrySegmentActions",["AnalyticsActionType","AnalyticsDispatcher","SegmentStoreType","PushEntrySegmentStore","SegmentActionsUtil"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").Segment,i=c("SegmentStoreType").EntryPush,j=function j(l,m){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({segmentType:i,type:l},m)})},k={_totalUsersPromise:null,_segmentTotalPromise:null,updateActiveSegmentID:function l(m){j(h.UPDATE_ACTIVE_SEGMENT_ID,m)},clearSegment:function l(){j(h.CLEAR_SEGMENT)},createSegment:function l(m){c("SegmentActionsUtil").createSegment(babelHelpers["extends"]({},m,{store:c("PushEntrySegmentStore")}))},fetchTotalUsers:function l(m){if(this._totalUsersPromise){this._totalUsersPromise.cancel();this._totalUsersPromise=null}var n=c("SegmentActionsUtil").fetchTotalUsers(babelHelpers["extends"]({},m,{segmentType:i}));this._totalUsersPromise=n},fetchSegmentTotal:function l(m){if(this._segmentTotalPromise){this._segmentTotalPromise.cancel();this._segmentTotalPromise=null}var n=c("SegmentActionsUtil").fetchSegmentTotal(babelHelpers["extends"]({},m,{segmentType:i,store:c("PushEntrySegmentStore")}));this._segmentTotalPromise=n},modifyAndApplySegment:function l(m){j(h.MODIFY_AND_APPLY_SEGMENT,m)},applySegment:function l(){j(h.APPLY_SEGMENT,{})},modifySegment:function l(m){j(h.MODIFY_SEGMENT,m)},toggleShowPercentile:function l(m){j(h.TOGGLE_SHOW_PERCENTILE,m)},toggleShowConditions:function l(m){j(h.TOGGLE_SHOW_CONDITIONS,m)},toggleIsSelectorShown:function l(m){j(h.TOGGLE_IS_SELECTOR_SHOWN,m)}};f.exports=k}),null);
__d("PushExitSegmentStore",["AnalyticsDispatcher","SegmentBaseStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("SegmentBaseStore"));i=h&&h.prototype;j.prototype.__getStoreType=function(){return"exit_push"};function j(){h.apply(this,arguments)}f.exports=new j(c("AnalyticsDispatcher"))}),null);
__d("PushExitSegmentActions",["AnalyticsActionType","AnalyticsDispatcher","SegmentStoreType","PushExitSegmentStore","SegmentActionsUtil"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").Segment,i=c("SegmentStoreType").ExitPush,j=function j(l,m){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({segmentType:i,type:l},m)})},k={_totalUsersPromise:null,_segmentTotalPromise:null,updateActiveSegmentID:function l(m){j(h.UPDATE_ACTIVE_SEGMENT_ID,m)},clearSegment:function l(){j(h.CLEAR_SEGMENT)},createSegment:function l(m){c("SegmentActionsUtil").createSegment(babelHelpers["extends"]({},m,{store:c("PushExitSegmentStore")}))},fetchTotalUsers:function l(m){if(this._totalUsersPromise){this._totalUsersPromise.cancel();this._totalUsersPromise=null}var n=c("SegmentActionsUtil").fetchTotalUsers(babelHelpers["extends"]({},m,{segmentType:i}));this._totalUsersPromise=n},fetchSegmentTotal:function l(m){if(this._segmentTotalPromise){this._segmentTotalPromise.cancel();this._segmentTotalPromise=null}var n=c("SegmentActionsUtil").fetchSegmentTotal(babelHelpers["extends"]({},m,{segmentType:i,store:c("PushExitSegmentStore")}));this._segmentTotalPromise=n},modifyAndApplySegment:function l(m){j(h.MODIFY_AND_APPLY_SEGMENT,m)},applySegment:function l(){j(h.APPLY_SEGMENT,{})},modifySegment:function l(m){j(h.MODIFY_SEGMENT,m)},toggleShowPercentile:function l(m){j(h.TOGGLE_SHOW_PERCENTILE,m)},toggleShowConditions:function l(m){j(h.TOGGLE_SHOW_CONDITIONS,m)},toggleIsSelectorShown:function l(m){j(h.TOGGLE_IS_SELECTOR_SHOWN,m)}};f.exports=k}),null);
__d("SegmentActionsUtil",["fbt","invariant","AnalyticsDispatcher","AnalyticsSegmentAsyncUtils","FalcorSegmentTextUtils","GriffinSegmentUtils","GriffinSections","InsightsContext","InsightsUtils","PeopleStore","AnalyticsActionType"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("AnalyticsActionType").Segment,k=function k(n,o){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({type:n},o)})},l=[c("GriffinSections").PEOPLE_OVERVIEW,c("GriffinSections").PEOPLE_DEMOGRAPHICS,c("GriffinSections").PAGE_LIKES,c("GriffinSections").HOUSEHOLD_PURCHASE,c("GriffinSections").TECHNOLOGY],m={_fetchPromise:null,fetchList:function n(o){if(this._fetchPromise){this._fetchPromise.done(function(p){return o&&o(p)});return}k(j.FETCH_SEGMENT_LIST_START);this._fetchPromise=c("AnalyticsSegmentAsyncUtils").fetchSegmentList();this._fetchPromise.done(function(p){p=p.map(function(q){if(q.is_all_user)q.name=c("FalcorSegmentTextUtils").getAllUserSegmentName();return c("GriffinSegmentUtils").injectRuleTypes(q)});k(j.FETCH_SEGMENT_LIST_COMPLETE,{segmentList:p});if(o)o(p);this._fetchPromise=null}.bind(this),function(p){this.updateSegmentError({errorMessage:h._("Error al cargar la lista de segmentos")})}.bind(this))},saveSegment:function n(o){var p=o.store,q=p.getActiveSegmentID();q||i(0);var r=p.getModifiedSegment(),s=c("AnalyticsSegmentAsyncUtils").saveSegment(q,o.segmentName,r.orderedRules,r.percentileRule);s.done(function(t){m.fetchList();o.callback()},function(t){this.updateSegmentError({errorMessage:h._("Error al guardar el segmento")})}.bind(this))},createSegment:function n(o){var p=o.store.getModifiedSegment(),q=c("AnalyticsSegmentAsyncUtils").createSegment(o.isInternal,o.segmentName,p.orderedRules,p.percentileRule);q.done(function(r){var s=function s(t){var u=t.find(function(v){return r.id===v.id});o.callback(u)};this.fetchList(s)}.bind(this),function(r){this.updateSegmentError({errorMessage:h._("Error al crear el segmento")})}.bind(this))},deleteSegment:function n(o){var p=c("AnalyticsSegmentAsyncUtils").deleteSegment(o.segmentID);p.done(function(q){this.fetchList();o.callback()}.bind(this),function(q){this.updateSegmentError({errorMessage:h._("Error al eliminar el segmento")})}.bind(this))},fetchTotalUsers:function n(o){var p=o.segmentType;k(j.FETCH_TOTAL_USERS_START,{segmentType:p});var q=void 0;if(o.since&&o.until)q=this._formatDateRange(o);else q=this._getDateRange();var r=c("AnalyticsSegmentAsyncUtils").fetchTotalUsers(q.since,q.until,c("InsightsContext").getObjID(),o.notifySamplingStore==null?true:o.notifySamplingStore).getQueryAsPromise();r.promise.done(function(s){k(j.FETCH_TOTAL_USERS_COMPLETE,{segmentType:p,totalUsers:s.getUniquesTotalDangerously()})},function(s){this.updateTotalSizeError({segmentType:p,errorMessage:h._("Error al estimar el tama\u00f1o")})}.bind(this));return r},fetchSegmentTotal:function n(o){var p=o.store,q=o.segmentType,r=p.getModifiedSegment(),s=o.orderedRules||r.orderedRules,t=o.percentileRule||r.percentileRule;k(j.FETCH_SEGMENT_TOTAL_START,{segmentType:q});var u=void 0;if(o.since&&o.until)u=this._formatDateRange({since:o.since,until:o.until});else u=this._getDateRange();var v=c("AnalyticsSegmentAsyncUtils").fetchSegmentTotalUsers(u.since,u.until,c("InsightsContext").getObjID(),c("GriffinSegmentUtils").getWireFormat(s,t),o.notifySamplingStore==null?true:o.notifySamplingStore).getQueryAsPromise();v.promise.done(function(w){k(j.FETCH_SEGMENT_TOTAL_COMPLETE,{segmentType:q,segmentTotal:w.getUniquesTotalDangerously()})},function(w){this.updateSizeError({segmentType:q,errorMessage:w.getMessage()})}.bind(this));return v},updateSegmentError:function n(o){k(j.UPDATE_SEGMENT_ERROR,o)},updateSizeError:function n(o){k(j.UPDATE_SIZE_ERROR,o)},updateTotalSizeError:function n(o){k(j.UPDATE_TOTAL_SIZE_ERROR,o)},_getDateRange:function n(){var o=l.includes(c("InsightsContext").getActiveSectionName());if(o){var p=c("PeopleStore").getLast28Days();return{since:p.startTime,until:p.endTime}}var q=c("InsightsContext").getVisibleDateRange();return this._formatDateRange(q)},_formatDateRange:function n(o){var p=c("InsightsUtils").utcTimeToPacificDay(o.since).getTime()/1e3,q=c("InsightsUtils").utcTimeToPacificDay(o.until).getTime()/1e3;return{since:p,until:q}}};f.exports=m}),null);
__d("SegmentBaseActions",["AnalyticsActionType","AnalyticsDispatcher","AnalyticsInsightsActions","Base64","FBJSON","GriffinSegmentUtils","PageTransitions","SegmentActionsUtil","SegmentListStore","URI","SegmentStoreType"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").Segment,i=c("SegmentStoreType").URIKeys;function j(l,m){var n=Object.assign({},l.getQueryData()),o=false;for(var p=Object.values(i),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=n[t];if(!u)continue;var v=c("FBJSON").parse(c("Base64").decode(u)).id;if(m==v){delete n[t];o=true}}if(o)l.setQueryData(n);return o}function k(l,m){this.$SegmentBaseActions1=null;this.$SegmentBaseActions2=null;this.$SegmentBaseActions4=l;this.$SegmentBaseActions3=m}k.prototype.$SegmentBaseActions5=function(l,m){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({segmentType:this.$SegmentBaseActions4,type:l},m)})};k.prototype.updateActiveSegmentID=function(l){this.$SegmentBaseActions5(h.UPDATE_ACTIVE_SEGMENT_ID,l)};k.prototype.saveSegment=function(l){var m=this.$SegmentBaseActions3.getActiveSegmentID(),n=function(){if(m)this.updateActiveSegmentID({segmentID:m});l.callback()}.bind(this);c("SegmentActionsUtil").saveSegment({segmentName:l.segmentName,callback:n,store:this.$SegmentBaseActions3})};k.prototype.clearSegment=function(){this.$SegmentBaseActions5(h.CLEAR_SEGMENT)};k.prototype.createSegmentStart=function(){this.$SegmentBaseActions5(h.CREATE_SEGMENT_START)};k.prototype.createSegment=function(l){var m=l.callback,n=babelHelpers.objectWithoutProperties(l,["callback"]),o=function(p){m(p);if(p)this.applySegmentById(p.id)}.bind(this);c("SegmentActionsUtil").createSegment(babelHelpers["extends"]({},n,{callback:o,store:this.$SegmentBaseActions3}))};k.prototype.deleteSegment=function(l){var m=l.segmentID,n=l.callback,o=function o(){var p=new(c("URI"))(c("URI").getNextURI());if(j(p,m))p.go();n()};c("SegmentActionsUtil").deleteSegment({segmentID:m,callback:o})};k.prototype.fetchTotalUsers=function(l){if(this.$SegmentBaseActions1){this.$SegmentBaseActions1.cancel();this.$SegmentBaseActions1=null}var m=c("SegmentActionsUtil").fetchTotalUsers(babelHelpers["extends"]({},l,{segmentType:this.$SegmentBaseActions4}));this.$SegmentBaseActions1=m};k.prototype.fetchSegmentTotal=function(l){if(this.$SegmentBaseActions2){this.$SegmentBaseActions2.cancel();this.$SegmentBaseActions2=null}var m=c("SegmentActionsUtil").fetchSegmentTotal(babelHelpers["extends"]({},l,{segmentType:this.$SegmentBaseActions4,store:this.$SegmentBaseActions3}));this.$SegmentBaseActions2=m};k.prototype.redirectSegmentIDURI=function(){var l=c("URI").getNextURI().getQueryData().segment_id;if(l)c("SegmentActionsUtil").fetchList(function(){return this.applySegmentById(l)}.bind(this))};k.prototype.$SegmentBaseActions6=function(){return i[this.$SegmentBaseActions4]};k.prototype.updateSegmentFromURI=function(l){var m=l.uri,n=this.$SegmentBaseActions3.getAppliedSegment()||{},o=this.$SegmentBaseActions6(),p=c("GriffinSegmentUtils").injectRuleTypes(m.getQueryData()[o]?c("FBJSON").parse(c("Base64").decode(m.getQueryData()[o])):{});if(!c("GriffinSegmentUtils").isEqual(p,n)){var q=babelHelpers["extends"]({},this.$SegmentBaseActions3.getAppliedSegment(),c("GriffinSegmentUtils").getWireFormat(this.$SegmentBaseActions3.getModifiedSegment().orderedRules,this.$SegmentBaseActions3.getModifiedSegment().percentileRule)),r=c("GriffinSegmentUtils").isEqual(p,q)?h.APPLY_SEGMENT:h.MODIFY_AND_APPLY_SEGMENT;this.$SegmentBaseActions5(r,{segment:p})}};k.prototype.applySegmentById=function(l){var m=l?c("SegmentListStore").getSegment(l):null;this.$SegmentBaseActions7(m)};k.prototype.modifyAndApplySegment=function(l){this.$SegmentBaseActions7(l.segment)};k.prototype.applySegment=function(){var l=c("GriffinSegmentUtils").getWireFormat(this.$SegmentBaseActions3.getModifiedSegment().orderedRules,this.$SegmentBaseActions3.getModifiedSegment().percentileRule);this.$SegmentBaseActions7(babelHelpers["extends"]({},this.$SegmentBaseActions3.getAppliedSegment(),l))};k.prototype.$SegmentBaseActions7=function(l){var m=new(c("URI"))(c("URI").getNextURI()),n=babelHelpers["extends"]({},m.getQueryData());if(l)n[this.$SegmentBaseActions6()]=c("GriffinSegmentUtils").getURIEncodedSegment(l);else delete n[this.$SegmentBaseActions6()];c("AnalyticsInsightsActions").insightUnhighlight();m.setQueryData(n);c("PageTransitions").go(m,true)};k.prototype.clearChanges=function(){this.$SegmentBaseActions5(h.RESET_SEGMENT,{})};k.prototype.modifySegment=function(l){this.$SegmentBaseActions5(h.MODIFY_SEGMENT,l)};k.prototype.toggleShowPercentile=function(l){this.$SegmentBaseActions5(h.TOGGLE_SHOW_PERCENTILE,l)};k.prototype.toggleShowConditions=function(l){this.$SegmentBaseActions5(h.TOGGLE_SHOW_CONDITIONS,l)};k.prototype.toggleIsSelectorShown=function(l){this.$SegmentBaseActions5(h.TOGGLE_IS_SELECTOR_SHOWN,l)};f.exports=k}),null);
__d("AnalyticsChart",["AnalyticsDateRangeStore","AnalyticsGKs","AnalyticsSessionDurationLogger","AnalyticsStore","FluxContainer","GriffinSections","InsightsContext","InsightsEventLogger","React","RelayModern","AnalyticsChart_chart.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").createFragmentContainer,k=c("RelayModern").graphql,l=c("React").PropTypes,m=5;h=babelHelpers.inherits(n,c("React").PureComponent);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsChart3=function(){this.$AnalyticsChart1=new Date()}.bind(this),this.$AnalyticsChart4=function(){if(this.$AnalyticsChart1){var t=new Date()-this.$AnalyticsChart1,u=Math.floor(t/1e3);if(u>=m&&c("AnalyticsStore").getState().navigation.section===c("GriffinSections").OVERVIEW)c("InsightsEventLogger").logEvent({eventName:"overview_chart_hover",chart_type:this.props.chart.chart_type,key:this.props.chart.id,hover_time_sec:u,valueToSum:u})}this.$AnalyticsChart1=null}.bind(this),this.$AnalyticsChart5=function(){if(c("AnalyticsStore").getState().navigation.section===c("GriffinSections").DASHBOARDS)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"dashboard_chart_loaded"},this.$AnalyticsChart2()));if(this.props.sessionLoggerID&&this.props.chart.id)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.chart.id)}.bind(this),this.$AnalyticsChart6=function(){if(this.props.sessionLoggerID&&this.props.chart.id)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.chart.id)}.bind(this),p}n.getStores=function(){return[c("AnalyticsDateRangeStore")]};n.calculateState=function(){return{inheritedDateRange:c("AnalyticsDateRangeStore").getVisibleDateRange(),inheritedDateRangeType:c("AnalyticsDateRangeStore").getDateRangeType(),timezoneID:c("AnalyticsDateRangeStore").getTimezoneID()}};n.prototype.componentWillMount=function(){if(this.props.sessionLoggerID&&this.props.chart.id)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.chart.id)};n.prototype.componentWillReceiveProps=function(o){if(o.sessionLoggerID&&o.chart.id&&(o.sessionLoggerID!==this.props.sessionLoggerID||o.chart.id!==this.props.chart.id))c("AnalyticsSessionDurationLogger").registerComponent(o.sessionLoggerID,o.chart.id)};n.prototype.componentDidMount=function(){if(c("InsightsContext").getActiveSectionName()===c("GriffinSections").DASHBOARDS)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"dashboard_chart_view"},this.$AnalyticsChart2()))};n.prototype.render=function(){var o=this.props,p=o.chart,q=o.uniform,r=p.chart_type;if(r==null)return null;var s=q[r];if(s.gk!=null&&!c("AnalyticsGKs").get(s.gk))return null;var t=s.Component;if(t==null)return null;return c("React").createElement("div",{onMouseEnter:this.$AnalyticsChart3,onMouseLeave:this.$AnalyticsChart4},c("React").createElement(t,babelHelpers["extends"]({},this.props,this.state,this.context,{chartFragment:p,onDataLoaded:this.$AnalyticsChart5,onDataLoadError:this.$AnalyticsChart6})))};n.prototype.$AnalyticsChart2=function(){var o=this.props,p=o.chart,q=o.chartSize,r=o.dashboardID,s=o.isReadOnly,t=p.chart_type,u=p.id;return{chart_type:t,chart_size:q,dashboardID:r,is_read_only:String(s),chartID:u}};n.contextTypes={analyticsEntityID:l.string.isRequired};f.exports=j(c("FluxContainer").create(n),{chart:function o(){return c("AnalyticsChart_chart.graphql")}})}),null);
__d("AnalyticsQueryMetric",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COUNT:"COUNT",MAU_WAU_DAU:"MAU_WAU_DAU",UNIQUE_USERS:"UNIQUE_USERS",STICKINESS:"STICKINESS",COUNT_PER_USER:"COUNT_PER_USER",VALUE:"VALUE",VALUE_PER_EVENT:"VALUE_PER_EVENT",VALUE_PER_USER:"VALUE_PER_USER",MEDIAN_VALUE:"MEDIAN_VALUE",MEDIAN_VALUE_PER_USER:"MEDIAN_VALUE_PER_USER",OVERLAP:"OVERLAP"})}),null);
__d("AnalyticsAggregationChartQueryUtils",["AppEventQueryAggregationPeriod","AnalyticsDateUtils","AnalyticsQueryMetric","DateTime","Timezone"],(function a(b,c,d,e,f,g){var h=c("Timezone").UTC;function i(m,n){if(m===c("AnalyticsQueryMetric").MAU_WAU_DAU&&n===c("AppEventQueryAggregationPeriod").HOUR)return c("AnalyticsQueryMetric").UNIQUE_USERS;else return m}function j(m,n,o){var p=m.segment;return n?{id:null,name:null,rules:o}:p}function k(m,n,o,p){var q=m.date_range;return c("AnalyticsDateUtils").getFixedDateRangeWithInheritanceCheck({type:o,since:c("DateTime").fromDate(n.since,h),until:c("DateTime").fromDate(n.until,h)},q,p)}function l(m,n){var o=c("AppEventQueryAggregationPeriod")[m.aggregation_period];if(o===c("AppEventQueryAggregationPeriod").RANGE)return o;var p=m.date_range.type==="INHERIT"?n:m.date_range.type;return c("AnalyticsDateUtils").isHourlyDateRange(p)?c("AppEventQueryAggregationPeriod").HOUR:o}f.exports={resolveMetricGivenAggregationPeriod:i,getAggregationPeriod:l,getSegment:j,getDateRange:k}}),null);
__d("ActiveSectionStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").HEADER,m={activeFeature:null,activeSectionLabel:null,activeSectionName:null,featureList:null,isComparing:false,view:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.$ActiveSectionStore1=function(p,q){var r=q.activeSection;return p.set("activeSectionName",r?r.name:null).set("activeSectionLabel",r?r.label:null)};o.prototype.$ActiveSectionStore2=function(p,q){return p.set("activeFeature",q.id).set("featureList",q.featureList)};o.prototype.$ActiveSectionStore3=function(p,q){return p.set("isComparing",q.isComparing)};o.prototype.$ActiveSectionStore4=function(p,q){return p.set("view",q.view)};o.prototype.reduce=function(p,q){var r=q.action,s=r.type,t=r.data;switch(s){case l.SECTION_UPDATE:return this.$ActiveSectionStore1(p,t);case l.FEATURE_UPDATE:return this.$ActiveSectionStore2(p,t);case l.IS_COMPARING_UPDATE:return this.$ActiveSectionStore3(p,t);case l.VIEW_UPDATE:return this.$ActiveSectionStore4(p,t);default:return p}};o.prototype.getIsComparing=function(){return this.getState().isComparing};o.prototype.getActiveSectionName=function(){return this.getState().activeSectionName};o.prototype.getActiveSectionLabel=function(){return this.getState().activeSectionLabel};o.prototype.getFeatureList=function(){return this.getState().featureList};o.prototype.getActiveFeature=function(){return this.getState().activeFeature};o.prototype.getView=function(){return this.getState().view};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("FalcorErrorNotice",["cx","BonsaiText","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props["short"]?c("BonsaiText").errors.unavailable:this.props.message;return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_3aw"),"data-testid":"error"}),c("React").createElement("div",{className:"_4gyg"},c("React").createElement(c("Image.react"),{src:"/images/icons/platform/analytics/Info.png"}),c("React").createElement("div",{className:"_3ax"},m),c("React").createElement("div",{className:"_2aj_"},this.props.children)))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={message:k.string,"short":k.bool};f.exports=l}),null);
__d("AnalyticsErrorBoundary",["fbt","ActiveSectionStore","AnalyticsUIErrorTypedLogger","BonsaiConfig","ErrorBoundary.react","ErrorUtils","FalcorErrorNotice","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AnalyticsErrorBoundary1=function(r,s){var t=c("ErrorUtils").normalizeError(r);new(c("AnalyticsUIErrorTypedLogger"))().setAnalyticsEntityID(this.context.analyticsEntityID).setCardKey(this.props.cardKey).setErrorMessage(t.message).setErrorType(t.type).setIsemployee(c("BonsaiConfig").isEmployee?1:0).setSection(c("ActiveSectionStore").getActiveSectionName()).setStackTrace(t.stack).log()}.bind(this),this.$AnalyticsErrorBoundary2=function(){return this.props.hideOnError?c("React").createElement("span",null):c("React").createElement(c("FalcorErrorNotice"),{message:h._("Se ha producido un error")})}.bind(this),n}l.prototype.render=function(){var m=this.props.children;return c("React").createElement(c("ErrorBoundary.react"),{fallbackComponent:this.$AnalyticsErrorBoundary2,onHandleError:this.$AnalyticsErrorBoundary1},c("React").createElement("div",null,m))};l.contextTypes={analyticsEntityID:k.string};f.exports=l}),null);
__d("AnalyticsMetricConfigs",["fbt","CandelaConstants","DateConsts","AnalyticsQueryAggregationMethod","AppEventMetricText","BonsaiText"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CandelaConstants").ScaleType,j=c("DateConsts").SEC_PER_MIN;function k(o){return[c("AnalyticsQueryAggregationMethod").USD_SUM,c("AnalyticsQueryAggregationMethod").SUM].concat(o)}function l(o,p){return o[0]}function m(o,p){function q(r,p){var s=r[0],t=r[1],u=r.slice(2),v=p?s:t,w=[v].concat(u);return o(w)}return q}var n={getMetricConfig:function o(p,q,r){switch(p){case"MAU_WAU_DAU":return[{aggregations:[c("AnalyticsQueryAggregationMethod").MAU],label:c("AppEventMetricText").monthly_users[q]||c("AppEventMetricText").monthly_users["default"]},{aggregations:[c("AnalyticsQueryAggregationMethod").WAU],label:c("AppEventMetricText").weekly_users[q]||c("AppEventMetricText").weekly_users["default"]},{aggregations:[c("AnalyticsQueryAggregationMethod").DAU],label:c("AppEventMetricText").daily_users[q]||c("AppEventMetricText").daily_users["default"]}];case"COUNT":return[{aggregations:[c("AnalyticsQueryAggregationMethod").COUNT],label:c("AppEventMetricText").count[q]||c("AppEventMetricText").count["default"]}];case"UNIQUE_USERS":return[{aggregations:[c("AnalyticsQueryAggregationMethod").USERS],label:c("AppEventMetricText").unique_users[q]||c("AppEventMetricText").unique_users["default"]}];case"STICKINESS":return[{aggregations:[c("AnalyticsQueryAggregationMethod").DAU,c("AnalyticsQueryAggregationMethod").MAU],label:c("AppEventMetricText").stickiness["default"],metricCalculationFn:function s(t){var u=t[0],v=t[1];if(v===0)return 0;return u/v},scaleType:i.PERCENTAGE}];case"COUNT_PER_USER":return[{aggregations:[c("AnalyticsQueryAggregationMethod").COUNT,c("AnalyticsQueryAggregationMethod").USERS],label:c("AppEventMetricText").count_average[q]||c("AppEventMetricText").count_average["default"],metricCalculationFn:function s(t){var u=t[0],v=t[1];if(v===0)return 0;return u/v}}];case"VALUE":return[{aggregations:k([]),label:r?this._getUSDCurrencyLabel():c("AppEventMetricText").value[q]||c("AppEventMetricText").value["default"],metricCalculationFn:m(l),scaleType:r?i.CURRENCY:i.NUMBER}];case"VALUE_PER_EVENT":return[{aggregations:k([c("AnalyticsQueryAggregationMethod").COUNT]),label:r?this._getUSDCurrencyLabel():c("AppEventMetricText").value_event_average[q]||c("AppEventMetricText").value_event_average["default"],metricCalculationFn:m(function(s){var t=s[0],u=s[1];if(u===0)return 0;return t/u}),scaleType:r?i.CURRENCY:i.NUMBER}];case"VALUE_PER_USER":return[{aggregations:k([c("AnalyticsQueryAggregationMethod").USERS]),label:r?this._getUSDCurrencyLabel():c("AppEventMetricText").value_user_average[q]||c("AppEventMetricText").value_user_average["default"],metricCalculationFn:m(function(s){var t=s[0],u=s[1];if(u===0)return 0;return t/u}),scaleType:r?i.CURRENCY:i.NUMBER}];case"MEDIAN_VALUE":return[{aggregations:[c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE],label:c("AppEventMetricText").value_event_average[q]||c("AppEventMetricText").value_event_average["default"],metricCalculationFn:function s(t){var u=t[0];return u/j},scaleType:r?i.CURRENCY:i.NUMBER}];case"MEDIAN_VALUE_PER_USER":return[{aggregations:[c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER],label:c("AppEventMetricText").value_user_average[q]||c("AppEventMetricText").value_user_average["default"],metricCalculationFn:function s(t){var u=t[0];return u/j},scaleType:r?i.CURRENCY:i.NUMBER}];case"OVERLAP":return[{aggregations:[c("AnalyticsQueryAggregationMethod").OVERLAP]}];default:p;throw new Error("")}},getMetricLabel:function o(p,q){var r=q||"default",s=c("AppEventMetricText");switch(p){case"COUNT":return s.count[r]||s.count["default"];case"COUNT_PER_USER":return s.count_average[r]||s.count_average["default"];case"UNIQUE_USERS":return s.unique_users[r]||s.unique_users["default"];case"MAU_WAU_DAU":return h._("Usuarios por mes\/semana\/d\u00eda");case"STICKINESS":return s.stickiness["default"];case"VALUE":return s.value[r]||s.value["default"];case"VALUE_PER_USER":return s.value_user_average[r]||s.value_user_average["default"];case"VALUE_PER_EVENT":return s.value_event_average[r]||s.value_event_average["default"];case"MEDIAN_VALUE_PER_USER":return s.value_user_average[r]||s.value_user_average["default"];case"MEDIAN_VALUE":return s.value_event_average[r]||s.value_event_average["default"];case"OVERLAP":return h._("Superposici\u00f3n");default:p;throw new Error("Unsupported Metric: %s",p)}},metricSupportsIntervalSelection:function o(p){return p!=="STICKINESS"&&p!=="MAU_WAU_DAU"},metricSupportsBreakdowns:function o(p){return p!=="STICKINESS"&&p!=="MAU_WAU_DAU"},_getUSDCurrencyLabel:function o(){var p=c("BonsaiText").getLocalizedCurrencyName("USD");return h._("{currency} Valor",[h.param("currency",p)])},DEFAULT_METRIC_CALCULATION_FN:l};f.exports=n}),null);
__d("AnalyticsQueryRenderer",["immutable","React","areEqual"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Map;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AnalyticsQueryRenderer4=function(){if(!this.$AnalyticsQueryRenderer1.isEmpty()||!this.props.onDoneLoading)return;this.props.onDoneLoading(this.state.queryResults,this.state.queryErrors)}.bind(this);this.$AnalyticsQueryRenderer1=j();this.state={queryErrors:j(),queryResults:j()};this.$AnalyticsQueryRenderer2(l)}k.prototype.componentWillReceiveProps=function(l){if(!c("areEqual")(this.props.queries.values(),l.queries.values()))this.$AnalyticsQueryRenderer2(l)};k.prototype.componentWillUnmount=function(){this.$AnalyticsQueryRenderer3()};k.prototype.$AnalyticsQueryRenderer2=function(l){this.$AnalyticsQueryRenderer3();if(!this.state.queryResults.isEmpty())this.setState({queryErrors:j(),queryResults:j()});var m=l.queries;m.forEach(function(n,o){var p=n.getQueryAsPromise();p.promise.done(function(q){this.$AnalyticsQueryRenderer1=this.$AnalyticsQueryRenderer1["delete"](o);this.setState({queryResults:this.state.queryResults.set(o,q)},this.$AnalyticsQueryRenderer4)}.bind(this),function(q){this.$AnalyticsQueryRenderer1=this.$AnalyticsQueryRenderer1["delete"](o);this.setState({queryErrors:this.state.queryErrors.set(o,q)},this.$AnalyticsQueryRenderer4)}.bind(this));this.$AnalyticsQueryRenderer1=this.$AnalyticsQueryRenderer1.set(o,p)}.bind(this))};k.prototype.$AnalyticsQueryRenderer3=function(){this.$AnalyticsQueryRenderer1.forEach(function(l){return l.cancel()});this.$AnalyticsQueryRenderer1=j()};k.prototype.$AnalyticsQueryRenderer5=function(){return!this.$AnalyticsQueryRenderer1.isEmpty()};k.prototype.render=function(){return this.props.render(this.$AnalyticsQueryRenderer5(),this.state.queryResults,this.state.queryErrors)};f.exports=k}),null);
__d("AnalyticsSegmentUtils",["invariant","compactArray","FalcorSegmentRuleUtils","FBJSON","GriffinSegmentRules","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("GriffinSegmentRules").Types,j={event_rules:[],demographic_rules:[],device_rules:[],percentile_rules:[],user_property_rules:[],web_param_rules:[]},k={ALL_USERS:j,assertSegment:function l(m){!("event_info_rules"in m)||h(0);return{event_rules:m.event_rules.map(function(n){return k._assertEventRuleData(n)}),demographic_rules:m.demographic_rules.map(function(n){return k._assertParamRule(n,i.DEMOGRAPHIC)}),device_rules:m.device_rules.map(function(n){return k._assertParamRule(n,i.TECHNOLOGY)}),percentile_rules:m.percentile_rules.map(function(n){return k._assertPercentileRule(n)}),user_property_rules:m.user_property_rules.map(function(n){return k._assertParamRule(n,i.USER_PROPERTY)}),web_param_rules:m.web_param_rules.map(function(n){return k._assertParamRule(n,i.WEB_PARAMS)})}},toGraphAPISegment:function l(m){var n=m.demographic_rules.map(function(o){return k._toLooseParamRule(o)}).concat(m.device_rules.map(function(o){return k._toLooseParamRule(o)}));return{event_rules:m.event_rules.map(function(o){return k._toLooseEventRule(o)}),event_info_rules:n,user_property_rules:m.user_property_rules.map(function(o){return k._toLooseParamRule(o)}),percentile_rules:m.percentile_rules.map(function(o){return k._toLooseEventRule(o)}),web_param_rules:m.web_param_rules.map(function(o){return k._toLooseParamRule(o)})}},toSegment:function l(m){var n=m.event_info_rules||[],o=k._filterIncompleteParamRules(n.filter(function(q){return c("FalcorSegmentRuleUtils").getRuleType(q)!==i.TECHNOLOGY}),i.DEMOGRAPHIC),p=k._filterIncompleteParamRules(n.filter(function(q){return c("FalcorSegmentRuleUtils").getRuleType(q)===i.TECHNOLOGY}),i.TECHNOLOGY);return{event_rules:k._filterIncompleteEventRules(m.event_rules||[]),demographic_rules:o,device_rules:p,user_property_rules:k._filterIncompleteParamRules(m.user_property_rules||[],i.USER_PROPERTY),percentile_rules:k._filterIncompletePercentileRules(m.percentile_rules||[]),web_param_rules:k._filterIncompleteParamRules(m.web_param_rules||[],i.WEB_PARAMS)}},deserializeFilter:function l(m){return babelHelpers["extends"]({},j,c("FBJSON").parse(m||"{}"))},serializeFilter:function l(m){return c("FBJSON").stringify(m)},_assertEventRuleData:function l(m){var n=c("nullthrows")(m.event_rule);return{name:m.name||"",negate_rule:c("nullthrows")(m.negate_rule),event_rule:{application:n.application,event_name:c("nullthrows")(n.event_name),parameters:n.parameters.map(function(o){return k._assertParamRule(o,i.APP_EVENT)})}}},_assertParamRule:function l(m,n){var o=m.values.map(function(p){return c("nullthrows")(p)});o.length>0||h(0);return{ruleType:n,parameter_name:c("nullthrows")(m.parameter_name),operator:c("nullthrows")(m.operator),values:o}},_assertPercentileRule:function l(m){var n=c("nullthrows")(m.event_rule),o=c("nullthrows")(n.cumulative_rule);m.negate_rule===false||h(0);return{name:m.name||"",negate_rule:false,event_rule:{application:n.application,event_name:c("nullthrows")(n.event_name),parameters:n.parameters.map(function(p){return k._assertParamRule(p,i.APP_EVENT)}),cumulative_rule:{metric:c("nullthrows")(o.metric),period:o.period||undefined,technique:{technique_name:c("nullthrows")(o.technique.technique_name),lower_bound:o.technique.lower_bound||null,upper_bound:o.technique.upper_bound||null}}}}},_filterIncompleteParamRules:function l(m,n){return c("compactArray")(m.map(function(o){if(!o.parameter_name||!o.operator||!o.values||o.values.length===0)return null;return{ruleType:n,parameter_name:o.parameter_name,operator:o.operator,values:o.values.slice()}}))},_filterIncompleteEventRules:function l(m){return c("compactArray")(m.map(function(n){var o=n.event_rule;return{name:n.name||"",negate_rule:n.negate_rule||false,event_rule:{application:o.application,event_name:o.event_name,parameters:k._filterIncompleteParamRules(o.parameters,i.APP_EVENT)}}}))},_filterIncompletePercentileRules:function l(m){return c("compactArray")(m.map(function(n){var o=n.event_rule,p=o.cumulative_rule;if(!p||!p.technique)return null;var q={technique_name:p.technique.technique_name,lower_bound:p.technique.lower_bound,upper_bound:p.technique.upper_bound};return{name:n.name||"",negate_rule:false,event_rule:{application:o.application,event_name:o.event_name,parameters:k._filterIncompleteParamRules(o.parameters,i.APP_EVENT),cumulative_rule:{metric:p.metric,period:p.period||undefined,technique:q}}}}))},_toLooseEventRule:function l(m){var n=m.event_rule,o=n.cumulative_rule===undefined?null:n.cumulative_rule,p=o&&o.technique?babelHelpers["extends"]({},o.technique):null,q=o?{metric:o.metric,period:o.period||undefined,technique:p}:null;return{name:m.name,negate_rule:m.negate_rule,event_rule:{application:n.application,event_name:n.event_name,parameters:n.parameters.map(function(r){return k._toLooseParamRule(r)}),cumulative_rule:q}}},_toLooseParamRule:function l(m){return{ruleType:m.ruleType,parameter_name:m.parameter_name,operator:m.operator,values:m.values.slice()}},dedupArray:function l(m,n){return m.reduce(function(o,p){return o.every(function(q){return!n(p,q)})?[].concat(o,[p]):o},[])}};f.exports=k}),null);
__d("AnalyticsAggregationChartQueryRenderer",["immutable","AnalyticsAggregationChartQueryUtils","AnalyticsErrorBoundary","InternalAnalyticsQueryBuilder","AnalyticsMetricConfigs","AnalyticsQueryRenderer","AnalyticsSegmentUtils","React"],(function a(b,c,d,e,f,g){var h,i,j=c("immutable").Map;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AnalyticsAggregationChartQueryRenderer1=function(q,r){if(r.isEmpty())this.props.onDataLoaded&&this.props.onDataLoaded();else this.props.onDataLoadError&&this.props.onDataLoadError();this.props.onDoneLoading&&this.props.onDoneLoading(this.$AnalyticsAggregationChartQueryRenderer5(q),r.isEmpty()?null:r.first().getMessage())}.bind(this),this.$AnalyticsAggregationChartQueryRenderer3=function(q,r,s){return this.props.render(q,this.$AnalyticsAggregationChartQueryRenderer5(r),s.isEmpty()?null:s.first().getMessage())}.bind(this),m}k.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsErrorBoundary"),null,c("React").createElement(c("AnalyticsQueryRenderer"),{onDoneLoading:this.$AnalyticsAggregationChartQueryRenderer1,queries:this.$AnalyticsAggregationChartQueryRenderer2(),render:this.$AnalyticsAggregationChartQueryRenderer3}))};k.prototype.$AnalyticsAggregationChartQueryRenderer2=function(){"use strict";var l=this.props,m=l.analyticsEntityID,n=l.chart,o=j();n.queries.forEach(function(p,q){var r=p.event_name,s=p.metric,t=p.breakdowns,u=p.limit,v=p.ordering_columns,w=p.ordering_type,x=c("AnalyticsAggregationChartQueryUtils").getAggregationPeriod(p,this.props.inheritedDateRangeType),y=c("AnalyticsAggregationChartQueryUtils").resolveMetricGivenAggregationPeriod(s,x),z=c("AnalyticsMetricConfigs").getMetricConfig(y,r),A=c("AnalyticsAggregationChartQueryUtils").getDateRange(p,this.props.inheritedDateRange,this.props.inheritedDateRangeType,this.props.timezoneID);z.forEach(function(s,B){var C=s.aggregations,D=c("AnalyticsAggregationChartQueryUtils").getSegment(p,n.inherit_segment,this.props.inheritedSegment),E=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(m).setEventName(r).setAggregations(C).setBreakdowns(t).setFilters(c("AnalyticsSegmentUtils").toGraphAPISegment(D.rules)).setLimit(u?u+2:0).setOrderingColumns(v).setOrderingType(w).setDateRangeUTC(A).setTag(this.props.chart.name);if(x)E.setAggregationPeriod(x);var F=this.$AnalyticsAggregationChartQueryRenderer4(q,B);o=o.set(F,E)}.bind(this))}.bind(this));return o};k.prototype.$AnalyticsAggregationChartQueryRenderer5=function(l){"use strict";var m=this.props.chart,n=[];m.queries.forEach(function(o,p){var q=o.event_name,r=o.metric,s=c("AnalyticsAggregationChartQueryUtils").getAggregationPeriod(o,this.props.inheritedDateRangeType),t=c("AnalyticsAggregationChartQueryUtils").resolveMetricGivenAggregationPeriod(r,s),u=c("AnalyticsMetricConfigs").getMetricConfig(t,q);u.forEach(function(v,w){var x=this.$AnalyticsAggregationChartQueryRenderer4(p,w);if(l.has(x)){var y=l.get(x),z=c("AnalyticsMetricConfigs").getMetricConfig(t,q,y.hasUSDValue());n.push({queryConfig:o,metric:z[w],result:l.get(x)})}}.bind(this))}.bind(this));return n};k.prototype.$AnalyticsAggregationChartQueryRenderer4=function(l,m){"use strict";return JSON.stringify([l,m])};f.exports=k}),null);
__d("AnalyticsCandelaAppEventQueryUtils",["invariant","AnalyticsMetricConfigs"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("AnalyticsMetricConfigs").DEFAULT_METRIC_CALCULATION_FN,j={forEachResultRow:function k(l,m,n){var o=l.getColumnNames(),p=l.hasUSDValue();l.getResultAsRows().forEach(function(q){n(this._getValueForRow(q,o,m,p),q)}.bind(this))},getOnlyRowValue:function k(l,m){var n=l.getResultAsRows(),o=l.getColumnNames(),p=l.hasUSDValue();if(n.isEmpty())return null;n.count()===1||h(0);return this._getValueForRow(n.first(),o,m,p)},_getValueForRow:function k(l,m,n,o){var p=n.metricCalculationFn,q=n.aggregations.map(function(s){var t=m.findIndex(function(u){return u===s});return Number(l.get(t))}),r=p||i;return r(q,o)}};f.exports=j}),null);
__d("AnalyticsCandelaGenericUtils",["invariant","React","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").Children,j=c("immutable").Map,k=c("immutable").OrderedSet,l=c("immutable").Set,m={sortDependentSeries:function n(o){return o.slice().sort()},getAutoColors:function n(o,p){var q=o.colors.toList(),r=j();this.sortDependentSeries(p).forEach(function(s,t){var u=q.get(t%q.count());r=r.set(s,u)});return r},getTotalRows:function n(o){return o.reduce(function(p,q){return p+q.result.getResultAsRows().count()},0)},getKeyForMetric:function n(o){return o.aggregations.join("-")},getSchemaHasSeriesFilter:function n(o){return function(p){return o[p]!=null}},getLabelForSeries:function n(o,p){var q=p[o];q||h(0);return q.label||o},getChartFromProps:function n(o){var p=this._getChartHelper(i.only(o.children));return p},isMultiEventChart:function n(o){var p=l(o.map(function(q){return q.queryConfig.event_name}));return p.count()>1},isMultiSegmentChart:function n(o){return l(o.map(function(p){return p.segment.name})).count()>1},_getChartHelper:function n(o){if(this._isChart(o))return o;var p=i.toArray(o.props.children),q=p.map(function(r){if(c("React").isValidElement(r))return this._getChartHelper(r);else return null}.bind(this)).filter(function(r){return r});q.length===1||h(0);return q[0]},_isChart:function n(o){return o.ref==="chart"||o.props.data&&o.props.schema},cloneChartWrapperWithAdditionalChartProps:function n(o,p){return this._cloneChartWrapperWithAdditionalChartPropsHelper(p,o.children)},_cloneChartWrapperWithAdditionalChartPropsHelper:function n(o,p){if(!c("React").isValidElement(p))return p;else if(this._isChart(p)||!p.props.children)return c("React").cloneElement(p,o);else{var q=i.map(p.props.children,function(r){return this._cloneChartWrapperWithAdditionalChartPropsHelper(o,r)}.bind(this));if(q.length===1)q=q[0];return c("React").cloneElement(p,null,q)}},getFlatSeriesNames:function n(o){return o.reduce(function(p,q){return p.concat(q.getSeriesNames())},[])},mergeDataAndSortNumeric:function n(o){for(var p=arguments.length,q=Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];return this.mergeDataAndSort.apply(this,[o,function(s,t){return Number(s[o])-Number(t[o])}].concat(q))},mergeDataAndSort:function n(o,p){for(var q=arguments.length,r=Array(q>2?q-2:0),s=2;s<q;s++)r[s-2]=arguments[s];var t=this.mergeData.apply(this,[o].concat(r));return p?t.sort(p):t},mergeData:function n(o){for(var p=arguments.length,q=Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];return q.reduce(this._mergeData.bind(this,o),[])},_mergeData:function n(o,p,q){var r={},s={};p.forEach(function(t){Object.prototype.hasOwnProperty.call(t,o)||h(0);r[String(t[o])]=t});q.forEach(function(t){Object.prototype.hasOwnProperty.call(t,o)||h(0);s[String(t[o])]=t});return Object.keys(r).map(function(t){var u=r[t],v=s[t]||{};return babelHelpers["extends"]({},u,v)}).concat(Object.keys(s).filter(function(t){return!r[t]}).map(function(t){var u={},v=s[t];return babelHelpers["extends"]({},u,v)}))},getItemsFromDependentSeriesNamesAndSchema:function n(o,p){return k(o.map(function(q){return{key:q,label:p[q].label||q,constant:true}}))}};f.exports=m}),null);
__d("AnalyticsCandelaComparisonsUtils",["fbt","AnalyticsCandelaGenericUtils","GriffinSegmentUtils","CandelaConstants","keyMirror"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CandelaConstants").ScaleType,j="comparison-",k={STANDARD:h._("A"),COMPARISON:h._("B")},l=c("keyMirror")({STANDARD:null,COMPARISON:null}),m={SegmentSeriesKinds:l,getComparisonKey:function n(o){o=o||"";return""+j+o},segmentSeriesKeyNameToKind:function n(o){return o.startsWith(j)?l.COMPARISON:l.STANDARD},isComparisonSeries:function n(o){return o.startsWith(this.getComparisonKey())},getExportLabelForStandardSegment:function n(o){return this._getExportLabelForSegment(o,k.STANDARD)},getExportLabelForComparisonSegment:function n(o){return this._getExportLabelForSegment(o,k.COMPARISON)},_getExportLabelForSegment:function n(o,p){var q=c("GriffinSegmentUtils").getSegmentName(o);if(o&&!o.name)return h._("{segment name} {prefix}",[h.param("segment name",q),h.param("prefix",p)]);return q},getLegendLabelForStandardSegment:function n(o){return this._getLegendLabelForSegment(o,k.STANDARD)},getLegendLabelForComparisonSegment:function n(o){return this._getLegendLabelForSegment(o,k.COMPARISON)},_getLegendLabelForSegment:function n(o,p){var q=c("GriffinSegmentUtils").getSegmentName(o);return h._("{prefix}. {segment name}",[h.param("prefix",p),h.param("segment name",q)])},getLabelForSeriesWithPrefix:function n(o,p,q,r){var s=c("AnalyticsCandelaGenericUtils").getLabelForSeries(o,p),t=this.isComparisonSeries(o)?r:q;if(t)return h._("{segment name}: {breakdown name}",[h.param("segment name",t),h.param("breakdown name",s)]);return s},getComparisonData:function n(o,p){return o.map(function(q){var r={};Object.keys(q).forEach(function(s){r[this.getComparisonKey(s)]=q[s];if(s===p)r[s]=q[s]}.bind(this));return r}.bind(this))},getComparisonSchema:function n(o){var p={};Object.keys(o).forEach(function(q){if(o[q].type!==i.CATEGORY)p[this.getComparisonKey(q)]=babelHelpers["extends"]({},o[q])}.bind(this));return p}};f.exports=m}),null);
__d("AnalyticsQueryBreakdownUtils",["fbt","invariant","AppEventField","AppEventsAggregatingColumn","AppEventsAggregatingColumnLabels","AppEventsLowCardinalityAggregatingColumn","AppEventsReservedBreakdownValues","AnalyticsBuiltInBreakdowns","BonsaiText","CustomEventStore","FalcorBreakdownsTextUtils","GriffinSegmentRules","Set","UniversalCustomEventField"],(function a(b,c,d,e,f,g,h,i){"use strict";var j="$fb.",k="$custom.",l="$user.",m=1,n=2,o=3,p=[c("AnalyticsBuiltInBreakdowns").AGE,c("AnalyticsBuiltInBreakdowns").GENDER],q=p.join("-"),r=h._("Edad y sexo"),s=new(c("Set"))([].concat(Object.values(c("AppEventField")),Object.values(c("AppEventsAggregatingColumn")),Object.values(c("UniversalCustomEventField")))),t={demoBreakdowns:p,demoBreakdownsString:q,demoBreakdownsDisplayString:r,isParamUserDefined:function u(v){return!s.has(v)},getBuiltIn:function u(v){return j+v},getCustomParam:function u(v){return k+v},getUserProperty:function u(v){return l+v},getBucketDisplayString:function u(v,w,event,x){var y=this._getBreakdownCategory(v),z=y===o?c("GriffinSegmentRules").Types.USER_PROPERTY:null;if(x&&w===c("AppEventsReservedBreakdownValues").UNKNOWN&&!c("AppEventsLowCardinalityAggregatingColumn")[v])w=c("AppEventsReservedBreakdownValues").OTHER;switch(y){case m:v=v.substr(j.length);break;case n:event||i(0);v=v.substr(k.length);break;case o:v=v.substr(l.length);break;default:break}return c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(v,w,event,z)},getDisplayString:function u(v,event){var w=this._getBreakdownCategory(v);switch(w){case m:v=v.substr(j.length);var x=c("AppEventsAggregatingColumnLabels")[v];x||i(0);return x;case n:event||i(0);return c("CustomEventStore").getAppEventParameterDisplayName(event,v.substr(k.length));case o:return v.substr(l.length);default:if(event!=null){var y=c("CustomEventStore").getAppEventParameterDisplayName(event,v);if(y!==v)return y}return c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(v)}},getTooltip:function u(v,w){if(!v.startsWith(j))return null;v=v.substr(j.length);return c("BonsaiText").getBreakdownTooltip(v,w)},_getBreakdownCategory:function u(v){if(v.startsWith(j))return m;else if(v.startsWith(k))return n;else if(v.startsWith(l))return o;else return null}};f.exports=t}),null);
__d("escapeStringForCSV.instagram",[],(function a(b,c,d,e,f,g){function h(i){return'"'+i.replace(/\"/g,'""')+'"'}f.exports=h}),null);
__d("AnalyticsCandelaBarChartUtils",["fbt","invariant","immutable","CandelaConstants","AnalyticsQueryAggregationMethod","AnalyticsBuiltInBreakdowns","AnalyticsCandelaAppEventQueryUtils","AnalyticsCandelaComparisonsUtils","AnalyticsCandelaUtils","AnalyticsPredefinedBreakdownValues","AnalyticsQueryBreakdownUtils","AnalyticsQueryMetric","CustomEventStore","InsightsFormatterFactories","GriffinConstants","ObjectSort","escapeStringForCSV.instagram","CandelaGroupScaleBuilder","CandelaStackScaleBuilder","AnalyticsCandelaGenericUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").OrderedSet,k=c("CandelaConstants").Orientation,l=c("CandelaConstants").ScaleType,m=c("GriffinConstants").BreakdownKeysToAppearAtBottom,n=c("CandelaGroupScaleBuilder").group,o=c("CandelaStackScaleBuilder").stack,p=c("AnalyticsCandelaGenericUtils").getFlatSeriesNames,q=c("AnalyticsCandelaGenericUtils").getLabelForSeries,r=c("AnalyticsCandelaGenericUtils").getSchemaHasSeriesFilter,s="event_name",t={eventNameKey:s,getCSVData:function u(v,w,x,y,z,A){var B=this._getCSVHeaders(w,x,y,z,A),C=this._getCSVData(v,w,x,y);C.unshift(B);return C.join("\n")},_getXSeriesName:function u(v){var w=v.getSeriesNames();w.length===1||i(0);return w[0]},_getCSVData:function u(v,w,x,y){var z=this._getOrderedCSVColumns(w,x,y),A=this._getXSeriesName(x);v.sort(c("ObjectSort").getStringSortFunction(A));return v.map(function(B){return z.map(function(C){var D=B[C]===null?"":B[C];return c("escapeStringForCSV.instagram")(String(D))}).join(",")})},_getCSVHeaders:function u(v,w,x,y,z){var A=p(x),B=this._getXSeriesName(w),C=A.filter(r(v)).map(function(E){var F=c("AnalyticsCandelaComparisonsUtils").getLabelForSeriesWithPrefix(E,v,y,z);return c("escapeStringForCSV.instagram")(F.toString())}),D=q(B,v);C.unshift(D);return C.join(",")},_getOrderedCSVColumns:function u(v,w,x){var y=p(x).filter(r(v)),z=this._getXSeriesName(w);y.unshift(z);return y},getRangeMax:function u(v,w){var x=this._getRangeMaxBySeriesType(v,w,c("AnalyticsCandelaComparisonsUtils").SegmentSeriesKinds.STANDARD),y=this._getRangeMaxBySeriesType(v,w,c("AnalyticsCandelaComparisonsUtils").SegmentSeriesKinds.COMPARISON);return Math.max(x,y)},_getRangeMaxBySeriesType:function u(v,w,x){var y=v.map(function(z){var y=w.filter(function(A){return!isNaN(z[A])&&c("AnalyticsCandelaComparisonsUtils").segmentSeriesKeyNameToKind(A)===x}).map(function(A){return Math.max(Number(z[A]))});return y.reduce(function(A,B){return A+B},0)});return Math.max.apply(null,y)},getTitleElementFactory:function u(v){var w=v===s;return function(x){var y=x[v].value,z=w?c("CustomEventStore").getAppEventDisplayName(y):c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(v,y),A=this.getBreakdownDisplayName(v);return h._("{breakdown}: {bucket}",[h.param("breakdown",A),h.param("bucket",z)])}.bind(this)},getBreakdownDisplayName:function u(v){return v===s?h._("Nombre del evento"):c("AnalyticsQueryBreakdownUtils").getDisplayString(v)},getAxisFormatter:function u(v){return function(w,x){if(x===k.HORIZONTAL)return this._getXAxisFormatter(v).apply(this,arguments);else return c("InsightsFormatterFactories").axisMarkFormatterFactory(w,x)}.bind(this)},_getXAxisFormatter:function u(v){return function(w){return function(x){return this._getXAxisValueDisplayName(v,x)}.bind(this)}.bind(this)},_getXAxisValueDisplayName:function u(v,w){if(v===s)return c("CustomEventStore").getAppEventDisplayName(w);else if(w==="fb_other")return c("AnalyticsPredefinedBreakdownValues").OTHER[w];else if(v===c("AnalyticsBuiltInBreakdowns").COUNTRY)return w;else return c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(v,w)},getYSeriesNames:function u(v){return Object.keys(v).filter(function(w){return v[w].type!==l.CATEGORY})},getPlotY:function u(v,w,x,y){var z=void 0;if(x)z=this.getYSeriesNames(v);else z=[this.getMetric(w)];return y?o.apply(undefined,z).from(0).extendInput(0,.5).niceStepOnly():n.apply(undefined,z).from(0).extendInput(0,.5).niceStepOnly()},getItemsFromSchema:function u(v){var w=Object.keys(v).filter(function(w){return v[w].type!==l.CATEGORY});return j(w).map(function(w){return{key:w,label:q(w,v)}})},getItemsForAgeAndGenderChart:function u(v){return c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(v).filter(function(w){var x=c("AnalyticsPredefinedBreakdownValues").gender,y=String(w.key);return x[y]})},getItemsFromResult:function u(v,w,x){var y=v.map(function(z){return String(z[x])});return j(y).map(function(y){return{key:y,label:x===s?c("CustomEventStore").getAppEventDisplayName(y):c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(x,y)}})},getItemsFromEventName:function u(v){var w={key:v,label:c("CustomEventStore").getAppEventDisplayName(v)};return j([w])},getDataFromResults:function u(v,w,x,y,z){var A,B=v.map(function(E){return this.getDataFromResult(E.result,E.metric,w,x,w===s?E.queryConfig.event_name:null)}.bind(this)),C=this.getMetric(y),D=w!==c("AnalyticsBuiltInBreakdowns").AGE?function(E,F){if(m.has(String(E[w])))return 1;else if(m.has(String(F[w])))return-1;else return Number(F[C])-Number(E[C])}:null;if(w===s&&x!=null)D=function D(E,F){var G=Object.keys(E).filter(function(I){return I!==s}).reduce(function(I,J){return I+Number(E[J])},0),H=Object.keys(F).filter(function(I){return I!==s}).reduce(function(I,J){return I+Number(F[J])},0);return H-G};B=(A=c("AnalyticsCandelaUtils").Generic).mergeDataAndSort.apply(A,[w,D].concat(B));return this.getTopKData(B,z||10,C,w)},getDataFromResult:function u(v,w,x,y,z){var A={},B=v.getColumnNames(),C=B.findIndex(function(E){return E===x}),D=B.findIndex(function(E){return E===y});c("AnalyticsCandelaAppEventQueryUtils").forEachResultRow(v,w,function(E,F){var G,H=z?z:F.get(C),I=y?F.get(D):c("AnalyticsCandelaUtils").Generic.getKeyForMetric(w);A[H]=babelHelpers["extends"]({},A[H],(G={},G[x]=H,G[I]=E,G))});return this.filterUnknownBuckets(Object.values(A).sort(c("ObjectSort").getStringSortFunction(x)),x)},getSchemaFromResults:function u(v,w,x){var y=v.map(function(z){var A=z.result,B=z.metric,C=z.queryConfig,D=C.event_name;return this.getSchemaFromResult(A,w,x,D,B)}.bind(this));return Object.assign.apply(Object,[{}].concat(y))},getSchemaFromResult:function u(v,w,x,y,z){if(!v)return{};var A=this._getSchemaForXBreakdown(w,y);if(x)A=babelHelpers["extends"]({},A,this._getSchemaForYBreakdown(v,x));else A=babelHelpers["extends"]({},A,this._getSchemaForMetric(z));return A},filterUnknownBuckets:function u(v,w){return v.filter(function(x){return!this._shouldBucketBeHidden(w,x[w])}.bind(this))},_shouldBucketBeHidden:function u(v,w){if(v===c("AnalyticsBuiltInBreakdowns").AGE)return c("AnalyticsPredefinedBreakdownValues").age[w]===undefined;else if(v===c("AnalyticsBuiltInBreakdowns").GENDER)return c("AnalyticsPredefinedBreakdownValues").gender[w]===undefined;else return false},getTopKData:function u(v,w,x,y){var z=v.slice();if(v.length<=w)return z;var A=z.slice(w).reduce(function(C,z){return C+Number(z[x])},0),B={};B[x]=A;B[y]="fb_other";return z.slice(0,w).concat(B)},isAgeGenderChart:function u(v){return v[0]===c("AnalyticsBuiltInBreakdowns").AGE&&v[1]===c("AnalyticsBuiltInBreakdowns").GENDER},getMetric:function u(v){return v===c("AnalyticsQueryMetric").UNIQUE_USERS?c("AnalyticsQueryAggregationMethod").USERS:v},_getSchemaForXBreakdown:function u(v,w){if(v===s){var x;return x={},x[s]={type:l.CATEGORY},x}else{var y;return y={},y[v]={type:l.CATEGORY,label:c("AnalyticsQueryBreakdownUtils").getDisplayString(v,w)},y}},_getSchemaForYBreakdown:function u(v,w){var x=v.getBreakdownUniqueValues(w),y={};x.forEach(function(z){if(this._shouldBucketBeHidden(w,z))return;var A=c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(w,z);y[z]={label:A,type:l.NUMBER}}.bind(this));return y},_getSchemaForMetric:function u(v){var w,x=v.label,y=c("AnalyticsCandelaUtils").Generic.getKeyForMetric(v);return w={},w[y]={label:x,type:v.scaleType||l.NUMBER},w}};f.exports=t}),null);
__d("AggregationPeriods$FbtEnum",[],(function a(b,c,d,e,f,g){"use strict";var h={HOUR:"Hourly",DAY:"Daily",WEEK:"Weekly",MONTH:"Monthly",RANGE:"Range"};f.exports=h}),null);
__d("InsightsTimeUtils",["fbt","invariant","InsightsNumUtils"],(function a(b,c,d,e,f,g,h,i){var j=[{display:{singular:"year",plural:"years",abbreviation:"y"},seconds:31556900,secondsConverter:function l(m){return m/31556900}},{display:{singular:"month",plural:"months",abbreviation:"m"},seconds:263e4,secondsConverter:function l(m){return m/263e4}},{display:{singular:"week",plural:"weeks",abbreviation:"w"},seconds:604800,secondsConverter:function l(m){return m/604800}},{display:{singular:"day",plural:"days",abbreviation:"d"},seconds:86400,secondsConverter:function l(m){return m/86400}},{display:{singular:"hour",plural:"hours",abbreviation:" hrs"},seconds:3600,secondsConverter:function l(m){return m/3600}},{display:{singular:"minute",plural:"minutes",abbreviation:" mins"},seconds:60,secondsConverter:function l(m){return m/60}},{display:{singular:"second",plural:"seconds",abbreviation:" secs"},seconds:1,secondsConverter:function l(m){return m}}],k={_convertSeconds:function l(m,n){var o=n.secondsConverter(m);return Math.round(o*10)/10},_getConfigBySeconds:function l(m){m=Math.abs(m);for(var n=0;n<j.length;n++){var o=j[n];if(m/o.seconds>=1||n===j.length-1)return o}i(0)},_getConfigByDisplayKey:function l(m){for(var n=0;n<j.length;n++){var o=j[n];if(o.display.singular===m||o.display.plural===m)return o}i(0)},getValueConverterFunction:function l(m){var n=k._getConfigByDisplayKey(m);return n.secondsConverter},getDisplayKey:function l(m){var n=k._getConfigBySeconds(m);return n.display.plural},minutesToDisplay:function l(m,n){return k.secondsToDisplay(m*60,n)},secondsToDisplay:function l(m,n){var o=k._getConfigBySeconds(m),p=c("InsightsNumUtils").prettyFloat(k._convertSeconds(m,o));if(n)return p==="0"?p:h._({"y":"{numeric time value}y","m":"{numeric time value}m","w":"{numeric time value}w","d":"{numeric time value}d"," hrs":"{numeric time value} hrs"," mins":"{numeric time value} mins"," secs":"{numeric time value} secs"},[h.param("numeric time value",p),h["enum"](o.display.abbreviation,{y:"y",m:"m",w:"w",d:"d"," hrs":" hrs"," mins":" mins"," secs":" secs"})]);if(p==="1")return h._({"year":"{numeric time value} year","month":"{numeric time value} month","week":"{numeric time value} week","day":"{numeric time value} day","hour":"{numeric time value} hour","minute":"{numeric time value} minute","second":"{numeric time value} second"},[h.param("numeric time value",p),h["enum"](o.display.singular,{year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute",second:"second"})]);else return h._({"years":"{numeric time value} years","months":"{numeric time value} months","weeks":"{numeric time value} weeks","days":"{numeric time value} days","hours":"{numeric time value} hours","minutes":"{numeric time value} minutes","seconds":"{numeric time value} seconds"},[h.param("numeric time value",p),h["enum"](o.display.plural,{years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"})])},secondsToDetailedFields:function l(m,n,o){n=n||0;o=o||j.length-1;var p=[];for(var q=n;q<=o;q++){var r=j[q],s=m/r.seconds>=1?Math.floor(m/r.seconds):0;p.push(s);m-=s*r.seconds}return p},ySecondsScale:function l(m){m.tickFormatMaxLength=46;m.tickFormat=function(){return function(o){return k.secondsToDisplay(o,true)}};m.tooltipFormat=function(){return function(o){return k.secondsToDisplay(o)}};var n=m.copy;m.copy=function(){return k.ySecondsScale(n())};return m}};f.exports=k}),null);
__d("AnalyticsCandelaTimeseriesUtils",["fbt","invariant","immutable","CandelaConstants","Timezone","AppEventQueryAggregationPeriod","AnalyticsCandelaAppEventQueryUtils","AnalyticsCandelaUtils","AnalyticsQueryAggregationMethod","AnalyticsQueryBreakdownUtils","AnalyticsQueryConstants","AppEventsReservedBreakdownValues","CandelaTimeScale","CustomEventStore","DateTime","InsightsFormatterFactories","InsightsTimeUtils","PeriodUnit","AggregationPeriods$FbtEnum","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").OrderedSet,k=c("CandelaConstants").Orientation,l=c("CandelaConstants").RenderAs,m=c("CandelaConstants").ScaleType,n=c("Timezone").UTC,o=c("CandelaGroupScaleBuilder").group,p="$my_goal",q={getDescription:function r(s,t,u,v){var w=u?h._(", por {breakdown label}",[h.param("breakdown label",c("AnalyticsQueryBreakdownUtils").getDisplayString(u,s.length>1?"default":s[0]))]):null,x=s.length>1?h._("Varios eventos"):c("CustomEventStore").getAppEventDisplayName(s[0]).trim(),y=v.toUpperCase();Object.keys(c("AppEventQueryAggregationPeriod")).indexOf(y)>-1||i(0);return h._({"DAY":"{event list}: {metric label}, {breakdown} diario","HOUR":"{event list}: {metric label}, {breakdown} cada hora","MONTH":"{event list}: {metric label}, {breakdown} mensual","RANGE":"{event list}: {metric label}, intervalo {breakdown}","WEEK":"{event list}: {metric label}, {breakdown} semanal"},[h.param("event list",x),h.param("metric label",t.label),h["enum"](y,c("AggregationPeriods$FbtEnum")),h.param("breakdown",w)])},getIndependentSeriesName:function r(){return"timestamp"},getIndependentScaleBuilder:function r(s,t,u,v){var w=this.getIndependentSeriesName(s),x=o(w).extendInput(0,.3);switch(u){case"month":var y=t.map(function(z){return new(c("DateTime").create)(Number(z[w]),v)});return x.steps(j(y));case"hour":case"day":case"week":default:return x.niceStepOnly()}},getDependentSeriesNames:function r(s){return Object.keys(s).sort().filter(function(t){return s[t].type!==m.TIME})},getDependentScaleBuilders:function r(s){var t=this.getDependentSeriesNames(s);return[o.apply(this,t).from(0).roundInput()]},getItemsFromSchema:function r(s,t){var u=Object.keys(s).filter(function(u){return s[u].type!==m.TIME}),v=t?t[t.length-1]:null;u.sort(function(w,x){if(w===p)return 1;if(x===p)return-1;if(w.startsWith("comparison")&&!x.startsWith("comparison"))return 1;if(!w.startsWith("comparison")&&x.startsWith("comparison"))return-1;if(w===c("AppEventsReservedBreakdownValues").UNKNOWN||w==="comparison-"+c("AppEventsReservedBreakdownValues").UNKNOWN)return 1;if(x===c("AppEventsReservedBreakdownValues").UNKNOWN||x==="comparison-"+c("AppEventsReservedBreakdownValues").UNKNOWN)return-1;if(v&&v[w]!=null&&v[x]!=null)return Number(v[x])-Number(v[w]);else return x.localeCompare(w)});return j(u).map(function(u){return{key:u,label:s[u].label||u,constant:true}})},getDataFromResult:function r(s,t,u,v){var w={},x=s.getColumnNames(),y=x.findIndex(function(A){return A==="timestamp"}),z=x.findIndex(function(A){return A===u});c("AnalyticsCandelaAppEventQueryUtils").forEachResultRow(s,t,function(A,B){var C,D=B.get(y),E=v||(u?B.get(z):c("AnalyticsCandelaUtils").Generic.getKeyForMetric(t));w[D]=babelHelpers["extends"]({},w[D],(C={timestamp:D},C[E]=A,C))});return Object.values(w)},getSchemaFromResult:function r(s,t,u,v,w,x,y){var z=[u!=null,!!x,!!y];z.reduce(function(B,C){return B+Number(C)},0)<=1||i(0);var A=this._getSchemaForTime(v);if(s&&x)return babelHelpers["extends"]({},A,this._getSchemaFromResultForEventName(s,t[0].scaleType,w));else if(s&&y)return babelHelpers["extends"]({},A,this._getSchemaFromResultForSegment(s,t[0].scaleType,y));else if(s&&u)return babelHelpers["extends"]({},A,this._getSchemaFromResultWithBreakdown(s,u,t[0].scaleType,w));else return babelHelpers["extends"]({},A,this._getSchemaForMetrics(t))},_getSchemaForTime:function r(s){return{timestamp:{timezoneID:s,type:m.TIME}}},_getSchemaFromResultForEventName:function r(s,t,u){var v,w=c("CustomEventStore").getAppEventDisplayName(u);return v={},v[u]=this._getDependentSeriesSchemaValue({label:w,scaleType:t}),v},_getSchemaFromResultForSegment:function r(s,t,u){var v;return v={},v[u]=this._getDependentSeriesSchemaValue({scaleType:t,label:u}),v},_getSchemaFromResultWithBreakdown:function r(s,t,u,v){var w={},x=s.getBreakdownUniqueValues(t),y=x.size>=c("AnalyticsQueryConstants").cardinality_limit;x.forEach(function(z){var A=c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(t,z,v,y);w[z]=this._getDependentSeriesSchemaValue({scaleType:u,label:A})}.bind(this));return w},_getSchemaForMetrics:function r(s){var t={};s.forEach(function(u){t=babelHelpers["extends"]({},t,this._getSchemaForMetric(u))}.bind(this));return t},_getSchemaForMetric:function r(s){var t,u=c("AnalyticsCandelaUtils").Generic.getKeyForMetric(s);return t={},t[u]=this._getDependentSeriesSchemaValue({scaleType:s.scaleType,label:s.label}),t},_getDependentSeriesSchemaValue:function r(s){var t=s.scaleType,u=s.label,v={renderAs:l.LINE,type:t||m.NUMBER};if(u)v=babelHelpers["extends"]({},v,{label:u});if(t===m.CURRENCY)v=babelHelpers["extends"]({},v,{currencyCode:"USD"});return v},getFormatterFactory:function r(s){return this._getIsSeconds(s)?function(t,u){return c("InsightsTimeUtils").minutesToDisplay}:undefined},getTitleElementFactory:function r(s,t,u){return function(v){var w=v.timestamp,x=c("DateTime").create(w.value,u),y=c("DateTime").create(t/1e3,n),z=void 0;switch(s){case c("AppEventQueryAggregationPeriod").HOUR:return x.format("D M j, Y g:ia");case c("AppEventQueryAggregationPeriod").DAY:return x.format("D M d, Y");case c("AppEventQueryAggregationPeriod").WEEK:z=x.addWeeks(1).startOfWeek();break;case c("AppEventQueryAggregationPeriod").MONTH:z=x.addMonths(1).startOfMonth().subtractDays(1);break;default:i(0)}if(z.getUnixTimestamp()>y.getUnixTimestamp())z=y;return h._("{start-date}{date range en-dash separator}{end-date}",[h.param("start-date",x.format("M j, Y")),h.param("date range en-dash separator"," \u2013 "),h.param("end-date",z.format("M j, Y"))])}},_getIsSeconds:function r(s){return s.some(function(t){return t.aggregations.some(function(u){return u===c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE||u===c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER})})},getAxisFormatter:function r(s,t,u){return function(v,w){if(w===k.HORIZONTAL)return this._getXAxisFormatter(t).apply(this,arguments);else return this._getYAxisFormatter(s,u).apply(this,arguments)}.bind(this)},_getYAxisFormatter:function r(s,t){return function(u){var v=this._getIsSeconds(s);if(v)return function(w){return t?c("InsightsTimeUtils").secondsToDisplay(w,true).toString():c("InsightsTimeUtils").minutesToDisplay(w,true).toString()};return c("InsightsFormatterFactories").axisMarkFormatterFactory(u,k.VERTICAL)}.bind(this)},_getXAxisFormatter:function r(s){return function(t){if(t instanceof c("CandelaTimeScale")){if(s===c("AppEventQueryAggregationPeriod").HOUR)return function(u){return u.format("g:ia")};return function(u){var v=u,w=u.getHours();if(w!==0)v=w<=12?u.floor(c("PeriodUnit").day):u.ceil(c("PeriodUnit").day);return v.format("M d")}}return c("InsightsFormatterFactories").axisMarkFormatterFactory(t,k.HORIZONTAL)}}};f.exports=q}),null);
__d("AnalyticsCandelaExportUtils",[],(function a(b,c,d,e,f,g){"use strict";var h=/[\/\?<>\\:\*|\"^]/g,i=/\.+$/,j=/\s+$/,k=/^(com\d|lpt\d|con|nul|prn)$/,l=/^\.+/,m=255,n={sanitizeFileName:function o(p){return p.toString().slice(0,m).replace(h,"").replace(i,"").replace(j,"").replace(l,"").replace(k,"")}};f.exports=n}),null);
__d("AnalyticsFunnelAggregationMethod",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNIQUES:"uniques",COUNT:"count",VALUE_SUM:"value_sum",USD_SUM:"usd_sum",PERCENTILE_TIME:"percentile_time",MEDIAN_TOTAL_TIME:"median_total_time"})}),null);
__d("InsightsFunnelData",["fbt","invariant","AnalyticsFunnelAggregationMethod","AppEventsCombinedBreakdowns","AppEventsReservedBreakdownValues","CustomEventStore","FalcorBreakdownsTextUtils","idx","immutable","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List,k=c("immutable").Map,l={breakdown_value_other:h._("Otros")};function m(o,p,q){q=q||j([]);this.$InsightsFunnelData3=c("immutable").Seq(q.map(function(s){var t;return c("nullthrows")((t=s)!=null?(t=t.event_rules)!=null?(t=t[0])!=null?(t=t.event_rule)!=null?t.event_name:t:t:t:t)}));this.$InsightsFunnelData4=c("immutable").Seq(q.map(function(s){var t,u,v=(t=s)!=null?(t=t.event_rules)!=null?(t=t[0])!=null?t.name:t:t:t,w=c("CustomEventStore").getAppEventDisplayName(c("nullthrows")((u=s)!=null?(u=u.event_rules)!=null?(u=u[0])!=null?(u=u.event_rule)!=null?u.event_name:u:u:u:u));return v||w}));var r=JSON.parse(o);r instanceof Array||i(0);this.$InsightsFunnelData8=c("immutable").Seq(r);this.$InsightsFunnelData7=c("immutable").Map(m.consolidateUnknownBreakdownValues(JSON.parse(p)));this.$InsightsFunnelData5=Infinity;this.$InsightsFunnelData6=[];this.$InsightsFunnelData1=new n()}m.prototype.getMedianTotalCompletionTime=function(){var o,p=this.$InsightsFunnelData8.get(this.$InsightsFunnelData8.size-1);return(o=p)!=null?o[c("AnalyticsFunnelAggregationMethod").MEDIAN_TOTAL_TIME]:o};m.prototype.getBreakdownTypes=function(){return this.$InsightsFunnelData7.keySeq().toArray().filter(function(o){return!c("AppEventsCombinedBreakdowns")[o]})};m.prototype.getCounts=function(o){return this.$InsightsFunnelData9(o,false)};m.prototype.getCountsHidingHiddenBreakdowns=function(o){return this.$InsightsFunnelData9(o,true)};m.prototype.getEventDisplayNames=function(){return this.$InsightsFunnelData4.toArray()};m.prototype.getEvents=function(){return this.$InsightsFunnelData3.toArray()};m.prototype.getPercentages=function(o){var p=this.$InsightsFunnelData8.toArray(),q=p[0][o],r=void 0;if(q===0)r=p.map(function(s){return 0});else r=p.map(function(s){return s[o]/q});return r};m.prototype.getBreakdownPercentages=function(o){this.$InsightsFunnelData2||i(0);var p=this.getCounts(o);return p.map(function(q){var r=q[0];if(r===0)return q.map(function(s){return 0});else return q.map(function(s){return s/r})})};m.prototype.getSelectedBreakdownCounts=function(o){this.$InsightsFunnelData10(o);return this.$InsightsFunnelData1.getCounts(c("nullthrows")(this.$InsightsFunnelData2),o)};m.prototype.getSelectedBreakdownValues=function(o){this.$InsightsFunnelData10(o);return this.$InsightsFunnelData1.getValues(c("nullthrows")(this.$InsightsFunnelData2),o)};m.prototype.getSelectedBreakdownValuesFromMaxBreakdowns=function(o,p){var q=this.$InsightsFunnelData5;this.setMaxBreakdowns(p);var r=this.getSelectedBreakdownValues(o);this.setMaxBreakdowns(q);return r};m.prototype.getSummedCounts=function(o){return this.$InsightsFunnelData11(o,false)};m.prototype.getSummedCountsHidingHiddenBreakdowns=function(o){return this.$InsightsFunnelData11(o,true)};m.prototype.$InsightsFunnelData11=function(o,p){var q,r=this.$InsightsFunnelData9(o,p),s=[],t=function t(u){var v=0;r.forEach(function(w){v+=w[u]});s.push(v)};for(var u=0;u<this.$InsightsFunnelData3.size;u++)t(u);return s};m.prototype.getBreakdownType=function(){return this.$InsightsFunnelData2};m.prototype.setBreakdownType=function(o){if(this.$InsightsFunnelData2===o)return this;this.$InsightsFunnelData2=o;this.setHiddenBreakdownValues([]);return this};m.prototype.setMaxBreakdowns=function(o){if(this.$InsightsFunnelData5===o)return this;this.$InsightsFunnelData5=o;this.$InsightsFunnelData1.clearCache();return this};m.prototype.getOtherBreakdownName=function(){return l.breakdown_value_other.toString()};m.prototype.getUniques=function(){return this.getCounts(c("AnalyticsFunnelAggregationMethod").UNIQUES)[0]};m.prototype.setHiddenBreakdownValues=function(o){this.$InsightsFunnelData6=o;return this};m.prototype.$InsightsFunnelData10=function(o){var p,q=this;if(this.$InsightsFunnelData1.isCached(c("nullthrows")(this.$InsightsFunnelData2),o))return;var r=this.$InsightsFunnelData7.get(c("nullthrows")(this.$InsightsFunnelData2)),s=this.$InsightsFunnelData12(r,o),t=void 0;if(s.length>this.$InsightsFunnelData5)(function(){var u=null;s.slice(q.$InsightsFunnelData5-1).forEach(function(w){u=m.$InsightsFunnelData13(r[w],u)});t={};s.slice(0,q.$InsightsFunnelData5-1).forEach(function(w){t[w]=r[w]});var v=l.breakdown_value_other;t[v.toString()]=u;s=q.$InsightsFunnelData12(t,o)})();else t=r;this.$InsightsFunnelData1.cache(c("nullthrows")(this.$InsightsFunnelData2),o,s,t)};m.prototype.$InsightsFunnelData9=function(o,p){var q,r=this;if(!this.$InsightsFunnelData2){var s=this.$InsightsFunnelData8.toArray();return[s.map(function(t){return t[o]})]}else{var q=function(){var t=r.getSelectedBreakdownValues(o),u=r.getSelectedBreakdownCounts(o),v=[];t.forEach(function(w){var x=p&&this.$InsightsFunnelData6.indexOf(w)>=0;v.push(u[w].map(function(y){return x?0:y}))}.bind(r));return{v:v}}();if(typeof q==="object")return q.v}};m.prototype.$InsightsFunnelData12=function(o,p){p=p===c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME?c("AnalyticsFunnelAggregationMethod").UNIQUES:p;return this.$InsightsFunnelData14(o,Object.keys(o),p,0)};m.prototype.$InsightsFunnelData14=function(o,p,q,r){var s=p.slice(0),t=this.getEvents();if(r>=t.length)return s;s.sort(function(v,w){var x=o[v][r],y=o[w][r],z=x?x[q]:0,A=y?y[q]:0;return A-z});var u=s.findIndex(function(v){var w=o[v][r],x=w?w[q]:0;return x===0});if(u<0)return s;return s.slice(0,u).concat(this.$InsightsFunnelData14(o,s.slice(u),q,r+1))};m.consolidateUnknownBreakdownValues=function(o){var p={};Object.keys(o).forEach(function(q){p[q]={};Object.keys(o[q]).forEach(function(r){var s=c("FalcorBreakdownsTextUtils").isKnownBreakdownValue(q,r),t=o[q][r].slice(0),u=c("AppEventsReservedBreakdownValues").UNKNOWN;if(s&&r!==u)p[q][r]=t;else p[q][u]=m.$InsightsFunnelData13(t,p[q][u])})});return p};m.$InsightsFunnelData13=function(o,p){if(!p)return o;o.length===p.length||i(0);var q=[];o.forEach(function(r,s){var t=c("nullthrows")(p)[s];q[s]={};Object.keys(r).forEach(function(u){q[s][u]=u===c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME?null:r[u]+t[u]})});return q};function n(){this.$BreakdownDataCache1={}}n.prototype.cache=function(o,p,q,r){if(!this.$BreakdownDataCache1[o])this.$BreakdownDataCache1[o]={};var s={};Object.keys(r).forEach(function(t){s[t]=r[t].map(function(u){return u[p]})});this.$BreakdownDataCache1[o][p]={counts:c("immutable").Map(s),values:c("immutable").Seq(q)}};n.prototype.clearCache=function(){this.$BreakdownDataCache1={}};n.prototype.getValues=function(o,p){this.isCached(o,p)||i(0);return this.$BreakdownDataCache1[o][p].values.toArray()};n.prototype.getCounts=function(o,p){this.isCached(o,p)||i(0);return this.$BreakdownDataCache1[o][p].counts.toObject()};n.prototype.isCached=function(o,p){return!!this.$BreakdownDataCache1[o]&&!!this.$BreakdownDataCache1[o][p]};f.exports=m}),null);
__d("AnalyticsCandelaFunnelUtils",["AnalyticsCandelaGenericUtils","AnalyticsFunnelAggregationMethod","BonsaiText","CandelaConstants","CandelaTheme","FalcorBreakdownsTextUtils","InsightsFunnelData","immutable"],(function a(b,c,d,e,f,g){var h=c("CandelaConstants").ScaleType,i=c("immutable").Map,j=c("immutable").OrderedSet,k=c("immutable").Set,l={getBucketKeys:function m(n){return Object.keys(n[0]).filter(function(o){return o.startsWith("bucket_")})},getChartAutoColors:function m(n,o){return c("AnalyticsCandelaGenericUtils").getAutoColors(o,n)},getLegendAutoColors:function m(n,o){return n.mapEntries(function(p){var q=p[0],r=p[1],s=o[q].bucketValue||"";return[s,r]})},getData:function m(n){var o,p,q=n.getBreakdownType();if(q==null){var o=function(){var r=n.getUniques(),s=n.getEventDisplayNames();return{v:s.map(function(t,u){return{step:u,bucket_0:r[u]}})}}();if(typeof o==="object")return o.v}else{var p=function(){var r=n.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES),s=[];r.forEach(function(t,u){t.forEach(function(v,w){if(!s[w])s[w]={step:w};s[w]["bucket_"+u]=v})});return{v:s}}();if(typeof p==="object")return p.v}},getSchema:function m(n){var o,p=n.getBreakdownType();if(p==null)return{step:{type:h.CATEGORY},bucket_0:{type:h.NUMBER}};else{var o=function(){var q=n.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES),r=q.map(function(u){return c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(p,u)}),s=n.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES),t={step:{type:h.CATEGORY}};s.forEach(function(u,v){t["bucket_"+v]={label:r[v]||c("BonsaiText").all,type:h.NUMBER,bucketValue:q[v]}});return{v:t}}();if(typeof o==="object")return o.v}},getChartItems:function m(n,o){return j(o.map(function(p){return{key:p,value:n[0][p]}}))},getLegendItems:function m(n,o,p){return j(o.map(function(q){var r=n[q].bucketValue;return{disabled:r!=null&&p.has(r),key:r||"",label:n[q].label||c("BonsaiText").all}}))},getChartAuxiliaryItems:function m(n,o,p,q){var r=n.getBreakdownType(),s={};if(r!=null){var t=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(r);s={label:t,value:o[p].label}}var u=l.getStepCompleteTimeData(n,p,q);return j([babelHelpers["extends"]({},s,{stepCompleteTimeData:u,key:"bucket",bucket:p})])},getStepCompleteTimeData:function m(n,o,p){var q=n.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME),r={};q.forEach(function(x,y){var z=x[p];r["bucket_"+y]=z});var s=r[o];if(s==null)return null;var t=r[o],u=t[0],v=t[1],w=t[2];return{top25:u,top50:v,top75:w}}};f.exports=l}),null);
__d("AnalyticsCandelaUtils",["AnalyticsCandelaBarChartUtils","AnalyticsCandelaComparisonsUtils","AnalyticsCandelaFunnelUtils","AnalyticsCandelaGenericUtils","AnalyticsCandelaTimeseriesUtils","AnalyticsCandelaExportUtils"],(function a(b,c,d,e,f,g){var h={Timeseries:c("AnalyticsCandelaTimeseriesUtils"),BarChart:c("AnalyticsCandelaBarChartUtils"),Comparisons:c("AnalyticsCandelaComparisonsUtils"),Funnel:c("AnalyticsCandelaFunnelUtils"),Generic:c("AnalyticsCandelaGenericUtils"),Export:c("AnalyticsCandelaExportUtils")};f.exports=h}),null);
__d("AnalyticsChartSize",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE"})}),null);
__d("BonsaiColors",[],(function a(b,c,d,e,f,g){var h={AMETHYST:"#9E83C5",ANALYTICS_BLUE:"#3A84C5",ANALYTICS_GRAY:"#9BA1AA",ANALYTICS_BLUE_LIGHT:"#9DC2E2",ANALYTICS_GREEN:"#84C500",ANALYTICS_RED:"#DC3847",ANALYTICS_RED_LIGHT:"#FFB0B0",ANALYTICS_DARK_GRAY:"#4E5665",ANALYTICS_LIGHT_GRAY:"#E9EAEC",BLUEGRAY10:"#D3D6DB",FB_BLUE:"#3B5998",FB_BLUE80:"#637BAB",TURQUOISE:"#6BDBFD",CERULEAN:"#1BA0E3",LIMA:"#86C325",LIGHT_BLUE:"#65DBFF",GRAY5:"#F2F2F2",GRAY10:"#E5E5E5",GRAY20:"#CCCCCC",GRAY30:"#B2B2B2",GRAY40:"#999999",GRAY50:"#888",ORANGE5:"#FBF6D7",ORANGE10:"#FFF4AD",ORANGE20:"#FFEC8E",ORANGE30:"#FFDF6C",ORANGE40:"#FDD04A",ORANGE50:"#FFC343",ORANGE60:"#FFB540",ORANGE70:"#FFAB03",ORANGE80:"#FFA148",ORANGE90:"#FF9448",GREEN5:"#F4FAF2",GREEN10:"#EAF4E6",GREEN20:"#D6EBCE",GREEN30:"#C2E1B5",GREEN40:"#B0D99D",GREEN50:"#9DD085",GREEN60:"#8DC86E",GREEN70:"#7EBF57",LEAF:"#8DC86E",LEAF10:"#F1F8EE",LEAF20:"#E4F2DD",LEAF30:"#D7EBCD",LEAF40:"#CBE6BD",LEAF50:"#BDDEAB",LEAF60:"#B2D99B",LEAF70:"#A6D38C",LEAF80:"#9BCE7C",LEAF90:"#8FC86B",OCEAN:"#4FAEC3",ORCHID:"#CE97CF",RED10:"#F9E6E6",RED20:"#EEB7B6",RED30:"#EEB7B6",RED40:"#E9A09F",RED50:"#E58988",RED60:"#E27472",RED70:"#DF605D",SKY:"#91C9DB",WHITE:"#FFFFFF",X_ACCENT_BLUE:"#5890FF",X_BASE_GREEN:"#46A800",X_BASE_RED:"#DA2929",X_LIGHT_TEXT:"#898F9C",X_MEDIUM_TEXT:"#4E5665",SPARKLINES_COLOR:"#3E85C3"};h.AREA_COLORS=h.COLUMN_COLORS=["#627AAD","#3A84C5","#4AAEC4","#8FC9DC","#8BC969","#A2F25A","#E1C658","#F0D97B","#9E81C7","#C8ADEE","#63B0A2","#83CAB8","#F4903F","#FFAC32"];h.OVERVIEW_DEMO_COLORS=[h.TURQUOISE,h.CERULEAN];h.OVERVIEW_LINE_COLORS=[h.CERULEAN,h.LIMA,h.TURQUOISE];h.LINE_COLORS=[h.FB_BLUE80,h.OCEAN,h.SKY,h.GREEN60,h.AMETHYST,h.ORCHID];h.BUTTERFLY_COLORS=[h.OCEAN,h.FB_BLUE80,h.GRAY30];h.RETENTION_COLORS=[h.ORANGE5,h.ORANGE10,h.ORANGE20,h.ORANGE30,h.ORANGE40,h.ORANGE50,h.ORANGE60,h.ORANGE70,h.ORANGE80,h.ORANGE90];f.exports=h}),null);
__d("GriffinCandelaTheme",["BonsaiColors","BonsaiConstants","CandelaTheme"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("CandelaTheme").fromJS({colors:[["aqua","#5580E1"],["black","#79B6A6"],["blue","#736ABA"],["fuchsia","#6AADD1"],["gray","#728593"],["green","#84A34B"],["lime","#80A3FB"],["maroon","#9DD0C4"],["navy","#968CCE"],["olive","#8FCDEC"],["orange","#99AAB6"],["purple","#B1CA78"]],styleSheet:{annotationanchor:{fill:"rgba(0,0,0,0)",radius:9,stroke:"#bdc1c9",strokeLinecap:"square",strokeWidth:2},"annotationanchor:active:hover":{cursor:"pointer",stroke:"#6BDBFD"},"annotationanchor:drag":{opacity:.5},"annotationanchor:hover":{cursor:"pointer",stroke:c("BonsaiColors").ANALYTICS_DARK_GRAY},annotationline:{strokeDasharray:"10, 10",stroke:"#bdc1c9",strokeWidth:2},"annotationline:active":{stroke:"#6BDBFD"},"annotationline:active:hover":{stroke:"#6BDBFD"},"annotationline:drag":{opacity:.5},"annotationline:hover":{stroke:"#4e5665"},'annotationline[draggable="true"]:hover':{cursor:"move"},area:{fill:"auto",opacity:1},"area:muted":{opacity:.06},'area[series="above"]':{fill:"auto",opacity:1},'area[series="below"]':{fill:"auto",opacity:1},'axis[orientation="horizontal"]':{height:38},'axis[orientation="horizontal"]>axisbucketmark':{textAlign:"center",marginTop:20,whiteSpace:"normal",textOverflow:"ellipsis"},'axis[orientation="vertical"]':{width:60},'axis[orientation="vertical"][alignment="left"]':{},'axis[orientation="horizontal"]>axismark':{textAlign:"center",marginTop:20},'axis[orientation="vertical"][alignment="left"]>axisbucketmark':{textAlign:"right"},'axis[orientation="vertical"][alignment="left"]>axismark':{textAlign:"right",marginRight:20,paddingBottom:7},'axis[orientation="vertical"][alignment="right"]':{visibility:"hidden"},axisbucketmark:{color:c("BonsaiColors").ANALYTICS_DARK_GRAY,fontFamily:c("BonsaiConstants").ANALYTICS_FONT,fontSize:11},axismark:{color:c("BonsaiColors").ANALYTICS_DARK_GRAY,fontFamily:c("BonsaiConstants").ANALYTICS_FONT,fontSize:11},"axismark:secondary":{visibility:"hidden"},axisrule:{visibility:"hidden"},chart:{fontFamily:c("BonsaiConstants").ANALYTICS_FONT,padding:"10 5 5 5"},controlline:{stroke:"#6BDBFD",strokeDasharray:"10, 10",strokeWidth:2,strokeLinecap:"square"},gridline:{stroke:"#eee",strokeWidth:1},'gridline[orientation="vertical"]':{visibility:"hidden"},"guide>line":{stroke:"#9197a3",strokeWidth:1},"guide>point":{fill:"auto",radius:4,stroke:"auto",strokeWidth:2},line:{stroke:"auto",strokeWidth:2},"line:muted":{opacity:.25},point:{fill:"#fff",radius:3,stroke:"auto",strokeWidth:2},"point:dense":{visibility:"hidden"},"point:hover":{opacity:.5},"point:max":{radius:35},"point:min":{radius:5},"point:muted":{opacity:.25},barlabel:{visibility:"hidden"},bar:{fill:"auto"},"bar:muted":{opacity:.25},bargroup:{margin:20},wedge:{fill:"auto"},"wedge:muted":{opacity:.25}}})}),null);
__d("GriffinResizableChart",["AnalyticsCandelaUtils","React","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={width:this.props.initialWidth},this.$GriffinResizableChart1=null,this.$GriffinResizableChart2=function(){var p,q=this;this.$GriffinResizableChart1=c("ReactDOM").findDOMNode(this);if(this.$GriffinResizableChart1)(function(){var r=q.$GriffinResizableChart1.clientWidth;q.setState({width:r},function(){if(this.props.onChangeWidth)this.props.onChangeWidth(r)}.bind(q))})()}.bind(this),l}j.prototype.componentDidMount=function(){this.$GriffinResizableChart2();window.addEventListener("resize",this.$GriffinResizableChart2)};j.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$GriffinResizableChart2)};j.prototype.render=function(){var k=this.state.width;return c("AnalyticsCandelaUtils").Generic.cloneChartWrapperWithAdditionalChartProps(this.props,{width:k})};j.defaultProps={initialWidth:0};f.exports=j}),null);
__d("AnalyticsBarChart",["AnalyticsChartSize","immutable","AnalyticsBarChartQueryRenderer","AnalyticsCandelaUtils","AnalyticsPredefinedBreakdownValues","BUIInsightsVerticalBarChart.react","BUIInsightsHoverCardChart.react","InsightsChartWithLegend.react","CustomEventStore","FalcorErrorNotice","FalcorLoadingCard","GriffinCandelaTheme","GriffinResizableChart","GriffinToggleableLegend.react","InsightsNumUtils","React","CandelaGroupScaleBuilder","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").OrderedSet,k=c("immutable").Set,l=c("CandelaGroupScaleBuilder").group,m=300,n=19,o=93,p=m-o,q=90;h=babelHelpers.inherits(r,c("React").PureComponent);i=h&&h.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=i.constructor).call.apply(s,[this].concat(v)),this.state={chartWidth:null,disabledKeys:k()},this.$AnalyticsBarChart4=function(x){this.setState({chartWidth:x})}.bind(this),this.$AnalyticsBarChart8=function(x){var y=this.state.disabledKeys;if(y.has(x.key))y=y["delete"](x.key);else y=y.add(x.key);this.setState({disabledKeys:y})}.bind(this),t}r.prototype.render=function(){var s=this.props,t=s.chart,u=s.isLoading,v=s.aggregationQueryResults,w=s.error,x=s.breakdownType;if(u)return c("React").createElement(c("FalcorLoadingCard"),{height:m+n,showCard:false});else if(w)return c("React").createElement(c("FalcorErrorNotice"),{message:w,style:{height:p}});var y=c("AnalyticsCandelaUtils").Generic.getTotalRows(v);if(!y)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED,style:{height:p}});var z=c("nullthrows")(this.props.breakdowns),A=c("nullthrows")(this.props.schema),B=c("nullthrows")(this.props.data),C=this.$AnalyticsBarChart1(B),D=l(z[0]),E=this.$AnalyticsBarChart2(z,A),F=c("AnalyticsCandelaUtils").BarChart.getTitleElementFactory(z[0]),G=this.$AnalyticsBarChart3(z,A),H=c("React").createElement(c("GriffinResizableChart"),{onChangeWidth:this.$AnalyticsBarChart4},c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:G,titleElementGetter:F},c("React").createElement(c("BUIInsightsVerticalBarChart.react"),{axisMarkFormatterFactory:c("AnalyticsCandelaUtils").BarChart.getAxisFormatter(z[0]),barLabelFormatterFactory:this.$AnalyticsBarChart5(),data:C,height:m,plotX:D,plotY:E,ref:"chart",schema:A,styles:this.$AnalyticsBarChart6(C)}))),I=c("AnalyticsCandelaUtils").Generic.getAutoColors(c("GriffinCandelaTheme"),Object.keys(c("AnalyticsPredefinedBreakdownValues").gender)),J=this.props.chart.queries[0],K=c("CustomEventStore").getAppEventDisplayName(J.event_name),L=this.$AnalyticsBarChart7(B,z,A,J.event_name);return c("React").createElement(c("InsightsChartWithLegend.react"),{chart:H,items:L,title:K},c("React").createElement(c("GriffinToggleableLegend.react"),{autoColors:I,chartID:t.id,disabledKeys:this.state.disabledKeys,items:L,onToggle:this.$AnalyticsBarChart8,title:K}))};r.prototype.$AnalyticsBarChart1=function(s){var t=this.props,u=t.chart,v=t.breakdownType,w=t.breakdowns;if(v==="SingleEventWithBreakdown"&&!c("AnalyticsCandelaUtils").BarChart.isAgeGenderChart(w)){var x=this.props.chartSize===c("AnalyticsChartSize").LARGE?10:5,y=u.queries[0].metric,z=c("AnalyticsCandelaUtils").BarChart.getMetric(y);return c("AnalyticsCandelaUtils").BarChart.getTopKData(s,x,z,w[0])}if(v==="MultiEventNoBreakdown")return s.filter(function(A){return typeof A.event_name==="string"&&!this.state.disabledKeys.has(A.event_name)}.bind(this));return s};r.prototype.$AnalyticsBarChart6=function(s){var t=this.state.chartWidth,u={'axis[orientation="horizontal"]>axisbucketmark':{textOverflow:"ellipsis",whiteSpace:"normal"},bargroup:{maxWidth:this.$AnalyticsBarChart9(t||500,s)}};return u};r.prototype.$AnalyticsBarChart9=function(s,t){var u=this.props.breakdownType,v=1;switch(u){case"SingleEventNoBreakdown":v=2;break;case"SingleEventWithBreakdown":v=t.length;break;case"MultiEventNoBreakdown":case"MultiEventWithBreakdown":v=this.props.chart.queries.length;break}var w=s-q;return w/(v*2-1)};r.prototype.$AnalyticsBarChart2=function(s,t){var u=this.props.chart.queries[0].metric,v=s[0]===c("AnalyticsCandelaUtils").BarChart.eventNameKey,w=c("AnalyticsCandelaUtils").BarChart.getPlotY(t,u,s[1],v),x=w.getSeriesNames().filter(function(y){return!this.state.disabledKeys.has(y)}.bind(this));w.seriesNames(x);return[w]};r.prototype.$AnalyticsBarChart5=function(){var s=this.props.aggregationQueryResults.reduce(function(u,v){return u+v.result.getUniquesTotalDangerously()},0),t=this.props.breakdownType==="MultiEventWithBreakdown"?function(u,v){}:function(u,v){return c("InsightsNumUtils").prettyPercentQuotient({numerator:u,denominator:s,precision:0})};return function(){return t}};r.prototype.$AnalyticsBarChart3=function(s,t){return c("AnalyticsCandelaUtils").BarChart.isAgeGenderChart(s)?c("AnalyticsCandelaUtils").BarChart.getItemsForAgeAndGenderChart(t):c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(t)};r.prototype.$AnalyticsBarChart7=function(s,t,u,v){if(c("AnalyticsCandelaUtils").BarChart.isAgeGenderChart(t))return c("AnalyticsCandelaUtils").BarChart.getItemsForAgeAndGenderChart(u);else if(this.props.breakdownType==="SingleEventWithBreakdown")return c("AnalyticsCandelaUtils").BarChart.getItemsFromEventName(v);else if(this.props.breakdownType==="MultiEventWithBreakdown")return c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(u);else return c("AnalyticsCandelaUtils").BarChart.getItemsFromResult(s,u,t[0])};f.exports=c("AnalyticsBarChartQueryRenderer").createContainer(r)}),null);
__d("AnalyticsBarChartQueryRenderer",["invariant","AnalyticsAggregationChartQueryRenderer","AnalyticsCandelaUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$AnalyticsBarChartQueryRenderer1=function(s,t,u){var v=this.$AnalyticsBarChartQueryRenderer2(t),w=this.$AnalyticsBarChartQueryRenderer3(t,v);return c("React").createElement(j,babelHelpers["extends"]({},this.props,{breakdownType:v,breakdowns:w,isLoading:s,aggregationQueryResults:t,data:s||u?null:this.$AnalyticsBarChartQueryRenderer4(t,w),error:u,hasRedactedBucket:this.$AnalyticsBarChartQueryRenderer5(t),schema:s||u?null:this.$AnalyticsBarChartQueryRenderer6(t,w)}))}.bind(this),o}m.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsAggregationChartQueryRenderer"),babelHelpers["extends"]({},this.props,{render:this.$AnalyticsBarChartQueryRenderer1}))};m.prototype.$AnalyticsBarChartQueryRenderer5=function(n){"use strict";return n.some(function(o){return o.result.getResultAsRows().some(function(p){return p.some(function(q){return q==="REDACTED"})})})};m.prototype.$AnalyticsBarChartQueryRenderer2=function(n){"use strict";var o=this.props.chart,p=o.queries[0].breakdowns;if(c("AnalyticsCandelaUtils").Generic.isMultiEventChart(n))if(p.length===0)return"MultiEventNoBreakdown";else return"MultiEventWithBreakdown";else if(o.queries.length===1&&p.length===0)return"SingleEventNoBreakdown";else return"SingleEventWithBreakdown"};m.prototype.$AnalyticsBarChartQueryRenderer3=function(n,o){"use strict";var p=this.props.chart,q=p.queries[0].breakdowns;switch(o){case"SingleEventWithBreakdown":return q;case"MultiEventNoBreakdown":case"MultiEventWithBreakdown":return[c("AnalyticsCandelaUtils").BarChart.eventNameKey,q[0]];case"SingleEventNoBreakdown":return[c("AnalyticsCandelaUtils").BarChart.eventNameKey];default:h(0)}};m.prototype.$AnalyticsBarChartQueryRenderer4=function(n,o){"use strict";var p=this.props.chart,q=p.queries[0].limit,r=c("AnalyticsCandelaUtils").BarChart.getDataFromResults(n,o[0],o[1],p.queries[0].metric,q);return q?r.slice(0,q):r};m.prototype.$AnalyticsBarChartQueryRenderer6=function(n,o){"use strict";return c("AnalyticsCandelaUtils").BarChart.getSchemaFromResults(n,o[0],o[1])};return m}f.exports={createContainer:i}}),null);
__d("AnalyticsAggregationChartTypeUtils",["invariant","AnalyticsDateUtils","AnalyticsSegmentUtils","AnalyticsErrorBoundary","AppEventQueryAggregationPeriod","React","nullthrows"],(function a(b,c,d,e,f,g,h){function i(o){var p=o.chart_type,q=o.description,r=o.id,s=o.inherit_segment,t=o.name,u=o.queries,v=o.goal;p!=null||h(0);r!=null||h(0);s!=null||h(0);t!=null||h(0);u!=null||h(0);u.length||h(0);var w=u.map(function(y){var z=y.aggregation_period,A=y.breakdowns,B=y.date_range,C=y.event_name,D=y.ordering_columns,E=y.ordering_type,F=y.limit,G=y.metric,H=y.segment_id,I=y.segment;z!=null||h(0);B!=null||h(0);C!=null||h(0);E!=null||h(0);G!=null||h(0);I!=null||h(0);var J=c("AnalyticsDateUtils").getEnforceDateRangeConfigFromGraphQLDateRange(B);return{aggregation_period:z,breakdowns:A.slice(),date_range:J,event_name:C,ordering_columns:D.slice(),ordering_type:E,limit:F||0,metric:G,segment:{id:H,name:I.name,rules:c("AnalyticsSegmentUtils").deserializeFilter(I.serialized_filter)}}}),x=n(v);return{chart_type:p,description:q,id:r,inherit_segment:s,name:t,queries:w,goal:x}}function j(o){return function(p){return c("React").createElement(c("AnalyticsErrorBoundary"),null,c("React").createElement(o,p))}}function k(o){return function(p){var q=p.chart,r=babelHelpers.objectWithoutProperties(p,["chart"]);return c("React").createElement(o,babelHelpers["extends"]({chart:i(q)},r))}}function l(o){return j(k(o))}function m(o){if(o==null)return null;var p=o.name,q=o.value,r=o.goalBound,s=void 0;if(r){var t=c("AnalyticsDateUtils").getDateRangeForGraphQLMutation(r.dateRange);s={start_value:r.startValue,date_range:t}}else s=null;return{name:p,value:q,goal_bound:s}}function n(o){if(o==null)return null;var p=o.name,q=o.value,r=o.goal_bound,s=void 0;if(r){var t=c("AnalyticsDateUtils").getEnforceDateRangeConfigFromGraphQLDateRange(c("nullthrows")(r.date_range));s={startValue:r.start_value,dateRange:t}}else s=null;return{name:c("nullthrows")(p),value:c("nullthrows")(q),goalBound:s}}f.exports={getNonNullableChart:i,createErrorBoundComponent:j,createErrorBoundNonNullableChart:l,getGoalForGraphQLMutation:m,getGoalFromGraphQLMutation:n}}),null);
__d("AnalyticsAggregationChartFragmentContainer",["AnalyticsAggregationChartTypeUtils","React","RelayModern","AnalyticsAggregationChartFragmentContainer_chart.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("RelayModern").createFragmentContainer,j=c("RelayModern").graphql;function k(m){var n,o;n=babelHelpers.inherits(p,c("React").PureComponent);o=n&&n.prototype;p.prototype.render=function(){"use strict";var q=this.props,r=q.chart,s=babelHelpers.objectWithoutProperties(q,["chart"]);return c("React").createElement(m,babelHelpers["extends"]({chart:c("AnalyticsAggregationChartTypeUtils").getNonNullableChart(r)},s))};function p(){"use strict";n.apply(this,arguments)}return p}function l(m){return i(k(m),{chart:h||(h=function h(){return c("AnalyticsAggregationChartFragmentContainer_chart.graphql")})})}f.exports={createContainer:l}}),null);
__d("AnalyticsDashboardBarChartCard",["AnalyticsAggregationChartFragmentContainer","AnalyticsDashboardChartCard","AnalyticsBarChart","React","nullthrows"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.chart,m=k.dashboardID,n=k.inheritedDateRange,o=k.inheritedDateRangeType,p=k.inheritedSegment,q=k.isReadOnly,r=k.onDelete,s=l.id,t=l.name,u=l.inherit_segment,v=l.queries,w=c("nullthrows")(v[0]);return c("React").createElement(c("AnalyticsDashboardChartCard"),{chartDateRange:w.date_range,chartID:s,chartName:t,chartSegments:v.map(function(x){return x.segment}),chartType:"BAR_CHART",dashboardID:m,inheritedDateRange:n,inheritedDateRangeType:o,inheritedSegment:p,inheritSegment:u,isReadOnly:q,onDelete:r,showEditIcon:true},c("React").createElement(c("AnalyticsBarChart"),this.props))};function j(){"use strict";h.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(j)}),null);
__d("AnalyticsOverviewDashboardUtils",["AnalyticsChartSize"],(function a(b,c,d,e,f,g){"use strict";var h,i=48,j=(h={},h[c("AnalyticsChartSize").LARGE]=300,h[c("AnalyticsChartSize").MEDIUM]=250,h[c("AnalyticsChartSize").SMALL]=200,h);function k(m){return j[m]}function l(m){return k(m)-i}f.exports={getCardChartHeight:k,getNoDataHeight:l}}),null);
__d("AnalyticsOverviewBarChart",["fbt","AnalyticsAggregationChartFragmentContainer","AnalyticsBarChartQueryRenderer","AnalyticsBuiltInBreakdowns","AnalyticsCandelaUtils","AnalyticsOverviewChartCard","AnalyticsOverviewDashboardUtils","AnalyticsPredefinedBreakdownValues","BUIInsightsVerticalBarChart.react","BUIInsightsHoverCardChart.react","FalcorErrorNotice","FalcorLoadingCard","GriffinCandelaTheme","GriffinResizableChart","GriffinToggleableLegend.react","InsightsChartWithLegend.react","InsightsItems","InsightsNumUtils","React","CandelaGroupScaleBuilder","SUIBusinessTheme","SUIHelpMessage.react","areEqual","immutable","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=c("InsightsItems").BaseItem,n=c("InsightsItems").SeriesDataItem,o=c("InsightsItems").ItemDescriptor,p=c("CandelaGroupScaleBuilder").group,q=c("immutable").Set,r=6,s=20,t=26;i=babelHelpers.inherits(u,c("React").PureComponent);j=i&&i.prototype;function u(){var x,y;for(var z=arguments.length,A=Array(z),B=0;B<z;B++)A[B]=arguments[B];return y=(x=j.constructor).call.apply(x,[this].concat(A)),this.state={allKeys:q(),chartWidth:null,disabledKeys:q()},this.$AnalyticsOverviewBarChart12=function(C){var D=this.state.disabledKeys;if(D.has(C.key))D=D["delete"](C.key);else D=D.add(C.key);this.setState({disabledKeys:D})}.bind(this),this.$AnalyticsOverviewBarChart8=function(C){this.setState({chartWidth:C})}.bind(this),y}u.prototype.componentWillReceiveProps=function(x){if(!x.isLoading){var y=this.$AnalyticsOverviewBarChart1(x);if(!c("areEqual")(this.state.allKeys,y))this.setState({allKeys:y,disabledKeys:q()})}};u.prototype.render=function(){return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,footerNotice:this.$AnalyticsOverviewBarChart2(),renderBody:this.$AnalyticsOverviewBarChart3.bind(this)})};u.prototype.$AnalyticsOverviewBarChart3=function(){var x=this.props,y=x.chart,z=x.isLoading,A=x.breakdownType,B=x.chartSize,C=x.error;if(z)return c("React").createElement(c("FalcorLoadingCard"),{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(B),showCard:false});else if(C)return c("React").createElement(c("FalcorErrorNotice"),{message:C,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(B)}});else if(this.$AnalyticsOverviewBarChart4())return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(B)}});var D=c("nullthrows")(this.props.breakdowns),E=c("nullthrows")(this.props.schema),F=c("nullthrows")(this.props.data),G=p(D[0]),H=this.$AnalyticsOverviewBarChart5(D,E),I=c("AnalyticsCandelaUtils").BarChart.getTitleElementFactory(D[0]),J=this.$AnalyticsOverviewBarChart6(F,D,E),K=c("AnalyticsCandelaUtils").Generic.getAutoColors(c("GriffinCandelaTheme"),J.map(function(N){return N.key}).toJS()),L=A==="MultiEventWithBreakdown"||this.$AnalyticsOverviewBarChart7(D),M=c("React").createElement(c("GriffinResizableChart"),{onChangeWidth:this.$AnalyticsOverviewBarChart8},c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:J,titleElementGetter:I},c("React").createElement(c("BUIInsightsVerticalBarChart.react"),{autoColors:K,axisMarkFormatterFactory:c("AnalyticsCandelaUtils").BarChart.getAxisFormatter(D[0]),barLabelFormatterFactory:this.$AnalyticsOverviewBarChart9(),data:F,height:c("AnalyticsOverviewDashboardUtils").getCardChartHeight(B)-(L?t:0),plotX:G,plotY:H,ref:"chart",schema:E,styles:this.$AnalyticsOverviewBarChart10()})));if(L)return c("React").createElement(c("InsightsChartWithLegend.react"),{chart:M,items:this.$AnalyticsOverviewBarChart11(J)},c("React").createElement(c("GriffinToggleableLegend.react"),{autoColors:K,chartID:y.id,disabledKeys:this.state.disabledKeys,hideMargins:true,items:J,onToggle:this.$AnalyticsOverviewBarChart12}));else return M};u.prototype.$AnalyticsOverviewBarChart11=function(x){return x.map(function(y){return new n({defaultDescriptor:new o({labelText:y.label.toString(),valueText:this.$AnalyticsOverviewBarChart13(y.key)}),seriesName:y.key})}.bind(this))};u.prototype.$AnalyticsOverviewBarChart13=function(x){var y=c("nullthrows")(this.props.data),z=y.reduce(function(A,B){return A+parseInt(B[x],10)},0);return c("InsightsNumUtils").prettyShortInt(z)};u.prototype.$AnalyticsOverviewBarChart2=function(){if(this.$AnalyticsOverviewBarChart4())return null;if(!this.props.hasRedactedBucket)return null;var x=h._("Some values have been redacted from this chart"),y=c("React").createElement(c("SUIHelpMessage.react"),{position:"above",theme:c("SUIBusinessTheme"),value:h._("Some values of {chart breakdown type, such as 'country' or 'age and gender'} are hidden. To protect people's privacy, we do not show values that match only a small number of users.",[h.param("chart breakdown type, such as 'country' or 'age and gender'",this.$AnalyticsOverviewBarChart14())])});return c("React").createElement("span",null,x,y)};u.prototype.$AnalyticsOverviewBarChart14=function(){var x=this.props.breakdowns,y=x.map(function(z){return c("AnalyticsCandelaUtils").BarChart.getBreakdownDisplayName(z)});if(y.length===1)return y[0];else return h._("{first breakdown type} and {second breakdown type}",[h.param("first breakdown type",y[0]),h.param("second breakdown type",y[1])])};u.prototype.$AnalyticsOverviewBarChart4=function(){var x=this.props.data;if(!x||x.length===0)return true;else if(x.length>1)return false;else return Object.values(x[0]).indexOf("REDACTED")!==-1};u.prototype.$AnalyticsOverviewBarChart10=function(){var x=this.props,y=x.breakdownType,z=x.breakdowns,A={'axis[orientation="horizontal"]>axisbucketmark':{padding:"18px 6px",textOverflow:"ellipsis",whiteSpace:"normal"},'axis[orientation="vertical"]':{visibility:"hidden"}},B=z.length>1;return y==="SingleEventWithBreakdown"?babelHelpers["extends"]({},A,{bargroup:{margin:r},barlabel:{fontSize:B?"10px":"14px",paddingBottom:B?"12px":"18px",visibility:this.$AnalyticsOverviewBarChart15()?"visible":"hidden"}}):A};u.prototype.$AnalyticsOverviewBarChart15=function(){var x=this.$AnalyticsOverviewBarChart16();return x==null||x>=s};u.prototype.$AnalyticsOverviewBarChart5=function(x,y){var z=this.props.chart.queries[0].metric,A=x[0]===c("AnalyticsCandelaUtils").BarChart.eventNameKey,B=c("AnalyticsCandelaUtils").BarChart.getPlotY(y,z,x[1],A),C=B.getSeriesNames().filter(function(D){return!this.state.disabledKeys.has(n.getKeyForSeriesName(D))}.bind(this));B.seriesNames(C);return[B]};u.prototype.$AnalyticsOverviewBarChart9=function(){var x=this.props.aggregationQueryResults.reduce(function(z,A){return z+A.result.getUniquesTotalDangerously()},0),y=function y(z,A){return c("InsightsNumUtils").prettyPercentQuotient({numerator:z,denominator:x,precision:0})};return function(){return y}};u.prototype.$AnalyticsOverviewBarChart16=function(){var x=this.state.chartWidth,y=this.props,z=y.data,A=y.schema;if(x==null||z==null||A==null)return null;var B=z.length,C=Object.values(A).length-1,D=(x-r*2*(B-1))/B,E=D/C;return E};u.prototype.$AnalyticsOverviewBarChart6=function(x,y,z){return this.$AnalyticsOverviewBarChart7(y)?c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(z).filter(function(A){var B=c("AnalyticsPredefinedBreakdownValues").gender,C=String(A.key);return B[C]}):c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(z)};u.prototype.$AnalyticsOverviewBarChart7=function(x){return x[0]===c("AnalyticsBuiltInBreakdowns").AGE&&x[1]===c("AnalyticsBuiltInBreakdowns").GENDER};u.prototype.$AnalyticsOverviewBarChart1=function(x){var y=x.schema;if(y==null)return q();else return q(c("AnalyticsCandelaUtils").BarChart.getYSeriesNames(y))};var v=c("AnalyticsBarChartQueryRenderer").createContainer(u);k=babelHelpers.inherits(w,c("React").PureComponent);l=k&&k.prototype;w.prototype.render=function(){return c("React").createElement(v,this.props)};function w(){k.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(w)}),null);
__d("AnalyticsPagePostDisplayNames",["AnalyticsTextUtils","FalcorBreakdownsTextUtils","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","Link.react","React","isValidID"],(function a(b,c,d,e,f,g){var h=40,i={},j={},k={getDisplayName:function l(m){var n=this._getPostLookupID(c("InsightsContext").getObjID(),m);return this._getDisplayName(i[n])},getDisplayLink:function l(m){if(c("FalcorBreakdownsTextUtils").isBreakdownValueUnknown(m))return c("React").createElement("span",null,c("FalcorBreakdownsTextUtils").UNKNOWN_BREAKDOWN_VALUE_DISPLAY_STRING);var n=this._getPostLookupID(c("InsightsContext").getObjID(),m),o=i[n],p=this._getDisplayName(m,o);if(o)return c("React").createElement(c("Link.react"),{target:"_blank",href:o.permalink_url},p);else return c("React").createElement("span",null,p)},addIDstoLoad:function l(m){m.forEach(function(n){if(!c("isValidID")(n)||c("FalcorBreakdownsTextUtils").isBreakdownValueUnknown(n))return;var o=this._getPostLookupID(c("InsightsContext").getObjID(),n);if(i[o])return;j[o]=true}.bind(this))},loadDisplayNames:function l(m){var n=Object.keys(j);j={};c("InsightsGraphAPI").cachedObjectsGet(c("InsightsGraphAPIConstants").FACEBOOK_PAGE_POST,n,{fields:["message","name","permalink_url"]}).done(function(o){Object.keys(o).forEach(function(p){i[p]={name:o[p].name,message:o[p].message,permalink_url:o[p].permalink_url}});m()},function(o){m()})},_getPostLookupID:function l(m,n){return m+"_"+n},_getDisplayName:function l(m,n){if(!n||!n.message&&!n.name)return m;return c("AnalyticsTextUtils").truncateString(n.message||n.name,h)}};f.exports=k}),null);
__d("AnalyticsBreakdownTableChartUtils",["fbt","invariant","AnalyticsAcquisitionSourceNames","AnalyticsBuiltInBreakdowns","AnalyticsGKNames","AnalyticsGKs","AnalyticsPagePostDisplayNames","AnalyticsQueryBreakdownUtils","BonsaiApiBreakdown","Clipboard","FalcorBreakdownsTextUtils","Link.react","React","Tooltip","naturalComparator"],(function a(b,c,d,e,f,g,h,i){var j,k=(j={},j[c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L1]=1,j[c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L2]=2,j[c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L3]=3,j),l={count:{comparator:function q(r,s){return r.count.props.data-s.count.props.data},label:h._("Total"),id:"count",sortable:true,widthWeight:1},value:{comparator:function q(r,s){return r.value.props.data-s.value.props.data},label:h._("Valor"),id:"value",sortable:true,widthWeight:1},unique_users:{comparator:function q(r,s){return r.unique_users.props.data-s.unique_users.props.data},label:h._("Usuarios \u00fanicos"),id:"unique_users",sortable:true,widthWeight:1},count_percent:{comparator:function q(r,s){return r.count_percent.props.data-s.count_percent.props.data},label:h._("Porcentaje del total"),id:"count_percent",sortable:true,widthWeight:1},value_percent:{comparator:function q(r,s){return r.value_percent.props.data-s.value_percent.props.data},label:h._("Porcentaje del valor"),id:"value_percent",sortable:true,widthWeight:1},value_per_event:{comparator:function q(r,s){return r.value_per_event.props.data-s.value_per_event.props.data},label:h._("Valor\/Evento"),id:"value_per_event",sortable:true,widthWeight:1},unique_users_percent:{comparator:function q(r,s){return r.unique_users_percent.props.data-s.unique_users_percent.props.data},label:h._("Usuarios \u00fanicos (\u0025)"),id:"unique_users_percent",sortable:true,widthWeight:1}};function m(q,r,s){return{cellRenderer:function t(u){if(k[q])return c("AnalyticsAcquisitionSourceNames").getBucketLink(u,k[q]);else if(q===c("AnalyticsQueryBreakdownUtils").getCustomParam(c("BonsaiApiBreakdown").POST)&&c("AnalyticsGKs").get(c("AnalyticsGKNames").SHOW_POST_URLS_IN_BREAKDOWN))return c("AnalyticsPagePostDisplayNames").getDisplayLink(u);else if(q===c("AnalyticsQueryBreakdownUtils").getBuiltIn(c("BonsaiApiBreakdown").REFERER_URL))return n(u);return u},comparator:function t(u,v){v||i(0);return c("naturalComparator")(u[q],v[q])},id:q,label:c("AnalyticsQueryBreakdownUtils").getDisplayString(q,r),sortable:true,widthWeight:s||1}}function n(q){if(c("FalcorBreakdownsTextUtils").isBreakdownValueExplicitUnknown(q))return c("React").createElement("span",null,c("FalcorBreakdownsTextUtils").UNKNOWN_REFERRAL_URL_STRING);return c("React").createElement(c("Link.react"),babelHelpers["extends"]({href:"#",title:"Click to copy URL to clipboard",onClick:function r(){return c("Clipboard").copy(q)}},c("Tooltip").propsFor(q)),q)}function o(q){var r=l[q];r||i(0);return r}function p(q){return o(q).label}f.exports={getAggregationColumnConfig:o,getAggregationColumnLabel:p,getBreakdownColumnConfig:m}}),null);
__d("AnalyticsOverviewBreakdownTableChart",["cx","invariant","AnalyticsAggregationChartFragmentContainer","AnalyticsAggregationChartQueryRenderer","AnalyticsBreakdownTableChartUtils","AnalyticsOverviewChartCard","AnalyticsMetricConfigs","AnalyticsOverviewDashboardUtils","AnalyticsPagePostDisplayNames","AnalyticsQueryBreakdownUtils","BonsaiApiBreakdown","FalcorErrorNotice","FalcorLoadingCard","FalcorPaginatedDataTable","InsightsNumUtils","React","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,renderBody:this.$AnalyticsOverviewBreakdownTableChart1.bind(this)})};n.prototype.$AnalyticsOverviewBreakdownTableChart1=function(){var p=this.props,q=p.isLoading,r=p.chartSize,s=p.error;if(q)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(r)});else if(s)return c("React").createElement(c("FalcorErrorNotice"),{message:s,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(r)}});else return this.$AnalyticsOverviewBreakdownTableChart2()};n.prototype.$AnalyticsOverviewBreakdownTableChart2=function(){var p=this.props.chartSize;return c("React").createElement(c("FalcorPaginatedDataTable"),{className:"_56wn",columns:this.$AnalyticsOverviewBreakdownTableChart3(),columnToSortBy:this.props.metric,fixTableLayout:true,pageSize:Infinity,reverseSort:true,rows:this.$AnalyticsOverviewBreakdownTableChart4(),searchFieldName:"key",showHeader:true,compactRowsAndHeader:true,height:c("AnalyticsOverviewDashboardUtils").getCardChartHeight(p)})};n.prototype.$AnalyticsOverviewBreakdownTableChart4=function(){var p=this.props,q=p.breakdown,r=p.metric;return c("nullthrows")(this.props.rows).map(function(s){var t;return t={},t[q]=this.$AnalyticsOverviewBreakdownTableChart5(s.breakdownBucket),t[r]=this.$AnalyticsOverviewBreakdownTableChart6(s.aggregationValue),t.key=s.breakdownBucket,t}.bind(this))};n.prototype.$AnalyticsOverviewBreakdownTableChart3=function(){return[c("AnalyticsBreakdownTableChartUtils").getBreakdownColumnConfig(this.props.breakdown,this.props.query.event_name,3),c("AnalyticsBreakdownTableChartUtils").getAggregationColumnConfig(this.props.metric)]};n.prototype.$AnalyticsOverviewBreakdownTableChart5=function(p){return c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(this.props.breakdown,p,this.props.query.event_name)};n.prototype.$AnalyticsOverviewBreakdownTableChart6=function(p){return c("React").createElement("span",{data:p},c("InsightsNumUtils").prettyInt(p))};function n(){j.apply(this,arguments)}l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.state={hasLoadedMetadata:false},this.$AnalyticsOverviewBreakdownTableChartQueryRenderer1=function(u,v){if(v)this.$AnalyticsOverviewBreakdownTableChartQueryRenderer3();var w=this.$AnalyticsOverviewBreakdownTableChartQueryRenderer4();switch(w){case c("AnalyticsQueryBreakdownUtils").getCustomParam(c("BonsaiApiBreakdown").POST):this.$AnalyticsOverviewBreakdownTableChartQueryRenderer5(u);break;default:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer3();break}}.bind(this),this.$AnalyticsOverviewBreakdownTableChartQueryRenderer3=function(){this.setState({hasLoadedMetadata:true})}.bind(this),q}o.prototype.render=function(){return c("React").createElement(c("AnalyticsAggregationChartQueryRenderer"),babelHelpers["extends"]({onDoneLoading:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer1,render:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer2.bind(this)},this.props))};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer5=function(p){var q=c("nullthrows")(this.$AnalyticsOverviewBreakdownTableChartQueryRenderer6(p));c("AnalyticsPagePostDisplayNames").addIDstoLoad(q.map(function(r){return r.breakdownBucket}));c("AnalyticsPagePostDisplayNames").loadDisplayNames(this.$AnalyticsOverviewBreakdownTableChartQueryRenderer3)};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer2=function(p,q,r){return c("React").createElement(n,babelHelpers["extends"]({},this.props,{aggregation:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer7(),breakdown:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer4(),metric:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer8(),isLoading:p||!this.state.hasLoadedMetadata,error:r,rows:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer6(q),query:this.$AnalyticsOverviewBreakdownTableChartQueryRenderer9()}))};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer6=function(p){if(p.length===0)return null;var q=p[0].result,r=q.getResultAsRows().toJS(),s=q.getColumnNames().toJS(),t=this.$AnalyticsOverviewBreakdownTableChartQueryRenderer4(),u=this.$AnalyticsOverviewBreakdownTableChartQueryRenderer7(),v=s.indexOf(t),w=s.indexOf(u);return r.map(function(x){var y=x[v],z=parseFloat(x[w]);if(y==="u")return null;return{breakdownBucket:y,aggregationValue:z}}).filter(function(x){return x}).slice(0,this.$AnalyticsOverviewBreakdownTableChartQueryRenderer9().limit||5)};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer9=function(){var p=this.props.chart.queries;p.length===1||i(0);return p[0]};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer7=function(){var p=this.$AnalyticsOverviewBreakdownTableChartQueryRenderer9(),q=c("AnalyticsMetricConfigs").getMetricConfig(p.metric,p.event_name);q.length===1||i(0);var r=q[0].aggregations;r.length===1||i(0);return r[0]};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer4=function(){var p=this.$AnalyticsOverviewBreakdownTableChartQueryRenderer9(),q=p.breakdowns;q.length===1||i(0);return q[0]};o.prototype.$AnalyticsOverviewBreakdownTableChartQueryRenderer8=function(){return this.$AnalyticsOverviewBreakdownTableChartQueryRenderer9().metric.toLowerCase()};f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(o)}),null);
__d("AnalyticsDonutBarChart",["cx","AnalyticsAggregationChartFragmentContainer","AnalyticsDonutBarChartQueryRenderer","AnalyticsOverviewChartCard","FalcorErrorNotice","FalcorLoadingCard","GriffinOverviewDonutChart","React","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=100,l=.67,m=142;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsDonutBarChart2=function(t,u){var v=t.queryConfig,w=t.result,x=t.error,y=this.props,z=y.uniqueUsers,A=y.uniqueUsersError,B=x||A;if(B!=null)return c("React").createElement(c("FalcorErrorNotice"),{key:"error"+u,message:B.getMessage()});else return c("React").createElement(c("GriffinOverviewDonutChart"),{key:"donut"+u,breakdownType:v.breakdowns[0],result:c("nullthrows")(w),totalUsers:c("nullthrows")(z),height:k,width:k,innerRadiusRatio:l})}.bind(this),p}n.prototype.render=function(){return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,renderBody:this.$AnalyticsDonutBarChart1.bind(this)})};n.prototype.$AnalyticsDonutBarChart1=function(){var o=this.props,p=o.isLoading,q=o.queryResults;if(p)return c("React").createElement(c("FalcorLoadingCard"),{height:m,showCard:false});return c("React").createElement("div",{className:"_4enl"},q.map(this.$AnalyticsDonutBarChart2))};f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(c("AnalyticsDonutBarChartQueryRenderer").createContainer(n))}),null);
__d("AnalyticsDonutBarChartQueryRenderer",["invariant","AnalyticsAggregationChartQueryUtils","AnalyticsErrorBoundary","AnalyticsMetricConfigs","AnalyticsQueryAggregationMethod","InternalAnalyticsQueryBuilder","AnalyticsQueryRenderer","AnalyticsSegmentUtils","AppCustomEventType","AppEventQueryAggregationPeriod","React","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").Map,j="unique_users",k=5;function l(m){var n,o;n=babelHelpers.inherits(p,c("React").PureComponent);o=n&&n.prototype;function p(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=o.constructor).call.apply(q,[this].concat(t)),this.$AnalyticsDonutBarChartQueryRenderer1=function(v,w){if(w.isEmpty())this.props.onDataLoaded&&this.props.onDataLoaded();else this.props.onDataLoadError&&this.props.onDataLoadError()}.bind(this),this.$AnalyticsDonutBarChartQueryRenderer3=function(v,w,x){return c("React").createElement(m,babelHelpers["extends"]({},this.props,{isLoading:v,queryResults:this.$AnalyticsDonutBarChartQueryRenderer4(w,x),uniqueUsers:this.$AnalyticsDonutBarChartQueryRenderer5(w),uniqueUsersError:this.$AnalyticsDonutBarChartQueryRenderer6(x)}))}.bind(this),r}p.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsErrorBoundary"),null,c("React").createElement(c("AnalyticsQueryRenderer"),{onDoneLoading:this.$AnalyticsDonutBarChartQueryRenderer1,queries:this.$AnalyticsDonutBarChartQueryRenderer2(),render:this.$AnalyticsDonutBarChartQueryRenderer3}))};p.prototype.$AnalyticsDonutBarChartQueryRenderer2=function(){"use strict";var q=this.props,r=q.analyticsEntityID,s=q.chart,t=s.queries,u=i(),v=t[0],w=c("AnalyticsAggregationChartQueryUtils").getSegment(v,this.props.chart.inherit_segment,this.props.inheritedSegment),x=c("AnalyticsAggregationChartQueryUtils").getDateRange(v,this.props.inheritedDateRange,this.props.inheritedDateRangeType,this.props.timezoneID),y=c("AnalyticsSegmentUtils").toGraphAPISegment(w.rules),z=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(r).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([]).setFilters(y).setDateRangeUTC(x).setAggregationPeriod(c("AppEventQueryAggregationPeriod").RANGE).setOrderingColumns([c("AnalyticsQueryAggregationMethod").USERS]).setOrderingType("DESCENDING").setTag("unique_users_donut");u=u.set(j,z);t.forEach(function(A,B){var C=A.event_name,D=A.metric,E=A.breakdowns,F=c("AnalyticsMetricConfigs").getMetricConfig(D,C);F.length===1||h(0);var G=F[0],H=G.aggregations,I=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(r).setEventName(C).setAggregations(H).setBreakdowns(E).setFilters(y).setDateRangeUTC(x).setAggregationPeriod(c("AppEventQueryAggregationPeriod").RANGE).setOrderingColumns(H).setOrderingType("DESCENDING").setLimit(k);u=u.set(String(B),I)});return u};p.prototype.$AnalyticsDonutBarChartQueryRenderer4=function(q,r){"use strict";var s=this.props.chart,t=s.queries;return t.map(function(u,v){var w=String(v),x=r.has(w)?r.get(w):null,y=q.has(w)?q.get(w):null;return{queryConfig:u,error:x,result:y}})};p.prototype.$AnalyticsDonutBarChartQueryRenderer5=function(q){"use strict";return q.has(j)?q.get(j).getUniquesTotalDangerously():null};p.prototype.$AnalyticsDonutBarChartQueryRenderer6=function(q){"use strict";return q.has(j)?q.get(j):null};return p}f.exports={createContainer:l}}),null);
__d("AnalyticsFunnelChartFragmentContainer",["AnalyticsDateUtils","AnalyticsSegmentUtils","React","RelayModern","idx","nullthrows","AnalyticsFunnelChartFragmentContainer_chart.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("RelayModern").createFragmentContainer,j=c("RelayModern").graphql;function k(m){var n,o;n=babelHelpers.inherits(p,c("React").PureComponent);o=n&&n.prototype;p.prototype.render=function(){var q,r,s;"use strict";var t=this.props,u=t.chart,v=babelHelpers.objectWithoutProperties(t,["chart"]);return c("React").createElement(m,babelHelpers["extends"]({breakdown:u.breakdown,chartDateRange:c("AnalyticsDateUtils").getEnforceDateRangeConfigFromGraphQLDateRange(u.date_range),chartID:u.id,chartName:c("nullthrows")(u.name),chartSegment:{id:(q=u)!=null?(q=q.segment)!=null?q.id:q:q,name:(r=u)!=null?(r=r.segment)!=null?r.name:r:r,rules:c("AnalyticsSegmentUtils").deserializeFilter(c("nullthrows")((s=u)!=null?(s=s.segment)!=null?s.serialized_filter:s:s))},inheritSegment:c("nullthrows")(u.inherit_segment),stages:u.stages.map(function(w){return{serializedFilter:c("nullthrows")(w.serialized_filter)}})},v))};function p(){"use strict";n.apply(this,arguments)}return p}function l(m){return i(k(m),{chart:h||(h=function h(){return c("AnalyticsFunnelChartFragmentContainer_chart.graphql")})})}f.exports={createContainer:l}}),null);
__d("AnalyticsDashboardFunnelChartCard",["AnalyticsDashboardChartCard","AnalyticsFunnelChart.react","AnalyticsFunnelChartFragmentContainer","AnalyticsSegmentUtils","React"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.chartDateRange,m=k.chartID,n=k.chartName,o=k.chartSegment,p=k.dashboardID,q=k.inheritedDateRange,r=k.inheritedDateRangeType,s=k.inheritedSegment,t=k.inheritSegment,u=k.isReadOnly,v=k.onDelete;return c("React").createElement(c("AnalyticsDashboardChartCard"),{chartDateRange:l,chartID:m,chartName:n,chartSegments:[o],chartType:"FUNNEL",dashboardID:p,inheritedDateRange:q,inheritedDateRangeType:r,inheritedSegment:s,inheritSegment:t,isReadOnly:u,onDelete:v,showEditIcon:false},this.$AnalyticsDashboardFunnelChartCard1())};j.prototype.$AnalyticsDashboardFunnelChartCard1=function(){"use strict";var k=this.props,l=k.analyticsEntityID,m=k.breakdown,n=k.chartDateRange,o=k.chartID,p=k.chartSegment,q=k.chartSize,r=k.chartName,s=k.dashboardID,t=k.inheritedDateRange,u=k.inheritedDateRangeType,v=k.inheritedSegment,w=k.inheritSegment,x=k.onDataLoaded,y=k.stages,z=k.timezoneID;return c("React").createElement(c("AnalyticsFunnelChart.react"),{analyticsEntityID:l,breakdown:m,chartID:o,chartSize:q,chartName:r,dashboardID:s,dateRange:n,inheritedDateRange:t,inheritedDateRangeType:u,inheritedSegment:v,inheritSegment:w,onDataLoaded:x,serializedSegment:c("AnalyticsSegmentUtils").serializeFilter(p.rules),stages:y,timezoneID:z})};function j(){"use strict";h.apply(this,arguments)}f.exports=c("AnalyticsFunnelChartFragmentContainer").createContainer(j)}),null);
__d("AnalyticsFunnelChartQueryUtils",["GriffinSegmentUtils"],(function a(b,c,d,e,f,g){"use strict";function h(j){return j.map(function(k){return i(k.serializedFilter)})}function i(j){var k=c("GriffinSegmentUtils").parseSerializedFilterFromGraphQL(j,null);return c("GriffinSegmentUtils").graphResultToAppEventsSegment(k)}f.exports={getStagesAsAppEventsSegments:h,parseSegmentAsAppEventsSegment:i}}),null);
__d("AnalyticsChartType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BAR_CHART:"BAR_CHART",BREAKDOWN_TABLE:"BREAKDOWN_TABLE",COHORT:"COHORT",DONUT_BAR:"DONUT_BAR",FUNNEL:"FUNNEL",KPI_BAR:"KPI_BAR",OVERLAP_CHART:"OVERLAP_CHART",TIME_SERIES:"TIME_SERIES"})}),null);
__d("FalcorDataTooltipTheme",["cx"],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_1xyi",arrowDimensions:{offset:35,length:18}};f.exports=i}),null);
__d("FalcorDataTooltip",["cx","fbt","BonsaiText","ContextualLayerAutoFlip","FalcorDataTooltipTheme","InsightsFormatterFactories","InsightsNumUtils","React","ReactAbstractContextualDialog","ReactLayer","XUIContextualDialogBody.react","formatDate","getObjectValues","joinClasses"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m={ABOVE:"above",BELOW:"below",LEFT:"left",RIGHT:"right"},n=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"FalcorDataTooltip",theme:c("FalcorDataTooltipTheme")}));j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.getCohortDataTooltip=function(p,q,r){"use strict";var s=r?c("React").createElement("div",{className:"_3k-- _3-8z"},r):null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_3k-_"},p),c("React").createElement("div",{className:"_3k_0"},q),s)};o.getCohortTableTooltip=function(p,q,r){"use strict";var s=r?c("React").createElement("div",{className:"_3k-- _3-8x"},r):null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_24aq"},p),c("React").createElement("div",{className:"_24ar"},q),s)};o.getFunnelDataTooltip=function(p,q,r){"use strict";var s=r?c("React").createElement("div",{className:"_3k-- _3-8z"},r):null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_3k-_"},p),c("React").createElement("div",{className:"_3k_0"},q),s)};o.getEventDataTooltip=function(p,q,r,s){"use strict";var t=void 0;if(s)t=c("BonsaiText").getPoPLabel(s);var u=r?c("React").createElement("div",{className:"_3k_0 _3-8z"},c("React").createElement("span",null,r,"\xa0"),c("React").createElement("span",null,t)):null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_3k-_"},p),c("React").createElement("div",{className:"_3k_0"},q),u)};o.getCandelaChartTooltip=function(p,q,r,s,t){"use strict";var u=void 0;if(p)u=q.find(function(u){return u.key===p});else u=q.first();var v=void 0;if(r)v=r.filter(function(x){return!!x.value}).map(function(x){var y=x.label?x.label+": ":undefined;return c("React").createElement("div",{key:x.key,className:"_4pjo"},y,x.value)});var w=u?c("React").createElement("div",{className:"_3k_0"},u.value," ",u.label):null;return c("React").createElement("div",null,s?c("React").createElement("div",{className:"_3k-_"},s):null,w,v)};o.getBreakdownTableTooltip=function(p,q,r,s,t){"use strict";var u=c("formatDate")(s,"M j, Y"),v=c("formatDate")(t,"M j, Y"),w=null;if(r){var x=c("joinClasses")(r.value>0?"_5i78":r.className,"_3-92");w=c("React").createElement("div",{className:"_3k_0 _3-8x"},c("React").createElement("span",{className:x},r.value<0?"-"+r.string:"+"+r.string),c("React").createElement("span",null,i._("Per\u00edodo\/per\u00edodo")))}return c("React").createElement("div",null,c("React").createElement("div",{className:"_3k-_"},p),c("React").createElement("div",{className:"_3k_0"},q),w,c("React").createElement("div",null,u+" - "+v))};o.valueWithPercentFormatterFactoryFactory=function(p,q){"use strict";return function(r,s){var t=c("InsightsFormatterFactories").legendFormatterFactory(r);return function(u,v){var w=u/p,x=w<.001?3:1,y=c("InsightsNumUtils").prettyPercent(w,x),z=u!==1||q!==o.UnitLabels.PEOPLE?q:i._("persona");return i._("{formatted numeric value}{unit label} ({percentage})",[i.param("formatted numeric value",t(u)+" "),i.param("unit label",z),i.param("percentage",y)])}}};o.prototype.render=function(){"use strict";var p=this.props.indicatorColor?{borderColor:this.props.indicatorColor}:{borderWidth:0};return c("React").createElement(n,babelHelpers["extends"]({},this.props,{autoFocus:false,focusContextOnHide:false}),c("React").createElement("div",{className:"_3k-y"},c("React").createElement("div",{className:"_3k-z",style:{background:this.props.indicatorColor}})),c("React").createElement("div",{className:"_53iv _3a_h",style:p},c("React").createElement(c("XUIContextualDialogBody.react"),null,this.props.children)))};function o(){"use strict";j.apply(this,arguments)}o.propTypes=babelHelpers["extends"]({},c("ReactAbstractContextualDialog").propTypes,{behaviors:l.object,indicatorColor:l.string,position:l.string,offsetX:l.number,offsetY:l.number});o.defaultProps={position:m.RIGHT,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip")}};o.TooltipPositions=m;o.UnitLabels={OF_PEOPLE:i._("de personas"),PEOPLE:i._("personas")};o.hoverCardPositionPropType=l.oneOf(c("getObjectValues")(m));f.exports=o}),null);
__d("FunnelDataTooltip",["cx","fbt","ContextualLayerAutoFlip","InsightsTimeUtils","React","ReactAbstractContextualDialog","ReactLayer"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m={ABOVE:"above",BELOW:"below",LEFT:"left",RIGHT:"right"},n={offset:12,length:16},o=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"FunnelHoverCard",theme:{wrapperClassName:"_4yfi",arrowDimensions:n}}));j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.funnelChartTooltipFormat=function(q){"use strict";return c("React").createElement("div",{className:"_4yfj"},c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("span",{className:"_4yfm"},i._("Tiempo de finalizaci\u00f3n del paso anterior")),c("React").createElement("span",{className:"_1xt4"},i._("NUEVO"))),c("React").createElement("div",{className:"_4yfo"},i._("{Formatted lower quartile of completion time}",[i.param("Formatted lower quartile of completion time",c("InsightsTimeUtils").secondsToDisplay(q.top25,false))])),c("React").createElement("div",{className:"_4yfs"},i._("El 25 \u0025 de usuarios m\u00e1s activos"))),c("React").createElement("div",null,c("React").createElement("div",{className:"_4yfo"},i._("{Formatted median of completion time}",[i.param("Formatted median of completion time",c("InsightsTimeUtils").secondsToDisplay(q.top50,false))])),c("React").createElement("div",{className:"_4yfs"},i._("El 50 \u0025 de usuarios m\u00e1s activos"))),c("React").createElement("div",null,c("React").createElement("div",{className:"_4yfo"},i._("{Formatted higher quartile of completion time}",[i.param("Formatted higher quartile of completion time",c("InsightsTimeUtils").secondsToDisplay(q.top75,false))])),c("React").createElement("div",{className:"_4yfs"},i._("El 75 \u0025 de usuarios m\u00e1s activos"))))};p.getFunnelChartTooltip=function(q,r,s,t,u){"use strict";var v=void 0;if(q)v=r.find(function(v){return v.key===q});else v=r.first();var w=void 0;if(s)w=s.filter(function(y){return!!y.value||y.stepCompleteTimeData}).map(function(y){var z=y.label?y.label:null,A=y.value?y.value:null,B=y.stepCompleteTimeData?p.funnelChartTooltipFormat(y.stepCompleteTimeData):null;if(A||z)return c("React").createElement("div",{key:y.key},c("React").createElement("div",{style:{color:u},className:"_4yft"},A),c("React").createElement("div",{className:"_4yfs"},z),B);return c("React").createElement("div",{key:y.key},B)});var x=v?c("React").createElement("div",null,c("React").createElement("span",{className:"_4yfu"},v.value),c("React").createElement("span",{className:"_4yfs"},v.label)):null;return c("React").createElement("div",null,c("React").createElement("div",{className:t?"_4yfv":""},t),c("React").createElement("div",{className:"_4yfw"},x,w))};p.prototype.render=function(){"use strict";return c("React").createElement(o,babelHelpers["extends"]({},this.props,{autoFocus:false,focusContextOnHide:false}),c("React").createElement("div",{className:"_4yfx"},c("React").createElement("div",{className:"_4yfy"})),c("React").createElement("div",{className:"_53iv _53ij"},this.props.children))};function p(){"use strict";j.apply(this,arguments)}p.propTypes=babelHelpers["extends"]({},c("ReactAbstractContextualDialog").propTypes,{behaviors:l.object,indicatorColor:l.string,position:l.string,offsetX:l.number,offsetY:l.number,children:l.element});p.defaultProps={position:m.RIGHT,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip")}};p.TooltipPositions=m;f.exports=p}),null);
__d("FalcorHoverCard",["AnalyticsChartType","CandelaConstants","React","ReactDOM","FalcorDataTooltip","FalcorDataTooltipTheme","FunnelDataTooltip","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").OrderedSet,k=c("React").PropTypes,l=c("FalcorDataTooltip").TooltipPositions;h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.prototype.updatePosition=function(){var n=this.refs.dialog;if(n)n.layer.updatePosition()};m.prototype.$HoverCard1=function(n,o){var p=this.props,q=p.auxiliaryItems,r=p.title;if(q){var s=q.find(function(u){return u.key==="title"});if(s)return s.value}if(r)return r;if(!n)return null;var t=n.props.schema[o];return t?t.label:null};m.prototype.render=function(){var n=this.props,o=n.auxiliaryItems,p=n.chartNode,q=n.closestSeriesName,r=n.items,s=n.onToggle,t=n.position,u=n.shown,v=n.theme,w=n.labelGetter,x=c("FalcorDataTooltipTheme").arrowDimensions,y=o?o.find(function(K){return K.key==="bucket"}):null,z=y?y.bucket:q,A=v.getAutoColorForSeries(z),B=p&&c("ReactDOM").findDOMNode(p).querySelector(c("CandelaConstants").CHART_HOVER_CARD_ANCHOR_SELECTOR);if(!B)return null;var C=void 0,D=void 0,E=void 0;if(t===l.ABOVE||t===l.BELOW){C="center";E=-12;D=0}else{C=null;E=-16;D=12;if(t===l.LEFT)D=-D}if(w)r.map(function(K){K.label=w(K.value)});var F=o?o.filter(function(K){return K.key!=="title"}):null,G=this.$HoverCard1(p,z),H=this.props.chartType===c("AnalyticsChartType").FUNNEL;if(H){var I=c("FunnelDataTooltip").getFunnelChartTooltip(z,r,F,G,A);return c("React").createElement(c("FunnelDataTooltip"),{key:z,alignment:C,context:B,hasActionableContext:false,hideOnEscape:false,indicatorColor:A,offsetX:D,offsetY:E,onToggle:s,position:t,ref:"dialog",shown:u},I)}else{var J=c("FalcorDataTooltip").getCandelaChartTooltip(z,r,F,G);return c("React").createElement(c("FalcorDataTooltip"),{key:z,alignment:C,context:B,hasActionableContext:false,hideOnEscape:false,indicatorColor:A,offsetX:D,offsetY:E,onToggle:s,position:t,ref:"dialog",shown:u},J)}};function m(){h.apply(this,arguments)}m.propTypes={auxiliaryItems:k.instanceOf(j),chartNode:k.object,chartType:k.string,onToggle:k.func,position:c("FalcorDataTooltip").hoverCardPositionPropType,shown:k.bool,labelGetter:k.func};m.defaultProps={position:"right",shown:false};f.exports=m}),null);
__d("FalcorInsightsHoverCardChart",["FalcorHoverCard","GriffinCandelaTheme","InsightsChartWithHoverCard.react","immutable","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes,k=c("immutable").OrderedSet;h=babelHelpers.inherits(l,c("React").PureComponent);i=h&&h.prototype;l.prototype.render=function(){var m=this.props,n=m.auxiliaryItems,o=m.children,p=m.hoverCardPosition,q=m.onHoverCardToggle,r=m.width,s=m.labelGetter,t=m.chartType,u=babelHelpers.objectWithoutProperties(m,["auxiliaryItems","children","hoverCardPosition","onHoverCardToggle","width","labelGetter","chartType"]),v=c("React").Children.only(o);if(r!=undefined)v=c("React").cloneElement(v,{width:r});return c("React").createElement(c("InsightsChartWithHoverCard.react"),babelHelpers["extends"]({},u,{chart:v,position:p,theme:c("GriffinCandelaTheme")}),c("React").createElement(c("FalcorHoverCard"),{chartType:t,auxiliaryItems:n,chartNode:v,labelGetter:s}))};function l(){h.apply(this,arguments)}l.propTypes={auxiliaryItems:j.instanceOf(k),chartType:j.string,children:j.node,formatterFactory:j.func,hoverCardPosition:j.oneOf(["above","below","left","right"]),items:j.instanceOf(k).isRequired,onHoverCardToggle:j.func,title:j.string,titleKey:j.string,labelGetter:j.func};f.exports=l}),null);
__d("AnalyticsFunnelChart.react",["cx","fbt","AnalyticsCandelaUtils","AnalyticsChartSize","AnalyticsFunnelAggregationMethod","AnalyticsFunnelChartQueryRenderer","AnalyticsFunnelChartQueryUtils","BUIInsightsFunnelChart.react","CandelaCategoryScale","CandelaConstants","CandelaStructs","CandelaGroupScaleBuilder","CandelaStackScaleBuilder","FalcorErrorNotice","FalcorInsightsHoverCardChart","FalcorLoadingCard","GriffinCandelaTheme","GriffinResizableChart","GriffinToggleableLegend.react","InsightsChartWithLegend.react","InsightsFormatterFactories","InsightsFormatters","InsightsFunnelData","InsightsNumUtils","InsightsTimeUtils","React","areEqual","immutable","isEmpty","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=c("CandelaConstants").ShapeType,o=c("CandelaStructs").Highlight,p=c("CandelaGroupScaleBuilder").group,q=c("CandelaStackScaleBuilder").stack,r=c("immutable").List,s=c("immutable").OrderedSet,t=c("immutable").Set,u=319,v=315,w=289,x=207,y=90,z=5,A=3,B=5;j=babelHelpers.inherits(C,c("React").PureComponent);k=j&&j.prototype;C.prototype.render=function(){var E=this.props,F=E.completionTime,G=E.conversionRate,H=E.hasBreakdown,I=c("React").createElement("div",{className:"_ss8"},i._("{Percentage value} de conversi\u00f3n del embudo",[i.param("Percentage value",G)])),J=c("React").createElement("div",{className:"_ss8"},i._("Media del tiempo de finalizaci\u00f3n de {Completion time}",[i.param("Completion time",F)]));return c("React").createElement("div",{className:"_ss9"+(!H?" _61pp":"")+(H?" _61pq":"")},I,J)};function C(){j.apply(this,arguments)}l=babelHelpers.inherits(D,c("React").PureComponent);m=l&&l.prototype;function D(){var E,F;for(var G=arguments.length,H=Array(G),I=0;I<G;I++)H[I]=arguments[I];return F=(E=m.constructor).call.apply(E,[this].concat(H)),this.state={allLegendKeys:t(),chartWidth:null,disabledLegendKeys:t(),funnelData:null,highlights:t(),hoveredBucket:"bucket_0",hoveredStep:0},this.$AnalyticsFunnelChart3=function(J){this.setState({chartWidth:J})}.bind(this),this.$AnalyticsFunnelChart11=function(J){var K,L=this,M=J.key,N=this.state.disabledLegendKeys,O=!N.has(M),P=O?N.add(M):N["delete"](M),Q=c("nullthrows")(this.state.funnelData);Q.setHiddenBreakdownValues(P.toArray());this.setState({disabledLegendKeys:P});if(O)(function(){var R,S=c("AnalyticsCandelaUtils").Funnel.getSchema(Q),T=Object.keys(S).find(function(T){return S[T].bucketValue===M});if(L.state.hoveredBucket===T)(function(){var U=L.state.allLegendKeys.subtract(L.state.disabledLegendKeys).first(),V=Object.keys(S).find(function(T){return S[T].bucketValue===U});L.setState({hoveredBucket:V})})()})()}.bind(this),this.$AnalyticsFunnelChart6=function(J,K,L){if(J instanceof c("CandelaCategoryScale"))return this.$AnalyticsFunnelChart17;else return c("InsightsFormatterFactories").axisMarkFormatterFactory(J,K,L)}.bind(this),this.$AnalyticsFunnelChart17=function(J){var K=this.props.chartSize,L=this.props.stages.length;if(K!==c("AnalyticsChartSize").LARGE&&L>5&&J!==0&&J!==L-1)return"";else return this.$AnalyticsFunnelChart18(J)}.bind(this),this.$AnalyticsFunnelChart7=function(){return this.$AnalyticsFunnelChart19}.bind(this),this.$AnalyticsFunnelChart19=function(J){if(this.props.breakdown!=null)return"";var K=this.$AnalyticsFunnelChart16(),L=K[0],M=c("InsightsNumUtils").prettyPercentQuotient({numerator:J,denominator:L,precision:0});return i._("({percentage value without parentheses})",[i.param("percentage value without parentheses",M)])}.bind(this),this.$AnalyticsFunnelChart4=function(J){if(J instanceof c("CandelaCategoryScale"))return this.$AnalyticsFunnelChart20;else return c("InsightsFormatterFactories").legendFormatterFactory(J)}.bind(this),this.$AnalyticsFunnelChart20=function(J){return i._("Paso {step number} - {step}",[i.param("step number",J+1),i.param("step",c("InsightsFormatters").defaultFormatter(this.$AnalyticsFunnelChart18(J)))])}.bind(this),this.$AnalyticsFunnelChart8=function(event){var J=event.target;if(J.shapeType===n.BAR_GROUP||J.shapeType===n.BAR){var K=event.data.step.value,L=Object.keys(event.data).filter(function(M){return M!=="step"})[0];this.setState({hoveredStep:K,hoveredBucket:L})}if(!c("isEmpty")(event.data)&&J.shapeType===n.BAR)this.setState({highlights:t(Object.keys(event.data).filter(function(M){return M.startsWith("bucket_")}).map(function(M){return new o({dependentSeriesName:M})}))})}.bind(this),this.$AnalyticsFunnelChart9=function(event){if(event.target.shapeType===n.PLOT_AREA)this.setState({highlights:t()})}.bind(this),F}D.prototype.componentWillReceiveProps=function(E){if(!c("areEqual")([this.props.queryResult,this.props.error],[E.queryResult,E.error]))if(E.isLoading||E.queryResult==null)this.setState({funnelData:null});else{var F=E.queryResult,G=new(c("InsightsFunnelData"))(F.event_counts,F.breakdown_counts,r(c("AnalyticsFunnelChartQueryUtils").getStagesAsAppEventsSegments(E.stages))),H=E.breakdown!=null;if(H){G.setBreakdownType(E.breakdown);G.setMaxBreakdowns(z)}this.setState({funnelData:G});var I=!H?t():t(G.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES));if(!this.state.allLegendKeys.equals(I))this.setState({allLegendKeys:I,disabledLegendKeys:t()});else G.setHiddenBreakdownValues(this.state.disabledLegendKeys.toArray())}};D.prototype.render=function(){var E=this.props,F=E.chartID,G=E.error,H=this.state,I=H.funnelData,J=H.highlights;if(I==null)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,height:u});else if(G)return c("React").createElement(c("FalcorErrorNotice"),{message:G,style:{height:x}});var K=this.$AnalyticsFunnelChart1(),L=K.data,M=K.schema,N=K.chartAutoColors,O=K.legendAutoColors,P=K.chartItems,Q=K.legendItems,R=K.chartAuxiliaryItems,S=K.bucketKeys,T=this.$AnalyticsFunnelChart2(),U=c("React").createElement(c("GriffinResizableChart"),{onChangeWidth:this.$AnalyticsFunnelChart3},c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:R,hoverCardPosition:"above",items:P,titleKey:"step",formatterFactory:this.$AnalyticsFunnelChart4,labelGetter:this.$AnalyticsFunnelChart5,chartType:"FUNNEL"},c("React").createElement(c("BUIInsightsFunnelChart.react"),{autoColors:N,axisMarkFormatterFactory:this.$AnalyticsFunnelChart6,barLabelFormatterFactory:this.$AnalyticsFunnelChart7,data:L,height:T?w:v,highlights:J,onMouseEnter:this.$AnalyticsFunnelChart8,onMouseLeave:this.$AnalyticsFunnelChart9,plotX:p("step"),plotY:q.apply(null,S).from(0).extendInput(0,.2).niceStepOnly(),schema:M,styles:this.$AnalyticsFunnelChart10()}))),V=!T?U:c("React").createElement(c("InsightsChartWithLegend.react"),{chart:U,items:Q},c("React").createElement("div",{className:"_48al"},c("React").createElement(c("GriffinToggleableLegend.react"),{autoColors:O,chartID:F,disabledKeys:this.state.disabledLegendKeys,items:Q,onToggle:this.$AnalyticsFunnelChart11,title:""})));return c("React").createElement("div",null,c("React").createElement(C,{conversionRate:this.$AnalyticsFunnelChart12(),completionTime:this.$AnalyticsFunnelChart13(),hasBreakdown:this.props.breakdown!=null}),V)};D.prototype.$AnalyticsFunnelChart1=function(){var E=c("nullthrows")(this.state.funnelData),F=c("AnalyticsCandelaUtils").Funnel.getData(E),G=c("AnalyticsCandelaUtils").Funnel.getSchema(E),H=c("AnalyticsCandelaUtils").Funnel.getBucketKeys(F),I=c("AnalyticsCandelaUtils").Funnel.getChartAutoColors(H,c("GriffinCandelaTheme")),J=c("AnalyticsCandelaUtils").Funnel.getLegendAutoColors(I,G),K=c("AnalyticsCandelaUtils").Funnel.getChartItems(F,H),L=c("AnalyticsCandelaUtils").Funnel.getLegendItems(G,H,this.state.disabledLegendKeys),M=c("AnalyticsCandelaUtils").Funnel.getChartAuxiliaryItems(E,G,this.state.hoveredBucket,this.state.hoveredStep);return{data:F,schema:G,chartAutoColors:I,legendAutoColors:J,chartItems:K,legendItems:L,chartAuxiliaryItems:M,bucketKeys:H}};D.prototype.$AnalyticsFunnelChart10=function(){return{bararealabel:{visibility:this.$AnalyticsFunnelChart14()?"visible":"hidden"},bargroup:{maxWidth:this.$AnalyticsFunnelChart15(this.state.chartWidth||500)},'axis[orientation="horizontal"]>axisbucketmark':{textOverflow:"ellipsis",whiteSpace:"normal"}}};D.prototype.$AnalyticsFunnelChart2=function(){var E=this.props,F=E.breakdown,G=E.chartSize;return F!=null&&G===c("AnalyticsChartSize").LARGE};D.prototype.$AnalyticsFunnelChart15=function(E){var F=this.props.stages.length,G=E-y;return G/(F*2-1)};D.prototype.$AnalyticsFunnelChart14=function(){var E=this.props,F=E.breakdown,G=E.chartSize,H=E.stages;if(F!=null)return false;else if(G===c("AnalyticsChartSize").LARGE)return H.length<=B;else return H.length<=A};D.prototype.$AnalyticsFunnelChart16=function(){var E=c("nullthrows")(this.state.funnelData);return E.getUniques()};D.prototype.$AnalyticsFunnelChart12=function(){var E=this.$AnalyticsFunnelChart16(),F=E[0],G=E[E.length-1];return c("InsightsNumUtils").prettyPercentQuotient({numerator:G,denominator:F,precision:2})};D.prototype.$AnalyticsFunnelChart13=function(){var E=c("nullthrows")(this.state.funnelData),F=E.getMedianTotalCompletionTime();if(F==null)return i._("--");return c("InsightsTimeUtils").secondsToDisplay(F,true)};D.prototype.$AnalyticsFunnelChart5=function(E){return i._({"*":"Personas","_1":"Persona"},[i.plural(E==="1"?1:2)])};D.prototype.$AnalyticsFunnelChart18=function(E){var F=c("nullthrows")(this.state.funnelData),G=F.getEventDisplayNames();return G[E]};f.exports=c("AnalyticsFunnelChartQueryRenderer").createContainer(D)}),null);
__d("AnalyticsFunnelChartQueryRenderer",["Timezone","AnalyticsDateUtils","AnalyticsErrorBoundary","AnalyticsFunnelChartQueryUtils","InternalAnalyticsFunnelsQueryBuilder","AnalyticsQueryRenderer","AnalyticsSegmentUtils","AppEventQueryResult","DateTime","React","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("Timezone").UTC,i=c("immutable").Map;function j(k){var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=m.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsFunnelChartQueryRenderer2=function(t,u,v){return c("React").createElement(k,babelHelpers["extends"]({isLoading:t,queryResult:u.isEmpty()?null:u.first(),error:v.isEmpty()?null:v.first().getMessage()},this.props))}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsErrorBoundary"),null,c("React").createElement(c("AnalyticsQueryRenderer"),{queries:this.$AnalyticsFunnelChartQueryRenderer1(),render:this.$AnalyticsFunnelChartQueryRenderer2}))};n.prototype.$AnalyticsFunnelChartQueryRenderer1=function(){"use strict";return i([["funnel_query",this.$AnalyticsFunnelChartQueryRenderer3()]])};n.prototype.$AnalyticsFunnelChartQueryRenderer3=function(){"use strict";var o=this.props,p=o.analyticsEntityID,q=o.breakdown,r=o.chartName,s=this.$AnalyticsFunnelChartQueryRenderer4(),t=s.since,u=s.until;return new(c("InternalAnalyticsFunnelsQueryBuilder"))().setAnalyticsEntityID(p).setSince(t).setUntil(u).setFunnelStages(this.$AnalyticsFunnelChartQueryRenderer5()).setFilters(c("AnalyticsSegmentUtils").toGraphAPISegment(this.$AnalyticsFunnelChartQueryRenderer6())).setBreakdowns(q==null?[]:[q]).setTag(r)};n.prototype.$AnalyticsFunnelChartQueryRenderer4=function(){"use strict";var o=this.props,p=o.dateRange,q=o.inheritedDateRange,r=o.inheritedDateRangeType,s=o.timezoneID,t=c("AnalyticsDateUtils").getFixedDateRangeWithInheritanceCheck({type:r,since:c("DateTime").fromDate(q.since,h),until:c("DateTime").fromDate(q.until,h)},p,s),u=t.since,v=t.until;return{since:c("AnalyticsDateUtils").getTimestampForQueryAPI(u),until:c("AnalyticsDateUtils").getTimestampForQueryAPI(v)}};n.prototype.$AnalyticsFunnelChartQueryRenderer6=function(){"use strict";var o=this.props,p=o.inheritedSegment,q=o.inheritSegment,r=o.serializedSegment;if(q)return p;else return c("AnalyticsSegmentUtils").toSegment(c("AnalyticsFunnelChartQueryUtils").parseSegmentAsAppEventsSegment(r))};n.prototype.$AnalyticsFunnelChartQueryRenderer5=function(){"use strict";return c("AnalyticsFunnelChartQueryUtils").getStagesAsAppEventsSegments(this.props.stages)};return n}f.exports={createContainer:j}}),null);
__d("AnalyticsChartActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INTERNAL_LINK:"INTERNAL_LINK"})}),null);
__d("AnalyticsNavigationUtils",["GriffinSections","InsightsContext","URI","SegmentStoreType","XDeveloperAppController"],(function a(b,c,d,e,f,g){"use strict";var h=c("SegmentStoreType").Comparison,i=c("SegmentStoreType").Lightweight,j=c("SegmentStoreType").URIKeys,k={getBaseInsightsURI:function l(){return new(c("URI"))(c("URI").getNextURI().getPath())},getSectionInsightsURI:function l(m,n,o,p){var q=new(c("URI"))(c("URI").getNextURI()),r=k.getBaseInsightsURI(),s={section:m};s=k._transferQueryDataKey(j[i],s);s=k._transferQueryDataKey(j[h],s);s=k._transferQueryDataKey("is_comparing",s);s=k._transferQueryDataKey("log_meta_app_events_to_console",s);if(o)s.view=o;if(n)if(m===c("GriffinSections").CUSTOM_EVENTS)s.event_name=n;else if(m===c("GriffinSections").DASHBOARDS)s.dashboard_id=n;else if(m===c("GriffinSections").WATCH)s.competitor_id=n;else if(m===c("GriffinSections").FUNNELS)s.funnel_id=n;else if(m===c("GriffinSections").COHORTS)s.cohorts_id=n;else if(m===c("GriffinSections").GEPUSH||m===c("GriffinSections").GEPUSH_IN_APP)s.campaign_id=n;else if(m==c("GriffinSections").LINK_SHARING)s.url=n;else if(m===c("GriffinSections").BREAKDOWN_TABLE)s.breakdown_table_id=n;if(c("InsightsContext").getVisibleDateRange()){var t=c("InsightsContext").getVisibleDateRange();s.since=t.since.getTime();s.until=t.until.getTime();s.range_type=q.getQueryData().range_type}if(p!=null){s=babelHelpers["extends"]({},s,p);if(p.since&&p.until)delete s.range_type}r.addQueryData(s);return r},_transferQueryDataKey:function l(m,n){var o=c("URI").getMostRecentURI().getQueryData();if(o[m]!==undefined){var p;return babelHelpers["extends"]({},n,(p={},p[m]=o[m],p))}return babelHelpers["extends"]({},n)},getDevCenterURI:function l(){var m=c("XDeveloperAppController").getURIBuilder().setInt("app_id",c("InsightsContext").getObjID()).getURI();m.setSubdomain("developers");return m},getSectionURI:function l(m,n){var o,p=c("URI").getNextURI(),q=p.getQueryData(),r=q.since,s=q.until,t=q.range_type,u=q.is_comparing,v=q.no_dedupe,w=q.log_meta_app_events_to_console,x=babelHelpers.objectWithoutProperties(q,["since","until","range_type","is_comparing","no_dedupe","log_meta_app_events_to_console"]),y=j[i],z=j[h];p.setQueryData(babelHelpers["extends"]({section:m,since:r,until:s,range_type:t},n,(o={},o[y]=x[y],o[z]=x[z],o.no_dedupe=v,o.is_comparing=u,o.log_meta_app_events_to_console=w,o)));p.setFragment(null);return p}};f.exports=k}),null);
__d("AnalyticsChartActionUtils",["AnalyticsNavigationUtils","GriffinSections","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(j){return{section:c("nullthrows")(j.section),text:j.text||"",type:c("nullthrows")(j.type),serialized_query_data:j.serialized_query_data}}function i(j,k){return c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections")[j],k?JSON.parse(k):null)}f.exports={assertAction:h,getInternalLinkURI:i}}),null);
__d("AnalyticsKPIBarChartQueryRenderer",["invariant","AnalyticsAggregationChartQueryUtils","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsErrorBoundary","AnalyticsMetricConfigs","AnalyticsQueryBuilder","AnalyticsQueryRenderer","AnalyticsSegmentUtils","AppEventQueryAggregationPeriod","React","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").Map;function j(k){var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=m.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsKPIBarChartQueryRenderer1=function(t,u){if(u.isEmpty())this.props.onDataLoaded&&this.props.onDataLoaded();else this.props.onDataLoadError&&this.props.onDataLoadError()}.bind(this),this.$AnalyticsKPIBarChartQueryRenderer3=function(t,u,v){var w=this.props.chartFragment;return c("React").createElement(k,babelHelpers["extends"]({},this.props,{actions:w,isLoading:t,queryResults:this.$AnalyticsKPIBarChartQueryRenderer4(u,v)}))}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsErrorBoundary"),null,c("React").createElement(c("AnalyticsQueryRenderer"),{onDoneLoading:this.$AnalyticsKPIBarChartQueryRenderer1,queries:this.$AnalyticsKPIBarChartQueryRenderer2(),render:this.$AnalyticsKPIBarChartQueryRenderer3}))};n.prototype.$AnalyticsKPIBarChartQueryRenderer2=function(){"use strict";var o=this.props,p=o.analyticsEntityID,q=o.queryConfigs,r=i();q.forEach(function(s,t){var u=s.event_name,v=s.metric,w=s.aggregation_period,x=s.breakdowns,y=c("AppEventQueryAggregationPeriod")[w],z=c("AnalyticsMetricConfigs").getMetricConfig(v,u);z.length===1||h(0);var A=c("AnalyticsAggregationChartQueryUtils").getDateRange(s,this.props.inheritedDateRange,this.props.inheritedDateRangeType,this.props.timezoneID),B=z[0],C=B.aggregations,D=c("AnalyticsAggregationChartQueryUtils").getSegment(s,this.props.inheritSegment,this.props.inheritedSegment),E=c("AnalyticsDateUtils").getPopDateRange(c("AnalyticsDateRangeStore").getFullDateRange(),A),F=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(p).setEventName(u).setAggregations(C).setBreakdowns(x).setFilters(c("AnalyticsSegmentUtils").toGraphAPISegment(D.rules)).setDateRangeUTC(A).setAggregationPeriod(y),G=JSON.stringify([t,false]);r=r.set(G,F);if(E!=null){var H=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(p).setEventName(u).setAggregations(C).setBreakdowns(x).setFilters(c("AnalyticsSegmentUtils").toGraphAPISegment(D.rules)).setDateRangeUTC(E).setAggregationPeriod(y),I=JSON.stringify([t,true]);r=r.set(I,H)}}.bind(this));return r};n.prototype.$AnalyticsKPIBarChartQueryRenderer4=function(o,p){"use strict";return this.props.queryConfigs.map(function(q,r){var s=JSON.stringify([r,false]),t=JSON.stringify([r,true]),u=p.has(s)?p.get(s):null,v=o.has(s)?o.get(s):null,w=o.has(t)?o.get(t):null;return{error:u,nonPopQueryResult:v,popQueryResult:w,queryConfig:q}})};return n}f.exports={createContainer:j}}),null);
__d("AnalyticsUIUtils",["cx","BonsaiApiDataAdapter","BonsaiApiPromise","InsightsNumUtils"],(function a(b,c,d,e,f,g,h){function i(l,m){var n=l-m,o=0;if(n&&!m)o=100;else{var p=m||1;o=Math.round(n/p*1e3)/10}var q=null,r=null;if(o<0){q="_vhx";r=j(-1*o)+"%"}else if(o>0){q="_vhy";r=j(o)+"%"}else{q="_vh-";r="0%"}return{className:q,currentValue:l,previousValue:m,string:r,value:o}}function j(l){if(l>=100)return c("InsightsNumUtils").prettyShortInt(l);else return c("InsightsNumUtils").prettyFloat(l)}function k(l,m){if(m instanceof c("BonsaiApiDataAdapter")&&l instanceof c("BonsaiApiDataAdapter")){var n=m.divideBy(l);if(m.getTotal()!==0){var o=n.getPreEpochTotal(),p=n.getPostEpochTotal();if(Math.abs(1-o)>.01||p>0)return m}}else if(l instanceof c("BonsaiApiPromise")||m instanceof c("BonsaiApiPromise"))return m;return null}f.exports={calculatePercentageChange:i,getSumData:k}}),null);
__d("AnalyticsKPIChartCell",["cx","AnalyticsUIUtils","AppEventQueryError","BonsaiColors","FalcorDataTooltip","InsightsNumUtils","React","URI","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={showTooltip:false},this.$AnalyticsKPIChartCell7=function(){return this.refs.chart}.bind(this),this.$AnalyticsKPIChartCell5=function(){this.setState({showTooltip:true})}.bind(this),this.$AnalyticsKPIChartCell6=function(){this.setState({showTooltip:false})}.bind(this),m}k.prototype.render=function(){var l=this.$AnalyticsKPIChartCell1(),m=l[0],n=l[1],o=this.props.currentValue?this.props.currentValue:this.props.visibleDataTotal,p=this.props.previousValue?this.props.previousValue:this.props.popDataTotal,q=this.$AnalyticsKPIChartCell2(o,p),r=this.$AnalyticsKPIChartCell3(q),s=[c("React").createElement("span",{key:"value",className:"_269k"},m),c("React").createElement("div",{className:"_269l",key:"label"},this.props.title,this.$AnalyticsKPIChartCell4(q))],t=this.props.url||this.props.onClick?c("React").createElement("a",{className:"_269i",href:this.props.url,onClick:this.props.onClick},s):s,u=c("React").createElement("div",{onMouseOver:this.$AnalyticsKPIChartCell5,onMouseOut:this.$AnalyticsKPIChartCell6,ref:"chart"},t);return c("React").createElement("div",{className:"_269h"},u,c("React").createElement(c("FalcorDataTooltip"),{contextRef:this.$AnalyticsKPIChartCell7,indicatorColor:r,shown:this.state.showTooltip},c("FalcorDataTooltip").getEventDataTooltip(this.props.title,n,this.$AnalyticsKPIChartCell4(q,true),this.props.numDaysInPeriod)))};k.prototype.$AnalyticsKPIChartCell3=function(l){if(l==null||l===0)return c("BonsaiColors").GRAY30;else if(l.value>0)return c("BonsaiColors").ANALYTICS_GREEN;else return c("BonsaiColors").ANALYTICS_RED};k.prototype.$AnalyticsKPIChartCell1=function(){var l="\u2014";if(this.props.error)return[l,this.props.error.getMessage().toString()];var m=this.props.visibleDataTotal,n=m;if(this.props.currencyCode){m=this.props.visibleDataTotal>100?c("InsightsNumUtils").prettyShortCurrency(this.props.currencyCode,this.props.visibleDataTotal):c("InsightsNumUtils").prettyCurrency(this.props.currencyCode,this.props.visibleDataTotal);n=c("InsightsNumUtils").prettyCurrency(this.props.currencyCode,this.props.visibleDataTotal)}else{m=this.props.visibleDataTotal>100?c("InsightsNumUtils").prettyShortInt(this.props.visibleDataTotal):c("InsightsNumUtils").prettyFloat(Math.round(this.props.visibleDataTotal*10)/10);n=this.props.visibleDataTotal%1===0?c("InsightsNumUtils").prettyInt(this.props.visibleDataTotal):c("InsightsNumUtils").prettyFloat(Math.round(this.props.visibleDataTotal*100)/100)}return[m,n]};k.prototype.$AnalyticsKPIChartCell2=function(l,m){if(!m)return null;return c("AnalyticsUIUtils").calculatePercentageChange(l,m)};k.prototype.$AnalyticsKPIChartCell4=function(l,m){if(!l)return null;var n=c("joinClasses")(l.value>0?"_5i78":l.className,"_134f"),o="/",p=m?null:c("React").createElement("span",{className:"_269m"},o);return c("React").createElement("span",null,p,c("React").createElement("span",{className:n},l.value<0?"-"+l.string:"+"+l.string))};f.exports=k}),null);
__d("AnalyticsKPIBarChart",["cx","invariant","AnalyticsCandelaAppEventQueryUtils","AnalyticsChartActionType","AnalyticsChartActionUtils","AnalyticsKPIBarChartQueryRenderer","AnalyticsKPIChartCell","AnalyticsMetricConfigs","AnalyticsOverviewChartCard","AppEventMetricText","AnalyticsAggregationChartQueryUtils","CustomEventStore","FalcorLoadingCard","InsightsUtils","React","RelayModern","idx","nullthrows","AnalyticsKPIBarChart_actions.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("RelayModern").createFragmentContainer,m=c("RelayModern").graphql,n=8;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AnalyticsKPIBarChart3=function(u,v){var w=u.error,x=u.nonPopQueryResult,y=u.popQueryResult,z=u.queryConfig,A=z.metric,B=z.event_name,C=this.$AnalyticsKPIBarChart4();if(w!=null){var D=c("AnalyticsMetricConfigs").getMetricConfig(A,B)[0],E=this.$AnalyticsKPIBarChart5(B,A,D);return c("React").createElement(c("AnalyticsKPIChartCell"),{key:JSON.stringify(z)+v,visibleDataTotal:0,title:E,error:w})}x!=null||i(0);var F=x.hasUSDValue(),G=c("AnalyticsMetricConfigs").getMetricConfig(A,B,F)[0],H=c("AnalyticsCandelaAppEventQueryUtils").getOnlyRowValue(x,G);if(!H)return null;var I=y!=null?c("AnalyticsCandelaAppEventQueryUtils").getOnlyRowValue(y,G):null,J=this.$AnalyticsKPIBarChart5(B,A,G),K=F?"USD":"";return c("React").createElement(c("AnalyticsKPIChartCell"),{key:JSON.stringify(z)+v,visibleDataTotal:H||0,popDataTotal:I||0,title:J,currencyCode:K,numDaysInPeriod:C,url:this.$AnalyticsKPIBarChart6(v)})}.bind(this),this.$AnalyticsKPIBarChart1=function(u){var v=u[this.props.chart.queries.length];return v?[v]:[]}.bind(this),q}o.prototype.render=function(){return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,chartActionsOverride:this.$AnalyticsKPIBarChart1,renderBody:this.$AnalyticsKPIBarChart2.bind(this)})};o.prototype.$AnalyticsKPIBarChart2=function(){var p=this.props,q=p.isLoading,r=p.queryResults;if(q)return c("React").createElement(c("FalcorLoadingCard"),{height:n,showCard:false});return c("React").createElement("div",{className:"_2v1w"},r.map(this.$AnalyticsKPIBarChart3).filter(function(s){return s}))};o.prototype.$AnalyticsKPIBarChart5=function(p,q,r){switch(q){case"UNIQUE_USERS":return c("AppEventMetricText").unique_users[p]||c("AppEventMetricText").unique_users["default"];case"VALUE":return c("AppEventMetricText").value[p]||c("AppEventMetricText").value["default"];case"COUNT":return c("AppEventMetricText").count_short[p]||c("CustomEventStore").getAppEventDisplayName(p);default:return c("CustomEventStore").getAppEventDisplayName(p)}};o.prototype.$AnalyticsKPIBarChart6=function(p){var q,r=(q=this.props.actions)!=null?(q=q.actions)!=null?q[p]:q:q;if(!r)return null;if(r.type!=c("AnalyticsChartActionType").INTERNAL_LINK)throw new Error("KPI Bar Chart received unsupported action type: "+String(r.type));return c("AnalyticsChartActionUtils").getInternalLinkURI(c("nullthrows")(r.section),r.serialized_query_data)};o.prototype.$AnalyticsKPIBarChart4=function(){var p=c("AnalyticsAggregationChartQueryUtils").getDateRange(this.props.queryResults[0].queryConfig,this.props.inheritedDateRange,this.props.inheritedDateRangeType,this.props.timezoneID),q=p.since,r=p.until,s=c("InsightsUtils").millisecondsToDays(r-q);return s===1?s:s+1};f.exports=c("AnalyticsKPIBarChartQueryRenderer").createContainer(l(o,{actions:function p(){return c("AnalyticsKPIBarChart_actions.graphql")}}))}),null);
__d("AnalyticsOverviewKPIBarChartCard",["AnalyticsAggregationChartFragmentContainer","AnalyticsKPIBarChart","React"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props.chart;return c("React").createElement(c("AnalyticsKPIBarChart"),babelHelpers["extends"]({chart:k,chartID:k.id,queryConfigs:k.queries,inheritSegment:k.inherit_segment},this.props))};function j(){"use strict";h.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(j)}),null);
__d("AnalyticsChartDeleteMutation",["CurrentUser","RelayFBEnvironment","guid","RelayModern","AnalyticsChartDeleteMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsChartDeleteMutation.graphql")};function k(l,m){var n=function n(o){var p=o.get(l.dashboard_id);if(p==null)return;var q=p.getLinkedRecords("layout");if(q==null)return;var r=q.filter(function(s){if(s==null)return false;var t=s.getLinkedRecord("chart");if(t==null)return false;return t.getValue("id")!==l.chart_id});p.setLinkedRecords(r,"layout")};return h(c("RelayFBEnvironment"),{mutation:j,optimisticUpdater:n,variables:{input:{actor_id:c("CurrentUser").getAccountID(),client_mutation_id:c("guid")(),chart_id:l.chart_id}},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsDashboardEditMutation",["CurrentUser","RelayFBEnvironment","guid","RelayModern","AnalyticsDashboardEditMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsDashboardEditMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:babelHelpers["extends"]({actor_id:c("CurrentUser").getAccountID(),client_mutation_id:c("guid")()},l)},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsEditableGridChartLayoutUtils",["invariant","AnalyticsChartSize","immutable","ObjectFlip"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("AnalyticsChartSize").LARGE,j={getLayout:function k(l,m,n){var o=0,p=0;return c("immutable").fromJS(l.map(function(q,r){var s=n[q.size||i];if(o+s>m){p++;o=0}var t=q.chart;if(t==null){o+=s;return null}var u={i:j.getPositionID(t,r),x:o,y:p,w:s,h:1,minH:1,maxH:1,moved:false};o+=s;return u}).filter(function(q){return q!==null}))},getPositionID:function k(l,m){var n=l.id;return n?n:(-m).toString()},getAPILayout:function k(l,m,n){var o=[].concat(l),p=[],q=0,r=0,s=0;while(o.length){if(r===m){r=0;q++}var t=o.findIndex(function(w){return w.y===q&&w.x===r}),u=o[t];if(!u)s++;var v=(u||r+1===m)&&s>0;if(v){p.push({chart_id:"0",chart_size:this.getSizeFromWidth(n,s)});s=0}if(u){p.push({chart_id:u.i,chart_size:this.getSizeFromWidth(n,u.w)});r+=u.w;o.splice(t,1)}else r++}return p},getSizeFromWidth:function k(l,m){var n=c("ObjectFlip")(l),o=n[m];o||h(0);return o}};f.exports=j}),null);
__d("GriffinChartDeleteModal",["fbt","GriffinButton","GriffinModal","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=h._("Se eliminar\u00e1 el gr\u00e1fico de este panel."),m=h._("Eliminar gr\u00e1fico"),n=[c("React").createElement(c("GriffinButton"),{label:h._("Eliminar"),onClick:this.props.onDelete,use:"confirm"}),c("React").createElement(c("GriffinButton"),{label:h._("Cancelar"),onClick:this.props.onCancel})];return c("React").createElement(c("GriffinModal"),{content:l,footerButtons:n,header:m,onClose:this.props.onCancel,width:600})};function k(){i.apply(this,arguments)}f.exports=k}),null);
/**
 * License: https://www.facebook.com/legal/license/1OnaQGYP3IE/
 */
__d("ReactGridLayout",["React","ReactDOM","React","ReactDOM"],(function $module_ReactGridLayout(global,require,requireDynamic,requireLazy,module,exports){!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactGridLayout=e(require("React"),require("ReactDOM")):t.ReactGridLayout=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:false,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=true,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:false,enumerable:true,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=12)}([function(e,n){e.exports=t},function(t,e,n){t.exports=n(16)()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){for(var e=0,n=void 0,r=0,o=t.length;r<o;r++)(n=t[r].y+t[r].h)>e&&(e=n);return e}function a(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=i(t[n]);return e}function i(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),"static":Boolean(t["static"]),isDraggable:t.isDraggable,isResizable:t.isResizable}}function s(t,e){return E["default"](z["default"].Children.map(t,function(t){return t.key}),z["default"].Children.map(e,function(t){return t.key}))}function u(t,e){return t!==e&&!(t.x+t.w<=e.x)&&!(t.x>=e.x+e.w)&&!(t.y+t.h<=e.y)&&!(t.y>=e.y+e.h)}function l(t,e){for(var n=y(t),r=x(t),o=Array(t.length),a=0,s=r.length;a<s;a++){var u=i(r[a]);u["static"]||(u=c(n,u,e),n.push(u)),o[t.indexOf(r[a])]=u,u.moved=false}return o}function c(t,e,n){if(n)for(e.y=Math.min(o(t),e.y);e.y>0&&!d(t,e);)e.y--;for(var r=void 0;r=d(t,e);)e.y=r.y+r.h;return e}function f(t,e){for(var n=y(t),r=0,o=t.length;r<o;r++){var a=t[r];if(a.x+a.w>e.cols&&(a.x=e.cols-a.w),a.x<0&&(a.x=0,a.w=e.cols),a["static"])for(;d(n,a);)a.y++;else n.push(a)}return t}function p(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function d(t,e){for(var n=0,r=t.length;n<r;n++)if(u(t[n],e))return t[n]}function h(t,e){return t.filter(function(t){return u(t,e)})}function y(t){return t.filter(function(t){return t["static"]})}function g(t,e,n,r,o){if(e["static"])return t;if(e.y===r&&e.x===n)return t;var a=r&&e.y>r;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=true;var i=x(t);a&&(i=i.reverse());for(var s=h(i,e),u=0,l=s.length;u<l;u++){var c=s[u];c.moved||e.y>c.y&&e.y-c.y>c.h/4||(t=c["static"]?m(t,c,e,o):m(t,e,c,o))}return t}function m(t,e,n,r){if(r){var o={x:n.x,y:n.y,w:n.w,h:n.h,i:"-1"};if(o.y=Math.max(e.y-n.h,0),!d(t,o))return g(t,n,void 0,o.y)}return g(t,n,void 0,n.y+1)}function v(t){return 100*t+"%"}function b(t){var e=t.top,n=t.left,r=t.width,o=t.height,a="translate("+n+"px,"+e+"px)";return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:r+"px",height:o+"px",position:"absolute"}}function w(t){return{top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px",position:"absolute"}}function x(t){return[].concat(t).sort(function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1})}function S(t,e,n,r){t=t||[];var a=[];return z["default"].Children.forEach(e,function(e,n){var r=p(t,e.key||"1");if(r)a[n]=i(r);else{!C&&e.props._grid&&false;var s=e.props["data-grid"]||e.props._grid;s?(C||_([s],"ReactGridLayout.children"),a[n]=i(O({},s,{i:e.key}))):a[n]=i({w:1,h:1,x:0,y:o(a),i:e.key||"1"})}}),a=f(a,{cols:n}),a=l(a,r)}function _(t,e){e=e||"Layout";var n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,o=t.length;r<o;r++){for(var a=t[r],i=0;i<n.length;i++)if("number"!=typeof a[n[i]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[i]+" must be a number!");if(a.i&&"string"!=typeof a.i)throw new Error("ReactGridLayout: "+e+"["+r+"].i must be a string!");if(void 0!==a["static"]&&"boolean"!=typeof a["static"])throw new Error("ReactGridLayout: "+e+"["+r+"].static must be a boolean!")}}function R(t,e){e.forEach(function(e){return t[e]=t[e].bind(t)})}e.__esModule=true;var O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.bottom=o,e.cloneLayout=a,e.cloneLayoutItem=i,e.childrenEqual=s,e.collides=u,e.compact=l,e.compactItem=c,e.correctBounds=f,e.getLayoutItem=p,e.getFirstCollision=d,e.getAllCollisions=h,e.getStatics=y,e.moveElement=g,e.moveElementAwayFromCollision=m,e.perc=v,e.setTransform=b,e.setTopLeft=w,e.sortLayoutItemsByRowCol=x,e.synchronizeLayoutWithChildren=S,e.validateLayout=_,e.autoBindHandlers=R;var D=n(3),E=r(D),j=n(0),z=r(j),C=true},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}function o(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return true;return false}function i(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t,e){return t.has(e)}function u(t,e){return null==t?void 0:t[e]}function l(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function p(){this.__data__=Re?Re(null):{},this.size=0}function d(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function h(t){var e=this.__data__;if(Re){var n=e[t];return n===vt?void 0:n}return ie.call(e,t)?e[t]:void 0}function y(t){var e=this.__data__;return Re?void 0!==e[t]:ie.call(e,t)}function g(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Re&&void 0===e?vt:e,this}function m(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(){this.__data__=[],this.size=0}function b(t){var e=this.__data__,n=H(e,t);return!(n<0)&&(n==e.length-1?e.pop():he.call(e,n,1),--this.size,true)}function w(t){var e=this.__data__,n=H(e,t);return n<0?void 0:e[n][1]}function x(t){return H(this.__data__,t)>-1}function S(t,e){var n=this.__data__,r=H(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function _(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function R(){this.size=0,this.__data__={hash:new f(),map:new(we||m)(),string:new f()}}function O(t){var e=Q(this,t)["delete"](t);return this.size-=e?1:0,e}function D(t){return Q(this,t).get(t)}function E(t){return Q(this,t).has(t)}function j(t,e){var n=Q(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function z(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _();++e<n;)this.add(t[e])}function C(t){return this.__data__.set(t,vt),this}function T(t){return this.__data__.has(t)}function P(t){var e=this.__data__=new m(t);this.size=e.size}function k(){this.__data__=new m(),this.size=0}function M(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function A(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function L(t,e){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!we||r.length<mt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _(r)}return n.set(t,e),this.size=n.size,this}function W(t,e){var n=Ae(t),r=!n&&Me(t),o=!n&&!r&&Ne(t),a=!n&&!r&&!o&&Le(t),s=n||r||o||a,u=s?i(t.length,String):[],l=u.length;for(var c in t)!e&&!ie.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||et(c,l))||u.push(c);return u}function H(t,e){for(var n=t.length;n--;)if(st(t[n][0],e))return n;return-1}function I(t,e,n){var r=e(t);return Ae(t)?r:o(r,n(t))}function B(t){return null==t?void 0===t?Ht:Pt:ye&&ye in Object(t)?tt(t):at(t)}function G(t){return dt(t)&&B(t)==St}function U(t,e,n,r,o){return t===e||(null==t||null==e||!dt(t)&&!dt(e)?t!==t&&e!==e:Y(t,e,n,r,U,o))}function Y(t,e,n,r,o,a){var i=Ae(t),s=Ae(e),u=i?_t:ke(t),l=s?_t:ke(e);u=u==St?kt:u,l=l==St?kt:l;var c=u==kt,f=l==kt,p=u==l;if(p&&Ne(t)){if(!Ne(e))return false;i=true,c=false}if(p&&!c)return a||(a=new P()),i||Le(t)?V(t,e,n,r,o,a):$(t,e,u,n,r,o,a);if(!(n&bt)){var d=c&&ie.call(t,"__wrapped__"),h=f&&ie.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,g=h?e.value():e;return a||(a=new P()),o(y,g,n,r,a)}}return!!p&&(a||(a=new P()),K(t,e,n,r,o,a))}function q(t){return!(!pt(t)||rt(t))&&(ct(t)?le:Ut).test(it(t))}function X(t){return dt(t)&&ft(t.length)&&!!qt[B(t)]}function F(t){if(!ot(t))return ve(t);var e=[];for(var n in Object(t))ie.call(t,n)&&"constructor"!=n&&e.push(n);return e}function V(t,e,n,r,o,i){var u=n&bt,l=t.length,c=e.length;if(l!=c&&!(u&&c>l))return false;var f=i.get(t);if(f&&i.get(e))return f==e;var p=-1,d=true,h=n&wt?new z():void 0;for(i.set(t,e),i.set(e,t);++p<l;){var y=t[p],g=e[p];if(r)var m=u?r(g,y,p,e,t,i):r(y,g,p,t,e,i);if(void 0!==m){if(m)continue;d=false;break}if(h){if(!a(e,function(t,e){if(!s(h,e)&&(y===t||o(y,t,n,r,i)))return h.push(e)})){d=false;break}}else if(y!==g&&!o(y,g,n,r,i)){d=false;break}}return i["delete"](t),i["delete"](e),d}function $(t,e,n,r,o,a,i){switch(n){case Bt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return false;t=t.buffer,e=e.buffer;case It:return!(t.byteLength!=e.byteLength||!a(new pe(t),new pe(e)));case Ot:case Dt:case Tt:return st(+t,+e);case Et:return t.name==e.name&&t.message==e.message;case At:case Lt:return t==e+"";case Ct:var s=l;case Nt:var u=r&bt;if(s||(s=c),t.size!=e.size&&!u)return false;var f=i.get(t);if(f)return f==e;r|=wt,i.set(t,e);var p=V(s(t),s(e),r,o,a,i);return i["delete"](t),p;case Wt:if(Te)return Te.call(t)==Te.call(e)}return false}function K(t,e,n,r,o,a){var i=n&bt,s=J(t),u=s.length;if(u!=J(e).length&&!i)return false;for(var l=u;l--;){var c=s[l];if(!(i?c in e:ie.call(e,c)))return false}var f=a.get(t);if(f&&a.get(e))return f==e;var p=true;a.set(t,e),a.set(e,t);for(var d=i;++l<u;){c=s[l];var h=t[c],y=e[c];if(r)var g=i?r(y,h,c,e,t,a):r(h,y,c,t,e,a);if(!(void 0===g?h===y||o(h,y,n,r,a):g)){p=false;break}d||(d="constructor"==c)}if(p&&!d){var m=t.constructor,v=e.constructor;m!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v)&&(p=false)}return a["delete"](t),a["delete"](e),p}function J(t){return I(t,ht,Pe)}function Q(t,e){var n=t.__data__;return nt(e)?n["string"==typeof e?"string":"hash"]:n.map}function Z(t,e){var n=u(t,e);return q(n)?n:void 0}function tt(t){var e=ie.call(t,ye),n=t[ye];try{t[ye]=void 0;var r=true}catch(t){}var o=ue.call(t);return r&&(e?t[ye]=n:delete t[ye]),o}function et(t,e){return!!(e=null==e?xt:e)&&("number"==typeof t||Yt.test(t))&&t>-1&&t%1==0&&t<e}function nt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function rt(t){return!!se&&se in t}function ot(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||re)}function at(t){return ue.call(t)}function it(t){if(null!=t){try{return ae.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function st(t,e){return t===e||t!==t&&e!==e}function ut(t){return null!=t&&ft(t.length)&&!ct(t)}function lt(t,e){return U(t,e)}function ct(t){if(!pt(t))return false;var e=B(t);return e==jt||e==zt||e==Rt||e==Mt}function ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=xt}function pt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function dt(t){return null!=t&&"object"==typeof t}function ht(t){return ut(t)?W(t):F(t)}function yt(){return[]}function gt(){return false}var mt=200,vt="__lodash_hash_undefined__",bt=1,wt=2,xt=9007199254740991,St="[object Arguments]",_t="[object Array]",Rt="[object AsyncFunction]",Ot="[object Boolean]",Dt="[object Date]",Et="[object Error]",jt="[object Function]",zt="[object GeneratorFunction]",Ct="[object Map]",Tt="[object Number]",Pt="[object Null]",kt="[object Object]",Mt="[object Proxy]",At="[object RegExp]",Nt="[object Set]",Lt="[object String]",Wt="[object Symbol]",Ht="[object Undefined]",It="[object ArrayBuffer]",Bt="[object DataView]",Gt=/[\\^$.*+?()[\]{}|]/g,Ut=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=true,qt[St]=qt[_t]=qt[It]=qt[Ot]=qt[Bt]=qt[Dt]=qt[Et]=qt[jt]=qt[Ct]=qt[Tt]=qt[kt]=qt[At]=qt[Nt]=qt[Lt]=qt["[object WeakMap]"]=false;var Xt="object"==typeof t&&t&&t.Object===Object&&t,Ft="object"==typeof self&&self&&self.Object===Object&&self,Vt=Xt||Ft||Function("return this")(),$t="object"==typeof e&&e&&!e.nodeType&&e,Kt=$t&&"object"==typeof n&&n&&!n.nodeType&&n,Jt=Kt&&Kt.exports===$t,Qt=Jt&&Xt.process,Zt=function(){try{return Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),te=Zt&&Zt.isTypedArray,ee=Array.prototype,ne=Function.prototype,re=Object.prototype,oe=Vt["__core-js_shared__"],ae=ne.toString,ie=re.hasOwnProperty,se=function(){var t=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ue=re.toString,le=RegExp("^"+ae.call(ie).replace(Gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Jt?Vt.Buffer:void 0,fe=Vt.Symbol,pe=Vt.Uint8Array,de=re.propertyIsEnumerable,he=ee.splice,ye=fe?fe.toStringTag:void 0,ge=Object.getOwnPropertySymbols,me=ce?ce.isBuffer:void 0,ve=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),be=Z(Vt,"DataView"),we=Z(Vt,"Map"),xe=Z(Vt,"Promise"),Se=Z(Vt,"Set"),_e=Z(Vt,"WeakMap"),Re=Z(Object,"create"),Oe=it(be),De=it(we),Ee=it(xe),je=it(Se),ze=it(_e),Ce=fe?fe.prototype:void 0,Te=Ce?Ce.valueOf:void 0;f.prototype.clear=p,f.prototype["delete"]=d,f.prototype.get=h,f.prototype.has=y,f.prototype.set=g,m.prototype.clear=v,m.prototype["delete"]=b,m.prototype.get=w,m.prototype.has=x,m.prototype.set=S,_.prototype.clear=R,_.prototype["delete"]=O,_.prototype.get=D,_.prototype.has=E,_.prototype.set=j,z.prototype.add=z.prototype.push=C,z.prototype.has=T,P.prototype.clear=k,P.prototype["delete"]=M,P.prototype.get=A,P.prototype.has=N,P.prototype.set=L;var Pe=ge?function(t){return null==t?[]:(t=Object(t),r(ge(t),function(e){return de.call(t,e)}))}:yt,ke=B;(be&&ke(new be(new ArrayBuffer(1)))!=Bt||we&&ke(new we())!=Ct||xe&&"[object Promise]"!=ke(xe.resolve())||Se&&ke(new Se())!=Nt||_e&&"[object WeakMap]"!=ke(new _e()))&&(ke=function(t){var e=B(t),n=e==kt?t.constructor:void 0,r=n?it(n):"";if(r)switch(r){case Oe:return Bt;case De:return Ct;case Ee:return"[object Promise]";case je:return Nt;case ze:return"[object WeakMap]"}return e});var Me=G(function(){return arguments}())?G:function(t){return dt(t)&&ie.call(t,"callee")&&!de.call(t,"callee")},Ae=Array.isArray,Ne=me||gt,Le=te?function(t){return function(e){return t(e)}}(te):X;n.exports=lt}).call(e,n(21),n(22)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),l=r(u),c=n(1),f=r(c),p=n(3),d=r(p),h=n(6),y=r(h),g=n(2),m=n(13),v=r(m),b=function(){},w=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r));return x.call(i),g.autoBindHandlers(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return i(e,t),e.prototype.componentDidMount=function(){this.setState({mounted:true}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},e.prototype.componentWillReceiveProps=function(t){var e=void 0;if(d["default"](t.layout,this.props.layout)?g.childrenEqual(this.props.children,t.children)||(e=this.state.layout):e=t.layout,e){var n=g.synchronizeLayoutWithChildren(e,t.children,t.cols,t.verticalCompact),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},e.prototype.containerHeight=function(){if(this.props.autoSize){var t=g.bottom(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*e+"px"}},e.prototype.onDragStart=function(t,e,n,r){var o=r.e,a=r.node,i=this.state.layout,s=g.getLayoutItem(i,t);s&&(this.setState({oldDragItem:g.cloneLayoutItem(s),oldLayout:this.state.layout}),this.props.onDragStart(i,s,s,null,o,a))},e.prototype.onDrag=function(t,e,n,r){var o=r.e,a=r.node,i=this.state.oldDragItem,s=this.state.layout,u=g.getLayoutItem(s,t);if(u){var l={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:true,i:t};s=g.moveElement(s,u,e,n,true),this.props.onDrag(s,i,u,l,o,a),this.setState({layout:g.compact(s,this.props.verticalCompact),activeDrag:l})}},e.prototype.onDragStop=function(t,e,n,r){var o=r.e,a=r.node,i=this.state.oldDragItem,s=this.state.layout,u=g.getLayoutItem(s,t);if(u){s=g.moveElement(s,u,e,n,true),this.props.onDragStop(s,i,u,null,o,a);var l=g.compact(s,this.props.verticalCompact),c=this.state.oldLayout;this.setState({activeDrag:null,layout:l,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(l,c)}},e.prototype.onLayoutMaybeChanged=function(t,e){e||(e=this.state.layout),d["default"](e,t)||this.props.onLayoutChange(t)},e.prototype.onResizeStart=function(t,e,n,r){var o=r.e,a=r.node,i=this.state.layout,s=g.getLayoutItem(i,t);s&&(this.setState({oldResizeItem:g.cloneLayoutItem(s),oldLayout:this.state.layout}),this.props.onResizeStart(i,s,s,null,o,a))},e.prototype.onResize=function(t,e,n,r){var o=r.e,a=r.node,i=this.state,s=i.layout,u=i.oldResizeItem,l=g.getLayoutItem(s,t);if(l){l.w=e,l.h=n;var c={w:e,h:n,x:l.x,y:l.y,"static":true,i:t};this.props.onResize(s,u,l,c,o,a),this.setState({layout:g.compact(s,this.props.verticalCompact),activeDrag:c})}},e.prototype.onResizeStop=function(t,e,n,r){var o=r.e,a=r.node,i=this.state,s=i.layout,u=i.oldResizeItem,l=g.getLayoutItem(s,t);this.props.onResizeStop(s,u,l,null,o,a);var c=g.compact(s,this.props.verticalCompact),f=this.state.oldLayout;this.setState({activeDrag:null,layout:c,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(c,f)},e.prototype.placeholder=function(){var t=this.state.activeDrag;if(!t)return null;var e=this.props,n=e.width,r=e.cols,o=e.margin,a=e.containerPadding,i=e.rowHeight,s=e.maxRows,u=e.useCSSTransforms;return l["default"].createElement(v["default"],{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:s,rowHeight:i,isDraggable:false,isResizable:false,useCSSTransforms:u},l["default"].createElement("div",null))},e.prototype.processGridItem=function(t){if(t.key){var e=g.getLayoutItem(this.state.layout,t.key);if(!e)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,i=n.containerPadding,s=n.rowHeight,u=n.maxRows,c=n.isDraggable,f=n.isResizable,p=n.useCSSTransforms,d=n.draggableCancel,h=n.draggableHandle,y=this.state.mounted,m=Boolean(!e["static"]&&c&&(e.isDraggable||null==e.isDraggable)),b=Boolean(!e["static"]&&f&&(e.isResizable||null==e.isResizable));return l["default"].createElement(v["default"],{containerWidth:r,cols:o,margin:a,containerPadding:i||a,maxRows:u,rowHeight:s,cancel:d,handle:h,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:m,isResizable:b,useCSSTransforms:p&&y,usePercentages:!y,w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minH:e.minH,minW:e.minW,maxH:e.maxH,maxW:e.maxW,"static":e["static"]},t)}},e.prototype.render=function(){var t=this,e=this.props,n=e.className,r=e.style,o=s({height:this.containerHeight()},r);return l["default"].createElement("div",{className:y["default"]("react-grid-layout",n),style:o},l["default"].Children.map(this.props.children,function(e){return t.processGridItem(e)}),this.placeholder())},e}(l["default"].Component);w.displayName="ReactGridLayout",w.propTypes={className:f["default"].string,style:f["default"].object,width:f["default"].number,autoSize:f["default"].bool,cols:f["default"].number,draggableCancel:f["default"].string,draggableHandle:f["default"].string,verticalCompact:f["default"].bool,layout:function(t){var e=t.layout;void 0!==e&&g.validateLayout(e,"layout")},margin:f["default"].arrayOf(f["default"].number),containerPadding:f["default"].arrayOf(f["default"].number),rowHeight:f["default"].number,maxRows:f["default"].number,isDraggable:f["default"].bool,isResizable:f["default"].bool,useCSSTransforms:f["default"].bool,onLayoutChange:f["default"].func,onDragStart:f["default"].func,onDrag:f["default"].func,onDragStop:f["default"].func,onResizeStart:f["default"].func,onResize:f["default"].func,onResizeStop:f["default"].func,children:function(t,e,n){var r=t[e],o={};l["default"].Children.forEach(r,function(t){if(o[t.key])throw new Error("Duplicate child key found! This will cause problems in ReactGridLayout.");o[t.key]=true})}},w.defaultProps={autoSize:true,cols:12,className:"",rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:true,isResizable:true,useCSSTransforms:true,verticalCompact:true,onLayoutChange:b,onDragStart:b,onDrag:b,onDragStop:b,onResizeStart:b,onResize:b,onResizeStop:b};var x=function(){this.state={activeDrag:null,layout:g.synchronizeLayoutWithChildren(this.props.layout,this.props.children,this.props.cols,this.props.verticalCompact),mounted:false,oldDragItem:null,oldLayout:null,oldResizeItem:null}};e["default"]=w},function(t,e,n){"use strict";function r(t,e){for(var n=i(t),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];e>t[s]&&(r=s)}return r}function o(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function a(t,e,n,r,o,a){if(t[n])return s.cloneLayout(t[n]);for(var u=t[r],l=i(e),c=l.slice(l.indexOf(n)),f=0,p=c.length;f<p;f++){var d=c[f];if(t[d]){u=t[d];break}}return u=s.cloneLayout(u||[]),s.compact(s.correctBounds(u,{cols:o}),a)}function i(t){return Object.keys(t).sort(function(e,n){return t[e]-t[n]})}e.__esModule=true,e.getBreakpointFromWidth=r,e.getColsFromBreakpoint=o,e.findOrGenerateResponsiveLayout=a,e.sortBreakpoints=i;var s=n(2)},function(t,e,n){var r,o;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&t.push(i)}}return t.join(" ")}var a={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(o=function(){return n}.apply(e,r))&&(t.exports=o))}()},function(t,e,n){!function(e,r){t.exports=r(n(0),n(9))}(0,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:false};return t[r].call(o.exports,o,o.exports,e),o.loaded=true,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)["default"],t.exports.DraggableCore=n(17)["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:true});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){var n=[],r=true,o=false,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=true);}catch(t){o=true,a=t}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false,r.configurable=true,"value"in r&&(r.writable=true),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(2),p=r(f),d=n(3),h=r(d),y=n(11),g=r(y),m=n(12),v=r(m),b=n(13),w=n(16),x=n(14),S=n(17),_=r(S),R=n(19),O=r(R),D=function(t){function e(t){a(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onDragStart=function(t,e){if(O["default"]("Draggable: onDragStart: %j",e),false===n.props.onStart(t,w.createDraggableData(n,e)))return false;n.setState({dragging:true,dragged:true})},n.onDrag=function(t,e){if(!n.state.dragging)return false;O["default"]("Draggable: onDrag: %j",e);var r=w.createDraggableData(n,e),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=w.getBoundPosition(n,o.x,o.y),u=l(s,2);o.x=u[0],o.y=u[1],o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=a,r.y=i,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(false===n.props.onDrag(t,r))return false;n.setState(o)},n.onDragStop=function(t,e){if(!n.state.dragging)return false;if(false===n.props.onStop(t,w.createDraggableData(n,e)))return false;O["default"]("Draggable: onDragStop: %j",e);var r={dragging:false,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)},n.state={dragging:false,dragged:false,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:false},n}return s(e,t),c(e,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||false}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&g["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:true})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:false})}},{key:"render",value:function(){var t,e={},n=null,r=Boolean(this.props.position),a=!r||this.state.dragging,i=this.props.position||this.props.defaultPosition,s={x:w.canDragX(this)&&a?this.state.x:i.x,y:w.canDragY(this)&&a?this.state.y:i.y};this.state.isElementSVG?n=b.createSVGTransform(s):e=b.createCSSTransform(s);var l=this.props,c=l.defaultClassName,f=l.defaultClassNameDragging,d=l.defaultClassNameDragged,h=v["default"](this.props.children.props.className||"",c,(t={},o(t,f,this.state.dragging),o(t,d,this.state.dragged),t));return p["default"].createElement(_["default"],u({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p["default"].cloneElement(p["default"].Children.only(this.props.children),{className:h,style:u({},this.props.children.props.style,e),transform:n}))}}]),e}(p["default"].Component);D.displayName="Draggable",D.propTypes=u({},_["default"].propTypes,{axis:h["default"].oneOf(["both","x","y","none"]),bounds:h["default"].oneOfType([h["default"].shape({left:h["default"].number,right:h["default"].number,top:h["default"].number,bottom:h["default"].number}),h["default"].string,h["default"].oneOf([false])]),defaultClassName:h["default"].string,defaultClassNameDragging:h["default"].string,defaultClassNameDragged:h["default"].string,defaultPosition:h["default"].shape({x:h["default"].number,y:h["default"].number}),position:h["default"].shape({x:h["default"].number,y:h["default"].number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),D.defaultProps=u({},_["default"].defaultProps,{axis:"both",bounds:false,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),e["default"]=D},function(e,n){e.exports=t},function(t,e,n){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var r="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,o=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r};t.exports=n(4)(o,true)}else t.exports=n(10)()},function(t,e,n){"use strict";var r=n(5),o=n(6),a=n(7),i=n(8),s=n(9);t.exports=function(t,e){function n(t){var e=t&&(_&&t[_]||t[R]);if("function"==typeof e)return e}function u(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function l(t){this.message=t,this.stack=""}function c(t){function n(n,u,c,f,p,d,h){if(f=f||O,d=d||c,h!==i)if(e)o(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+c;!r[y]&&s<3&&(a(false,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,f),r[y]=true,s++)}return null==u[c]?n?new l(null===u[c]?"The "+p+" `"+d+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+d+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:t(u,c,f,p,d)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r={},s=0;var u=n.bind(null,false);return u.isRequired=n.bind(null,true),u}function f(t){function e(e,n,r,o,a,i){var s=e[n];if(w(s)!==t)return new l("Invalid "+o+" `"+a+"` of type `"+x(s)+"` supplied to `"+r+"`, expected `"+t+"`.");return null}return c(e)}function p(t){function e(e,n,r,o,a){if("function"!=typeof t)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s))return new l("Invalid "+o+" `"+a+"` of type `"+w(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=t(s,u,r,o,a+"["+u+"]",i);if(c instanceof Error)return c}return null}return c(e)}function d(t){function e(e,n,r,o,a){if(!(e[n]instanceof t)){var i=t.name||O;return new l("Invalid "+o+" `"+a+"` of type `"+S(e[n])+"` supplied to `"+r+"`, expected instance of `"+i+"`.")}return null}return c(e)}function h(t){function e(e,n,r,o,a){for(var i=e[n],s=0;s<t.length;s++)if(u(i,t[s]))return null;return new l("Invalid "+o+" `"+a+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")}return Array.isArray(t)?c(e):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&a(false,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function y(t){function e(e,n,r,o,a){if("function"!=typeof t)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=w(s);if("object"!==u)return new l("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=t(s,c,r,o,a+"."+c,i);if(f instanceof Error)return f}return null}return c(e)}function g(t){function e(e,n,r,o,a){for(var s=0;s<t.length;s++)if(null==t[s](e,n,r,o,a,i))return null;return new l("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}return Array.isArray(t)?c(e):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&a(false,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function m(t){function e(e,n,r,o,a){var s=e[n],u=w(s);if("object"!==u)return new l("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in t){var f=t[c];if(f){var p=f(s,c,r,o,a+"."+c,i);if(p)return p}}return null}return c(e)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return true;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||t(e))return true;var r=n(e);if(!r)return false;var o,a=r.call(e);if(r!==e.entries){for(;!(o=a.next()).done;)if(!v(o.value))return false}else for(;!(o=a.next()).done;){var i=o.value;if(i&&!v(i[1]))return false}return true;default:return false}}function b(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}function w(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":b(e,t)?"symbol":e}function x(t){var e=w(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function S(t){return t.constructor&&t.constructor.name?t.constructor.name:O}var _="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",O="<<anonymous>>",D={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:p,element:function(){function e(e,n,r,o,a){var i=e[n];if(!t(i))return new l("Invalid "+o+" `"+a+"` of type `"+w(i)+"` supplied to `"+r+"`, expected a single ReactElement.");return null}return c(e)}(),instanceOf:d,node:function(){function t(t,e,n,r,o){return v(t[e])?null:new l("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return c(t)}(),objectOf:y,oneOf:h,oneOfType:g,shape:m};return l.prototype=Error.prototype,D.checkPropTypes=s,D.PropTypes=D,D}},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(false),r.thatReturnsTrue=n(true),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,a,i,s,u){if(o(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,s,u],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(t){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(o=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=r},function(t,e,n){"use strict";var r=n(5),o=r;"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(function(){var t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,a="Warning: "+t.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&false;try{throw new Error(a)}catch(t){}};o=function(e,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];t.apply(void 0,[n].concat(o))}}})(),t.exports=o},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t,e,n,r,u){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var l in t)if(t.hasOwnProperty(l)){var c;try{o("function"==typeof t[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,l),c=t[l](e,l,r,n,null,i)}catch(t){c=t}if(a(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,l,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=true;var f=u?u():"";a(false,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var o=n(6),a=n(7),i=n(8),s={};t.exports=r},function(t,e,n){"use strict";var r=n(5),o=n(6);t.exports=function(){function t(){o(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,n){t.exports=e},function(t,e,n){var r,o;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&t.push(i)}}return t.join(" ")}var a={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(o=function(){return n}.apply(e,r))&&(t.exports=o))}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n,t}function o(t,e){return R||(R=x.findInArray(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return x.isFunction(t[e])})),t[R].call(t,e)}function a(t,e,n){var r=t;do{if(o(r,e))return true;if(r===n)return false;r=r.parentNode}while(r);return false}function i(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,true):t["on"+e]=n)}function s(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,true):t["on"+e]=null)}function u(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=x["int"](n.borderTopWidth),e+=x["int"](n.borderBottomWidth)}function l(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=x["int"](n.borderLeftWidth),e+=x["int"](n.borderRightWidth)}function c(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=x["int"](n.paddingTop),e-=x["int"](n.paddingBottom)}function f(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=x["int"](n.paddingLeft),e-=x["int"](n.paddingRight)}function p(t,e){var n=e===e.ownerDocument.body,r=n?{left:0,top:0}:e.getBoundingClientRect();return{x:t.clientX+e.scrollLeft-r.left,y:t.clientY+e.scrollTop-r.top}}function d(t){var e=t.x,n=t.y;return r({},S.browserPrefixToKey("transform",_["default"]),"translate("+e+"px,"+n+"px)")}function h(t){return"translate("+t.x+","+t.y+")"}function y(t,e){return t.targetTouches&&x.findInArray(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&x.findInArray(t.changedTouches,function(t){return e===t.identifier})}function g(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function m(t){var e=t.getAttribute("style")||"";j.test(e)||t.setAttribute("style",e+E)}function v(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e.replace(j,""))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w({touchAction:"none"},t)}Object.defineProperty(e,"__esModule",{value:true});var w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.matchesSelector=o,e.matchesSelectorAndParentsTo=a,e.addEvent=i,e.removeEvent=s,e.outerHeight=u,e.outerWidth=l,e.innerHeight=c,e.innerWidth=f,e.offsetXYFromParent=p,e.createCSSTransform=d,e.createSVGTransform=h,e.getTouch=y,e.getTouchIdentifier=g,e.addUserSelectStyles=m,e.removeUserSelectStyles=v,e.styleHacks=b;var x=n(14),S=n(15),_=function(t){return t&&t.__esModule?t:{"default":t}}(S),R="",O=S.getPrefix("user-select"),D=S.browserPrefixToStyle("user-select",O),E=";"+D+": none;",j=new RegExp(";?"+D+": none;")},function(t,e){"use strict";function n(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function r(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t&&!isNaN(t)}function a(t){return parseInt(t,10)}function i(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(e,"__esModule",{value:true}),e.findInArray=n,e.isFunction=r,e.isNum=o,e["int"]=a,e.dontSetMe=i},function(t,e){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<i.length;n++)if(r(t,i[n])in e)return i[n];return""}function r(t,e){return e?""+e+a(t):t}function o(t,e){return e?"-"+e.toLowerCase()+"-"+t:t}function a(t){for(var e="",n=true,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=false):"-"===t[r]?n=true:e+=t[r];return e}Object.defineProperty(e,"__esModule",{value:true}),e.getPrefix=n,e.browserPrefixToKey=r,e.browserPrefixToStyle=o;var i=["Moz","Webkit","O","ms"];e["default"]=n()},function(t,e,n){"use strict";function r(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:c(r);var o=d["default"].findDOMNode(t);if("string"==typeof r){var a=o.ownerDocument,i=a.defaultView,s=void 0;if("parent"===r)s=o.parentNode;else if(!(s=a.querySelector(r)))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=i.getComputedStyle(o),l=i.getComputedStyle(s);r={left:-o.offsetLeft+f["int"](l.paddingLeft)+f["int"](u.marginLeft),top:-o.offsetTop+f["int"](l.paddingTop)+f["int"](u.marginTop),right:h.innerWidth(s)-h.outerWidth(o)-o.offsetLeft+f["int"](l.paddingRight)-f["int"](u.marginRight),bottom:h.innerHeight(s)-h.outerHeight(o)-o.offsetTop+f["int"](l.paddingBottom)-f["int"](u.marginBottom)}}return f.isNum(r.right)&&(e=Math.min(e,r.right)),f.isNum(r.bottom)&&(n=Math.min(n,r.bottom)),f.isNum(r.left)&&(e=Math.max(e,r.left)),f.isNum(r.top)&&(n=Math.max(n,r.top)),[e,n]}function o(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]}function a(t){return"both"===t.props.axis||"x"===t.props.axis}function i(t){return"both"===t.props.axis||"y"===t.props.axis}function s(t,e,n){var r="number"==typeof e?h.getTouch(t,e):null;if("number"==typeof e&&!r)return null;var o=d["default"].findDOMNode(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return h.offsetXYFromParent(r||t,a)}function u(t,e,n){var r=t.state;return f.isNum(r.lastX)?{node:d["default"].findDOMNode(t),deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}:{node:d["default"].findDOMNode(t),deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}}function l(t,e){return{node:e.node,x:t.state.x+e.deltaX,y:t.state.y+e.deltaY,deltaX:e.deltaX,deltaY:e.deltaY,lastX:t.state.x,lastY:t.state.y}}function c(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}Object.defineProperty(e,"__esModule",{value:true}),e.getBoundPosition=r,e.snapToGrid=o,e.canDragX=a,e.canDragY=i,e.getControlPosition=s,e.createCoreData=u,e.createDraggableData=l;var f=n(14),p=n(11),d=function(t){return t&&t.__esModule?t:{"default":t}}(p),h=n(13)},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:true});var s=function(){function t(t,e){var n=[],r=true,o=false,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=true);}catch(t){o=true,a=t}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false,r.configurable=true,"value"in r&&(r.writable=true),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=r(l),f=n(3),p=r(f),d=n(11),h=r(d),y=n(13),g=n(16),m=n(14),v=n(19),b=r(v),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=w.mouse,S=function(t){function e(){var t,n,r,i;o(this,e);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={dragging:false,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(t){if(r.props.onMouseDown(t),!r.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return false;var e=h["default"].findDOMNode(r),n=e.ownerDocument;if(!(r.props.disabled||!(t.target instanceof n.defaultView.Node)||r.props.handle&&!y.matchesSelectorAndParentsTo(t.target,r.props.handle,e)||r.props.cancel&&y.matchesSelectorAndParentsTo(t.target,r.props.cancel,e))){var o=y.getTouchIdentifier(t);r.setState({touchIdentifier:o});var a=g.getControlPosition(t,o,r);if(null!=a){var i=a.x,s=a.y,u=g.createCoreData(r,i,s);b["default"]("DraggableCore: handleDragStart: %j",u),b["default"]("calling",r.props.onStart);false!==r.props.onStart(t,u)&&(r.props.enableUserSelectHack&&y.addUserSelectStyles(n.body),r.setState({dragging:true,lastX:i,lastY:s}),y.addEvent(n,x.move,r.handleDrag),y.addEvent(n,x.stop,r.handleDragStop))}}},r.handleDrag=function(t){"touchmove"===t.type&&t.preventDefault();var e=g.getControlPosition(t,r.state.touchIdentifier,r);if(null!=e){var n=e.x,o=e.y;if(Array.isArray(r.props.grid)){var a=n-r.state.lastX,i=o-r.state.lastY,u=g.snapToGrid(r.props.grid,a,i),l=s(u,2);if(a=l[0],i=l[1],!a&&!i)return;n=r.state.lastX+a,o=r.state.lastY+i}var c=g.createCoreData(r,n,o);b["default"]("DraggableCore: handleDrag: %j",c);if(false!==r.props.onDrag(t,c))r.setState({lastX:n,lastY:o});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(t){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",true,true,window,0,0,0,0,0,false,false,false,false,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(t){if(r.state.dragging){var e=g.getControlPosition(t,r.state.touchIdentifier,r);if(null!=e){var n=e.x,o=e.y,a=g.createCoreData(r,n,o),i=h["default"].findDOMNode(r),s=i.ownerDocument;r.props.enableUserSelectHack&&y.removeUserSelectStyles(s.body),b["default"]("DraggableCore: handleDragStop: %j",a),r.setState({dragging:false,lastX:NaN,lastY:NaN}),r.props.onStop(t,a),b["default"]("DraggableCore: Removing handlers"),y.removeEvent(s,x.move,r.handleDrag),y.removeEvent(s,x.stop,r.handleDragStop)}}},r.onMouseDown=function(t){return x=w.mouse,r.handleDragStart(t)},r.onMouseUp=function(t){return x=w.mouse,r.handleDragStop(t)},r.onTouchStart=function(t){return x=w.touch,r.handleDragStart(t)},r.onTouchEnd=function(t){return x=w.touch,r.handleDragStop(t)},i=n,a(r,i)}return i(e,t),u(e,[{key:"componentWillUnmount",value:function(){var t=h["default"].findDOMNode(this),e=t.ownerDocument;y.removeEvent(e,w.mouse.move,this.handleDrag),y.removeEvent(e,w.touch.move,this.handleDrag),y.removeEvent(e,w.mouse.stop,this.handleDragStop),y.removeEvent(e,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&y.removeUserSelectStyles(e.body)}},{key:"render",value:function(){return c["default"].cloneElement(c["default"].Children.only(this.props.children),{style:y.styleHacks(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(c["default"].Component);S.displayName="DraggableCore",S.propTypes={allowAnyClick:p["default"].bool,disabled:p["default"].bool,enableUserSelectHack:p["default"].bool,offsetParent:function(e,n){if(t.browser&&e[n]&&1!==e[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:p["default"].arrayOf(p["default"].number),handle:p["default"].string,cancel:p["default"].string,onStart:p["default"].func,onDrag:p["default"].func,onStop:p["default"].func,onMouseDown:p["default"].func,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe},S.defaultProps={allowAnyClick:false,cancel:null,disabled:false,enableUserSelectHack:true,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},e["default"]=S}).call(e,n(18))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function i(){y&&d&&(y=false,d.length?h=d.concat(h):g=-1,h.length&&s())}function s(){if(!y){var t=o(i);y=true;for(var e=h.length;e;){for(d=h,h=[];++g<e;)d&&d[g].run();g=-1,e=h.length}d=null,y=false,a(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,h=[],y=false,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||y||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=true,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=r}])})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(0),c=r(l),f=n(1),p=r(f),d=n(7),h=n(19),y=r(h),g=function(t){function e(){var n,r,o;a(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,t.call.apply(t,[this].concat(u))),r.state={resizing:false,width:r.props.width,height:r.props.height,slackW:0,slackH:0},o=n,i(r,o)}return s(e,t),e.prototype.componentWillReceiveProps=function(t){this.state.resizing||t.width===this.props.width&&t.height===this.props.height||this.setState({width:t.width,height:t.height})},e.prototype.lockAspectRatio=function(t,e,n){return e=t/n,t=e*n,[t,e]},e.prototype.runConstraints=function(t,e){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(this.props.lockAspectRatio){var a=this.state.width/this.state.height;e=t/a,t=e*a}if(!r&&!o)return[t,e];var i=t,s=e,u=this.state,l=u.slackW,c=u.slackH;return t+=l,e+=c,r&&(t=Math.max(r[0],t),e=Math.max(r[1],e)),o&&(t=Math.min(o[0],t),e=Math.min(o[1],e)),l+=i-t,c+=s-e,l===this.state.slackW&&c===this.state.slackH||this.setState({slackW:l,slackH:c}),[t,e]},e.prototype.resizeHandler=function(t){var e=this;return function(n,r){var o=r.node,a=r.deltaX,i=r.deltaY,s="both"===e.props.axis||"x"===e.props.axis,u="both"===e.props.axis||"y"===e.props.axis,l=e.state.width+(s?a:0),c=e.state.height+(u?i:0),f=l!==e.state.width,p=c!==e.state.height;if("onResize"!==t||f||p){var d=e.runConstraints(l,c);l=d[0],c=d[1];var h={};if("onResizeStart"===t)h.resizing=true;else if("onResizeStop"===t)h.resizing=false,h.slackW=h.slackH=0;else{if(l===e.state.width&&c===e.state.height)return;h.width=l,h.height=c}"function"==typeof e.props[t]?("function"==typeof n.persist&&n.persist(),e.setState(h,function(){return e.props[t](n,{node:o,size:{width:l,height:c}})})):e.setState(h)}}},e.prototype.render=function(){var t=this.props,e=t.children,n=t.draggableOpts,r=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,o(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),a=r.className?r.className+" react-resizable":"react-resizable";return y["default"](e,u({},r,{className:a,children:[e.props.children,c["default"].createElement(d.DraggableCore,u({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),c["default"].createElement("span",{className:"react-resizable-handle"}))]}))},e}(c["default"].Component);g.propTypes={children:p["default"].element.isRequired,width:p["default"].number.isRequired,height:p["default"].number.isRequired,handleSize:p["default"].array,lockAspectRatio:p["default"].bool,axis:p["default"].oneOf(["both","x","y","none"]),minConstraints:p["default"].arrayOf(p["default"].number),maxConstraints:p["default"].arrayOf(p["default"].number),onResizeStop:p["default"].func,onResizeStart:p["default"].func,onResize:p["default"].func,draggableOpts:p["default"].object},g.defaultProps={handleSize:[20,20],lockAspectRatio:false,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},e["default"]=g},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(0),c=r(l),f=n(1),p=r(f),d=n(3),h=r(d),y=n(2),g=n(5),m=n(4),v=r(m),b=function(){},w=function(t){return Object.prototype.toString.call(t)},x=function(t){function e(){var n,r,o;a(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=i(this,t.call.apply(t,[this].concat(l))),r.state=r.generateInitialState(),r.onLayoutChange=function(t){var e;r.props.onLayoutChange(t,u({},r.props.layouts,(e={},e[r.state.breakpoint]=t,e)))},o=n,i(r,o)}return s(e,t),e.prototype.generateInitialState=function(){var t=this.props,e=t.width,n=t.breakpoints,r=t.layouts,o=t.verticalCompact,a=t.cols,i=g.getBreakpointFromWidth(n,e),s=g.getColsFromBreakpoint(i,a);return{layout:g.findOrGenerateResponsiveLayout(r,n,i,i,s,o),breakpoint:i,cols:s}},e.prototype.componentWillReceiveProps=function(t){if(t.width==this.props.width&&t.breakpoint===this.props.breakpoint&&h["default"](t.breakpoints,this.props.breakpoints)&&h["default"](t.cols,this.props.cols)){if(!h["default"](t.layouts,this.props.layouts)){var e=this.state,n=e.breakpoint,r=e.cols,o=g.findOrGenerateResponsiveLayout(t.layouts,t.breakpoints,n,n,r,t.verticalCompact);this.setState({layout:o})}}else this.onWidthChange(t)},e.prototype.onWidthChange=function(t){var e=t.breakpoints,n=t.cols,r=t.layouts,o=t.verticalCompact,a=t.breakpoint||g.getBreakpointFromWidth(t.breakpoints,t.width),i=this.state.breakpoint;if(i!==a||this.props.breakpoints!==e||this.props.cols!==n){i in r||(r[i]=y.cloneLayout(this.state.layout));var s=g.getColsFromBreakpoint(a,n),u=g.findOrGenerateResponsiveLayout(r,e,a,i,s,o);u=y.synchronizeLayoutWithChildren(u,t.children,s,o),r[a]=u,this.props.onLayoutChange(u,r),this.props.onBreakpointChange(a,s),this.props.onWidthChange(t.width,t.margin,s,t.containerPadding),this.setState({breakpoint:a,layout:u,cols:s})}},e.prototype.render=function(){var t=this.props,e=(t.breakpoint,t.breakpoints,t.cols,t.layouts,t.onBreakpointChange,t.onLayoutChange,t.onWidthChange,o(t,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return c["default"].createElement(v["default"],u({},e,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},e}(c["default"].Component);x.propTypes={breakpoint:p["default"].string,breakpoints:p["default"].object,cols:p["default"].object,layouts:function(t,e){if("[object Object]"!==w(t[e]))throw new Error("Layout property must be an object. Received: "+w(t[e]));Object.keys(t[e]).forEach(function(e){if(!(e in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");y.validateLayout(t.layouts[e],"layouts."+e)})},width:p["default"].number.isRequired,onBreakpointChange:p["default"].func,onLayoutChange:p["default"].func,onWidthChange:p["default"].func},x.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:b,onLayoutChange:b,onWidthChange:b},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),l=r(u),c=n(1),f=r(c),p=n(9),d=r(p),h=function(t){var e,n;return n=e=function(e){function n(){var t,r,i;o(this,n);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return t=r=a(this,e.call.apply(e,[this].concat(u))),r.state={width:1280},r.mounted=false,r.onWindowResize=function(t){if(r.mounted){var e=d["default"].findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},i=t,a(r,i)}return i(n,e),n.prototype.componentDidMount=function(){this.mounted=true,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=false,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){return this.props.measureBeforeMount&&!this.mounted?l["default"].createElement("div",{className:this.props.className,style:this.props.style}):l["default"].createElement(t,s({},this.props,this.state))},n}(l["default"].Component),e.defaultProps={measureBeforeMount:false},e.propTypes={measureBeforeMount:f["default"].bool},n};e["default"]=h},function(t,e,n){"use strict";t.exports=n(4)["default"],t.exports.utils=n(2),t.exports.Responsive=n(10)["default"],t.exports.Responsive.utils=n(5),t.exports.WidthProvider=n(11)["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),l=r(u),c=n(1),f=r(c),p=n(7),d=n(20),h=n(2),y=n(6),g=r(y),m=function(t){function e(){var n,r,i;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,t.call.apply(t,[this].concat(u))),r.state={resizing:null,dragging:null,className:""},i=n,a(r,i)}return i(e,t),e.prototype.calcColWidth=function(){var t=this.props,e=t.margin,n=t.containerPadding,r=t.containerWidth,o=t.cols;return(r-e[0]*(o-1)-2*n[0])/o},e.prototype.calcPosition=function(t,e,n,r,o){var a=this.props,i=a.margin,s=a.containerPadding,u=a.rowHeight,l=this.calcColWidth(),c={left:Math.round((l+i[0])*t+s[0]),top:Math.round((u+i[1])*e+s[1]),width:n===1/0?n:Math.round(l*n+Math.max(0,n-1)*i[0]),height:r===1/0?r:Math.round(u*r+Math.max(0,r-1)*i[1])};return o&&o.resizing&&(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)),o&&o.dragging&&(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)),c},e.prototype.calcXY=function(t,e){var n=this.props,r=n.margin,o=n.cols,a=n.rowHeight,i=n.w,s=n.h,u=n.maxRows,l=this.calcColWidth(),c=Math.round((e-r[0])/(l+r[0])),f=Math.round((t-r[1])/(a+r[1]));return c=Math.max(Math.min(c,o-i),0),f=Math.max(Math.min(f,u-s),0),{x:c,y:f}},e.prototype.calcWH=function(t){var e=t.height,n=t.width,r=this.props,o=r.margin,a=r.maxRows,i=r.cols,s=r.rowHeight,u=r.x,l=r.y,c=this.calcColWidth(),f=Math.round((n+o[0])/(c+o[0])),p=Math.round((e+o[1])/(s+o[1]));return f=Math.max(Math.min(f,i-u),0),p=Math.max(Math.min(p,a-l),0),{w:f,h:p}},e.prototype.createStyle=function(t){var e=this.props,n=e.usePercentages,r=e.containerWidth,o=e.useCSSTransforms,a=void 0;return o?a=h.setTransform(t):(a=h.setTopLeft(t),n&&(a.left=h.perc(t.left/r),a.width=h.perc(t.width/r))),a},e.prototype.mixinDraggable=function(t){return l["default"].createElement(p.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},t)},e.prototype.mixinResizable=function(t,e){var n=this.props,r=n.cols,o=n.x,a=n.minW,i=n.minH,s=n.maxW,u=n.maxH,c=this.calcPosition(0,0,r-o,0).width,f=this.calcPosition(0,0,a,i),p=this.calcPosition(0,0,s,u),h=[f.width,f.height],y=[Math.min(p.width,c),Math.min(p.height,1/0)];return l["default"].createElement(d.Resizable,{width:e.width,height:e.height,minConstraints:h,maxConstraints:y,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},t)},e.prototype.onDragHandler=function(t){var e=this;return function(n,r){var o=r.node,a=r.deltaX,i=r.deltaY;if(e.props[t]){var s={top:0,left:0};switch(t){case"onDragStart":var u=o.offsetParent.getBoundingClientRect(),l=o.getBoundingClientRect();s.left=l.left-u.left,s.top=l.top-u.top,e.setState({dragging:s});break;case"onDrag":if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");s.left=e.state.dragging.left+a,s.top=e.state.dragging.top+i,e.setState({dragging:s});break;case"onDragStop":if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");s.left=e.state.dragging.left,s.top=e.state.dragging.top,e.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+t)}var c=e.calcXY(s.top,s.left),f=c.x,p=c.y;e.props[t](e.props.i,f,p,{e:n,node:o,newPosition:s})}}},e.prototype.onResizeHandler=function(t){var e=this;return function(n,r){var o=r.node,a=r.size;if(e.props[t]){var i=e.props,s=i.cols,u=i.x,l=i.i,c=i.maxW,f=i.minW,p=i.maxH,d=i.minH,h=e.calcWH(a),y=h.w,g=h.h;y=Math.min(y,s-u),y=Math.max(y,1),y=Math.max(Math.min(y,c),f),g=Math.max(Math.min(g,p),d),e.setState({resizing:"onResizeStop"===t?null:a}),e.props[t](l,y,g,{e:n,node:o,size:a})}}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.w,o=t.h,a=t.isDraggable,i=t.isResizable,u=t.useCSSTransforms,c=this.calcPosition(e,n,r,o,this.state),f=l["default"].Children.only(this.props.children),p=l["default"].cloneElement(f,{className:g["default"]("react-grid-item",f.props.className,this.props.className,{"static":this.props["static"],resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:u}),style:s({},this.props.style,f.props.style,this.createStyle(c))});return i&&(p=this.mixinResizable(p,c)),a&&(p=this.mixinDraggable(p)),p},e}(l["default"].Component);m.propTypes={children:f["default"].element,cols:f["default"].number.isRequired,containerWidth:f["default"].number.isRequired,rowHeight:f["default"].number.isRequired,margin:f["default"].array.isRequired,maxRows:f["default"].number.isRequired,containerPadding:f["default"].array.isRequired,x:f["default"].number.isRequired,y:f["default"].number.isRequired,w:f["default"].number.isRequired,h:f["default"].number.isRequired,minW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minWidth not Number"):n>t.w||n>t.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxWidth not Number"):n<t.w||n<t.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minHeight not Number"):n>t.h||n>t.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxHeight not Number"):n<t.h||n<t.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:f["default"].string.isRequired,onDragStop:f["default"].func,onDragStart:f["default"].func,onDrag:f["default"].func,onResizeStop:f["default"].func,onResizeStart:f["default"].func,onResize:f["default"].func,isDraggable:f["default"].bool.isRequired,isResizable:f["default"].bool.isRequired,"static":f["default"].bool,useCSSTransforms:f["default"].bool.isRequired,className:f["default"].string,handle:f["default"].string,cancel:f["default"].string},m.defaultProps={className:"",cancel:"",minH:1,minW:1,maxH:1/0,maxW:1/0},e["default"]=m},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(false),o.thatReturnsTrue=r(true),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function r(t,e,n,r,a,i,s,u){if(o(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,s,u],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(t){};t.exports=r},function(t,e,n){"use strict";var r=n(14),o=n(15),a=n(17);t.exports=function(){function t(t,e,n,r,i,s){s!==a&&o(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=true;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(0),c=r(l),f=n(1),p=r(f),d=n(8),h=r(d),y=function(t){function e(){var n,r,o;a(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,t.call.apply(t,[this].concat(u))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(t,e){var n=e.size;n.width,n.height;r.props.onResize?(t.persist&&t.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(t,e)})):r.setState(n)},o=n,i(r,o)}return s(e,t),e.prototype.componentWillReceiveProps=function(t){t.width===this.props.width&&t.height===this.props.height||this.setState({width:t.width,height:t.height})},e.prototype.render=function(){var t=this.props,e=t.handleSize,n=(t.onResize,t.onResizeStart),r=t.onResizeStop,a=t.draggableOpts,i=t.minConstraints,s=t.maxConstraints,l=t.lockAspectRatio,f=t.axis,p=(t.width,t.height,o(t,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return c["default"].createElement(h["default"],{handleSize:e,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:r,draggableOpts:a,minConstraints:i,maxConstraints:s,lockAspectRatio:l,axis:f},c["default"].createElement("div",u({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},e}(c["default"].Component);y.propTypes={height:p["default"].number,width:p["default"].number},y.defaultProps={handleSize:[20,20]},e["default"]=y},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=function(t){return t&&t.__esModule?t:{"default":t}}(o);t.exports=function(t,e){return e.style&&t.props.style&&(e.style=r({},t.props.style,e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),a["default"].cloneElement(t,e)}},function(t,e,n){"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use ")},t.exports.Resizable=n(8)["default"],t.exports.ResizableBox=n(18)["default"]},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])})}),null);
__d("AnalyticsEditableGridChartLayout",["cx","invariant","AnalyticsChart","AnalyticsChartDeleteMutation","AnalyticsEditableGridChartLayoutUtils","AnalyticsChartSize","AnalyticsDashboardActions","AnalyticsDashboardEditMutation","GriffinChartDeleteModal","immutable","InsightsEventLogger","Locale","React","ReactGridLayout","ShimButton.react","areEqual"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("ReactGridLayout").utils,m=l.compact,n=l.correctBounds,o=c("ReactGridLayout").WidthProvider,p=o(c("ReactGridLayout")),q=c("immutable").List,r=c("immutable").Map;j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.$AnalyticsEditableGridChartLayout1=function(u,v,w){this.setState({layout:c("immutable").fromJS(u)},function(){return this.$AnalyticsEditableGridChartLayout4(u,v,w)}.bind(this))}.bind(this);this.$AnalyticsEditableGridChartLayout8=function(u){this.setState({chartDeleteModalChartID:u})}.bind(this);this.$AnalyticsEditableGridChartLayout11=function(){this.setState({chartDeleteModalChartID:null})}.bind(this);this.$AnalyticsEditableGridChartLayout12=function(){var u=this.state.chartDeleteModalChartID;u!=null||i(0);this.props.dashboardID!=null||i(0);c("AnalyticsChartDeleteMutation").commit({chart_id:u,dashboard_id:this.props.dashboardID},{onCompleted:function(v){this.$AnalyticsEditableGridChartLayout5("dashboard_chart_delete_complete",{chartID:u})}.bind(this),onError:function(v){this.$AnalyticsEditableGridChartLayout5("dashboard_chart_delete_error",{chartID:u})}.bind(this)});this.setState({chartDeleteModalChartID:null})}.bind(this);this.state=s.getStateFromProps(t)}s.prototype.componentWillReceiveProps=function(t){if(!c("areEqual")([this.props.numColumns,this.props.chartSizeWeights,this.props.dashboardID],[t.numColumns,t.chartSizeWeights,t.dashboardID]))this.setState(s.getStateFromProps(t))};s.getStateFromProps=function(t){var u=t.charts,v=t.numColumns,w=t.chartSizeWeights;return{layout:c("immutable").fromJS(c("AnalyticsEditableGridChartLayoutUtils").getLayout(u,v,w)),chartDeleteModalChartID:null}};s.prototype.render=function(){var t=this.props.numColumns,u=this.state.layout;return c("React").createElement("div",null,c("React").createElement(p,{className:"_1nu0",cols:t,isDraggable:!this.props.isReadOnly,isResizable:false,layout:u.toJS(),margin:[12,12],onDragStop:this.$AnalyticsEditableGridChartLayout1,rowHeight:423},this.$AnalyticsEditableGridChartLayout2()),this.$AnalyticsEditableGridChartLayout3())};s.prototype.$AnalyticsEditableGridChartLayout4=function(t,u,v){var w=this.props,x=w.chartSizeWeights,y=w.dashboardID,z=w.numColumns;y!=null||i(0);this.$AnalyticsEditableGridChartLayout5("dashboard_chart_layout_update",{columnNumber:z});this.$AnalyticsEditableGridChartLayout6();if(u.w!==v.w)c("AnalyticsDashboardActions").resizeChart(v.i);var A=c("AnalyticsEditableGridChartLayoutUtils").getAPILayout(t,z,x),B={dashboard_id:y,layout:A};c("AnalyticsDashboardEditMutation").commit(B)};s.prototype.$AnalyticsEditableGridChartLayout6=function(){window.dispatchEvent(new Event("resize"))};s.prototype.$AnalyticsEditableGridChartLayout2=function(){return this.props.charts.map(function(t,u){if(t.chart){var v=t.chart;return this.$AnalyticsEditableGridChartLayout7(v,u)}else return null}.bind(this)).filter(function(t){return t!==null})};s.prototype.$AnalyticsEditableGridChartLayout7=function(t,u){var v=this.props.chartSizeWeights,w=this.state.layout,x=c("AnalyticsEditableGridChartLayoutUtils").getPositionID(t,u),y=w.find(function(y){return y.get("i")===x});y||i(0);var z=Number(y.get("w")),A=c("AnalyticsEditableGridChartLayoutUtils").getSizeFromWidth(v,z),B=c("Locale").isRTL()?"rtl":"ltr";return c("React").createElement("div",{className:"_1nu1"+(!this.props.isReadOnly?" _3x4j":"")+(A===c("AnalyticsChartSize").LARGE?" _1nu3":"")+(A===c("AnalyticsChartSize").MEDIUM?" _1nu4":"")+(A===c("AnalyticsChartSize").SMALL?" _1nu5":""),dir:B,key:x},c("React").createElement(c("AnalyticsChart"),{chart:t,chartSize:A,dashboardID:this.props.dashboardID,inheritedSegment:this.props.inheritedSegment,isReadOnly:this.props.isReadOnly,onDelete:this.$AnalyticsEditableGridChartLayout8,uniform:this.props.uniform}),this.$AnalyticsEditableGridChartLayout9(t,u))};s.prototype.$AnalyticsEditableGridChartLayout9=function(t,u){if(this.props.isReadOnly)return null;else return c("React").createElement(c("ShimButton.react"),{className:"_1nu2",onClick:function(){return this.$AnalyticsEditableGridChartLayout10(t,u)}.bind(this),onMouseDown:function v(w){return w.stopPropagation()}})};s.prototype.$AnalyticsEditableGridChartLayout3=function(){var t=this.state.chartDeleteModalChartID;if(t===null)return null;else return c("React").createElement(c("GriffinChartDeleteModal"),{onCancel:this.$AnalyticsEditableGridChartLayout11,onDelete:this.$AnalyticsEditableGridChartLayout12})};s.prototype.$AnalyticsEditableGridChartLayout10=function(t,u){var v=this.props.numColumns,w=this.state.layout,x=w.findIndex(function(D){return D.get("i")===c("AnalyticsEditableGridChartLayoutUtils").getPositionID(t,u)}),y=w.getIn([x,"w"]),z=y===1?2:1,A=w.setIn([x,"w"],z).toJS();A=m(n(A,{cols:v}),true);var B=w.get(x).toJS(),C=A[x];this.$AnalyticsEditableGridChartLayout1(A,B,C)};s.prototype.$AnalyticsEditableGridChartLayout5=function(t,u){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:t,dashboardID:this.props.dashboardID},u))};f.exports=s}),null);
__d("AnalyticsReadonlyResponsiveChartLayout",["cx","AnalyticsChart","AnalyticsOverviewChartUniform","React","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=[],m=[],n=this.props.numColumns;this.props.chartPlacements.forEach(function(o,p){var q=o.chart,r=o.size,s=this.props.chartSizeWeights[c("nullthrows")(r)];if(s>n){this.$AnalyticsReadonlyResponsiveChartLayout1(l,m);n=this.props.numColumns;m=[]}m.push({chart:c("React").createElement(c("AnalyticsChart"),{chart:q,chartSize:r,dashboardID:this.props.dashboardID,inheritedSegment:this.props.inheritedSegment,isReadOnly:true,key:p,onDelete:c("emptyFunction"),sessionLoggerID:this.props.sessionLoggerID,uniform:c("AnalyticsOverviewChartUniform")}),widthRatio:s/this.props.numColumns});n-=s}.bind(this));this.$AnalyticsReadonlyResponsiveChartLayout1(l,m);return l};k.prototype.$AnalyticsReadonlyResponsiveChartLayout1=function(l,m){if(m.length!=0){var n=m.map(function(o,p){return c("React").createElement("div",{key:"cell_"+p,style:{flexBasis:o.widthRatio*100+"%"}},c("React").createElement("div",{className:"_62y5"},o.chart))});l.push(c("React").createElement("div",{className:"_45le",key:"row_"+l.length},n))}};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsDashboardOverlapChartCard",["AnalyticsAggregationChartFragmentContainer","AnalyticsDashboardChartCard","AnalyticsOverlapChartCard","React","nullthrows"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.chart,m=k.dashboardID,n=k.inheritedDateRange,o=k.inheritedDateRangeType,p=k.inheritedSegment,q=k.isReadOnly,r=k.onDelete,s=l.id,t=l.name,u=l.inherit_segment,v=l.queries,w=c("nullthrows")(v[0]);return c("React").createElement(c("AnalyticsDashboardChartCard"),{chartDateRange:w.date_range,chartID:s,chartName:t,chartSegments:[w.segment],chartType:"OVERLAP_CHART",dashboardID:m,inheritedDateRange:n,inheritedDateRangeType:o,inheritedSegment:p,inheritSegment:u,isReadOnly:q,onDelete:r,showEditIcon:false},c("React").createElement(c("AnalyticsOverlapChartCard"),this.props))};function j(){"use strict";h.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(j)}),null);
__d("AnalyticsEventLoggerStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").COMMON,m={mau:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case l.INITIALIZE:return p.set("mau",q.action.data);default:return p}};o.prototype.getMAU=function(){return this.getState().mau};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("AnalyticsOverlapUtils",["AnalyticsQueryBreakdownUtils","AppEventsReservedBreakdownValues"],(function a(b,c,d,e,f,g){"use strict";var h=0,i=Array(11).fill(0),j=.01,k="u",l=5,m=10,n=100,o={LOW_VALUE_THRESHOLD:j,OVERLAP_LIMIT:m,OVERLAP_MAU_THRESHOLD:n,getTotalCount:function p(q){var r=q.find(function(s){return s.slice(0,m).every(function(t){return t===h})});return r?r[m]:0},getRawResult:function p(q){return JSON.parse(q[0][2].toString()).map(function(r){return r.map(function(s){return s===k?h:s})}).sort(function(r,s){return s[m]-r[m]})},getFilterResult:function p(q){var r=q.some(function(t){return t.slice(0,m).reduce(function(u,v){return u+v})>1}),s=r?1:0;return this._chooseNColumns(q.filter(function(t){return t.slice(0,m).reduce(function(u,v){return u+v})>s}),l)},getMeta:function p(q,r,s,t){var u=JSON.parse(q[0][1].toString());if(u===k)return[];var v=u.map(function(w){return c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(s,w?w.toString():c("AppEventsReservedBreakdownValues").UNKNOWN,r)});return t?v.slice(0,t):v},_chooseNColumns:function p(q,r){var s=q.slice();for(var t=s.length;t<r;t++)s.push(i);return s.slice(0,r)},isLowValue:function p(q){var r=o.getRawResult(q),s=o.getFilterResult(r),t=o.getTotalCount(r);return t===0||s[0][o.OVERLAP_LIMIT]/t<o.LOW_VALUE_THRESHOLD},isSingleBucket:function p(q){return JSON.parse(q[0][1].toString()).length<=1}};f.exports=o}),null);
__d("AnalyticsOverviewOverlapChartCard",["invariant","AnalyticsAggregationChartFragmentContainer","AnalyticsAggregationChartQueryRenderer","AnalyticsEventLoggerStore","AnalyticsOverlapUtils","AnalyticsOverlapView","AnalyticsOverviewChartCard","AnalyticsOverviewDashboardUtils","FalcorErrorNotice","GriffinSections","React","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=35;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.render=function(){if(this.$AnalyticsOverviewOverlapChartCard1())return null;else return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,renderBody:this.$AnalyticsOverviewOverlapChartCard2.bind(this)})};n.prototype.$AnalyticsOverviewOverlapChartCard2=function(){var p=this.props.error;if(p)return c("React").createElement(c("FalcorErrorNotice"),{message:this.props.error,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(this.props.chartSize)}});else{var q=this.props,r=q.apiData,s=q.chartSize,t=q.chart,u=t.queries[0],v=u.event_name,w=u.breakdowns,x=u.limit;return c("React").createElement(c("AnalyticsOverlapView"),{apiData:c("nullthrows")(r),bucketsLimit:x||5,breakdown:w[0],eventName:v,height:c("AnalyticsOverviewDashboardUtils").getCardChartHeight(s)-m*c("nullthrows")(r).length,section:c("GriffinSections").OVERVIEW})}};n.prototype.$AnalyticsOverviewOverlapChartCard1=function(){if(this.props.isLoading)return true;else if(this.props.error)return false;if((c("AnalyticsEventLoggerStore").getMAU()||0)<c("AnalyticsOverlapUtils").OVERLAP_MAU_THRESHOLD)return true;var p=c("nullthrows")(this.props.apiData);if(p.length===0)return true;return c("AnalyticsOverlapUtils").isSingleBucket(p)||c("AnalyticsOverlapUtils").isLowValue(p)};function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AnalyticsOverviewOverlapChartCardWithQueryRenderer1=function(u,v,w){return c("React").createElement(n,babelHelpers["extends"]({},this.props,{isLoading:u,apiData:this.$AnalyticsOverviewOverlapChartCardWithQueryRenderer2(v),error:w}))}.bind(this),q}o.prototype.render=function(){return c("React").createElement(c("AnalyticsAggregationChartQueryRenderer"),babelHelpers["extends"]({},this.props,{render:this.$AnalyticsOverviewOverlapChartCardWithQueryRenderer1}))};o.prototype.$AnalyticsOverviewOverlapChartCardWithQueryRenderer2=function(p){if(p.length===0)return null;p.length===1||h(0);var q=p[0].result;return q.getResultAsRows().toJS()};f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(o)}),null);
__d("AnalyticsDashboardTimeSeriesChartCard",["AnalyticsAggregationChartFragmentContainer","AnalyticsDashboardChartCard","AnalyticsTimeSeriesChart","React","nullthrows"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.chart,m=k.dashboardID,n=k.inheritedDateRange,o=k.inheritedDateRangeType,p=k.inheritedSegment,q=k.isReadOnly,r=k.onDelete,s=l.id,t=l.name,u=l.inherit_segment,v=l.queries,w=c("nullthrows")(v[0]);return c("React").createElement(c("AnalyticsDashboardChartCard"),{chartDateRange:w.date_range,chartID:s,chartName:t,chartSegments:v.map(function(x){return x.segment}),chartType:"TIME_SERIES",dashboardID:m,inheritedDateRange:n,inheritedDateRangeType:o,inheritedSegment:p,inheritSegment:u,isReadOnly:q,onDelete:r,showEditIcon:true},c("React").createElement(c("AnalyticsTimeSeriesChart"),this.props))};function j(){"use strict";h.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(j)}),null);
__d("AnalyticsOverviewTimeSeriesChart",["AnalyticsAggregationChartFragmentContainer","AnalyticsAggregationChartQueryUtils","AnalyticsOverviewDashboardUtils","AnalyticsDateUtils","AnalyticsMetricConfigs","AnalyticsOverviewChartCard","AnalyticsPredefinedBreakdownValues","AnalyticsTimeSeriesChartQueryRenderer","BUIInsightsHoverCardChart.react","AnalyticsCandelaUtils","GriffinToggleableLegend.react","InsightsChartWithLegend.react","DateTime","FalcorErrorNotice","FalcorLoadingCard","GriffinCandelaTheme","GriffinResizableChart","BUIInsightsLineAreaChart.react","InsightsItems","InsightsNumUtils","React","Timezone","areEqual","flattenArray","immutable","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,aa=c("InsightsItems").BaseItem,l=c("InsightsItems").ItemDescriptor,m=c("InsightsItems").SeriesDataItem,n=c("Timezone").UTC,ba=c("immutable").OrderedSet,o=c("immutable").Set,p=26;h=babelHelpers.inherits(q,c("React").PureComponent);i=h&&h.prototype;function q(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=i.constructor).call.apply(t,[this].concat(w)),this.state={allKeys:o(),disabledKeys:o()},this.$AnalyticsOverviewTimeSeriesChart4=function(y){var z=this.state.disabledKeys;if(z.has(y.key))z=z["delete"](y.key);else z=z.add(y.key);this.setState({disabledKeys:z})}.bind(this),u}q.prototype.componentWillReceiveProps=function(t){if(!t.isLoading){var u=this.$AnalyticsOverviewTimeSeriesChart1(t);if(!c("areEqual")(this.state.allKeys,u))this.setState({allKeys:u,disabledKeys:o()})}};q.prototype.render=function(){return c("React").createElement(c("AnalyticsOverviewChartCard"),{chart:this.props.chartFragment,renderBody:this.$AnalyticsOverviewTimeSeriesChart2.bind(this)})};q.prototype.$AnalyticsOverviewTimeSeriesChart2=function(){var t=this.props,u=t.chart,v=t.chartSize,w=t.isLoading,x=t.aggregationQueryResults,y=t.error,z=t.timezoneID,A=t.inheritedDateRange,B=t.inheritedDateRangeType,C=u.queries;if(w)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(v)});else if(y)return c("React").createElement(c("FalcorErrorNotice"),{message:y,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(v)}});var D=c("AnalyticsCandelaUtils").Generic.getTotalRows(x);if(!D)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED,style:{height:c("AnalyticsOverviewDashboardUtils").getNoDataHeight(v)}});var E=c("nullthrows")(this.props.data),F=c("nullthrows")(this.props.schema),G=C[0],H=c("AnalyticsAggregationChartQueryUtils").getAggregationPeriod(G,this.props.inheritedDateRangeType),I=c("AnalyticsCandelaUtils").Timeseries.getIndependentScaleBuilder(F,E,H,z),J=c("AnalyticsCandelaUtils").Timeseries.getDependentScaleBuilders(F);J.forEach(function(V){var W=V.getSeriesNames().filter(function(X){return!this.state.disabledKeys.has(m.getKeyForSeriesName(X))}.bind(this));V.seriesNames(W)}.bind(this));var K=c("AnalyticsCandelaUtils").Timeseries.getItemsFromSchema(F,E),L=c("flattenArray")(x.map(function(V){var W=V.queryConfig,X=V.result,Y=W.event_name,Z=W.metric,$=c("AnalyticsAggregationChartQueryUtils").resolveMetricGivenAggregationPeriod(Z,H);return c("AnalyticsMetricConfigs").getMetricConfig($,Y,X.hasUSDValue())})),M=c("AnalyticsCandelaUtils").Timeseries.getFormatterFactory(L),N=G.date_range,O=c("AnalyticsDateUtils").getFixedDateRangeWithInheritanceCheck({type:B,since:c("DateTime").fromDate(A.since,n),until:c("DateTime").fromDate(A.until,n)},N,z),P=O.until,Q=c("AnalyticsCandelaUtils").Timeseries.getTitleElementFactory(H,P,this.props.timezoneID),R=c("AnalyticsCandelaUtils").Generic.getAutoColors(c("GriffinCandelaTheme"),c("AnalyticsCandelaUtils").Timeseries.getDependentSeriesNames(F)),S=c("AnalyticsCandelaUtils").Timeseries.getAxisFormatter(L,H,false),T=K.count()>1,U=c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:K,formatterFactory:M,titleElementGetter:Q},c("React").createElement(c("BUIInsightsLineAreaChart.react"),{autoColors:R,axisMarkFormatterFactory:S,data:E,height:c("AnalyticsOverviewDashboardUtils").getCardChartHeight(v)-(T?p:0),plotX:I,plotY:J,ref:"chart",schema:F,styles:{'axis[orientation="vertical"][alignment="left"]':{width:70}}})));if(!T)return U;else return c("React").createElement(c("InsightsChartWithLegend.react"),{chart:U,items:this.$AnalyticsOverviewTimeSeriesChart3(K)},c("React").createElement(c("GriffinToggleableLegend.react"),{autoColors:R,chartID:u.id,disabledKeys:this.state.disabledKeys,hideMargins:true,items:K,onToggle:this.$AnalyticsOverviewTimeSeriesChart4}))};q.prototype.$AnalyticsOverviewTimeSeriesChart3=function(t){if(!this.$AnalyticsOverviewTimeSeriesChart5())return t;return t.map(function(u){return new m({defaultDescriptor:new l({labelText:u.label.toString(),valueText:this.$AnalyticsOverviewTimeSeriesChart6(u.key)}),seriesName:u.key})}.bind(this))};q.prototype.$AnalyticsOverviewTimeSeriesChart6=function(t){var u=c("nullthrows")(this.props.data),v=u[u.length-1];return c("InsightsNumUtils").prettyShortInt(parseInt(v[t],10))};q.prototype.$AnalyticsOverviewTimeSeriesChart5=function(){var t=this.props.chart.queries[0].metric;return q.uniqueUsersMetrics.has(t)};q.prototype.$AnalyticsOverviewTimeSeriesChart1=function(t){var u=t.schema;if(u==null)return o();else{var v=c("AnalyticsCandelaUtils").Timeseries.getDependentScaleBuilders(u);return v.reduce(function(w,x){return w.union(x.getSeriesNames())},o())}};q.uniqueUsersMetrics=o(["MAU_WAU_DAU","UNIQUE_USERS"]);var r=c("AnalyticsTimeSeriesChartQueryRenderer").createContainer(q);j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;s.prototype.render=function(){return c("React").createElement(r,this.props)};function s(){j.apply(this,arguments)}f.exports=c("AnalyticsAggregationChartFragmentContainer").createContainer(s)}),null);
__d("AnalyticsTimeSeriesChart",["immutable","Timezone","AppEventQueryAggregationPeriod","AnalyticsDateUtils","AnalyticsMetricConfigs","AnalyticsPredefinedBreakdownValues","AnalyticsTimeSeriesChartQueryRenderer","BUIInsightsHoverCardChart.react","AnalyticsCandelaUtils","InsightsChartWithLegend.react","DateTime","FalcorErrorNotice","FalcorLoadingCard","GriffinCandelaTheme","GriffinResizableChart","GriffinToggleableLegend.react","BUIInsightsLineAreaChart.react","React","areEqual","flattenArray","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Set,k=c("Timezone").UTC,l=300,m=19;h=babelHelpers.inherits(n,c("React").PureComponent);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={allKeys:j(),disabledKeys:j(),chartHeight:this.props.chartHeight||l},this.$AnalyticsTimeSeriesChart2=function(t){var u=this.state.disabledKeys;if(u.has(t.key))u=u["delete"](t.key);else u=u.add(t.key);this.setState({disabledKeys:u})}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){if(!o.isLoading){var p=this.$AnalyticsTimeSeriesChart1(o);if(!c("areEqual")(this.state.allKeys,p))this.setState({allKeys:p,disabledKeys:j(),chartHeight:o.chartHeight||l})}};n.prototype.render=function(){var o=this.props,p=o.chart,q=o.isLoading,r=o.aggregationQueryResults,s=o.error,t=o.timezoneID,u=o.inheritedDateRange,v=o.inheritedDateRangeType,w=p.queries,x=this.state.chartHeight+m;if(q)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,height:x});else if(s)return c("React").createElement(c("FalcorErrorNotice"),{message:s,style:{height:x}});var y=c("AnalyticsCandelaUtils").Generic.getTotalRows(r);if(!y)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED,style:{height:x}});var z=w[0],A=c("AppEventQueryAggregationPeriod")[z.aggregation_period],B=c("nullthrows")(this.props.schema),C=c("nullthrows")(this.props.data),D=c("AnalyticsCandelaUtils").Timeseries.getIndependentScaleBuilder(B,C,A,t),E=c("AnalyticsCandelaUtils").Timeseries.getDependentScaleBuilders(B);E.forEach(function(S){var T=S.getSeriesNames().filter(function(U){return!this.state.disabledKeys.has(U)}.bind(this));S.seriesNames(T)}.bind(this));var F=c("AnalyticsCandelaUtils").Timeseries.getItemsFromSchema(B,C),G=c("flattenArray")(r.map(function(S){var T=S.queryConfig,U=S.result,V=T.event_name,W=T.metric;return c("AnalyticsMetricConfigs").getMetricConfig(W,V,U.hasUSDValue())})),H=c("AnalyticsCandelaUtils").Timeseries.getFormatterFactory(G),I=z.date_range,J=c("AnalyticsDateUtils").getFixedDateRangeWithInheritanceCheck({type:v,since:c("DateTime").fromDate(u.since,k),until:c("DateTime").fromDate(u.until,k)},I,t),K=J.until,L=c("AnalyticsCandelaUtils").Timeseries.getTitleElementFactory(A,K,this.props.timezoneID),M=c("AnalyticsCandelaUtils").Generic.getAutoColors(c("GriffinCandelaTheme"),c("AnalyticsCandelaUtils").Timeseries.getDependentSeriesNames(B));M=M.set("$my_goal","#099a32");var N=c("AnalyticsCandelaUtils").Timeseries.getAxisFormatter(G,A,false),O=c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:F,formatterFactory:H,titleElementGetter:L},c("React").createElement(c("BUIInsightsLineAreaChart.react"),{autoColors:M,axisMarkFormatterFactory:N,data:C,height:this.state.chartHeight,plotX:D,plotY:E,ref:"chart",schema:B,styles:{'axis[orientation="vertical"][alignment="left"]':{width:70},'line[series="$my_goal"]':{strokeWidth:"1",strokeDasharray:"10, 5"}}}))),P=j(w.map(function(S){return S.event_name})).toArray(),Q=z.breakdowns[0],R=c("AnalyticsCandelaUtils").Timeseries.getDescription(P,G[0],Q,A);return c("React").createElement(c("InsightsChartWithLegend.react"),{chart:O,items:F,title:R},c("React").createElement(c("GriffinToggleableLegend.react"),{autoColors:M,chartID:p.id,disabledKeys:this.state.disabledKeys,items:F,onToggle:this.$AnalyticsTimeSeriesChart2,title:R}))};n.prototype.$AnalyticsTimeSeriesChart1=function(o){var p=o.schema;if(p==null)return j();else{var q=c("AnalyticsCandelaUtils").Timeseries.getDependentScaleBuilders(p);return q.reduce(function(r,s){return r.union(s.getSeriesNames())},j())}};f.exports=c("AnalyticsTimeSeriesChartQueryRenderer").createContainer(n)}),null);
__d("AnalyticsTimeSeriesChartQueryRenderer",["fbt","invariant","AnalyticsAggregationChartQueryRenderer","AnalyticsCandelaUtils","AnalyticsDateRangeType","AnalyticsDateUtils","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=h._("Mi objetivo");function k(l){var m,n;m=babelHelpers.inherits(o,c("React").PureComponent);n=m&&m.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=n.constructor).call.apply(p,[this].concat(s)),this.$AnalyticsTimeSeriesChartQueryRenderer1=function(u,v,w){return c("React").createElement(l,babelHelpers["extends"]({},this.props,{data:u||w?null:this.$AnalyticsTimeSeriesChartQueryRenderer2(v),isLoading:u,aggregationQueryResults:v,error:w,schema:u||w?null:this.$AnalyticsTimeSeriesChartQueryRenderer3(v)}))}.bind(this),q}o.prototype.render=function(){"use strict";return c("React").createElement(c("AnalyticsAggregationChartQueryRenderer"),babelHelpers["extends"]({},this.props,{render:this.$AnalyticsTimeSeriesChartQueryRenderer1}))};o.prototype.$AnalyticsTimeSeriesChartQueryRenderer2=function(p){var q;"use strict";var r=this.props.chart,s=r.goal,t=c("AnalyticsCandelaUtils").Generic.isMultiEventChart(p),u=c("AnalyticsCandelaUtils").Generic.isMultiSegmentChart(r.queries),v=this.$AnalyticsTimeSeriesChartQueryRenderer4(p.map(function(L){var M=L.result,E=L.queryConfig,N=L.metric;return this.$AnalyticsTimeSeriesChartQueryRenderer5(M,E,N,t,u)}.bind(this)),p,u);if(s){var w=[];if(s.goalBound==null){if(v.length>0)for(var x=0;x<v[0].length;x++)w.push({timestamp:v[0][x].timestamp,$my_goal:s.value})}else{var y=s.goalBound,z=y.startValue,A=y.dateRange,B=A.type,C=A.since,D=A.until;C!=null&&D!=null&&B!==c("AnalyticsDateRangeType").ALL||i(0);var E=p[0].queryConfig,F=E.aggregation_period,G=c("AnalyticsDateUtils").getTimeStampArray(C,D,F);if(z==null)for(var H=0;H<G.length;H++)w.push({timestamp:G[H],$my_goal:s.value});else{var I=this.$AnalyticsTimeSeriesChartQueryRenderer6(z,s.value,G.length);for(var J=0;J<G.length;J++)w.push({timestamp:G[J],$my_goal:I[J]})}}v.push(w)}var K=c("AnalyticsCandelaUtils").Timeseries.getIndependentSeriesName();return(q=c("AnalyticsCandelaUtils").Generic).mergeDataAndSortNumeric.apply(q,[K].concat(v))};o.prototype.$AnalyticsTimeSeriesChartQueryRenderer4=function(p,q,r){"use strict";var s=p.find(function(t){return t.length>0});if(s!=null&&p.some(function(t){return t.length===0}))return p.map(function(t,u){var v;if(t.length===0){var v=function(){var w=q[u].queryConfig,x=w.segment.name,y=r&&x!=null?x:w.event_name;return{v:s.map(function(z){var A;return A={timestamp:z.timestamp},A[y]=0,A})}}();if(typeof v==="object")return v.v}else return t});else return p};o.prototype.$AnalyticsTimeSeriesChartQueryRenderer5=function(p,q,r,s,t){"use strict";var u=q.breakdowns,v=q.event_name,w=q.segment,x=u[0];return c("AnalyticsCandelaUtils").Timeseries.getDataFromResult(p,r,x,s?v:t?w.name:null)};o.prototype.$AnalyticsTimeSeriesChartQueryRenderer6=function(p,q,r){"use strict";if(r===1)return[q];var s=(q-p)/(r-1),t=[];for(var u=p;p<q?u<=q:u>=q;u+=s)t.push(u);return t};o.prototype.$AnalyticsTimeSeriesChartQueryRenderer3=function(p){"use strict";var q=this.props,r=q.chart,s=q.timezoneID,t=r.goal,u=c("AnalyticsCandelaUtils").Generic.isMultiEventChart(p),v=c("AnalyticsCandelaUtils").Generic.isMultiSegmentChart(r.queries),w=p.map(function(x){var y=x.queryConfig,z=x.metric,A=x.result,B=y.breakdowns,C=y.event_name,D=y.segment,E=B[0];return c("AnalyticsCandelaUtils").Timeseries.getSchemaFromResult(A,[z],E,s,C,u,v?D.name:null)});if(t)w.push({$my_goal:{type:"number",renderAs:"line",label:t.name===""?j:t.name}});return Object.assign.apply(Object,[{}].concat(w))};return o}f.exports={createContainer:k}}),null);
__d("AnalyticsDashboardChartUniform",["AnalyticsChartType","AnalyticsDashboardBarChartCard","AnalyticsDashboardFunnelChartCard","AnalyticsDashboardOverlapChartCard","AnalyticsDashboardTimeSeriesChartCard","AnalyticsGKNames"],(function a(b,c,d,e,f,g){var h,i=(h={},h[c("AnalyticsChartType").BREAKDOWN_TABLE]={Component:null,gk:null},h[c("AnalyticsChartType").COHORT]={Component:null,gk:null},h[c("AnalyticsChartType").DONUT_BAR]={Component:null,gk:null},h[c("AnalyticsChartType").FUNNEL]={Component:c("AnalyticsDashboardFunnelChartCard"),gk:c("AnalyticsGKNames").ANALYTICS_DASHBOARD_FUNNEL_PIN},h[c("AnalyticsChartType").TIME_SERIES]={Component:c("AnalyticsDashboardTimeSeriesChartCard"),gk:null},h[c("AnalyticsChartType").BAR_CHART]={Component:c("AnalyticsDashboardBarChartCard"),gk:c("AnalyticsGKNames").ANALYTICS_DASHBOARD_BAR_CHART},h[c("AnalyticsChartType").KPI_BAR]={Component:null,gk:null},h[c("AnalyticsChartType").OVERLAP_CHART]={Component:c("AnalyticsDashboardOverlapChartCard"),gk:c("AnalyticsGKNames").ANALYTICS_OVERLAP_REPORT_DASHBOARD},h);f.exports=i}),null);
__d("AnalyticsOverviewChartUniform",["AnalyticsChartType","AnalyticsDashboardFunnelChartCard","AnalyticsGKNames","AnalyticsDonutBarChart","AnalyticsOverviewBarChart","AnalyticsOverviewBreakdownTableChart","AnalyticsOverviewKPIBarChartCard","AnalyticsOverviewOverlapChartCard","AnalyticsOverviewTimeSeriesChart"],(function a(b,c,d,e,f,g){var h,i=(h={},h[c("AnalyticsChartType").BREAKDOWN_TABLE]={Component:c("AnalyticsOverviewBreakdownTableChart"),gk:null},h[c("AnalyticsChartType").COHORT]={Component:null,gk:null},h[c("AnalyticsChartType").DONUT_BAR]={Component:c("AnalyticsDonutBarChart"),gk:null},h[c("AnalyticsChartType").FUNNEL]={Component:c("AnalyticsDashboardFunnelChartCard"),gk:null},h[c("AnalyticsChartType").TIME_SERIES]={Component:c("AnalyticsOverviewTimeSeriesChart"),gk:null},h[c("AnalyticsChartType").BAR_CHART]={Component:c("AnalyticsOverviewBarChart"),gk:null},h[c("AnalyticsChartType").KPI_BAR]={Component:c("AnalyticsOverviewKPIBarChartCard"),gk:null},h[c("AnalyticsChartType").OVERLAP_CHART]={Component:c("AnalyticsOverviewOverlapChartCard"),gk:null},h);f.exports=i}),null);
__d("GriffinDefaultSectionController",["GriffinDefaultSectionHeader","GriffinSectionController","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){var k=this.props,l=k.children,m=babelHelpers.objectWithoutProperties(k,["children"]),n=void 0,o=m.showSegments||m.showDatePicker||m.buttons&&m.buttons.length||m.itemLabel||m.showSamplingDisclosureInHeader;if(o)n=c("React").createElement(c("GriffinDefaultSectionHeader"),m);return c("React").createElement(c("GriffinSectionController"),{header:n,hideSamplingDisclosure:m.showSamplingDisclosureInHeader},l)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AnalyticsQEUniverses",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANALYTICS_CONTEXTUAL_TOOLTIPS:"analytics_contextual_tooltips",ANALYTICS_DASHBOARD_ADD_CHART_STYLE:"analytics_dashboard_add_chart_style",ANALYTICS_FUNNEL:"analytics_funnel",ANALYTICS_GOAL_LINE:"analytics_goal_line",ANALYTICS_INSTANT_GAMES:"analytics_instant_games",ANALYTICS_OVERVIEW_DASHBOARD:"analytics_overview_dashboard",ANALYTICS_PIXEL_PREDEFINED_FEATURES:"analytics_pixel_predefined_features",ANALYTICS_QUICKSTART:"analytics_quickstart",ANALYTICS_SEGMENT_BUILDER:"analytics_segment_builder",AUTOMATED_INSIGHTS_TEXT_CHANGE:"automated_insights_text_change",BREAKDOWNS_SECTION:"qe_experiment_for_adhoc_breakdowns",DEMO_APP_NUX:"analytics_demo_app_nux_universe",FULLSCREEN_NUX:"fba_fullscreen_nux_universe",FUNNEL_PIN_NUX:"analytics_funnel_pin_nux",LTV_SECTION:"fba_ltv_section_universe",LTV_THREE_GROUP:"fba_ltv_three_group_qe",MARKETING_OPT_IN:"fba_marketing_opt_in",MARKETING_OPT_IN_33_33_33:"marketing_opt_in_33_33_33",MARKETING_OPT_IN_50_50_25:"marketing_opt_in_50_25_25",OMNI_CHANNEL_DEMO:"fba_demo_universe",OVERLAP_REPORT:"overlap_report",PIXEL_ENGAGEATHON:"fb_analytics_pixel_engageathon"})}),null);
__d("AnalyticsQEGroups",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXCLUDED:"excluded",EXPERIMENT:"experiment",CONTROL:"control",GK_FAILED:"gk_failed",QE_ERROR:"qe_error",CONTROL2:"control2"})}),null);
__d("AnalyticsQEUnitTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:"user",ANALYTICS_ENTITY:"analytics_entity",UNKNOWN:"unknown"})}),null);
__d("AnalyticsQEUtils",["invariant","AnalyticsQEGroups","AnalyticsQEs","AnalyticsQEUnitTypes","CurrentUser","QE2Logger"],(function a(b,c,d,e,f,g,h){"use strict";var i={showExperiment:function j(k,l,m){if(!c("AnalyticsQEs").has(k))return false;var n=i._getExperimentGroup(k,l);if(n!==c("AnalyticsQEGroups").EXCLUDED&&n!==c("AnalyticsQEGroups").GK_FAILED&&n!==c("AnalyticsQEGroups").QE_ERROR)i._logExposure(k,l);return m==null?n===c("AnalyticsQEGroups").EXPERIMENT:n===c("AnalyticsQEGroups").EXPERIMENT&&m===i._getExperimentName(k)},getExperimentGroupName:function j(k,l){if(!c("AnalyticsQEs").has(k))return"";var m=i._getExperimentGroup(k,l);if(m!==c("AnalyticsQEGroups").EXCLUDED&&m!==c("AnalyticsQEGroups").GK_FAILED&&m!==c("AnalyticsQEGroups").QE_ERROR)i._logExposure(k,l);return m},_getExperimentGroup:function j(k,l){var m=c("AnalyticsQEs").get(k),n=m.unit_type,o=m.user_group,p=m.group_by_ent_id;switch(n){case c("AnalyticsQEUnitTypes").ANALYTICS_ENTITY:return l&&l.toString()in p?p[l]:o;case c("AnalyticsQEUnitTypes").USER:case c("AnalyticsQEUnitTypes").UNKNOWN:default:return o}},_getExperimentName:function j(k){return c("AnalyticsQEs").get(k).experiment_name},_logExposure:function j(k,l){var m=c("AnalyticsQEs").get(k),n=m.unit_type;switch(n){case c("AnalyticsQEUnitTypes").ANALYTICS_ENTITY:if(l)c("QE2Logger").logExposureForAnalyticsEntityID(k,String(l));break;case c("AnalyticsQEUnitTypes").USER:c("QE2Logger").logExposureForUser(k,c("CurrentUser").getAccountID());break;default:h(0)}}};f.exports=i}),null);
__d("GriffinCandelaCoolTheme",["GriffinCandelaTheme","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedMap,i=["#377DE5","#47BAA6","#7865BE","#26AFD4","#688694","#70A842","#6CA1FF","#7CD4C4","#9B88D1","#62CFEE","#91ABB7","#A3CE71"].map(function(k){return[k,k]}),j=c("GriffinCandelaTheme").set("colors",h(i));f.exports=j}),null);
__d("GriffinCandelaWarmTheme",["GriffinCandelaTheme","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedMap,i=["#B73749","#FCA15C","#F7BF3C","#B0377B","#F65569","#EB7EBC","#C66675","#FAB683","#FEE095","#C1669A","#F67D8D","#ED9CCB"].map(function(k){return[k,k]}),j=c("GriffinCandelaTheme").set("colors",h(i));f.exports=j}),null);
__d("GriffinContextualDrawer",["cx","AnalyticsErrorBoundary","React","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$GriffinContextualDrawer1=function(){this.setState({leftOffset:this.$GriffinContextualDrawer2()})}.bind(this);this.state={leftOffset:0}}k.prototype.componentDidMount=function(){window.addEventListener("resize",this.$GriffinContextualDrawer1);this.$GriffinContextualDrawer1()};k.prototype.componentDidUpdate=function(){this.$GriffinContextualDrawer1()};k.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$GriffinContextualDrawer1)};k.prototype.$GriffinContextualDrawer2=function(){var l=this.props.anchor;if(!l)return 0;var m=c("ReactDOM").findDOMNode(l),n=c("ReactDOM").findDOMNode(this),o=c("ReactDOM").findDOMNode(this.refs.arrow),p=m.offsetParent,q=0;if(p)q=p.getBoundingClientRect().left-n.getBoundingClientRect().left;var r=m.offsetLeft+q,s=m.offsetWidth/2,t=o.offsetWidth/2;return r+s-t};k.prototype.render=function(){var l=this.props,m=l.cardKey,n=l.className,o=l.style,p=this.state.leftOffset;return c("React").createElement("div",{className:c("joinClasses")("_20kg",n),style:o},c("React").createElement("div",{className:"_20kh",style:{left:p},ref:"arrow"}),c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:m},this.props.children))};f.exports=k}),null);
__d("GriffinDatePicker",["cx","fbt","invariant","AdsTimezone","AnalyticsDateRangeStore","AnalyticsDateRangeType","AnalyticsDateUtils","DateTime","InsightsContext","React","SUIAnalyticsGriffinTheme","SUIDateTimeRangeSelector.react","Timezone","Tooltip.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("Timezone").UTC,n="M j, Y";k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$GriffinDatePicker1=function(u,v,w){var x=this.props.onChange,y=c("AnalyticsDateRangeType")[u];y||j(0);x(y,v,w)}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.dateRangeType,r=p.dateRestraints,s=p.disabled,t=p.visibleDateRange,u=t.since,v=t.until,w=c("DateTime").fromDate(u,m),x=c("DateTime").fromDate(v,m),y=c("AnalyticsDateRangeStore").getTimezoneID(),z=c("AdsTimezone").timezoneDataByID[y],A=z?z.displayName:"",B=s?this.props.disabledTooltip:null;return c("React").createElement(c("Tooltip.react"),{tooltip:B,position:"below"},c("React").createElement(c("SUIDateTimeRangeSelector.react"),{className:"_14wn",dateFormat:n,dateRestraints:r,disabled:s,hasTimeSelectors:false,key:"date_picker",onChange:this.$GriffinDatePicker1,presets:this.$GriffinDatePicker2(),rangeStart:w,rangeEnd:x,selectorTheme:c("SUIAnalyticsGriffinTheme"),shouldShowCustomRangeDatesInLabel:true,theme:c("SUIAnalyticsGriffinTheme"),timezoneLabel:A,value:q}))};o.prototype.$GriffinDatePicker2=function(){return[].concat(c("InsightsContext").allowHourlyPresets()?[this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_12_HOURS)]:[],[this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_24_HOURS),this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_7_DAYS),this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_14_DAYS),this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_28_DAYS),this.$GriffinDatePicker3(c("AnalyticsDateRangeType").LAST_90_DAYS),this.$GriffinDatePicker3(c("AnalyticsDateRangeType").DATE_RANGE)])};o.prototype.$GriffinDatePicker3=function(p){var q=c("AnalyticsDateRangeStore").getTimezoneID(),r=c("AnalyticsDateUtils").getDateRange(p,q),s=r.since,t=r.until;return{start:c("DateTime").fromDate(s,m),end:c("DateTime").fromDate(t,m),label:this.$GriffinDatePicker4(p),value:p}};o.prototype.$GriffinDatePicker4=function(p){return i._({"LAST_12_HOURS":"\u00daltimas 12 horas","LAST_24_HOURS":"\u00daltimas 24 horas","LAST_7_DAYS":"\u00daltimos 7 d\u00edas","LAST_14_DAYS":"\u00daltimos 14 d\u00edas","LAST_28_DAYS":"\u00daltimos 28 d\u00edas","LAST_90_DAYS":"\u00daltimos 90 d\u00edas","DATE_RANGE":"Personalizar"},[i["enum"](p,{LAST_12_HOURS:"Last 12 hours",LAST_24_HOURS:"Last 24 hours",LAST_7_DAYS:"Last 7 days",LAST_14_DAYS:"Last 14 days",LAST_28_DAYS:"Last 28 days",LAST_90_DAYS:"Last 90 days",DATE_RANGE:"Custom"})])};f.exports=o}),null);
__d("GriffinPieChart",["InsightsPieChart.react","InsightsThemeableChartMixin","React","GriffinCandelaTheme"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").createClass({displayName:"GriffinPieChart",mixins:[c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")})],statics:{getComponentTheming:function i(){return{styleSheet:{chart:{padding:0}}}}},render:function i(){return c("React").createElement(c("InsightsPieChart.react"),babelHelpers["extends"]({},this.props,{theme:this.state.theme}))}});f.exports=h}),null);
__d("GriffinDefaultSectionHeaderComparisonLegend",["cx","GriffinPieChart","React","immutable","CandelaConstants","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("immutable").Map,l=c("CandelaConstants").ScaleType,m=c("CandelaStackScaleBuilder").stack;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props,p=o.colors,q=o.label,r=o.style,s=k(),t={},u={};p.forEach(function(v){t[v]={type:l.NUMBER};u[v]=1;s=s.set(v,v)});return c("React").createElement("div",{className:"_3toa",style:r},c("React").createElement(c("GriffinPieChart"),{autoColors:s,data:[u],schema:t,height:32,width:32,plotAngle:m.apply(this,p).from(0),innerRadiusRatio:.75}),c("React").createElement("div",{className:"_3tob"},q))};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("GriffinDefaultSectionHeader",["cx","fbt","GriffinSamplingDisclosureController","SegmentStoreType","ActiveSectionStore","AnalyticsDateRangeActions","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsEntityType","AnalyticsErrorBoundary","AnalyticsQEUniverses","AnalyticsQEUtils","ComparisonSegmentActions","ComparisonSegmentStore","DatePickerRestraints","FluxContainer","GriffinCandelaCoolTheme","GriffinCandelaWarmTheme","GriffinContextualDrawer","GriffinDatePicker","GriffinDefaultSectionHeaderComparisonLegend","GriffinLightweightSegmentTray","GriffinSectionHeader","GriffinSectionHeaderSegmentSelector","GriffinSections","GriffinSegmentSelectorLegend","InsightsContext","InsightsEventLogger","LightweightSegmentActions","LightweightSegmentStore","React","ReactCSSTransitionGroup","SUIAnalyticsGriffinTheme","SUICloseButton.react","SUILink.react","URI","isEmpty"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("SegmentStoreType").Comparison,m=c("SegmentStoreType").Lightweight,n=c("SegmentStoreType").URIKeys,o={key:m,label:i._("A"),colors:c("GriffinCandelaCoolTheme").colors.slice(0,6).toArray(),segmentStore:c("LightweightSegmentStore"),segmentActions:c("LightweightSegmentActions")},p={key:l,label:i._("B"),colors:c("GriffinCandelaWarmTheme").colors.slice(0,6).toArray(),segmentStore:c("ComparisonSegmentStore"),segmentActions:c("ComparisonSegmentActions")};j=babelHelpers.inherits(q,c("React").PureComponent);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$GriffinDefaultSectionHeader6=function(){c("InsightsEventLogger").logEvent({eventName:"start_comparison",segment:this.$GriffinDefaultSectionHeader5(c("LightweightSegmentStore")),comparisonSegment:this.$GriffinDefaultSectionHeader5(c("ComparisonSegmentStore"))});var w=c("URI").getNextURI();w.addQueryData({is_comparing:null});w.go()}.bind(this),this.$GriffinDefaultSectionHeader7=function(){c("InsightsEventLogger").logEvent({eventName:"stop_comparison",segment:this.$GriffinDefaultSectionHeader5(c("LightweightSegmentStore")),comparisonSegment:this.$GriffinDefaultSectionHeader5(c("ComparisonSegmentStore"))});var w=c("URI").getNextURI(),x=w.getQueryData(),y=n[l];delete x[y];delete x.is_comparing;w.setQueryData(x);w.go()}.bind(this),s}q.getStores=function(){return[c("ActiveSectionStore"),c("ComparisonSegmentStore"),c("LightweightSegmentStore")]};q.calculateState=function(r){return{isComparing:c("ActiveSectionStore").getIsComparing(),lightweightError:c("LightweightSegmentStore").getSizeError(),lightweightIsSegmentApplied:c("LightweightSegmentStore").getIsSegmentApplied(),lightweightSegmentTotal:c("LightweightSegmentStore").getSegmentTotalUsers(),lightweightTotalUsers:c("LightweightSegmentStore").getTotalUsers(),showComparisonSegmentBuilder:c("ComparisonSegmentStore").getShowConditions(),showLightweightSegmentBuilder:c("LightweightSegmentStore").getShowConditions()}};q.prototype.componentWillMount=function(){c("LightweightSegmentActions").fetchTotalUsers({notifySamplingStore:false});c("ComparisonSegmentActions").fetchTotalUsers({notifySamplingStore:false})};q.prototype.$GriffinDefaultSectionHeader1=function(){var r=c("AnalyticsDateRangeStore").getTimezoneID(),s=this.$GriffinDefaultSectionHeader2(),t=this.$GriffinDefaultSectionHeader3();if(t&&t>s)s=t;var u=c("AnalyticsDateUtils").getTodayStartInTimezoneUTCDate(r).toDate();return[c("DatePickerRestraints").enforceDateIsNoEarlierThan(s),c("DatePickerRestraints").enforceDateIsNoLaterThan(u)]};q.prototype.$GriffinDefaultSectionHeader3=function(){switch(c("InsightsContext").getAnalyticsEntityType()){case c("AnalyticsEntityType").ADS_PIXEL:return new Date("02/28/2017");default:return null}};q.prototype.$GriffinDefaultSectionHeader2=function(){var r=c("InsightsContext").getActiveSectionName();switch(r){case c("GriffinSections").OVERVIEW:case c("GriffinSections").ACTIVE_USERS:case c("GriffinSections").REVENUE:case c("GriffinSections").BREAKDOWN_TABLE:case c("GriffinSections").CUSTOM_EVENTS:case c("GriffinSections").ACCOUNT_KIT:case c("GriffinSections").LINK_SHARING:return c("InsightsContext").getTwoYearDateRange().since;case c("GriffinSections").FUNNELS:case c("GriffinSections").RETENTION:case c("GriffinSections").COHORTS:case c("GriffinSections").LIFETIME_VALUE:return c("InsightsContext").getCalypsoMaxDateRangeStartDate();default:return this.props.fullDateRange.since}};q.prototype.$GriffinDefaultSectionHeader4=function(r,s,t){var u=s.toDate(),v=t.toDate(),w={since:u,until:v};c("AnalyticsDateRangeActions").applyDateRange(r,{since:u,until:v});c("ComparisonSegmentActions").fetchTotalUsers(w);c("ComparisonSegmentActions").fetchSegmentTotal(w);c("LightweightSegmentActions").fetchTotalUsers(w);c("LightweightSegmentActions").fetchSegmentTotal(w)};q.prototype.$GriffinDefaultSectionHeader5=function(r){var s=r.getAppliedSegment();if(c("isEmpty")(s))return"all_users";else if(s.id)return String(s.id);else return"ad_hoc"};q.prototype.$GriffinDefaultSectionHeader8=function(){if(this.props.showSegments&&!this.state.isComparing&&!this.state.lightweightIsSegmentApplied&&!this.state.showLightweightSegmentBuilder&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER))return c("React").createElement("div",{className:"_1p4g"},i._("Usa segmentos para obtener informaci\u00f3n sobre tus clientes"));return null};q.prototype.$GriffinDefaultSectionHeader9=function(){var r=this.state,s=r.isComparing,t=r.lightweightIsSegmentApplied;if(s||!t&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER))return null;return c("React").createElement("div",{className:"_3-9b"},c("React").createElement(c("SUILink.react"),{onClick:this.$GriffinDefaultSectionHeader6,theme:c("SUIAnalyticsGriffinTheme")},i._("Comparar")))};q.prototype.$GriffinDefaultSectionHeader10=function(r){var s=r.colors,t=r.key,u=r.label,v=r.segmentActions,w=r.segmentStore,x=this.props.showSegments,y=true,z=null;if(this.$GriffinDefaultSectionHeader11())z=c("React").createElement(c("GriffinDefaultSectionHeaderComparisonLegend"),{colors:s,label:u});else if(x&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER)){y=false;if(this.state.lightweightIsSegmentApplied){if(!this.state.lightweightError&&this.state.lightweightSegmentTotal===null)v.fetchSegmentTotal({});z=c("React").createElement(c("GriffinSegmentSelectorLegend"),{error:this.state.lightweightError,segmentTotal:this.state.lightweightSegmentTotal,totalUsers:this.state.lightweightTotalUsers})}}var A=x?c("React").createElement(c("GriffinSectionHeaderSegmentSelector"),{ref:t,showPercentage:y,segmentActions:v,segmentStore:w}):null;return c("React").createElement("div",{className:"_5zk_",key:t+"-controls"},z,A)};q.prototype.$GriffinDefaultSectionHeader12=function(r){return r.key===m&&this.props.showSegments||r.key===l&&this.$GriffinDefaultSectionHeader11()};q.prototype.$GriffinDefaultSectionHeader13=function(r){var s=r.key,t=r.segmentStore,u=r.segmentActions;if(!this.$GriffinDefaultSectionHeader12(r)&&t.getShowConditions()){u.toggleShowConditions({showConditions:false});return null}var v=this.refs[s]?this.refs[s].refs.editButton:null;if(!t.getIsSegmentApplied()&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER))v=this.refs[s]?this.refs[s].refs.addButton:null;return t.getShowConditions()?c("React").createElement(c("GriffinContextualDrawer"),{anchor:v,cardKey:"segment_builder",className:"_4a6g",key:"segment_builder"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"segment_tray"},c("React").createElement(c("GriffinLightweightSegmentTray"),{store:t,actions:u,className:"_4a6h"}))):null};q.prototype.$GriffinDefaultSectionHeader11=function(){var r=this.props.showCompare,s=this.state.isComparing;return r&&s};q.prototype.render=function(){var r=this.props,s=r.buttons,t=r.itemLabel,u=r.showCompare,v=r.showDatePicker,w=i._("No puedes cambiar el intervalo de fechas de esta secci\u00f3n."),x=v?c("React").createElement(c("GriffinDatePicker"),{dateRangeType:this.props.dateRangeType,dateRestraints:this.$GriffinDefaultSectionHeader1(),disabled:!!this.props.datePickerDisabled,disabledTooltip:w,onChange:this.$GriffinDefaultSectionHeader4,visibleDateRange:this.props.visibleDateRange}):null,y=u?this.$GriffinDefaultSectionHeader9():null,z=c("React").createElement("div",{className:this.$GriffinDefaultSectionHeader11()?"_3-9c":""},this.$GriffinDefaultSectionHeader10(o)),A=this.$GriffinDefaultSectionHeader11()?this.$GriffinDefaultSectionHeader10(p):null,B=this.$GriffinDefaultSectionHeader11()?c("React").createElement("div",{className:"_5zl0"}):null,C=this.$GriffinDefaultSectionHeader11()?c("React").createElement(c("SUICloseButton.react"),{theme:c("SUIAnalyticsGriffinTheme"),onClick:this.$GriffinDefaultSectionHeader7,useLegacyPadding:true}):null,D=this.$GriffinDefaultSectionHeader13(o),E=this.$GriffinDefaultSectionHeader13(p),F=this.props.showSamplingDisclosureInHeader?c("React").createElement("div",{className:"_62yv"},c("React").createElement(c("GriffinSamplingDisclosureController"),null)):null;return c("React").createElement("div",null,c("React").createElement(c("GriffinSectionHeader"),{buttons:s,rightContent:F},t,x,z,y,B,A,C,this.$GriffinDefaultSectionHeader8()),c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:{enter:"_4a6i",enterActive:"_4a6j",leave:"_4a6k",leaveActive:"_4a6l"},transitionEnterTimeout:400,transitionLeaveTimeout:400},D,E))};f.exports=c("FluxContainer").create(q)}),null);
__d("FalcorCommonViews",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({CREATE:null,EDIT:null,DETAILS:null,LIST:null});f.exports=h}),null);
__d("FalcorSearchSource",["AbstractSearchSource","SearchableEntry"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.entrySortFunction=function(k,l){if(k.startsWith("$"))return l.startsWith("$")?k.localeCompare(l):1;else return l.startsWith("$")?-1:k.localeCompare(l)};function j(k){i.constructor.call(this);this.$FalcorSearchSource1=k.slice().sort(function(l,m){return j.entrySortFunction(l.name.toString(),m.name.toString())})}j.prototype.searchImpl=function(k,l,m){var n=k&&k.toLocaleLowerCase()||"",o=this.$FalcorSearchSource1.filter(function(p){return!n||p.id.toString().toLocaleLowerCase().indexOf(n)>=0||p.name.toString().toLocaleLowerCase().indexOf(n)>=0}).map(function(p){return new(c("SearchableEntry"))({uniqueID:p.id,title:p.name,auxiliaryData:{url:p.url}})});l(o,k)};f.exports=j}),null);
__d("GriffinSearchableSelector",["React","SUIAnalyticsGriffinTheme","SUISearchableSelector.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUISearchableSelector.react"),babelHelpers["extends"]({},this.props,{theme:c("SUIAnalyticsGriffinTheme")}))};function j(){h.apply(this,arguments)}j.defaultProps=c("SUISearchableSelector.react").defaultProps;f.exports=j}),null);
__d("GriffinFeatureSelection",["ix","fbt","invariant","ActiveSectionStore","AnalyticsTextUtils","AnalyticsSamplingDisclosureActions","FalcorCommonViews","FalcorSearchSource","FluxContainer","GriffinSearchableSelector","Image.react","InsightsEventLogger","URI","React","SearchableEntry","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=150;k=babelHelpers.inherits(o,m);l=k&&k.prototype;o.getStores=function(){return[c("ActiveSectionStore")]};o.calculateState=function(p){var q=c("ActiveSectionStore").getActiveSectionLabel(),r=c("ActiveSectionStore").getActiveFeature(),s=c("ActiveSectionStore").getFeatureList(),t=c("ActiveSectionStore").getView();return{activeSection:q,activeFeature:r,featureList:s,view:t}};o.prototype.$GriffinFeatureSelection1=function(){var p=this.state,q=p.activeFeature,r=p.featureList;if(!(r&&r.length))return null;var s=r.filter(function(u){return u.id!==q}),t=s.map(function(u){var v=u.id,w=u.displayName,x=u.url;return{id:v,name:w,url:x}});return new(c("FalcorSearchSource"))(t)};o.prototype.$GriffinFeatureSelection2=function(p){c("InsightsEventLogger").logEvent({eventName:"feature_element_change",section:c("ActiveSectionStore").getActiveSectionName(),featureID:p.getUniqueID()});c("AnalyticsSamplingDisclosureActions").clearEventsInContext();var q=new(c("URI"))(p.getAuxiliaryData().url);q.go()};o.prototype.render=function(){var p=this.state,q=p.activeSection,r=p.activeFeature,s=p.featureList,t=p.view;if(t===c("FalcorCommonViews").EDIT)return null;var u=this.$GriffinFeatureSelection1();if(!r||!s||!u)return null;var v=s.find(function(v){return v.id===r});v||j(0);var w=i._("{section name}:",[i.param("section name",q)]).toString(),x=c("AnalyticsTextUtils").truncateString(w+" "+v.displayName,n),y=new(c("SearchableEntry"))({uniqueID:v.id,title:x}),z=function z(A){return A.getUniqueID()===y.getUniqueID()?c("React").createElement(c("Image.react"),{src:h("124911"),style:{margin:"6px 6px 6px 0"}}):null};return c("React").createElement(c("GriffinSearchableSelector"),{dropdownWidth:300,onChange:this.$GriffinFeatureSelection2,onOpened:function A(){return c("InsightsEventLogger").logEvent({eventName:"feature_element_selector_open"})},searchSource:u,value:y,height:"normal",getLeftContentForEntry:z,style:{paddingBottom:12}})};function o(){k.apply(this,arguments)}f.exports=c("FluxContainer").create(o)}),null);
__d("AnalyticsFooter",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=[{label:i._("Privacidad"),link:"https://www.facebook.com/privacy/explanation"},{label:i._("Condiciones"),link:"https://www.facebook.com/policies"},{label:i._("Cookies"),link:"https://www.facebook.com/help/cookies"},{label:i._("Publicidad"),link:"https://www.facebook.com/ads/manager"},{label:i._("Empleo"),link:"https://www.facebook.com/careers"},{label:i._("Desarrolladores"),link:"https://developers.facebook.com/docs/analytics"},{label:i._("Informaci\u00f3n"),link:"https://analytics.facebook.com/"}];j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",{className:"_5a6h"},c("React").createElement("span",{className:"_5a6i"},"Facebook \xa9"," "+new Date().getFullYear()),l.map(function(n,o){return c("React").createElement("a",{key:"link"+o,target:"_blank",href:n.link},n.label)}))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("AnalyticsQEExperimentNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FUNNEL_PIN_NUX:"funnel_pin_nux",IN_PRODUCT_TOUR:"in_product_tour",MARKETING_OPT_IN_MEGAPHONE:"fba_marketing_opt_in_megaphone",MARKETING_OPT_IN_MODAL:"fba_marketing_opt_in_modal",PIXEL_NUX:"fb_analytics_pixel_new_nux",VALUE_PROP_NUX:"value_prop_nux"})}),null);
__d("GriffinOverlay",["cssVar","cx","React","ReactCSSTransitionGroup","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.className,o=m.color,p=m.label,q=m.onClick,r=m.opacity,s=m.shown,t=s?1:null,u=s?c("React").createElement("div",{className:"_5h-d",onClick:q,role:"presentation",style:{background:o,opacity:r}}):null,v=s?"hidden":null,w=s?"100vh - 44px":null;return c("React").createElement("div",{className:c("joinClasses")(n,"_5h-a"),style:{zIndex:t}},c("React").createElement("div",{className:"_5h-c"},p),c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:{enter:"_2fov",enterActive:"_2fow",leave:"_2fox",leaveActive:"_2foy"},transitionEnterTimeout:400,transitionLeaveTimeout:400},u),c("React").createElement("div",{key:"content",style:{overflow:v,height:w}},this.props.children))};function l(){j.apply(this,arguments)}l.defaultProps={color:"#ffffff",shown:true};f.exports=l}),null);
__d("GriffinSectionController",["cssVar","cx","ActiveSectionStore","AnalyticsQEExperimentNames","AnalyticsQEUniverses","AnalyticsQEUtils","AnalyticsErrorBoundary","AnalyticsFooter","ComparisonSegmentActions","ComparisonSegmentStore","FluxContainer","GriffinEmptyStateCard","GriffinFeatureSelection","GriffinSamplingDisclosureController","GriffinSections","GriffinOverlay","GriffinSectionNotices","InsightsContext","Keys","Layout.react","LeftRight.react","LightweightSegmentActions","LightweightSegmentStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Layout.react").FillColumn;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$GriffinSectionController2=function(s){if(s.keyCode===c("Keys").ESC)this.$GriffinSectionController1()}.bind(this),this.$GriffinSectionController3=function(){this.$GriffinSectionController1()}.bind(this),o}m.getStores=function(){return[c("ComparisonSegmentStore"),c("LightweightSegmentStore")]};m.calculateState=function(n){return{showSegmentBuilder:c("LightweightSegmentStore").getShowConditions()||c("ComparisonSegmentStore").getShowConditions()}};m.prototype.componentWillMount=function(){var n=c("InsightsContext").getActiveCardName();if(n)c("InsightsContext").setAutoScrollCardName(n)};m.prototype.componentWillUnmount=function(){c("InsightsContext").setAutoScrollCardName(null);this.$GriffinSectionController1()};m.prototype.$GriffinSectionController1=function(){c("LightweightSegmentActions").toggleShowConditions({showConditions:false});c("LightweightSegmentActions").clearChanges();c("ComparisonSegmentActions").toggleShowConditions({showConditions:false});c("ComparisonSegmentActions").clearChanges()};m.prototype.render=function(){var n=this.props,o=n.children,p=n.hideSamplingDisclosure,q=this.state.showSegmentBuilder,r=c("InsightsContext").isPage()&&!c("InsightsContext").getIsEventIngestionEnabled(),s=r?c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"OptInForPages"}):o,t=this.props.header,u=c("ActiveSectionStore").getActiveSectionName(),v=[c("GriffinSections").OVERVIEW,c("GriffinSections").ACTIVE_USERS,c("GriffinSections").REVENUE,c("GriffinSections").RETENTION],w=!p&&!v.includes(u),x=w?c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("GriffinFeatureSelection"),null),c("React").createElement("div",null,c("React").createElement(c("GriffinSamplingDisclosureController"),null))):c("React").createElement(c("GriffinFeatureSelection"),null);return c("React").createElement("div",{onKeyDown:this.$GriffinSectionController2,role:"presentation",tabIndex:1},c("React").createElement("div",{className:"_4m5h _2g6o"},t),c("React").createElement(c("GriffinOverlay"),{color:"#000000",onClick:this.$GriffinSectionController3,shown:q},c("React").createElement(c("Layout.react"),{className:"_4m5i"+(t?" _4m5j":"")},c("React").createElement(l,null,c("React").createElement(c("GriffinSectionNotices"),null),x,c("React").createElement(c("AnalyticsErrorBoundary"),null,s),c("React").createElement(c("AnalyticsFooter"),null)))))};f.exports=c("FluxContainer").create(m)}),null);
__d("GriffinSectionHeader",["cx","ComparisonSegmentActions","LightweightSegmentActions","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.$GriffinSectionHeader1=function(){c("LightweightSegmentActions").toggleShowConditions({showConditions:false});c("LightweightSegmentActions").clearChanges();c("ComparisonSegmentActions").toggleShowConditions({showConditions:false});c("ComparisonSegmentActions").clearChanges()};k.prototype.render=function(){var l=this.props,m=l.children,n=l.rightContent,o=this.props.buttons.map(function(p,q){return c("React").createElement("span",{key:q,className:"_4evc"},p)});return c("React").createElement("div",{className:"_1knb"},c("React").createElement("div",{className:"_3dz-"},m),c("React").createElement("div",{className:"_s49",onClick:this.$GriffinSectionHeader1,role:"presentation"},n,o))};function k(){i.apply(this,arguments)}k.defaultProps={buttons:[]};f.exports=k}),null);
__d("GriffinSectionHeaderSegmentSelector",["ix","cx","fbt","AnalyticsQEUniverses","AnalyticsQEUtils","FluxContainer","GriffinLightweightSegmentSelector","GriffinSegmentUtils","Image.react","InsightsEventLogger","InsightsNumUtils","React","SUIAnalyticsGriffinTheme","SUIButton.react","SUIButtonIcon.react","asset"],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$GriffinSectionHeaderSegmentSelector2=function(s){var t=this.props.segmentActions;c("InsightsEventLogger").logEvent({eventName:"segments_clear_click",feature_id:this.state.activeSegment?this.state.activeSegment.id:null,button_location:"segment_selector",ad_hoc:true});s=s||this.state.showConditions;t.toggleShowConditions({showConditions:s});if(c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER))t.createSegmentStart();else t.applySegmentById(null)}.bind(this),this.$GriffinSectionHeaderSegmentSelector3=function(s){var t=this.props.segmentActions,u=s.getAuxiliaryData();c("InsightsEventLogger").logEvent({eventName:"segment_select",feature_id:u.id,select_source:"selector_dropdown",ad_hoc:true});t.applySegmentById(u.id)}.bind(this),o}m.getStores=function(n){"use strict";return[n.segmentStore]};m.calculateState=function(n,o){"use strict";var p=o.segmentStore,q=p.getAppliedSegment(),r=p.getSizeError()||p.getTotalSizeError(),s=void 0;if(o.showPercentage)if(!n||q!==n.activeSegment||!n.percentage){var t=p.getTotalUsers(),u=p.getSegmentTotalUsers();if(t&&u!==null&&u!==undefined){if(u>t)u=t;var v=u/t,w=c("InsightsNumUtils").prettyPercent(u/t,2);s=v<.01&&v>0?"< 1%":w}}else s=n.percentage;return{showConditions:p.getShowConditions(),activeSegment:q,percentage:s,sizeError:r}};m.prototype.$GriffinSectionHeaderSegmentSelector1=function(){"use strict";var n=this.props.segmentActions,o={eventName:"segments_toggle_conditions",state:this.state.showConditions?"hide":"edit",ad_hoc:true};c("InsightsEventLogger").logEvent(o);var p=!this.state.showConditions;n.toggleShowConditions({showConditions:p});if(p)n.fetchSegmentTotal({});else n.clearChanges()};m.prototype.componentWillMount=function(){"use strict";var n=this.props.segmentActions;n.toggleIsSelectorShown({isSelectorShown:true})};m.prototype.componentWillUnmount=function(){"use strict";var n=this.props.segmentActions;n.toggleIsSelectorShown({isSelectorShown:false})};m.prototype.$GriffinSectionHeaderSegmentSelector4=function(n){"use strict";if(!n)return c("React").createElement(c("SUIButton.react"),{roundedCorners:["topRight","bottomRight"],key:"edit_button",ref:"editButton",label:j._("Editar"),onClick:this.$GriffinSectionHeaderSegmentSelector1.bind(this),theme:c("SUIAnalyticsGriffinTheme")});else if(c("GriffinSegmentUtils").isEmpty(this.state.activeSegment))return null;else return c("React").createElement(c("SUIButton.react"),{borderedSides:["bottom","left","top"],icon:c("React").createElement(c("Image.react"),{src:h("387952")}),label:j._("Editar"),labelIsHidden:true,key:"edit_button",onClick:this.$GriffinSectionHeaderSegmentSelector1.bind(this),ref:"editButton",theme:c("SUIAnalyticsGriffinTheme"),tooltip:"Edit segment","data-tooltip-position":"below",width:32})};m.prototype.$GriffinSectionHeaderSegmentSelector5=function(){"use strict";return c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("Image.react"),{src:h("387960")}),roundedCorners:["topRight","bottomRight"],key:"add_button",label:j._("Crear nuevo segmento"),labelIsHidden:true,onClick:this.$GriffinSectionHeaderSegmentSelector2,ref:"addButton",theme:c("SUIAnalyticsGriffinTheme"),tooltip:"Create new segment","data-tooltip-position":"below",width:32})};m.prototype.$GriffinSectionHeaderSegmentSelector6=function(){"use strict";return c("GriffinSegmentUtils").isEmpty(this.state.activeSegment)&&!this.state.showConditions?j._("A\u00f1ade un segmento"):j._("Segmento no guardado")};m.prototype.render=function(){"use strict";var n=c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER),o=this.$GriffinSectionHeaderSegmentSelector4(n),p=n?this.$GriffinSectionHeaderSegmentSelector5():null,q=n&&!this.props.showPercentage?this.$GriffinSectionHeaderSegmentSelector6():null,r=!n||!c("GriffinSegmentUtils").isEmpty(this.state.activeSegment);return c("React").createElement("div",{className:"_42s4"},c("React").createElement(c("GriffinLightweightSegmentSelector"),{activeSegment:this.state.activeSegment,buttonRoundedCorners:["topLeft","bottomLeft"],buttonBorderedSides:["bottom","left","top"],deleteDisabled:false,dropdownWidth:300,getTooltipForEntry:function s(t){return t.getAuxiliaryData().is_internal?j._("Uso interno de Facebook"):null},onChange:this.$GriffinSectionHeaderSegmentSelector3,onCreateNew:this.$GriffinSectionHeaderSegmentSelector2,percentage:this.state.percentage,placeholderText:q,showCreateNewOption:true,segmentActions:this.props.segmentActions,showAllUsersOption:r,sizeError:this.state.sizeError,theme:c("SUIAnalyticsGriffinTheme"),width:"auto"}),o,p)};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("AnalyticsCMSStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").CMS,m=c("immutable").Record,n=c("immutable").Map,o={entries:null};h=babelHelpers.inherits(p,m(o));i=h&&h.prototype;function p(){h.apply(this,arguments)}j=babelHelpers.inherits(q,c("FluxReduceStore"));k=j&&j.prototype;q.prototype.getInitialState=function(){return new p()};q.prototype.reduce=function(r,s){var t=s.action,u=t.type,v=t.data;switch(u){case l.INITIALIZE:return r.set("entries",n(v));default:return r}};q.prototype.getContent=function(r){return this.$AnalyticsCMSStore1().get(r).content};q.prototype.getEditLink=function(r){return this.$AnalyticsCMSStore1().get(r).editlink};q.prototype.$AnalyticsCMSStore1=function(){return c("nullthrows")(this.getState().get("entries"))};function q(){j.apply(this,arguments)}f.exports=new q(c("AnalyticsDispatcher"))}),null);
__d("BonsaiHelpText",["invariant","AnalyticsCMSStore","FBAMetaEventAction","FBAMetaEventComponent","FBAMetaEventNamespace","FBAMetaLoggerWWW","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("FBAMetaLoggerWWW").META_LOGGER,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var n=c("AnalyticsCMSStore").getContent(this.props.helpKey);if(!n)return c("React").createElement("span",null);if(!n.__html)return c("React").createElement("span",null);k.logEvent({namespace:c("FBAMetaEventNamespace").GLOBAL,component:c("FBAMetaEventComponent").BONSAI_HELP_TEXT,action:c("FBAMetaEventAction").SHOW},{cms_key:this.props.helpKey});c("InsightsEventLogger").logEvent({eventName:"bonsai_help_text_show",cms_key:this.props.helpKey});return c("React").createElement("span",{dangerouslySetInnerHTML:n})};function m(){i.apply(this,arguments)}m.propTypes={helpKey:l.string.isRequired};f.exports=m}),null);
__d("BonsaiStatus",["fbt","BonsaiConfig"],(function a(b,c,d,e,f,g,h){function i(k,l){if(l)l=l.toLowerCase();var m=c("BonsaiConfig").status,n=null;if(l&&m[l])n=m[l][k]||"";if(!n){var o=m[k];n=o||n;if(!n&&(j.isOffline()||j.isOffline(l)))n=h._("Estamos realizando tareas de mantenimiento en estad\u00edsticas de aplicaciones; volver\u00e1 a estar disponible lo antes posible.")}return n}var j={isOffline:function k(l){if(l)l=l.toLowerCase();var m=c("BonsaiConfig").status;if(m.offline)return true;if(l)return m[l]?m[l].offline==true:false;return false},isMessageAWarning:function k(l){var m=c("BonsaiConfig").status;if(l){l=l.toLowerCase();m=m[l]}return!!m.is_warning},getMessage:function k(l){return i("message",l)},getSubtext:function k(l){return i("subtext",l)},getInternalMessage:function k(l){var m=i("internal",l);if(m&&c("BonsaiConfig").isInternal&&c("BonsaiConfig").isEmployee)m="Internal: "+m;return m}};f.exports=j}),null);
__d("GriffinSectionNotices",["fbt","invariant","AnalyticsAnnouncements","AnalyticsErrorBoundary","AnalyticsNavigationUtils","AnalyticsStore","BonsaiHelpText","BonsaiStatus","BonsaiText","CustomEventStore","FalcorNotice","FalcorNoticeDismissalUtils","FalcorNoticeKeys","GriffinSections","InsightsContext","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.$GriffinSectionNotices1=function(m){var n=[],o=c("BonsaiStatus").getMessage(m),p=c("BonsaiStatus").getSubtext(m);if(o&&!c("InsightsContext").isDemoApp()){var q=c("BonsaiStatus").isMessageAWarning(m)?c("FalcorNotice").NoticeTypes.WARNING:c("FalcorNotice").NoticeTypes.INFORMATION;n.push(c("React").createElement(c("FalcorNotice"),{noticeType:q,key:"message",message:o,subtext:p,dismissButton:{text:"",onClick:c("emptyFunction")}}))}var r=c("BonsaiStatus").getInternalMessage(m);if(r)n.push(c("React").createElement(c("FalcorNotice"),{noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,key:"internal",message:r}));if(m===c("GriffinSections").A2U&&c("InsightsContext").getHasA2UNotificationFiltering())n.push(c("React").createElement(c("FalcorNotice"),{key:"_a2uNotifFilteringMsg",noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,message:c("BonsaiText").a2u_notif_filtering_msg.text,secondButton:{href:c("BonsaiText").a2u_notif_filtering_msg.url,text:c("BonsaiText").learn_button}}));if(c("CustomEventStore").hasEvents()&&c("InsightsContext").getShowImplicitPurchaseEventsUpsell())n.push(c("React").createElement(c("FalcorNotice"),{key:c("FalcorNoticeKeys").PURCHASE_UPSELL,noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,noticeKey:c("FalcorNoticeKeys").PURCHASE_UPSELL,message:c("BonsaiText").implicit_purchase_events_upsell.text,subtext:c("BonsaiText").implicit_purchase_events_upsell.subtext,firstButton:{onClick:function s(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").SETTINGS).go()},text:c("BonsaiText").enable_button},secondButton:{href:c("BonsaiText").implicit_purchase_events_upsell.url,text:c("BonsaiText").learn_button},dismissButton:{onClick:function s(){return c("FalcorNoticeDismissalUtils").onNoticeDismissal(c("FalcorNoticeKeys").PURCHASE_UPSELL)},text:""}}));c("InsightsContext").getNoticesToShow().forEach(function(s){var t=null,u=null;if(s.dismissible)t={onClick:function v(){return c("FalcorNoticeDismissalUtils").onNoticeDismissal(s.noticeKey)},text:""};if(s.noticeKey===c("FalcorNoticeKeys").DEMO_APP)u={text:h._("Configurar Analytics"),href:"https://developers.facebook.com/docs/analytics/quickstart",target:"_blank"};s.message||i(0);n.push(c("React").createElement(c("FalcorNotice"),babelHelpers["extends"]({},s,{message:c("React").createElement(c("BonsaiHelpText"),{helpKey:s.message}),subtext:s.subtext?c("React").createElement(c("BonsaiHelpText"),{helpKey:s.subtext}):undefined,key:s.message,dismissButton:t,firstButton:u})))});return n};l.prototype.$GriffinSectionNotices2=function(){return c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"announcements",hideOnError:true},c("React").createElement(c("AnalyticsAnnouncements"),{entityID:c("InsightsContext").getObjID()}))};l.prototype.$GriffinSectionNotices3=function(m){return[c("GriffinSections").OVERVIEW,c("GriffinSections").OVERVIEW_DASHBOARD].includes(m)};l.prototype.render=function(){var m=c("AnalyticsStore").getState().navigation.section,n=this.$GriffinSectionNotices1(m);return n.length===0&&this.$GriffinSectionNotices3(m)?this.$GriffinSectionNotices2():c("React").createElement("div",null,n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("GriffinBreadcrumb",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props,n=m.label,o=m.selected;return c("React").createElement("span",{className:"_5g_0"+(o?" _5g_1":"")},n)};function l(){"use strict";i.apply(this,arguments)}f.exports=l}),null);
__d("GriffinBreadcrumbGroup",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props,n=m.children,o=m.value,p=c("React").Children.map(n,function(r){var s=o===r.props.value;return c("React").cloneElement(r,{selected:s})}),q=[];p.forEach(function(r,s){q.push(c("React").createElement("li",{key:"item"+s},r));if(s<p.length-1)q.push(c("React").createElement("li",{className:"_2giq",key:"chevron"+s}))});return c("React").createElement("ul",{className:"_2gir"},q)};function l(){"use strict";i.apply(this,arguments)}f.exports=l}),null);
__d("GriffinWizardSectionHeader",["fbt","GriffinBreadcrumb","GriffinBreadcrumbGroup","GriffinButton","GriffinSectionHeader","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.$GriffinWizardSectionHeader1=function(){var l=this.props,m=l.steps,n=l.selectedStep,o=l.onCancel,p=l.onBack,q=m.findIndex(function(t){return t.value===n});if(q===0){var r=h._("Cancelar");return c("React").createElement(c("GriffinButton"),{label:r,onClick:o})}else{var s=h._("Atr\u00e1s");return c("React").createElement(c("GriffinButton"),{label:s,onClick:p})}};k.prototype.$GriffinWizardSectionHeader2=function(){var l=this.props,m=l.steps,n=l.selectedStep,o=l.onNext,p=l.onSave,q=m.findIndex(function(t){return t.value===n});if(q===m.length-1){var r=h._("Guardar");return c("React").createElement(c("GriffinButton"),{label:r,onClick:p,use:"confirm"})}else{var s=h._("Siguiente");return c("React").createElement(c("GriffinButton"),{label:s,onClick:o,use:"confirm"})}};k.prototype.render=function(){var l=this.props,m=l.steps,n=l.selectedStep,o=m.map(function(q){var r=q.label,s=q.value;return c("React").createElement(c("GriffinBreadcrumb"),{key:s,label:r,value:s})}),p=[this.$GriffinWizardSectionHeader1(),this.$GriffinWizardSectionHeader2()];return c("React").createElement(c("GriffinSectionHeader"),{buttons:p},c("React").createElement(c("GriffinBreadcrumbGroup"),{value:n},o))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsSharingInsightsDeprecation",[],(function a(b,c,d,e,f,g){var h={_whitelistResults:false,init:function i(j){this._whitelistResults=j},get:function i(){return this._whitelistResults}};f.exports=h}),null);
__d("GriffinMenuConfig",["fbt","ix","AnalyticsGKNames","AnalyticsGKs","AnalyticsSharingInsightsDeprecation","AppCustomEventType","GriffinSections","React","AnalyticsOverviewSectionController","GriffinAutomatedInsightsDashboardSectionController","FalcorA2USectionController","GriffinAdsAPISectionController","FalcorBreakdownsSectionController","FalcorCohortsSectionController","GriffinCustomEventsSectionController","GriffinCustomDashboardSectionController","FalcorDeveloperSectionController","GEPushSectionController","GEPushCardSectionController","GriffinAutomaticAnalyticsSectionController","GriffinFunnelSectionQueryRenderer","InsightsContext","FalcorInvitesSectionController","GriffinLifetimeValueSectionController","FalcorLinkSharingSectionController","FalcorMonetizeSectionController","AnalyticsOverlapSectionController","GriffinPeopleDemographicSectionController","GriffinPeopleHouseholdPurchaseController","GriffinPeopleOverviewSectionController","GriffinPeoplePageLikesController","GriffinPeopleTechnologySectionController","FalcorReferralsSectionController","FalcorRequestsSectionController","GriffinRetentionSectionController","FalcorSettingsSectionController","GriffinFiftyFiftySectionController","FalcorStoriesSectionController","FalcorUsersSectionController","FalcorAKSectionController"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k={REVENUE:h._("Ingresos"),ACTIVE_USERS:h._("Usuarios activos"),OVERLAP:h._("Superposici\u00f3n"),PERCENTILES:h._("Percentiles"),EVENT_DEBUGGING:h._("Depuraci\u00f3n de eventos"),EVENTS:h._("Eventos"),FUNNELS:h._("Embudos")},l=j.shape({id:j.string.isRequired,name:j.string.isRequired}),m=[{key:c("GriffinSections").OVERVIEW,label:h._("Descripci\u00f3n"),controllerType:c("AnalyticsOverviewSectionController"),controllerProps:{},icon:{active:i("82608"),inactive:i("82613")}},{key:c("GriffinSections").AUTOMATED_INSIGHTS,label:h._("Estad\u00edsticas autom\u00e1ticas"),isNew:true,controllerType:c("GriffinAutomatedInsightsDashboardSectionController"),controllerProps:{section:c("GriffinSections").AUTOMATED_INSIGHTS},hidden:function o(){return!c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_PROJECTL_LANDING_PAGE)}},{key:c("GriffinSections").DASHBOARDS,label:h._("Paneles"),icon:{active:i("290467"),inactive:i("290468")},controllerType:c("GriffinCustomDashboardSectionController"),controllerProps:{},isNew:false,getSections:function o(p,q){return q.customDashboards.map(function(r){var s=r.id,t=r.name;return{key:s,label:t}})}},{key:c("GriffinSections").ACTIVITY,label:h._("Actividad"),icon:{active:i("82607"),inactive:i("82612")},sections:[{key:c("GriffinSections").ACTIVE_USERS,label:k.ACTIVE_USERS,controllerType:c("GriffinCustomEventsSectionController"),controllerProps:{eventName:c("AppCustomEventType").FB_BASE_EVENT,activeSubsection:"trends",title:k.ACTIVE_USERS,isTopLevelSection:true,sectionKey:c("GriffinSections").ACTIVE_USERS}},{key:c("GriffinSections").REVENUE,label:k.REVENUE,controllerType:c("GriffinCustomEventsSectionController"),controllerProps:{eventName:c("AppCustomEventType").FB_PURCHASE,activeSubsection:"trends",title:k.REVENUE,isTopLevelSection:true,sectionKey:c("GriffinSections").REVENUE}},{key:c("GriffinSections").FUNNELS,label:k.FUNNELS,controllerType:c("GriffinFunnelSectionQueryRenderer"),controllerProps:{}},{key:c("GriffinSections").RETENTION,label:h._("Retenci\u00f3n"),controllerType:c("GriffinRetentionSectionController"),controllerProps:{section:c("GriffinSections").RETENTION}},{key:c("GriffinSections").COHORTS,label:h._("Grupos"),controllerType:c("FalcorCohortsSectionController"),controllerProps:{}},{key:c("GriffinSections").BREAKDOWN_TABLE,label:h._("Desgloses"),controllerType:c("FalcorBreakdownsSectionController"),controllerProps:{}},{key:c("GriffinSections").PERCENTILES,label:k.PERCENTILES,controllerType:c("GriffinCustomEventsSectionController"),controllerProps:{eventName:c("AppCustomEventType").FB_BASE_EVENT,activeSubsection:"distribution",title:k.PERCENTILES,isTopLevelSection:true,sectionKey:c("GriffinSections").PERCENTILES}},{key:c("GriffinSections").CUSTOM_EVENTS,label:k.EVENTS,controllerType:c("GriffinCustomEventsSectionController"),controllerProps:{fixHeader:true}},{key:c("GriffinSections").EVENT_DEBUGGING,label:k.EVENT_DEBUGGING,controllerType:c("GriffinCustomEventsSectionController"),controllerProps:{activeSubsection:"recent",title:k.EVENT_DEBUGGING,isTopLevelSection:true}},{key:c("GriffinSections").OVERLAP,label:k.OVERLAP,controllerType:c("AnalyticsOverlapSectionController"),controllerProps:{}},{key:c("GriffinSections").LIFETIME_VALUE,label:h._("Valor total"),controllerType:c("GriffinLifetimeValueSectionController"),controllerProps:{}},{key:c("GriffinSections").AUTOMATIC_EVENTS,label:"Automatic Events",controllerType:c("GriffinAutomaticAnalyticsSectionController"),controllerProps:{},hidden:function o(){return!c("InsightsContext").showAutoAnalyticsSection()}}]},{key:c("GriffinSections").PEOPLE,label:h._("Personas"),icon:{active:i("82609"),inactive:i("82614")},sections:[{key:c("GriffinSections").PEOPLE_OVERVIEW,label:h._("Destacados"),controllerType:c("GriffinPeopleOverviewSectionController"),controllerProps:{}},{key:c("GriffinSections").PEOPLE_DEMOGRAPHICS,label:h._("Datos demogr\u00e1ficos"),controllerType:c("GriffinPeopleDemographicSectionController"),controllerProps:{}},{key:c("GriffinSections").PAGE_LIKES,label:h._("Me gusta de la p\u00e1gina"),controllerType:c("GriffinPeoplePageLikesController"),controllerProps:{}},{key:c("GriffinSections").TECHNOLOGY,label:h._("Tecnolog\u00eda"),controllerType:c("GriffinPeopleTechnologySectionController"),controllerProps:{}},{key:c("GriffinSections").HOUSEHOLD_PURCHASE,label:h._("Hogar\/Compra"),controllerType:c("GriffinPeopleHouseholdPurchaseController"),controllerProps:{}}]},{key:c("GriffinSections").PUSH_CAMPAIGNS,label:h._("Campa\u00f1as de inserci\u00f3n"),icon:{active:i("82611"),inactive:i("82616")},sections:[{key:c("GriffinSections").GEPUSH,label:h._("Notificaciones de inserci\u00f3n"),controllerType:c("GEPushSectionController"),controllerProps:{}},{key:c("GriffinSections").GEPUSH_IN_APP,label:h._("Notificaciones en la aplicaci\u00f3n"),controllerType:c("GEPushCardSectionController"),controllerProps:{}}]},{key:c("GriffinSections").FACEBOOK_PLATFORM,label:h._("Plataforma de Facebook"),icon:{active:i("82610"),inactive:i("82615")},sections:[{key:c("GriffinSections").FIFTY_FIFTY,label:h._("Historias y referencias"),controllerType:c("GriffinFiftyFiftySectionController"),controllerProps:{},hidden:function o(){return!c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_APP_ANALYTICS_SECTION)}},{key:c("GriffinSections").REFERRALS,label:h._("Referencias"),controllerType:c("FalcorReferralsSectionController"),controllerProps:{},hidden:function o(){return c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_APP_ANALYTICS_SECTION)}},{key:c("GriffinSections").STORIES,label:h._("Historias"),controllerType:c("FalcorStoriesSectionController"),controllerProps:{},hidden:function o(){return c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_APP_ANALYTICS_SECTION)}},{key:c("GriffinSections").LINK_SHARING,label:h._("Estad\u00edsticas del contenido compartido"),controllerType:c("FalcorLinkSharingSectionController"),controllerProps:{},hidden:function o(){return!c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_INSIGHTS_DEPRECATION)&&!c("AnalyticsSharingInsightsDeprecation").get()}},{key:c("GriffinSections").LOGIN,label:h._("Iniciar sesi\u00f3n"),controllerType:c("FalcorUsersSectionController"),controllerProps:{}},{key:c("GriffinSections").ACCOUNT_KIT,label:h._("Account Kit"),controllerType:c("FalcorAKSectionController"),controllerProps:{}},{key:c("GriffinSections").INVITES,label:h._("Invitaciones a aplicaciones"),controllerType:c("FalcorInvitesSectionController"),controllerProps:{}},{key:c("GriffinSections").A2U,label:h._("Notificaciones de la aplicaci\u00f3n"),controllerType:c("FalcorA2USectionController"),controllerProps:{}},{key:c("GriffinSections").REQUESTS,label:h._("Solicitudes de juegos"),controllerType:c("FalcorRequestsSectionController"),controllerProps:{}},{key:c("GriffinSections").MONETIZE,label:h._("Monetizaci\u00f3n"),controllerType:c("FalcorMonetizeSectionController"),controllerProps:{}},{key:c("GriffinSections").DEVELOPERS,label:h._("API"),controllerType:c("FalcorDeveloperSectionController"),controllerProps:{}},{key:c("GriffinSections").ADS_APIS,label:h._("Estad\u00edsticas de la API de marketing"),controllerType:c("GriffinAdsAPISectionController"),controllerProps:{}}]},{key:c("GriffinSections").SETTINGS,label:h._("Configuraci\u00f3n"),controllerType:c("FalcorSettingsSectionController"),controllerProps:{},icon:{active:i("279281"),inactive:i("279282")}}];function n(){return c("GriffinSections").ACTIVITY}f.exports={SectionConfigs:m,DEFAULT_SECTION:c("GriffinSections").OVERVIEW,DEFAULT_OPEN_GROUP:n(),ACTIVE:"active",INACTIVE:"inactive",contextTypes:{customDashboards:j.arrayOf(l)},labels:k}}),null);
__d("AnalyticsSegmentAsyncUtils",["invariant","Promise","InternalAnalyticsQueryBuilder","AppCustomEventType","GriffinSegmentUtils","InsightsGraphAPI","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i={fetchSegmentList:function j(){return new(c("Promise"))(function(k,l){c("InsightsGraphAPI").appEdgeGet(c("InsightsGraphAPIConstants").SEGMENT_EDGE).done(function(m){var n=m.data;n.forEach(function(o){o.name_data={id:o.id,name:o.name,isInternal:o.is_internal||false};o.time_last_updated=o.time_last_updated?new Date(o.time_last_updated*1e3):null;o.time_last_seen=o.time_last_seen?new Date(o.time_last_seen*1e3):null});k(n)},l)})},fetchSegment:function j(k){return new(c("Promise"))(function(l,m){c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").SEGMENT_NODE,k).done(l,m)})},saveSegment:function j(k,l,m,n){if(!k)h(0);return new(c("Promise"))(function(o,p){c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").SEGMENT_NODE,k,babelHelpers["extends"]({name:l},c("GriffinSegmentUtils").getWireFormat(m,n))).done(o,p)})},createSegment:function j(k,l,m,n){return new(c("Promise"))(function(o,p){c("InsightsGraphAPI").appEdgePost(c("InsightsGraphAPIConstants").SEGMENT_EDGE,babelHelpers["extends"]({name:l,is_internal:k},c("GriffinSegmentUtils").getWireFormat(m,n))).done(o,p)})},deleteSegment:function j(k){k||h(0);return new(c("Promise"))(function(l,m){c("InsightsGraphAPI").objectRemove(k).done(l,m)})},fetchTotalUsers:function j(k,l,m,n){var o=new(c("InternalAnalyticsQueryBuilder"))();o=o.setAnalyticsEntityID(m).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setSince(k).setUntil(l).setAggregations(["USERS"]).setIntervalsToAggregate(0).setNotifySamplingStore(n).setTag("total_users");return o},fetchSegmentTotalUsers:function j(k,l,m,n,o){var p=new(c("InternalAnalyticsQueryBuilder"))();p=p.setAnalyticsEntityID(m).setEventName(c("GriffinSegmentUtils").getDefaultEventName(n)).setSince(k).setUntil(l).setFilters({event_rules:n.event_rules,event_info_rules:n.event_info_rules,user_property_rules:n.user_property_rules,percentile_rules:n.percentile_rules,web_param_rules:n.web_param_rules}).setAggregations(["USERS"]).setIntervalsToAggregate(0).setNotifySamplingStore(o).setTag("segment_total_users");return p}};f.exports=i}),null);
__d("AnalyticsSessionDurationLogger",["AnalyticsGKNames","AnalyticsGKs","InsightsEventLogger","Map","guid"],(function a(b,c,d,e,f,g){"use strict";var h="session_duration",i="component_duration",j={_sessionProperties:new(c("Map"))(),_sessionStartTimeMarkers:new(c("Map"))(),_sessionComponentsLoadedTimeMarkers:new(c("Map"))(),_completedSessions:new(c("Map"))(),_sessionCount:0,createSession:function k(l){var m=this._createSessionID();this._sessionStartTimeMarkers.set(m,this._getTimeMarker());this._sessionComponentsLoadedTimeMarkers.set(m,new(c("Map"))());this._sessionProperties.set(m,l||{});this._sessionCount++;return m},registerComponent:function k(l,m){if(!this._isSessionActive(l))return;this._sessionComponentsLoadedTimeMarkers.get(l).set(m,null)},unregisterComponent:function k(l,m){if(!this._isSessionActive(l))return;var n=this._sessionComponentsLoadedTimeMarkers.get(l).get(m);if(n===undefined)return;this._sessionComponentsLoadedTimeMarkers.get(l)["delete"](m);if(this._isSessionComplete(l))this._logSessionComplete(l)},markComponentLoaded:function k(l,m){if(!this._isSessionActive(l))return;var n=this._sessionComponentsLoadedTimeMarkers.get(l).get(m);if(n!==null)return;var o=this._getTimeMarker();this._sessionComponentsLoadedTimeMarkers.get(l).set(m,o);c("InsightsEventLogger").logEvent({componentID:m,sessionID:l,valueToSum:o-n,eventName:i});if(this._isSessionComplete(l))this._logSessionComplete(l)},_createSessionID:function k(){return c("guid")()},_isSessionComplete:function k(l){return this._getComponentLoadTimes(l).every(function(m){return m!==null})},_isSessionActive:function k(l){return this._completedSessions.get(l)!==true},_logSessionComplete:function k(l){if(!this._isEnabled())return;var m=this._sessionStartTimeMarkers.get(l),n=null,o=0,p=null,q=0,r=this._sessionComponentsLoadedTimeMarkers.get(l).entries();for(var s=r,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=w[0],y=w[1];if(n===null||y<=o){n=x;o=y}if(p===null||y>=q){p=x;q=y}}var z=[];if(c("AnalyticsGKs").get(c("AnalyticsGKNames").IMMEDIATE_INLINE))z.push(c("AnalyticsGKNames").IMMEDIATE_INLINE);if(c("AnalyticsGKs").get(c("AnalyticsGKNames").OVERVIEW_PRIMER))z.push(c("AnalyticsGKNames").OVERVIEW_PRIMER);var A={request_start_to_session_start:m,request_start_to_first_component_loaded:o,request_start_to_last_component_loaded:q,session_start_to_first_component_loaded:o-m,session_start_to_last_component_loaded:q-m,first_to_last_component_loaded:q-o,first_component_loaded_name:n,last_component_loaded_name:p,session_count:this._sessionCount,gatekeepers_enabled:z.join(", ")};c("InsightsEventLogger").logEvent(babelHelpers["extends"]({},A,this._sessionProperties.get(l),{eventName:h}));this._completedSessions.set(l,true)},_getComponentLoadTimes:function k(l){return Array.from(this._sessionComponentsLoadedTimeMarkers.get(l).values())},_getTimeMarker:function k(){return this._isEnabled()?Math.round(window.performance.now()):-1},_isEnabled:function k(){return!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart)}};f.exports=j}),null);
__d("AnalyticsInsightPopoverHeader",["cx","fbt","AnalyticsInsight","AnalyticsOutcomeTypes","GriffinAcquisitionSourceUtils","React","FalcorBreakdownsTextUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCES;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props.position==="right"?"_b5d":"_5-oq",o=this.props.insight.getOutcomeType()===c("AnalyticsOutcomeTypes").ANOMALY?i._("\u00bfLo sab\u00edas?"):this.$AnalyticsInsightPopoverHeader1();return c("React").createElement("div",{className:n},o)};m.prototype.$AnalyticsInsightPopoverHeader1=function(){"use strict";var n=this.props.insight.getRules().map(function(o){var p=String(o.parameter_name),q=l.toArray().includes(p)?JSON.parse(String(Array(o.values)[0]))[p][0]:String(Array(o.values)[0]);return c("React").createElement("li",{key:p},i._("{type}: {value}",[i.param("type",c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(p)),i.param("value",c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(p,q))]))});return c("React").createElement("ul",{className:"_5-or"},n)};function m(){"use strict";j.apply(this,arguments)}f.exports=m}),null);
__d("AnalyticsInsightCard",["cx","fbt","ix","AnalyticsGKs","AnalyticsGKNames","AnalyticsInsight","AnalyticsInsightFeedback","AnalyticsInsightQueryUtils","AnalyticsInsightsActions","AnalyticsInsightsStore","AnalyticsInsightPopoverContent","AnalyticsInsightPopoverHeader","AnalyticsOutcomeTypes","AnalyticsQEUtils","AnalyticsQEUniverses","AppEventsAggregatingColumn","BonsaiText","FluxContainer","Image.react","InsightsEventLogger","InsightsNumUtils","Link.react","React","SUIAnalyticsGriffinTheme","SUIButton.react","SUICustomPopover.react","TextWithEntities.react","Tooltip.react","XUIDateRangePickerUtil","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n=c("React").PropTypes,o=500,p={visible:false,shouldFetchPopoverData:false,isInsightClicked:false,donutData:null,segmentSizeData:null,lineChartData:null,mouseOnCard:false,mouseOnPopover:false,lineChartTitleData:null,segmentSizeError:null,donutError:null,lineChartError:null,isPopoverVisible:false},q=(m={},m[c("AppEventsAggregatingColumn").AGE]=j("291851"),m[c("AppEventsAggregatingColumn").GENDER]=j("291848"),m[c("AppEventsAggregatingColumn").BROWSER]=j("291853"),m[c("AppEventsAggregatingColumn").BROWSER_VERSION]=j("291853"),m[c("AppEventsAggregatingColumn").SCREEN_DIMENSIONS]=j("291853"),m[c("AppEventsAggregatingColumn").CORE_COUNT]=j("291853"),m[c("AppEventsAggregatingColumn").COUNTRY]=j("291856"),m[c("AppEventsAggregatingColumn").CITY_CODE]=j("291856"),m[c("AppEventsAggregatingColumn").REGION_CODE]=j("291856"),m[c("AppEventsAggregatingColumn").LOCALE]=j("291856"),m[c("AppEventsAggregatingColumn").TIMEZONE]=j("291856"),m[c("AppEventsAggregatingColumn").APP_VERSION]=j("291855"),m[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE]=j("291855"),m[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L1]=j("291855"),m[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L2]=j("291855"),m[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L3]=j("291855"),m[c("AppEventsAggregatingColumn").REMAINING_DISK_GB]=j("291855"),m[c("AppEventsAggregatingColumn").DEVICE_TYPE]=j("291854"),m[c("AppEventsAggregatingColumn").DEVICE_MODEL]=j("291854"),m[c("AppEventsAggregatingColumn").DEVICE_OS_TYPE]=j("291854"),m[c("AppEventsAggregatingColumn").USING_FB_LOGIN]=j("291847"),m[c("AppEventsAggregatingColumn").CLIENT_TYPE]=j("291849"),m[c("AppEventsAggregatingColumn").CARRIER]=j("291857"),m);k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;r.getStores=function(){return[c("AnalyticsInsightsStore")]};r.calculateState=function(s,t){if(c("AnalyticsInsightsStore").isInitializing())return p;var u=c("AnalyticsInsightsStore").getCurrentInsightIndex(t.section),v=t.index-u>=0&&t.index-u<c("AnalyticsInsightsStore").getVisibleInsightsCount(),w=t.index-u>=0&&t.index-u<c("AnalyticsInsightsStore").getVisibleInsightsCount()*2,x=c("AnalyticsInsightsStore").getClickedInsightID(),y=t.insight.getID()===x;return babelHelpers["extends"]({},s?s:p,{visible:v,shouldFetchPopoverData:w,isInsightClicked:y})};function r(s){l.constructor.call(this,s);this.$AnalyticsInsightCard6=function(t,u){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_insight_see_more_click",source:t,index:this.props.index},this.props.insight.getLogParams()));if(this.state.isPopoverVisible){this.$AnalyticsInsightCard10();this.setState({isPopoverVisible:false})}else this.setState({isPopoverVisible:true},function(){this.$AnalyticsInsightCard1=performance.now()}.bind(this));c("AnalyticsInsightsActions").insightClickNavigate(this.props.insight)}.bind(this)}r.prototype.componentDidMount=function(){if(this.state.visible)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_shown",index:this.props.index},this.props.insight.getLogParams()));if(this.state.shouldFetchPopoverData)this.$AnalyticsInsightCard2()};r.prototype.componentDidUpdate=function(s,t){var u=s.insight.getID()!==this.props.insight.getID();if(u&&this.state.visible||t&&this.state.visible&&t.visible!==this.state.visible)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_shown",index:this.props.index},this.props.insight.getLogParams()));if(u||t&&this.state.shouldFetchPopoverData&&t.shouldFetchPopoverData!==this.state.shouldFetchPopoverData)this.$AnalyticsInsightCard2()};r.prototype.getSegmentSizeString=function(){var s=this.state.segmentSizeData;if(s){var t=s.segmentUsers/s.allUsers;return i._("{percent} de los usuarios",[i.param("percent",c("InsightsNumUtils").prettyPercent(t,2))])}return null};r.prototype.render=function(){var s=this.$AnalyticsInsightCard3(c("AnalyticsInsightFeedback").RATE_NEGATIVE)?j("134382"):j("123168"),t=this.$AnalyticsInsightCard3(c("AnalyticsInsightFeedback").RATE_POSITIVE)?j("134382"):j("123168"),u=this.$AnalyticsInsightCard4(s,"negative",i._("No es \u00fatil"),c("AnalyticsInsightFeedback").RATE_NEGATIVE),v=this.$AnalyticsInsightCard4(t,"positive",i._("\u00datil"),c("AnalyticsInsightFeedback").RATE_POSITIVE),w=this.props.insight.getOutcomeType()!==c("AnalyticsOutcomeTypes").ANOMALY?i._("Analizar segmento"):i._("Analizar"),x=c("React").createElement(c("SUIButton.react"),{height:"short",width:130,label:w,theme:c("SUIAnalyticsGriffinTheme"),use:"default"}),y=this.props.insight.getRules().map(function(I){return I.parameter_name}).toJS(),z=this.props.insight.getPercentChange(),A=z>=0?j("120511"):j("118897"),B=this.state.isInsightClicked===true?"_5-ci _2-_g":"_2-_g",C="right",D=c("AnalyticsInsightsStore").getCurrentInsightIndex(this.props.section),E=c("AnalyticsInsightsStore").getVisibleInsightsCount();if(this.props.index-D>=E-1)if(c("AnalyticsInsightsStore").getVisibleInsightsCount()<1)C="below";else C="left";var F=this.getSegmentSizeString(),G=this.state.segmentSizeError||this.state.donutError||this.state.lineChartError,H=c("React").createElement("div",{onMouseOver:function(){return this.$AnalyticsInsightCard5(true,"mouseOnCard")}.bind(this),onMouseOut:function(){return this.$AnalyticsInsightCard5(false,"mouseOnCard")}.bind(this)},c("React").createElement("div",{className:B,onClick:function(){this.$AnalyticsInsightCard6("card_link",null)}.bind(this),role:"presentation"},c("React").createElement("div",{className:"_2-_l"},this.$AnalyticsInsightCard7(y),c("React").createElement("div",{className:"_2-_n"},c("React").createElement("div",{className:c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").AUTOMATED_INSIGHTS_TEXT_CHANGE)?"_gtf":"_3bi0",role:"link"},c("React").createElement(c("TextWithEntities.react"),{interpolator:function I(J,K){return c("React").createElement("b",null,J)},ranges:this.props.insight.getTextStyles().toJS(),text:this.props.insight.getText()})),c("React").createElement("div",{className:c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").AUTOMATED_INSIGHTS_TEXT_CHANGE)?"_gtg":"_3bi2"},c("React").createElement(c("Image.react"),{className:"_12gb",src:A,align:"middle"}),c("XUIDateRangePickerUtil").formatDateRangeWithConfig(this.props.insight.getSinceUTCTime(),this.props.insight.getUntilUTCTime(),"M j, Y"),F?" "+String.fromCodePoint(183)+" ":null,F),c("React").createElement("div",{className:"_3bi6",onClick:function(I){I.stopPropagation();this.$AnalyticsInsightCard6("card_analyze_segment",null)}.bind(this),role:"presentation"},x),c("React").createElement("div",{className:"_3bi4"}),c("React").createElement("div",{className:"_3bi5"},v,u)))));return c("React").createElement(c("SUICustomPopover.react"),{contentPadding:"none",ref:"popover",position:C,showClose:false,content:c("React").createElement("div",{onMouseOver:function(){return this.$AnalyticsInsightCard5(true,"mouseOnPopover")}.bind(this),onMouseOut:function(){return this.$AnalyticsInsightCard5(false,"mouseOnPopover")}.bind(this)},c("React").createElement(c("AnalyticsInsightPopoverContent"),{insight:this.props.insight,donutData:this.state.donutData,segmentSizeData:this.state.segmentSizeData,lineChartData:this.state.lineChartData,position:C,lineChartTitleData:this.state.lineChartTitleData,error:G,onGoToDetails:this.$AnalyticsInsightCard6})),header:c("React").createElement("div",{onMouseOver:function(){return this.$AnalyticsInsightCard5(true,"mouseOnPopover")}.bind(this),onMouseOut:function(){return this.$AnalyticsInsightCard5(false,"mouseOnPopover")}.bind(this)},c("React").createElement(c("AnalyticsInsightPopoverHeader"),{insight:this.props.insight,position:C})),theme:c("SUIAnalyticsGriffinTheme")},H)};r.prototype.$AnalyticsInsightCard4=function(s,t,u,v){var w=this.$AnalyticsInsightCard3(v),x="_3bie"+(v===c("AnalyticsInsightFeedback").RATE_NEGATIVE?" _12gc":""),y=t==="positive"?c("BonsaiText").insight_tutd_tooltips.thumbs_up:c("BonsaiText").insight_tutd_tooltips.thumbs_down,z=c("React").createElement(c("Link.react"),{className:(!w?"_3bia":"")+(w?" _3bib":""),onClick:function(B){B.stopPropagation();this.$AnalyticsInsightCard8(v)}.bind(this)},c("React").createElement(c("Image.react"),{src:s,className:x}),c("React").createElement("div",{className:"_3bif"},u)),A=c("React").createElement(c("Tooltip.react"),{ref:"root",tooltip:y},z);return c("React").createElement("div",{className:"_3bi9",ref:t},A)};r.prototype.$AnalyticsInsightCard7=function(s){var t=this.$AnalyticsInsightCard9(s[0]);return c("React").createElement("div",{className:"_3bh_"},c("React").createElement(c("Image.react"),{className:"_2-_m",src:t}))};r.prototype.$AnalyticsInsightCard9=function(s){return q[s]?q[s]:j("116094")};r.prototype.$AnalyticsInsightCard3=function(s){return this.props.insight.getFeedback()===s};r.prototype.$AnalyticsInsightCard8=function(s){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_rate",rating:s,index:this.props.index},this.props.insight.getLogParams()));c("AnalyticsInsightsActions").insightRated(this.props.insight.getID(),this.props.insight.getFeedback(),s)};r.prototype.$AnalyticsInsightCard5=function(s,t){var u;if(s===this.state[t])return;this.setState((u={},u[t]=s,u));if(s)setTimeout(function(){if(!this.state.isPopoverVisible&&(this.state.mouseOnCard||this.state.mouseOnPopover)){this.refs.popover.show();this.setState({isPopoverVisible:true},function(){this.$AnalyticsInsightCard1=performance.now()}.bind(this))}}.bind(this),o);else setTimeout(function(){this.$AnalyticsInsightCard11()}.bind(this),o)};r.prototype.$AnalyticsInsightCard11=function(){if(this.refs.popover&&this.state.isPopoverVisible&&!this.state.mouseOnCard&&!this.state.mouseOnPopover){this.refs.popover.hide();this.setState({isPopoverVisible:false},function(){this.$AnalyticsInsightCard10()}.bind(this))}};r.prototype.$AnalyticsInsightCard2=function(){c("AnalyticsInsightQueryUtils").fetchSegmentSizeDonutData(this.context.analyticsEntityID,this.props.insight).done(function(s){return this.setState({segmentSizeData:s})}.bind(this),function(s){this.setState({segmentSizeError:s})}.bind(this));c("AnalyticsInsightQueryUtils").fetchInsightDonutData(this.context.analyticsEntityID,this.props.insight).done(function(s){this.setState({donutData:s})}.bind(this),function(s){this.setState({donutError:s})}.bind(this));c("AnalyticsInsightQueryUtils").fetchInsightLineChartData(this.context.analyticsEntityID,this.props.insight).done(function(s){return this.setState({lineChartData:s})}.bind(this),function(s){this.setState({lineChartError:s})}.bind(this));c("AnalyticsInsightQueryUtils").fetchInsightLineChartTitleData(this.context.analyticsEntityID,this.props.insight).done(function(s){return this.setState({lineChartTitleData:s})}.bind(this))};r.prototype.$AnalyticsInsightCard10=function(){var s=parseInt((performance.now()-this.$AnalyticsInsightCard1)/1e3,10);c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_popover_visible",popoverShowTimeSeconds:s,index:this.props.index},this.props.insight.getLogParams()))};r.contextTypes={analyticsEntityID:n.string.isRequired};r.state=p;f.exports=c("FluxContainer").create(r,{withProps:true})}),null);
__d("BonsaiTooltip",["ix","cx","xuiglyph","Image.react","React","ReactDOM","Tooltip"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){"use strict";if(this.props.children)return c("React").createElement("div",{className:this.props.className},this.props.children);return c("React").createElement("span",{className:"_24fl"},c("React").createElement(c("Image.react"),{src:h("89333")}))};n.prototype.componentDidMount=function(){"use strict";c("Tooltip").set(c("ReactDOM").findDOMNode(this),this.props.tooltip,this.props.position,this.props.alignH)};function n(){"use strict";k.apply(this,arguments)}n.propTypes={alignH:m.oneOf(["left","center","right"]),position:m.oneOf(["above","below","left","right"]),tooltip:m.string.isRequired};n.defaultProps={alignH:"right",position:"above"};f.exports=n}),null);
__d("AnalyticsInsightPopoverContent",["ix","cssVar","cx","fbt","AnalyticsCandelaUtils","AnalyticsInsight","AnalyticsOutcomes","AnalyticsOutcomeTypes","AppEventsAggregatingColumn","BonsaiColors","BonsaiText","BonsaiTooltip","BUIInsightsHoverCardChart.react","FalcorErrorNotice","FalcorLoadingCard","Grid.react","GriffinSections","GriffinOverviewDonutChart","GriffinPieChart","Image.react","immutable","InsightsNumUtils","InsightsTimeUtils","LeftRight.react","BUIInsightsLineAreaChart.react","React","SUIButton.react","fbglyph","CandelaConstants","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p=c("Grid.react").GridItem,q=c("CandelaConstants").ScaleType,r=c("CandelaConstants").RenderAs,s=c("CandelaGroupScaleBuilder").group,t=c("CandelaStackScaleBuilder").stack,u=c("immutable").List,v=120,w=340,x=50,y=.7,z={description:{more:(n={},n[c("AnalyticsOutcomes").WAU_GROWTH]=k._("m\u00e1s usuarios"),n[c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS]=k._("m\u00e1s usuarios"),n[c("AnalyticsOutcomes").TIME_SPENT]=k._("m\u00e1s tiempo dedicado a la aplicaci\u00f3n por usuario"),n[c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN]=k._("m\u00e1s tiempo dedicado a la aplicaci\u00f3n por usuario"),n[c("AnalyticsOutcomes").TIME_SPENT_TREND]=k._("m\u00e1s tiempo dedicado"),n[c("AnalyticsOutcomes").PURCHASE_VALUE]=k._("m\u00e1s ingresos por usuario"),n[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN]=k._("m\u00e1s ingresos por usuario"),n[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT]=k._("m\u00e1s compras"),n[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM]=k._("m\u00e1s ingresos"),n[c("AnalyticsOutcomes").PURCHASE_VALUE_TREND]=k._("m\u00e1s ingresos"),n[c("AnalyticsOutcomes").RETENTION]=k._("m\u00e1s retenciones"),n[c("AnalyticsOutcomes").ANOMALY_RETENTION]=k._("m\u00e1s retenciones"),n),less:(o={},o[c("AnalyticsOutcomes").WAU_GROWTH]=k._("menos usuarios"),o[c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS]=k._("menos usuarios"),o[c("AnalyticsOutcomes").TIME_SPENT]=k._("menos tiempo dedicado a la aplicaci\u00f3n por usuario"),o[c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN]=k._("menos tiempo dedicado a la aplicaci\u00f3n por usuario"),o[c("AnalyticsOutcomes").TIME_SPENT_TREND]=k._("menos tiempo dedicado a la aplicaci\u00f3n"),o[c("AnalyticsOutcomes").PURCHASE_VALUE]=k._("menos ingresos por usuario"),o[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN]=k._("menos ingresos por usuario"),o[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT]=k._("menos compras"),o[c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM]=k._("menos ingresos"),o[c("AnalyticsOutcomes").PURCHASE_VALUE_TREND]=k._("menos ingresos"),o[c("AnalyticsOutcomes").RETENTION]=k._("menos retenciones"),o[c("AnalyticsOutcomes").ANOMALY_RETENTION]=k._("menos retenciones"),o)},comparison:{all_users:k._("en comparaci\u00f3n con todos los usuarios"),last_week:k._("en comparaci\u00f3n con la semana anterior"),last_14:k._("en comparaci\u00f3n con los \u00faltimos 14 d\u00edas"),vs_forecasted:k._("frente a lo previsto")}};l=babelHelpers.inherits(A,c("React").Component);m=l&&l.prototype;A.prototype.render=function(){"use strict";var B="_39az";if(this.props.position==="left")B="_goh";else if(this.props.position==="right")B="_goi";var C=this.props.error;if(C)return c("React").createElement("div",{className:B},c("React").createElement(c("FalcorErrorNotice"),{message:C.getMessage()}));var D=this.props.insight.getOutcomeType()!==c("AnalyticsOutcomeTypes").ANOMALY?k._("Analizar segmento"):k._("Analizar");return c("React").createElement("div",{className:B},c("React").createElement("div",null,c("React").createElement(c("LeftRight.react"),null,this.$AnalyticsInsightPopoverContent1(),this.$AnalyticsInsightPopoverContent2())),this.$AnalyticsInsightPopoverContent3(),c("React").createElement("div",{className:"_gj0"},this.$AnalyticsInsightPopoverContent4()),c("React").createElement("div",{className:"_39a-"},c("React").createElement("div",{className:"_39a_"},c("React").createElement(c("SUIButton.react"),{onClick:function(E){E.stopPropagation();this.props.onGoToDetails("popover_link",null)}.bind(this),label:D,use:"default",height:"short",width:130}))))};A.prototype.$AnalyticsInsightPopoverContent1=function(){"use strict";var B=c("React").createElement("div",{className:"_39b1"},k._("Comportamiento del segmento"),c("React").createElement(c("BonsaiTooltip"),{tooltip:c("BonsaiText").insight_popover_header_tooltips.segment_behavior})),C=this.props.insight.getPercentChange(),D=C>=0?"#42b72a":"#fa3e3e",E=C>=0?h("120511"):h("118897"),F=C>=0?z.description.more:z.description.less,G=F[this.props.insight.getOutcome()],H=this.$AnalyticsInsightPopoverContent5();return c("React").createElement("div",null,B,c("React").createElement("div",{className:"_39b5",style:{color:D}},c("React").createElement(c("Image.react"),{src:E}),c("InsightsNumUtils").prettyPercent(C,1)),c("React").createElement("div",{className:"_39b6",style:{color:D}},G),c("React").createElement("div",null,H))};A.prototype.$AnalyticsInsightPopoverContent5=function(){"use strict";if(this.props.insight.getOutcome()===c("AnalyticsOutcomes").WAU_GROWTH)return z.comparison.last_week;else if(this.props.insight.getOutcomeType()===c("AnalyticsOutcomeTypes").VALUE)return z.comparison.all_users;else if(this.props.insight.getOutcomeType()!==c("AnalyticsOutcomeTypes").ANOMALY)return z.comparison.last_14;else return z.comparison.vs_forecasted};A.prototype.$AnalyticsInsightPopoverContent2=function(){"use strict";var B=c("React").createElement("div",{className:"_39b1"},k._("Tama\u00f1o del segmento"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:c("BonsaiText").insight_popover_header_tooltips.segment_size})),C=this.props.segmentSizeData;if(!C)return c("React").createElement("div",{className:"_39b7"},B,c("React").createElement(c("FalcorLoadingCard"),{showCard:false}));var D=C.segmentUsers/C.allUsers,E=["segmentTotal","remainderTotal"],F={segmentTotal:C.segmentUsers,remainderTotal:C.allUsers-C.segmentUsers},G={segmentTotal:{type:q.NUMBER},remainderTotal:{type:q.NUMBER}},H={segmentTotal:c("BonsaiColors").ANALYTICS_DARK_GRAY,remainderTotal:c("BonsaiColors").ANALYTICS_LIGHT_GRAY},I=E.filter(function(J){return F[J]>0});return c("React").createElement("div",{className:"_39b7"},B,c("React").createElement("div",{style:{color:c("BonsaiColors").ANALYTICS_DARK_GRAY}},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,c("React").createElement("div",{className:"_hod"},c("React").createElement(c("Image.react"),{className:"_39b8",src:h("122990"),style:{transform:"scale(0.75)"}})),c("React").createElement(c("GriffinPieChart"),{autoColors:c("immutable").Map(H),data:[F],schema:G,plotAngle:t.apply(this,I).from(0),height:x,width:x,innerRadiusRatio:y})),c("React").createElement("div",{className:"_39bc"},c("React").createElement("div",{className:"_39b5"},c("InsightsNumUtils").prettyPercent(D,2)),c("React").createElement("div",{className:"_39bd"},k._("{segment_count} de {population_count}",[k.param("segment_count",c("InsightsNumUtils").prettyShortInt(C.segmentUsers)),k.param("population_count",c("InsightsNumUtils").prettyShortInt(C.allUsers))])),c("React").createElement("div",{className:"_39bf"},k._("Total de usuarios"))))))};A.prototype.$AnalyticsInsightPopoverContent3=function(){"use strict";var B=c("React").createElement("div",{className:"_39b1"},k._("Datos demogr\u00e1ficos del segmento"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:c("BonsaiText").insight_popover_header_tooltips.segment_demographics})),C=this.props.donutData,D=this.props.segmentSizeData;if(!C||!D)return c("React").createElement("div",null,B,c("React").createElement(c("FalcorLoadingCard"),{showCard:false}));var E=D.segmentUsers;return c("React").createElement("div",{className:"_gj1"},c("React").createElement("div",{className:"_39b1"},k._("Datos demogr\u00e1ficos del segmento"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:c("BonsaiText").insight_popover_header_tooltips.segment_demographics})),c("React").createElement("div",{className:"_39bg",onClick:function(){return this.props.onGoToDetails("donut_link",c("GriffinSections").PEOPLE_OVERVIEW)}.bind(this)},c("React").createElement(c("Grid.react"),{cols:4,spacing:"pal",alignv:"top"},c("React").createElement(p,{key:1},c("React").createElement(c("GriffinOverviewDonutChart"),{className:"_39bo",key:"donut_age",breakdownType:c("AppEventsAggregatingColumn").AGE,result:C.get(c("AppEventsAggregatingColumn").AGE),totalUsers:E,height:x,width:x,innerRadiusRatio:y})),c("React").createElement(p,{key:2},c("React").createElement(c("GriffinOverviewDonutChart"),{className:"_39bo",key:"donut_gender",breakdownType:c("AppEventsAggregatingColumn").GENDER,result:C.get(c("AppEventsAggregatingColumn").GENDER),totalUsers:E,height:x,width:x,innerRadiusRatio:y})),c("React").createElement(p,{key:3},c("React").createElement(c("GriffinOverviewDonutChart"),{className:"_39bo",key:"donut_country",breakdownType:c("AppEventsAggregatingColumn").COUNTRY,result:C.get(c("AppEventsAggregatingColumn").COUNTRY),totalUsers:E,height:x,width:x,innerRadiusRatio:y})),c("React").createElement(p,{key:4},c("React").createElement(c("GriffinOverviewDonutChart"),{className:"_39bo",key:"donut_platform",breakdownType:c("AppEventsAggregatingColumn").PLATFORM,result:C.get(c("AppEventsAggregatingColumn").PLATFORM),totalUsers:E,height:x,width:x,innerRadiusRatio:y})))))};A.prototype.$AnalyticsInsightPopoverContent4=function(){"use strict";var B=this.props.lineChartData;if(!B)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var C=c("AnalyticsCandelaUtils").Generic.getItemsFromDependentSeriesNamesAndSchema(B.dependentSeriesNames,B.schema),D=c("immutable").Map(),E=this.props.insight.getPercentChange();B.dependentSeriesNames.forEach(function(I){var J=I.includes("comparison")?"#bec2c9":E>=0?"#42b72a":"#fa3e3e";D=D.set(I,J)});var F={chart:{paddingTop:10,paddingLeft:15}},G=u();if(this.props.insight.getTime()!==null&&this.props.insight.getOutcome()!==c("AnalyticsOutcomes").ANOMALY_RETENTION){var H=Math.round((this.props.insight.getUntil()-this.props.insight.getTime())/86400);G=u([{renderAs:r.MARKER,value:B.data[H][B.independentSeriesName],variableName:B.independentSeriesName}])}return c("React").createElement("div",null,this.$AnalyticsInsightPopoverContent6(),c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:C,formatterFactory:B.formatterFactory,titleElementGetter:B.titleElementGetter},c("React").createElement(c("BUIInsightsLineAreaChart.react"),{annotations:G,axisMarkFormatterFactory:B.axisMarkFormatterFactory,data:B.data,height:v,width:w,styles:F,plotX:s(B.independentSeriesName).extendInput(0,.05).niceStepOnly(),plotY:[s.apply(this,B.dependentSeriesNames).from(0).roundInput()],schema:B.schema,until:this.props.insight.getUntil(),autoColors:D})))};A.prototype.$AnalyticsInsightPopoverContent6=function(){"use strict";var B=this.props.lineChartTitleData;if(!B)return c("React").createElement("div",null);var C=B.insightSampleValue,D=B.insightBaselineValue,E=this.props.insight.getPercentChange(),F=E>=0?"#42b72a":"#fa3e3e",G="",H="";switch(this.props.insight.getOutcome()){case c("AnalyticsOutcomes").TIME_SPENT:C=c("InsightsTimeUtils").minutesToDisplay(C,true).toString();D=c("InsightsTimeUtils").minutesToDisplay(D,true).toString();H=k._("por usuario para todos los usuarios");break;case c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN:C=c("InsightsTimeUtils").secondsToDisplay(this.props.insight.getInsightValue()/1e3,true).toString();D=c("InsightsTimeUtils").secondsToDisplay(this.props.insight.getPopulationValue()/1e3,true).toString();H=k._("previsto");break;case c("AnalyticsOutcomes").TIME_SPENT_TREND:C=c("InsightsTimeUtils").minutesToDisplay(C,true).toString();G=k._("ayer");D=c("InsightsTimeUtils").minutesToDisplay(D/13,true).toString();H=k._("al d\u00eda durante los \u00faltimos 14 d\u00edas");break;case c("AnalyticsOutcomes").PURCHASE_VALUE:C=c("InsightsNumUtils").prettyShortCurrency("USD",C);D=c("InsightsNumUtils").prettyShortCurrency("USD",D);H=k._("por usuario para todos los usuarios");break;case c("AnalyticsOutcomes").PURCHASE_VALUE_TREND:C=c("InsightsNumUtils").prettyShortCurrency("USD",C);G=k._("ayer");D=c("InsightsNumUtils").prettyShortCurrency("USD",D/13);H=k._("al d\u00eda durante los \u00faltimos 14 d\u00edas");break;case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN:C=c("InsightsNumUtils").prettyCurrencyEx("USD",this.props.insight.getInsightValue()/1e3);D=c("InsightsNumUtils").prettyCurrencyEx("USD",this.props.insight.getPopulationValue()/1e3);H=k._("previsto por usuario");break;case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM:C=c("InsightsNumUtils").prettyShortCurrency("USD",this.props.insight.getInsightValue()/1e3);D=c("InsightsNumUtils").prettyShortCurrency("USD",this.props.insight.getPopulationValue()/1e3);H=k._("ingresos previstos");break;case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT:C=c("InsightsNumUtils").prettyShortInt(this.props.insight.getInsightValue());D=c("InsightsNumUtils").prettyShortInt(this.props.insight.getPopulationValue());H=k._("compradores \u00fanicos previstos");break;case c("AnalyticsOutcomes").RETENTION:C=c("InsightsNumUtils").prettyPercent(C,1);G=k._("retenidos");D=c("InsightsNumUtils").prettyPercent(D,1);H=k._("retenidos durante las \u00faltimas dos semanas");break;case c("AnalyticsOutcomes").ANOMALY_RETENTION:C=c("InsightsNumUtils").prettyPercent(this.props.insight.getInsightValue()/100,1);G=k._("retenci\u00f3n");D=c("InsightsNumUtils").prettyPercent(this.props.insight.getPopulationValue()/100,1);H=k._("retenci\u00f3n prevista.");break;case c("AnalyticsOutcomes").WAU_GROWTH:C=c("InsightsNumUtils").prettyShortInt(C);G=k._("usuarios esta semana");D=c("InsightsNumUtils").prettyShortInt(D);H=k._("usuarios la semana pasada");break;case c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS:C=c("InsightsNumUtils").prettyShortInt(this.props.insight.getInsightValue());G=k._("usuarios");D=c("InsightsNumUtils").prettyShortInt(this.props.insight.getPopulationValue());H=k._("usuarios previstos");break}var I=c("AnalyticsOutcomeTypes").ANOMALY===this.props.insight.getOutcomeType()?c("React").createElement(c("BonsaiTooltip"),{tooltip:c("BonsaiText").insight_popover_header_tooltips.linechart_title}):null;return c("React").createElement("div",null,c("React").createElement("span",{className:"_3dsp",style:{color:F}},C),c("React").createElement("span",{className:"_39b1"},c("React").createElement("span",{style:{color:F}}," "," ",G)," "," vs ",D," "," "," ",H),I)};function A(){"use strict";l.apply(this,arguments)}f.exports=A}),null);
__d("InsightsCohortsData",["fbt","invariant","AnalyticsDateRangeStore","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","DateTime"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k,l,m,n,o,p,q,r,s,t,u){this.$InsightsCohortsData1=this.$InsightsCohortsData16(k);this.$InsightsCohortsData2={};this.$InsightsCohortsData3={};this.$InsightsCohortsData4=l;this.$InsightsCohortsData5=m;this.$InsightsCohortsData6=n;this.$InsightsCohortsData7=o;this.$InsightsCohortsData8=p;this.$InsightsCohortsData9=q;this.$InsightsCohortsData10=r;this.$InsightsCohortsData11=s;this.$InsightsCohortsData12=t;this.$InsightsCohortsData13=u}j.prototype.isEmpty=function(){return this.$InsightsCohortsData1.length===0};j.prototype.getUserRetentionData=function(k){var l=this.$InsightsCohortsData17("eventUniques",0);l.exportData=this.$InsightsCohortsData18(k,l);return l};j.prototype.getValueRetentionData=function(k){var l=this.$InsightsCohortsData17("eventValue",2);l.exportData=this.$InsightsCohortsData18(k,l,["First Event Value"],function(m){return m[0].firstEventCount});return l};j.prototype.getCumulativeValueData=function(k){var l=this.$InsightsCohortsData19("eventValue",2);l.exportData=this.$InsightsCohortsData18(k,l);return l};j.prototype.getCumulativeCountData=function(k){var l=this.$InsightsCohortsData19("eventCount",2);l.exportData=this.$InsightsCohortsData18(k,l);return l};j.prototype.getAllowedChartTypes=function(){return this.$InsightsCohortsData14};j.prototype.getSamplingRate=function(){return this.$InsightsCohortsData4};j.prototype.getFirstEventUniquesCount=function(){return this.$InsightsCohortsData5};j.prototype.getFollowupEventUniquesCount=function(){return this.$InsightsCohortsData6};j.prototype.getPartition=function(){return this.$InsightsCohortsData7};j.prototype.getReadDuration=function(){return this.$InsightsCohortsData8};j.prototype.getOverallDuration=function(){return this.$InsightsCohortsData9};j.prototype.getAsyncTaskId=function(){return this.$InsightsCohortsData10};j.prototype.getIsUSDValues=function(){return!!this.$InsightsCohortsData15};j.prototype.getWarningMessage=function(){return this.$InsightsCohortsData11};j.prototype.$InsightsCohortsData17=function(k,l){if(this.$InsightsCohortsData2[k])return this.$InsightsCohortsData2[k];var m=[];for(var n=0;n<this.$InsightsCohortsData1.length;++n){var o=this.$InsightsCohortsData1[n][k],p=this.$InsightsCohortsData1[n].followupEventData,q=[];for(var r=0;r<p.length;++r){var s=0,t=p[r][k];if(o===null||o===undefined||t===null||t===undefined)s=null;else if(o>0)s=t*100/o;var u={cohortLabel:this.$InsightsCohortsData1[n].firstEventTimestamp,exportData:p[r][k]&&Number(p[r][k].toFixed(l)),intervalsAfter:p[r].intervalsAfter,firstEventCount:o,followupEventCount:t,uniqueUsers:this.$InsightsCohortsData1[n].eventUniques,value:s};q.push(u)}m.push(q)}this.$InsightsCohortsData2[k]=this.$InsightsCohortsData20(m);return this.$InsightsCohortsData2[k]};j.prototype.$InsightsCohortsData19=function(k,l){if(this.$InsightsCohortsData3[k])return this.$InsightsCohortsData3[k];var m=[];for(var n=0;n<this.$InsightsCohortsData1.length;++n){var o=this.$InsightsCohortsData1[n].followupEventData,p=this.$InsightsCohortsData1[n].eventUniques,q=[],r=0;for(var s=0;s<o.length;++s){var t=r,u=o[s].eventUniques;if(p===null||p===undefined||u===null||u===undefined)t=null;else if(p>0)t+=o[s][k]/this.$InsightsCohortsData1[n].eventUniques;var v={cohortLabel:this.$InsightsCohortsData1[n].firstEventTimestamp,exportData:t&&Number(t.toFixed(l)),firstEventCount:this.$InsightsCohortsData1[n].eventUniques,followupEventCount:o[s][k],intervalsAfter:o[s].intervalsAfter,uniqueUsers:this.$InsightsCohortsData1[n].eventUniques,value:t};r=v.value;q.push(v)}m.push(q)}this.$InsightsCohortsData3[k]=this.$InsightsCohortsData20(m);return this.$InsightsCohortsData3[k]};j.prototype.$InsightsCohortsData16=function(k){var l,m=[],n={},o=Object.keys(k),p=false,q=false,r=false,s=function s(t){var u=k[o[t]],v=u.first_event,w=u.followup_event,x=w.map(function(event,y){q=q||event.value_sum>0;r=r||event.usd_sum>0;var z=v.uniques!==null&&event.uniques!==null?Math.min(v.uniques,event.uniques):null;return{intervalsAfter:y,eventCount:event.count,eventValue:event.usd_sum||event.value_sum,eventUniques:z}});n={firstEventTimestamp:v.timestamp,eventCount:v.count,eventValue:v.usd_sum||v.value_sum,eventUniques:v.uniques,followupEventData:x};p=p||v.value_sum>0;m.push(n)};for(var t=0;t<o.length;++t)s(t);this.$InsightsCohortsData14=[c("AnalyticsCohortChartType").USER_RETENTION,c("AnalyticsCohortChartType").CUMULATIVE_EVENTS];if(q){this.$InsightsCohortsData14.push(c("AnalyticsCohortChartType").LIFETIME_VALUE);if(p)this.$InsightsCohortsData14.push(c("AnalyticsCohortChartType").VALUE_RETENTION)}if(r)this.$InsightsCohortsData15=true;return m};j.prototype.$InsightsCohortsData21=function(k){var l=[];for(var m=0;m<k;++m)l.push(m);return l};j.prototype.$InsightsCohortsData22=function(k){var l=[h._("Media ponderada"),h._("Media")];for(var m=0;m<k.length;++m)l.push(this.$InsightsCohortsData23(k[m][0].cohortLabel,m<k.length-1?k[m+1][0].cohortLabel:this.$InsightsCohortsData12+1));return l};j.prototype.$InsightsCohortsData23=function(k,l){var m=c("AnalyticsDateRangeStore").getTimezoneID(),n=c("DateTime").fromLegacyArgs(k*1e3,m),o=c("DateTime").fromLegacyArgs((l-2*60*60)*1e3,m);switch(this.$InsightsCohortsData13){case c("AnalyticsCohortCollationInterval").DAILY:return n.format("M j");case c("AnalyticsCohortCollationInterval").WEEKLY:if(n.getMonth()!=o.getMonth())return h._("{Date range start} - {Date range end}",[h.param("Date range start",n.format("M j")),h.param("Date range end",o.format("M j"))]);else return h._("{Date range start} - {Date range end}",[h.param("Date range start",n.format("M j")),h.param("Date range end",o.format("j"))]);case c("AnalyticsCohortCollationInterval").MONTHLY:return h._("{Date range start} - {Date range end}",[h.param("Date range start",n.format("M j")),h.param("Date range end",o.format("j"))]);default:i(0)}};j.prototype.$InsightsCohortsData24=function(k){var l=[],m=[],n=Number.MAX_VALUE,o=Number.MIN_VALUE,p=Number.MAX_VALUE,q=Number.MIN_VALUE,r=0,s=0,t=0;k.forEach(function(z){var A=false;z.forEach(function(B){A=A||B.value===null||B.value===undefined;var C=l[B.intervalsAfter]||{elements:0,valueSum:0,vals:[]};l[B.intervalsAfter]=C;if(A)return;C.valueSum+=B.value*B.firstEventCount;C.elements+=B.firstEventCount;C.vals.push(B);if(n>B.value){p=n;n=B.value}else if(p>B.value&&B.value!=n)p=B.value;if(o<B.value){q=o;o=B.value}else if(q<B.value&&B.value!=o)q=B.value;r+=B.value;s+=B.value*B.value;t++});if(!A)m.push(z[0].uniqueUsers)});var u=m.reduce(function(z,A){return z+A})/m.length,v=[],w=[];l.forEach(function(z,A){w.push({intervalsAfter:A,uniqueUsers:u,value:z.vals.length>0?z.vals.reduce(function(B,C){return B+C.value},0)/z.vals.length:null});v.push({intervalsAfter:A,uniqueUsers:u,value:z.vals.length>0?z.elements>0?z.valueSum/z.elements:0:null})});var x=Math.sqrt(t*s-r*r)/t,y=r/t;p=p===Number.MAX_VALUE?n:p;q=q===Number.MIN_VALUE?o:q;return{arithmeticAverages:w,weightedAverages:v,mean:y,range:{min:p,max:q},standardDeviation:x}};j.prototype.$InsightsCohortsData20=function(k){var l=this.$InsightsCohortsData22(k),m=this.$InsightsCohortsData21(k[0].length),n=this.$InsightsCohortsData24(k);return{arithmeticAverages:n.arithmeticAverages,weightedAverages:n.weightedAverages,colLabels:m,isUSDValues:this.getIsUSDValues(),mean:n.mean,range:n.range,retentionTable:k,rowLabels:l,samplingRate:this.getSamplingRate(),standardDeviation:n.standardDeviation}};j.prototype.$InsightsCohortsData25=function(k,l){var m=l.retentionTable[0][0].cohortLabel,n=this.$InsightsCohortsData12,o=c("AnalyticsDateRangeStore").getTimezoneID(),p=c("DateTime").fromLegacyArgs(m*1e3,o),q=c("DateTime").fromLegacyArgs((n-2*60*60)*1e3,o);return[k,this.$InsightsCohortsData13,p.format("Y-m-d"),q.format("Y-m-d")].join("_")+".csv"};j.prototype.$InsightsCohortsData26=function(k,l){return["Date","Cohort Size",k?k.join(","):null,l.join(",")].filter(function(m){return m!==null}).join(",")};j.prototype.$InsightsCohortsData18=function(k,l,m,n){var o=[];o.push(this.$InsightsCohortsData26(m,l.colLabels));var p=l.retentionTable,q=l.rowLabels;for(var r=0;r<p.length;++r){var s=p[r],t=s.map(function(v){return v.exportData}).join(",");t=[q[r+2],s[0].uniqueUsers,n?n(s):null,t].filter(function(v){return v!==null}).join(",");o.push(t)}var u={data:o.join("\n"),fileName:this.$InsightsCohortsData25(k,l)};return u};f.exports=j}),null);
__d("InsightsCohortsUtils",["fbt","invariant","CandelaCurrencyScale","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","GriffinSections","InsightsCohortsData","InsightsFormatterFactories","InsightsNumUtils","CandelaConstants","immutable","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("CandelaConstants").ScaleType,k=c("immutable").Set,l=["#135680","#A817BD","#178013","#A7E0FD","#E8ED00","#FF4EDF","#1784BD","#3DBD17","#4EBDFF","#4EFF89"],m={getMaxSelectableRows:function n(){return l.length},getLineChartColors:function n(){return l.slice(0)},getTooltipForDisabledRowSelect:function n(){return h._("Solo puedes seleccionar un m\u00e1ximo de {Number of selectable rows} filas",[h.param("Number of selectable rows",m.getMaxSelectableRows())])},getDisplayStringForCollationInterval:function n(o){switch(o){case c("AnalyticsCohortCollationInterval").DAILY:return h._("Por d\u00eda");case c("AnalyticsCohortCollationInterval").WEEKLY:return h._("Semanal");case c("AnalyticsCohortCollationInterval").MONTHLY:return h._("Por mes");default:i(0)}},getCollationIntervalForChartCaption:function n(o){return h._({"DAILY":"D\u00edas despu\u00e9s del primer evento","WEEKLY":"Semanas despu\u00e9s del primer evento","MONTHLY":"Meses despu\u00e9s del primer evento"},[h["enum"](o,{DAILY:"Days",WEEKLY:"Weeks",MONTHLY:"Months"})])},getIntervalAfterTooltipLabel:function n(o,p){return h._("{number (ex 27)} {period (ex day, months)} despu\u00e9s del primer evento",[h.param("number (ex 27)",o),h.param("period (ex day, months)",m.getCollationIntervalPluralText(p,o))])},getCollationIntervalPluralText:function n(o,p){switch(o){case c("AnalyticsCohortCollationInterval").DAILY:return h._({"*":"d\u00edas","_1":"d\u00eda"},[h.plural(p)]);case c("AnalyticsCohortCollationInterval").WEEKLY:return h._({"*":"semanas","_1":"semana"},[h.plural(p)]);case c("AnalyticsCohortCollationInterval").MONTHLY:return h._({"*":"meses","_1":"mes"},[h.plural(p)]);default:i(0)}},getInfoCMSKey:function n(o){var p=null;switch(o){case c("GriffinSections").COHORTS:p="CohortsCardInfo";break;case c("GriffinSections").RETENTION:p="RetentionCardInfo";break;default:i(0)}return p},getSectionNameText:function n(o){var p=null;switch(o){case c("GriffinSections").COHORTS:p=h._("GRUPOS");break;case c("GriffinSections").RETENTION:p=h._("RETENCI\u00d3N");break;case c("GriffinSections").LIFETIME_VALUE:p=h._("VALOR TOTAL");break;default:i(0)}return p},getTooltipForCollationInterval:function n(o){switch(o){case c("AnalyticsCohortCollationInterval").DAILY:return h._("El valor \"Diario\" est\u00e1 disponible si el intervalo seleccionado es inferior a 31 d\u00edas");case c("AnalyticsCohortCollationInterval").WEEKLY:return h._("El valor \"Semanal\" est\u00e1 disponible si el intervalo seleccionado es mayor que 8 d\u00edas");case c("AnalyticsCohortCollationInterval").MONTHLY:return h._("El intervalo Mensual est\u00e1 disponible si el intervalo seleccionado es mayor de 30 d\u00edas");default:i(0)}},getDisplayStringForChartType:function n(o){switch(o){case c("AnalyticsCohortChartType").USER_RETENTION:return h._("Retenci\u00f3n de usuarios");case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return h._("Eventos acumulativos");case c("AnalyticsCohortChartType").LIFETIME_VALUE:return h._("Valores acumulativos");case c("AnalyticsCohortChartType").VALUE_RETENTION:return h._("Retenci\u00f3n de valor");default:i(0)}},getGraphLabelForChartType:function n(o){switch(o){case c("AnalyticsCohortChartType").USER_RETENTION:return h._("Porcentaje de usuarios");case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return h._("Total de eventos por usuario");case c("AnalyticsCohortChartType").LIFETIME_VALUE:return h._("Valor acumulativo por usuario");case c("AnalyticsCohortChartType").VALUE_RETENTION:return h._("Porcentaje de valor retenido");default:i(0)}},getTooltipForChartType:function n(o){switch(o){case c("AnalyticsCohortChartType").USER_RETENTION:case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return null;case c("AnalyticsCohortChartType").LIFETIME_VALUE:return h._("Este gr\u00e1fico est\u00e1 disponible cuando el segundo evento de grupo muestre valor de compra");case c("AnalyticsCohortChartType").VALUE_RETENTION:return h._("Este gr\u00e1fico est\u00e1 disponible cuando ambos eventos de grupo muestran valor de compra");default:i(0)}},getCandelaChartAxisFormatterFactory:function n(){return m._axisFormatterFactory},_axisFormatterFactory:function n(o,p){if(o instanceof c("CandelaCurrencyScale"))return function(q){return c("InsightsNumUtils").prettyCurrencyEx("USD",q)};else return c("InsightsFormatterFactories").axisMarkFormatterFactory(o,p)},getCandelaScale:function n(o,p){switch(o){case c("AnalyticsCohortChartType").USER_RETENTION:case c("AnalyticsCohortChartType").VALUE_RETENTION:return j.PERCENTAGE;case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return j.NUMBER;case c("AnalyticsCohortChartType").LIFETIME_VALUE:return p?j.CURRENCY:j.NUMBER}i(0)},processCohortQueryResult:function n(o){var p,q=JSON.parse(o.cohorts_data),r=null,s=null,t=[];if(q.breakdown_data)(function(){r={};var u=k();Object.keys(q.breakdown_data).forEach(function(v){c("nullthrows")(r)[v]=new(c("InsightsCohortsData"))(q.breakdown_data[v],o.sampling_rate,o.first_event_uniques_count,o.followup_event_uniques_count,o.partition,o.read_duration,o.overall_duration,o.async_task_id,q.warning_message,q.end_time,q.collation_interval);u=u.union(c("nullthrows")(r)[v].getAllowedChartTypes())});t=u.toJS()})();else{s=new(c("InsightsCohortsData"))(q.data,o.sampling_rate,o.first_event_uniques_count,o.followup_event_uniques_count,o.partition,o.read_duration,o.overall_duration,o.async_task_id,q.warning_message,q.end_time,q.collation_interval);t=s.getAllowedChartTypes()}return{allowedChartTypes:t,allowedCollationIntervals:q.allowed_intervals,breakdownData:r,cohortsData:s,collationInterval:q.collation_interval}}};f.exports=m}),null);
__d("AnalyticsInsightQueryUtils",["Promise","CandelaConstants","AnalyticsQueryAggregationMethod","AnalyticsCandelaUtils","InternalAnalyticsCohortsQueryBuilder","AnalyticsDateRangeStore","AnalyticsInsight","AnalyticsMetricConfigs","AnalyticsOutcomes","AnalyticsOutcomeTypes","AnalyticsQueryApi","InternalAnalyticsQueryBuilder","AnalyticsQueryMetric","AppCustomEventType","AppEventQueryError","AppEventsAggregatingColumn","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","d3/time/day","immutable","InsightsCohortsData","InsightsCohortsUtils","InsightsFormatterFactories","isEmpty"],(function a(b,c,d,e,f,g){var h=c("CandelaConstants").ScaleType,i=c("CandelaConstants").RenderAs,j=5,k="timestamp",l="intervals_after",m={fetchInsightDonutData:function n(o,p){var q=p.getWireFormatSegment(),r=new(c("InternalAnalyticsQueryBuilder"))().setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setAnalyticsEntityID(o).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setFilters(q).setIntervalsToAggregate(0).setLimit(j).setOrderingColumns([c("AnalyticsQueryAggregationMethod").USERS]).setOrderingType("DESCENDING").setSince(p.getSince()).setUntil(p.getUntil()).setTag(["insight_donut",p.getID(),p.getOutcome()].join("_")),s=[c("AppEventsAggregatingColumn").AGE,c("AppEventsAggregatingColumn").GENDER,c("AppEventsAggregatingColumn").COUNTRY,c("AppEventsAggregatingColumn").PLATFORM],t=[],u=s.map(function(v){return new(c("Promise"))(function(w,x){var y=r.setBreakdowns([v]).setOnSuccess(function(z){return w(z)}).setOnError(function(z){return x(z)}).getQuery();t.push(y)})});c("AnalyticsQueryApi").queryAppEventData(t);return c("Promise").all(u).then(function(v){var w=v.reduce(function(x,y,z){var A;return Object.assign(x,(A={},A[s[z]]=y,A))},{});return c("immutable").Map(w)},function(v){throw v})},fetchSegmentSizeDonutData:function n(o,p){var q=p.getWireFormatSegment(),r=[],s=new(c("InternalAnalyticsQueryBuilder"))().setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setAnalyticsEntityID(o).setIntervalsToAggregate(0).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setSince(p.getSince()).setUntil(p.getUntil()).setTag(["insight_segment_size_donut",p.getID(),p.getOutcome()].join("_")),t=["segmentUsers","allUsers"],u=t.map(function(v){return new(c("Promise"))(function(w,x){var y=s.setFilters(v==="segmentUsers"?q:null).setOnSuccess(function(z){return w(z)}).setOnError(function(z){return x(z)}).getQuery();r.push(y)})});c("AnalyticsQueryApi").queryAppEventData(r);return c("Promise").all(u).then(function(v){var w=v[t.indexOf("segmentUsers")],x=v[t.indexOf("allUsers")];return{segmentUsers:w.getUniquesTotalDangerously(),allUsers:x.getUniquesTotalDangerously()}},function(v){throw v})},fetchInsightLineChartData:function n(o,p){if(p.getOutcome()===c("AnalyticsOutcomes").RETENTION||p.getOutcome()===c("AnalyticsOutcomes").ANOMALY_RETENTION)return this._fetchRetentionInsightLineChartData(o,p);return this._fetchAppEventQueryInsightLineChartData(o,p)},fetchInsightLineChartTitleData:function n(o,p){if(p.getOutcome()===c("AnalyticsOutcomes").RETENTION||p.getOutcome()===c("AnalyticsOutcomes").ANOMALY_RETENTION)return this._fetchRetentionInsightLineChartTitleData(o,p);return this._fetchAppEventQueryInsightLineChartTitleData(o,p)},_fetchAppEventQueryInsightLineChartTitleData:function n(o,p){var q=p.getWireFormatSegment(),r=this._getInsightAggregations(p),s=[],t=new(c("InternalAnalyticsQueryBuilder"))().setAggregations(r).setAnalyticsEntityID(o).setEventName(this._getInsightEventName(p)).setIntervalsToAggregate(0).setTag(["insight_segment_size_donut",p.getID(),p.getOutcome()].join("_")),u=["sample","baseline"],v=u.map(function(w){return new(c("Promise"))(function(x,y){var z={},A={};if(p.getOutcomeType()===c("AnalyticsOutcomeTypes").VALUE){z={since:p.getSince(),until:p.getUntil()};if(w==="sample")A=q}else if(p.getOutcomeType()===c("AnalyticsOutcomeTypes").DELTA){A=q;if(w==="sample")if(p.getOutcome()===c("AnalyticsOutcomes").WAU_GROWTH)z={since:c("d3/time/day").utc.offset(p.getSince()*1e3,7).getTime()/1e3,until:p.getUntil()};else z={since:p.getUntil(),until:p.getUntil()};else if(p.getOutcome()===c("AnalyticsOutcomes").WAU_GROWTH)z={since:p.getSince(),until:c("d3/time/day").utc.offset(p.getUntil()*1e3,-7).getTime()/1e3};else z={since:p.getSince(),until:c("d3/time/day").utc.offset(p.getUntil()*1e3,-1)/1e3}}var B=t.setFilters(A).setSince(z.since).setUntil(z.until).setOnSuccess(function(C){return x(C)}).setOnError(function(C){return y(C)}).getQuery();s.push(B)})});c("AnalyticsQueryApi").queryAppEventData(s);return c("Promise").all(v).then(function(w){var x=w[u.indexOf("sample")],y=w[u.indexOf("baseline")],z=this._getInsightValueFromResult(p,x),A=this._getInsightValueFromResult(p,y);return{insightSampleValue:z,insightBaselineValue:A}}.bind(this))},_fetchRetentionInsightLineChartTitleData:function n(o,p){return this._getRetentionData(o,p).then(function(q){return{insightSampleValue:q.segmentData.weightedAverages[1].value/100,insightBaselineValue:q.comparisonData.weightedAverages[1].value/100}})},_fetchAppEventQueryInsightLineChartData:function n(o,p){var q=c("AnalyticsDateRangeStore").getTimezoneID(),r=this._getInsightAggregations(p),s=p.getWireFormatSegment(),t=[],u=new(c("InternalAnalyticsQueryBuilder"))().setAggregations(r).setAnalyticsEntityID(o).setEventName(this._getInsightEventName(p)).setAggregationPeriod("DAY").setFilters(s).setSince(p.getSince()).setUntil(p.getUntil()).setTag(["insight_line_chart_daily",p.getID(),p.getOutcome()].join("_")),v=p.getOutcomeType()===c("AnalyticsOutcomeTypes").VALUE,w=v?["segment","comparison"]:["segment"],x=w.map(function(y){return new(c("Promise"))(function(z,A){var B=u.setFilters(y==="segment"?s:null).setOnSuccess(function(C){return z(C)}).setOnError(function(C){return A(C)}).getQuery();t.push(B)})});c("AnalyticsQueryApi").queryAppEventData(t);return c("Promise").all(x).then(function(y){var z,A,B=this,C=y[w.indexOf("segment")],D=this._getInsightMetrics(p).map(function(L){return c("AnalyticsCandelaUtils").Timeseries.getDataFromResult(C,L,null)}),E=(z=c("AnalyticsCandelaUtils").Generic).mergeData.apply(z,[k].concat(D)),F=c("AnalyticsCandelaUtils").Generic.mergeData(k,E).sort(function(L,M){return Number(M[k])-Number(L[k])}),G=c("AnalyticsCandelaUtils").Timeseries.getSchemaFromResult(C,this._getInsightMetrics(p),null,q);if(v===true)(function(){var L,M=y[w.indexOf("comparison")],N=B._getInsightMetrics(p).map(function(Q){return c("AnalyticsCandelaUtils").Comparisons.getComparisonData(c("AnalyticsCandelaUtils").Timeseries.getDataFromResult(M,Q,null),k)}),O=(L=c("AnalyticsCandelaUtils").Generic).mergeData.apply(L,[k].concat(N)),P=c("AnalyticsCandelaUtils").Comparisons.getComparisonSchema(c("AnalyticsCandelaUtils").Timeseries.getSchemaFromResult(M,B._getInsightMetrics(p),null,q));F=c("AnalyticsCandelaUtils").Generic.mergeData(k,F,O).sort(function(Q,R){return Number(R[k])-Number(Q[k])});G=babelHelpers["extends"]({},G,P)})();var H=Object.keys(G).sort().filter(function(L){return G[L].type!==h.TIME}),I=c("AnalyticsCandelaUtils").Timeseries.getAxisFormatter(this._getInsightMetrics(p),"day",false),J=c("AnalyticsCandelaUtils").Timeseries.getFormatterFactory(this._getInsightMetrics(p)),K=c("AnalyticsCandelaUtils").Timeseries.getTitleElementFactory("day",p.getUntil(),q);return{axisMarkFormatterFactory:I,formatterFactory:J,titleElementGetter:K,data:F,independentSeriesName:k,dependentSeriesNames:H,schema:G}}.bind(this),function(y){throw y})},_fetchRetentionInsightLineChartData:function n(o,p){return this._getRetentionData(o,p).then(function(q){var r,s=c("AnalyticsCandelaUtils").Generic.mergeData(l,q.segmentData.weightedAverages.map(function(t){var u;return u={value:t.value/100},u[l]=t.intervalsAfter,u}),q.comparisonData.weightedAverages.map(function(t){var u;return u={"comparison-value":t.value/100},u[l]=t.intervalsAfter,u})).sort(function(t,u){return Number(u[l])-Number(t[l])});return{axisMarkFormatterFactory:c("InsightsFormatterFactories").axisMarkFormatterFactory,data:s,independentSeriesName:l,dependentSeriesNames:["value","comparison-value"],schema:(r={value:{renderAs:i.LINE,type:h.PERCENTAGE,label:c("InsightsCohortsUtils").getDisplayStringForChartType(c("AnalyticsCohortChartType").USER_RETENTION)},"comparison-value":{renderAs:i.LINE,type:h.PERCENTAGE,label:c("InsightsCohortsUtils").getDisplayStringForChartType(c("AnalyticsCohortChartType").USER_RETENTION)}},r[l]={type:h.NUMBER},r)}})},_getRetentionData:function n(o,p){var q=p.getWireFormatSegment(),r=[],s=new(c("InternalAnalyticsCohortsQueryBuilder"))().setAnalyticsEntityID(o).setFirstEvent({name:"firstEvent",negate_rule:false,event_rule:{application:o,cumulative_rule:null,event_name:c("AppCustomEventType").FB_NEW_USER,parameters:[]}}).setFollowupEvent({name:"followupEvent",negate_rule:false,event_rule:{application:o,cumulative_rule:null,event_name:c("AppCustomEventType").FB_BASE_EVENT,parameters:[]}}).setSince(p.getSince()).setUntil(p.getUntil()).setCollationInterval(c("AnalyticsCohortCollationInterval").WEEKLY).setTag(["insight_retention",p.getID(),p.getOutcome()].join("_")),t=["segment","comparison"],u=t.map(function(v){return new(c("Promise"))(function(w,x){var y=s.setFilters(v==="segment"?q:null).setOnSuccess(function(z){z=JSON.parse(z.cohorts_data);if(c("isEmpty")(z.data)){x(new(c("AppEventQueryError"))({code:3006,subcode:0,message:"not enough users",type:""}));return}w(z)}).setOnError(function(z){return x(z)}).getQuery();r.push(y)})});c("AnalyticsQueryApi").queryCohortsData(r);return c("Promise").all(u).then(function(v){var w=v[t.indexOf("segment")],x=v[t.indexOf("comparison")];return{segmentData:new(c("InsightsCohortsData"))(w.data,w.sampling_rate,w.first_event_uniques_count,w.followup_event_uniques_count,w.partition,w.read_duration,w.overall_duration,w.async_task_id,w.warning_message,w.end_time,w.collation_interval).getUserRetentionData(""),comparisonData:new(c("InsightsCohortsData"))(x.data,x.sampling_rate,x.first_event_uniques_count,x.followup_event_uniques_count,x.partition,x.read_duration,x.overall_duration,x.async_task_id,x.warning_message,x.end_time,x.collation_interval).getUserRetentionData("")}},function(v){throw v})},_getInsightAggregations:function n(o){return this._getInsightMetrics(o)[0].aggregations},_getInsightValueFromResult:function n(o,p){switch(o.getOutcome()){case c("AnalyticsOutcomes").TIME_SPENT:case c("AnalyticsOutcomes").TIME_SPENT_TREND:return Number(p.getTotalForAggregation(c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER))/60;case c("AnalyticsOutcomes").PURCHASE_VALUE:return Number(p.getTotalForAggregation(c("AnalyticsQueryAggregationMethod").USD_SUM))/Number(p.getTotalForAggregation(c("AnalyticsQueryAggregationMethod").USERS));case c("AnalyticsOutcomes").PURCHASE_VALUE_TREND:return Number(p.getTotalForAggregation(c("AnalyticsQueryAggregationMethod").USD_SUM));case c("AnalyticsOutcomes").WAU_GROWTH:return Number(p.getTotalForAggregation(c("AnalyticsQueryAggregationMethod").USERS))}return 0},_getInsightMetrics:function n(o){switch(o.getOutcome()){case c("AnalyticsOutcomes").TIME_SPENT:case c("AnalyticsOutcomes").TIME_SPENT_TREND:case c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN:return c("AnalyticsMetricConfigs").getMetricConfig(c("AnalyticsQueryMetric").MEDIAN_VALUE_PER_USER,this._getInsightEventName(o),false);case c("AnalyticsOutcomes").PURCHASE_VALUE:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN:return c("AnalyticsMetricConfigs").getMetricConfig(c("AnalyticsQueryMetric").VALUE_PER_USER,this._getInsightEventName(o),true);case c("AnalyticsOutcomes").PURCHASE_VALUE_TREND:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM:return c("AnalyticsMetricConfigs").getMetricConfig(c("AnalyticsQueryMetric").VALUE,this._getInsightEventName(o),true);case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT:return c("AnalyticsMetricConfigs").getMetricConfig(c("AnalyticsQueryMetric").UNIQUE_USERS,this._getInsightEventName(o),true);case c("AnalyticsOutcomes").WAU_GROWTH:case c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS:return c("AnalyticsMetricConfigs").getMetricConfig(c("AnalyticsQueryMetric").UNIQUE_USERS,this._getInsightEventName(o),false)}return[]},_getInsightEventName:function n(o){switch(o.getOutcome()){case c("AnalyticsOutcomes").TIME_SPENT:case c("AnalyticsOutcomes").TIME_SPENT_TREND:case c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN:return c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP;case c("AnalyticsOutcomes").PURCHASE_VALUE:case c("AnalyticsOutcomes").PURCHASE_VALUE_TREND:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM:return c("AppCustomEventType").FB_MOBILE_PURCHASE;case c("AnalyticsOutcomes").WAU_GROWTH:case c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS:return c("AppCustomEventType").FB_BASE_EVENT;case c("AnalyticsOutcomes").RETENTION:return c("AppCustomEventType").FB_NEW_USER}return c("AppCustomEventType").FB_BASE_EVENT}};f.exports=m}),null);
__d("AnalyticsInsightsCarousel",["cx","fbt","AnalyticsCard","AnalyticsInsight","AnalyticsInsightCard","AnalyticsInsightsCarouselFilter","AnalyticsInsightsStore","AnalyticsInsightsActions","FluxContainer","GriffinSections","immutable","InsightsContext","InsightsEventLogger","InsightsNumUtils","React","ReactDOM","SUIBusinessTheme","SUINotice.react","XUICarousel.react","XUICarouselItem.react","XUICarouselAnimator","XUICarouselArrow.react"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.getStores=function(){"use strict";return[c("AnalyticsInsightsStore")]};function l(m){"use strict";k.constructor.call(this,m);this.$AnalyticsInsightsCarousel5=function(n){var o=c("AnalyticsInsightsStore").getInsights(),p=o.filter(function(q){return n.get(c("AnalyticsInsightsCarouselFilter").getFilterOption(q.getOutcome()))});this.setState({visibleInsights:p,selectedFilters:n})}.bind(this);this.$AnalyticsInsightsCarousel2=function(){c("AnalyticsInsightsActions").setVisibleInsightsCount(this.$AnalyticsInsightsCarousel7())}.bind(this);this.$AnalyticsInsightsCarousel1(this.props.section)}l.calculateState=function(m,n){"use strict";var o=c("AnalyticsInsightsStore").getInsights(),p=m&&!m.selectedFilters.isEmpty()?m.selectedFilters:c("AnalyticsInsightsCarouselFilter").getDefaultFilterSelection(n.section,o),q=o.filter(function(r){return p.get(c("AnalyticsInsightsCarouselFilter").getFilterOption(r.getOutcome()))});return m&&q.equals(m.visibleInsights)?m:{visibleInsights:q,selectedFilters:p,showErrorNotice:true}};l.prototype.componentWillMount=function(){"use strict";c("AnalyticsInsightsActions").initialize(c("InsightsContext").getObjID());window.addEventListener("resize",this.$AnalyticsInsightsCarousel2)};l.prototype.componentWillUnmount=function(){"use strict";window.removeEventListener("resize",this.$AnalyticsInsightsCarousel2)};l.prototype.componentDidUpdate=function(m,n){"use strict";if(n.visibleInsights.isEmpty()&&!this.state.visibleInsights.isEmpty())this.$AnalyticsInsightsCarousel2()};l.prototype.componentWillReceiveProps=function(m){"use strict";if(this.props.section!==m.section&&c("AnalyticsInsightsStore").getClickedInsight()!==null)this.$AnalyticsInsightsCarousel1(m.section)};l.prototype.render=function(){"use strict";var m=c("AnalyticsInsightsStore").getVisibleInsights(this.props.section);if(m.isEmpty())return null;var n=this.state.visibleInsights.map(function(y,z){return c("React").createElement(c("XUICarouselItem.react"),{key:z,className:"_2riw"},c("React").createElement(c("AnalyticsInsightCard"),{index:z,insight:y,key:z,section:this.props.section}))}.bind(this)).toJS(),o=this.$AnalyticsInsightsCarousel3(),p=c("AnalyticsInsightsStore").getClickedInsight(),q=c("AnalyticsInsightsStore").getClickedInsightID(),r=c("AnalyticsInsightsStore").getInsights().find(function(y){return y.getID()===q}),s=!p||r,t=r&&p&&r.getUntil()!==p.getUntil(),u=null;if(this.state.showErrorNotice&&(!s||t)){var v=t===true?i._("Se ha actualizado la estad\u00edstica para que refleje la actividad reciente."):i._("La estad\u00edstica ha caducada porque ya no es relevante.");u=c("React").createElement(c("SUINotice.react"),{style:{marginBottom:"12px"},theme:c("SUIBusinessTheme"),type:"information",onClose:function(y){c("AnalyticsInsightsActions").insightUnhighlight();this.setState({showErrorNotice:false})}.bind(this)},c("React").createElement("span",null,v))}var w=c("React").createElement("div",{className:"_2riy"},i._("Estad\u00edsticas autom\u00e1ticas ({count})",[i.param("count",c("InsightsNumUtils").prettyInt(n.length))]),c("React").createElement("font",{className:"_4q1s"},i._("BETA"))),x=this.state.visibleInsights.isEmpty()?null:c("React").createElement(c("XUICarousel.react"),{animationDuration:100,animator:new(c("XUICarouselAnimator"))({type:"horizontal",centered:false}),arrows:this.$AnalyticsInsightsCarousel4(),className:"_2ri_",initialAutoplay:false,initialIndex:c("AnalyticsInsightsStore").getCurrentInsightIndex(this.props.section),onItemClick:function y(){return},ref:"carousel",resizeViewport:"disabled",wrapAround:false},n);return c("React").createElement(c("AnalyticsCard"),{className:"_2riz",showLine:false,title:w},c("React").createElement("div",{className:"_1qx2"},u,o),x)};l.prototype.$AnalyticsInsightsCarousel3=function(){"use strict";var m=c("AnalyticsInsightsStore").getInsights(),n={};m.forEach(function(o){var p=c("AnalyticsInsightsCarouselFilter").getFilterOption(o.getOutcome()),q=n[p]?n[p]+1:1;n[p]=q});return c("React").createElement(c("AnalyticsInsightsCarouselFilter"),{section:this.props.section,outcomeCardCounts:c("immutable").Map(n),selectedFilters:this.state.selectedFilters,onSelect:this.$AnalyticsInsightsCarousel5})};l.prototype.$AnalyticsInsightsCarousel4=function(){"use strict";var m=c("React").createElement(c("XUICarouselArrow.react"),{className:"_2rj0",onClick:function(){this.refs.carousel.prev();this.$AnalyticsInsightsCarousel6(-1)}.bind(this)},c("React").createElement("div",{className:"_2rj1"}),c("React").createElement("div",{className:"_2rj3"})),n=c("React").createElement(c("XUICarouselArrow.react"),{className:"_2rj4",onClick:function(){this.refs.carousel.next();this.$AnalyticsInsightsCarousel6(1)}.bind(this)},c("React").createElement("div",{className:"_2rj1"}),c("React").createElement("div",{className:"_2rja"}));return[m,n]};l.prototype.$AnalyticsInsightsCarousel1=function(m){"use strict";if(m===c("GriffinSections").OVERVIEW)return;var n=c("AnalyticsInsightsStore").getVisibleInsights(m),o=c("AnalyticsInsightsStore").getClickedInsightID(),p=n.findIndex(function(q){return q.getID()===o});if(p!==-1)c("AnalyticsInsightsActions").navigate(m,p)};l.prototype.$AnalyticsInsightsCarousel6=function(m){"use strict";var n=c("AnalyticsInsightsStore").getCurrentInsightIndex(this.props.section),o=this.state.visibleInsights.count(),p=(n+m+o)%o;c("InsightsEventLogger").logEvent({eventName:"projectl_h1_navigate",index:n,step:m,fromInsightId:this.state.visibleInsights.get(n).getID(),toInsightId:this.state.visibleInsights.get(p).getID()});c("AnalyticsInsightsActions").navigate(this.props.section,p)};l.prototype.$AnalyticsInsightsCarousel7=function(){"use strict";var m=450,n=c("ReactDOM").findDOMNode(this);if(n){var o=window.getComputedStyle(n).width;return Math.round(parseFloat(o)/m)}return 0};f.exports=c("FluxContainer").create(l,{withProps:true})}),null);
__d("AnalyticsInsightsCarouselFilter",["ix","cssVar","cx","fbt","AnalyticsInsight","AnalyticsOutcomes","GriffinSections","Image.react","immutable","InsightsEventLogger","InsightsNumUtils","React","SUIAnalyticsGriffinTheme","SUISelector.react","SUISelectorOption.react","SUIToken.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=c("immutable").Map([[c("AnalyticsOutcomes").WAU_GROWTH,k._("Crecimiento")],[c("AnalyticsOutcomes").TIME_SPENT,k._("Tiempo transcurrido")],[c("AnalyticsOutcomes").PURCHASE_VALUE,k._("Ingresos")],[c("AnalyticsOutcomes").RETENTION,k._("Retenci\u00f3n")]]);l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$AnalyticsInsightsCarouselFilter6=function(u){var v=this.props.selectedFilters,w=false,x=void 0;v.forEach(function(y,z){if(y&&!u.includes(z)){w=false;x=z;v=v.set(z,false)}else if(!y&&u.includes(z)){w=true;x=z;v=v.set(z,true)}});c("InsightsEventLogger").logEvent({eventName:"projectl_h1_filter_clicked",filterName:x,isSelect:w,source:"filter_selector"});this.props.onSelect(v)}.bind(this),q}o.getDefaultFilterSelection=function(p,q){var r={};q.forEach(function(s){var t=this.getFilterOption(s.getOutcome());r[t]=p===c("GriffinSections").OVERVIEW||s.getSection()===p}.bind(this));return c("immutable").Map(r)};o.getFilterOption=function(p){switch(p){case c("AnalyticsOutcomes").ANOMALY_ACTIVE_USERS:return c("AnalyticsOutcomes").WAU_GROWTH;case c("AnalyticsOutcomes").TIME_SPENT_TREND:case c("AnalyticsOutcomes").ANOMALY_TIMESPENT_MEDIAN:return c("AnalyticsOutcomes").TIME_SPENT;case c("AnalyticsOutcomes").PURCHASE_VALUE_TREND:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_MEAN:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_SUM:case c("AnalyticsOutcomes").ANOMALY_PURCHASEVALUE_COUNT:return c("AnalyticsOutcomes").PURCHASE_VALUE;case c("AnalyticsOutcomes").ANOMALY_RETENTION:return c("AnalyticsOutcomes").RETENTION;default:return p}};o.prototype.render=function(){var p=this.$AnalyticsInsightsCarouselFilter1(),q=this.$AnalyticsInsightsCarouselFilter2();return c("React").createElement("div",{className:"_33aa"},p,q)};o.prototype.$AnalyticsInsightsCarouselFilter2=function(){var p=this.props.selectedFilters.keySeq().toArray(),q=p.map(function(r){if(!this.props.selectedFilters.get(r))return null;if(this.props.outcomeCardCounts.get(r)>0){var s=c("InsightsNumUtils").prettyInt(this.props.outcomeCardCounts.get(r)),t=this.$AnalyticsInsightsCarouselFilter3(r,s);return this.$AnalyticsInsightsCarouselFilter4(r,t)}return null}.bind(this));return q};o.prototype.$AnalyticsInsightsCarouselFilter4=function(p,q){var r={background:"#e9ebee",color:"#1d2129",borderRadius:"100px",marginLeft:"8px",height:"28px",fontSize:"12px",fontWeight:"normal"},s=c("React").createElement(c("Image.react"),{className:"_4jz3",src:h("113105"),onClick:function(){c("InsightsEventLogger").logEvent({eventName:"projectl_h1_filter_clicked",isSelect:false,filterName:p,source:"filter_close"});this.$AnalyticsInsightsCarouselFilter5(p)}.bind(this)});return c("React").createElement(c("SUIToken.react"),{key:p,label:q,theme:c("SUIAnalyticsGriffinTheme"),icon:s,style:r})};o.prototype.$AnalyticsInsightsCarouselFilter5=function(p){var q=this.props.selectedFilters.set(p,!this.props.selectedFilters.get(p));this.props.onSelect(q)};o.prototype.$AnalyticsInsightsCarouselFilter3=function(p,q){var r=n.get(p);return k._("{outcome text} ({card count})",[k.param("outcome text",r),k.param("card count",q)])};o.prototype.$AnalyticsInsightsCarouselFilter1=function(){var p=n.keySeq().toArray(),q=p.map(function(s){var t=!(this.props.outcomeCardCounts.get(s)>0);return c("React").createElement(c("SUISelectorOption.react"),{key:s,value:s,disabled:t},n.get(s))}.bind(this)),r=k._("Filtros");return c("React").createElement(c("SUISelector.react"),{value:this.props.selectedFilters.filter(function(s,t){return s}).keySeq().toArray(),canSelectMultiple:true,theme:c("SUIAnalyticsGriffinTheme"),label:r,onChange:this.$AnalyticsInsightsCarouselFilter6},q)};f.exports=o}),null);
__d("analyticsReducer",["Redux","navigationReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("Redux").combineReducers,i=h({navigation:c("navigationReducer")});f.exports=i}),null);
__d("NavigationActions",[],(function a(b,c,d,e,f,g){"use strict";var h={NAVIGATE:"navigate",TOGGLE_GROUP:"toggle_group"},i={ActionTypes:h,navigate:function j(k,l){var m=k.getQueryData(),n=m.event_name,o=m.section,p=m.since,q=m.until,r=m.view,s=m.subsection,t=m.segment_id,u=m.funnel_id,v=m.cohorts_id,w=m.breakdown,x=m.breakdown_table_id,y=m.campaign_id,z=m.dashboard_id,A=m.chart_id,B=m.tab,C=m.insight_id;return{type:h.NAVIGATE,section:o,subsection:s,eventName:n,view:r,since:p,until:q,segment_id:t,funnel_id:u,cohorts_id:v,breakdown:w,breakdown_table_id:x,campaign_id:y,dashboard_id:z,chart_id:A,insight_id:C,tab:B,context:l}},toggleGroup:function j(k){return{type:h.TOGGLE_GROUP,group:k}}};f.exports=i}),null);
__d("navigationReducer",["GriffinMenuUtils","GriffinSections","NavigationActions","GriffinMenuConfig","Redux","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h=c("NavigationActions").ActionTypes,i=c("GriffinMenuConfig").DEFAULT_SECTION,j=c("GriffinMenuConfig").DEFAULT_OPEN_GROUP,k=c("Redux").combineReducers;function l(s,t){return function(u,v){u=u||t;switch(v.type){case h.NAVIGATE:return v[s]||t;default:return u}}}function m(s){var n={};Object.keys(s).forEach(function(t){var u=s[t];n[t]=l(t,u)});return n}var n=m({subsection:null,eventName:null,segment_id:null,since:null,until:null,view:null,cohorts_id:null,funnel_id:null,breakdown:null,breakdown_table_id:null,campaign_id:null,dashboard_id:null,chart_id:null,insight_id:null,tab:null});function o(p){return Object.values(c("GriffinSections")).includes(p)?c("nullthrows")(p):null}function p(s,t){var p=t.section,u=t.type,v=t.context;switch(u){case h.NAVIGATE:return!o(p)||c("GriffinMenuUtils").isSectionHidden(p,v)?i:p;default:return o(s)||i}}function q(s,t){var u=t.type,v=t.group,p=t.section;switch(u){case h.TOGGLE_GROUP:var w=s===v;return w?null:v;default:return!o(p)||p===i?j:null}}var r=k(babelHelpers["extends"]({},n,{section:p,openGroup:q}));f.exports=r}),null);
__d("GriffinAdsAPISectionController",["BonsaiApiBreakdown","GriffinAdsAPITimeSeriesCard","GriffinDefaultSectionController","GriffinSections","OverviewDeveloperAdsAPIBar","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").createClass({displayName:"GriffinAdsAPISectionController",statics:{getKey:function i(){return c("GriffinSections").ADS_APIS}},getInitialState:function i(){return{metricKey:"ads_api_call",breakdown:c("BonsaiApiBreakdown").NONE,filter:{ad_account_id:null,method:null,version:null}}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewDeveloperAdsAPIBar"),{fullDateRange:k,visibleDateRange:l})},_onFilterChange:function i(j,k){if(this.state.filter[j]!==k){var l=babelHelpers["extends"]({},this.state.filter);l[j]=k;this.setState({filter:l})}},_onBreakdownChange:function i(j){this.setState({breakdown:j})},_onMetricChange:function i(j){this.setState({metricKey:j,breakdown:c("BonsaiApiBreakdown").NONE})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange;return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("GriffinAdsAPITimeSeriesCard"),{activeBreakdown:this.state.breakdown,activeMetric:this.state.metricKey,cardKey:"api_timeseries",filter:this.state.filter,key:"api_timeseries",onBreakdownChange:this._onBreakdownChange,onFilterChange:this._onFilterChange,onMetricChange:this._onMetricChange,visibleDateRange:m}))}});f.exports=h}),null);
__d("AdsAppInsightsBreakdowns",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",AD_ACCOUNT:"ad_account_id",ADS_API_METHOD:"method",ADS_API_VERSION:"version",ADS_API_ERROR:"error"})}),null);
__d("AdsAppInsightsGraphAPI",["regeneratorRuntime","AdsAPIVersions","GraphAPI","InsightsContext"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsAPIVersions").latestLaunched,i={submitQuery:function j(k){this._submitQuery(c("InsightsContext").getObjID(),c("InsightsContext").getBonsaiApiAccess().accessToken,k).done(function(l){return k.callback&&k.callback(l)},function(l){return k.errorCallback&&k.errorCallback(l)})},_submitQuery:function j(k,l,m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(c("GraphAPI")(h).object("application",k).edge("ads_app_insights").get({access_token:l,metric:m.metric,details:m.granularity,filters:this._queryFilterToObject(m.filter),breakdowns:m.breakdowns,timeseries:m.timeSeries,date_format:"U",since:Math.floor(m.since/1e3),until:Math.floor(m.until/1e3),limit:m.limit,adlog_sampling:1}));case 2:n=p.sent;return p.abrupt("return",n);case 4:case"end":return p.stop()}},null,this)},_queryFilterToObject:function j(k){var l={};Object.keys(k).forEach(function(m){if(k[m]!==null)l[m]=k[m]});return l}};f.exports=i}),null);
__d("AdsAppInsightsQueryBuilder",[],(function a(b,c,d,e,f,g){"use strict";function h(){this.$AdsAppInsightsQueryBuilder7=[];this.$AdsAppInsightsQueryBuilder6={ad_account_id:null,method:null,version:null}}h.prototype.setMetric=function(i){this.$AdsAppInsightsQueryBuilder1=i;return this};h.prototype.setGranularity=function(i){this.$AdsAppInsightsQueryBuilder2=i;return this};h.prototype.setSince=function(i){this.$AdsAppInsightsQueryBuilder3=i;return this};h.prototype.setUntil=function(i){this.$AdsAppInsightsQueryBuilder4=i;return this};h.prototype.setLimit=function(i){this.$AdsAppInsightsQueryBuilder5=i;return this};h.prototype.setFilter=function(i){this.$AdsAppInsightsQueryBuilder6=i;return this};h.prototype.setBreakdowns=function(i){this.$AdsAppInsightsQueryBuilder7=i;return this};h.prototype.setTimeSeries=function(i){this.$AdsAppInsightsQueryBuilder8=i;return this};h.prototype.setOnSuccess=function(i){this.$AdsAppInsightsQueryBuilder9=i;return this};h.prototype.setOnError=function(i){this.$AdsAppInsightsQueryBuilder10=i;return this};h.prototype.toQuery=function(){return{metric:this.$AdsAppInsightsQueryBuilder1,granularity:this.$AdsAppInsightsQueryBuilder2,since:this.$AdsAppInsightsQueryBuilder3,until:this.$AdsAppInsightsQueryBuilder4,limit:this.$AdsAppInsightsQueryBuilder5,filter:this.$AdsAppInsightsQueryBuilder6,breakdowns:this.$AdsAppInsightsQueryBuilder7,timeSeries:this.$AdsAppInsightsQueryBuilder8,callback:this.$AdsAppInsightsQueryBuilder9,errorCallback:this.$AdsAppInsightsQueryBuilder10}};f.exports=h}),null);
__d("GriffinAdsAPIInsightsUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={shouldShowHourlyData:function i(j,k){var l=6048e5;return k-j<=l},compactObject:function i(j){var k={};Object.keys(j).forEach(function(l){if(j[l]!==null&&j[l]!==undefined)k[l]=j[l]});return k}};f.exports=h}),null);
__d("GriffinAdsAPITableCard",["fbt","AnalyticsCard","AdsAppInsightsBreakdowns","AdsAppInsightsGraphAPI","AdsAppInsightsQueryBuilder","AnalyticsDateUtils","BonsaiApiBreakdown","FalcorLoadingCard","FalcorPaginatedDataTable","GriffinAdsAPIInsightsUtils","InsightsEventLogger","React","Set"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;function k(n,o){return function(p,q){if(!q||!q[n])return-1;if(!p||!p[n])return 1;if(o)return q[n].localeCompare(p[n]);return(q[n]||0)-(p[n]||0)}}var l={ad_account_id:{id:"ad_account_id",label:h._("Ad Account"),sortable:true,comparator:k("ad_account_id",true),isNumeric:false},method:{id:"method",label:h._("Method"),sortable:true,comparator:k("method",true),isNumeric:false},version:{id:"version",label:h._("API Version"),sortable:true,comparator:k("version",true),isNumeric:false},error:{id:"error",label:h._("Error Code"),sortable:true,comparator:k("error",true),isNumeric:false},error_message:{id:"error_message",label:h._("Error Description"),sortable:true,comparator:k("error_message",true),isNumeric:false},ads_api_call:{id:"ads_api_call",label:h._("Calls"),sortable:true,comparator:k("ads_api_call"),isNumeric:true},ads_api_error:{id:"ads_api_error",label:h._("Errors"),sortable:true,comparator:k("ads_api_error"),isNumeric:true},ads_api_error_rate:{id:"ads_api_error_rate",label:h._("Error Rate"),sortable:true,comparator:k("ads_api_error_rate"),isNumeric:true}};i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$GriffinAdsAPITableCard5=function(o){this.refs.table.onSearchChange(o)}.bind(this);this.state={data:null,error:null}}m.prototype.componentWillMount=function(){this.$GriffinAdsAPITableCard1(this.props);this.$GriffinAdsAPITableCard2()};m.prototype.componentWillReceiveProps=function(n){if(this.$GriffinAdsAPITableCard3(this.props,n)){this.setState({data:null,error:null});this.$GriffinAdsAPITableCard1(n)}};m.prototype.componentDidUpdate=function(n,o){if(this.$GriffinAdsAPITableCard3(n,this.props))this.$GriffinAdsAPITableCard2()};m.prototype.render=function(){if(this.state.data===null)return c("React").createElement(c("FalcorLoadingCard"),null);var n=this.$GriffinAdsAPITableCard4(),o=n.columns,p=n.rows;return c("React").createElement(c("AnalyticsCard"),{onSearchChange:this.$GriffinAdsAPITableCard5,showLine:false,title:h._("Facebook Marketing API Error and Calls Stats")},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"table",columns:o,rows:p,currentCard:this.props.cardKey,pageSize:Infinity,searchFieldName:"search_key"}))};m.prototype.$GriffinAdsAPITableCard4=function(){var n=this.state.data||[];if(!n.length)return{columns:[],rows:[]};var o={};Object.keys(this.props.filter).forEach(function(s){if(this.props.filter[s]!==null)o[s]=this.props.filter[s]}.bind(this));var p=new(c("Set"))([].concat(Object.keys(n[0]),Object.keys(o)));p["delete"]("value");var q=[];p.forEach(function(s){if(Object.prototype.hasOwnProperty.call(l,s))q.push(l[s])});q.push(l[this.props.activeMetric]);var r=n.map(function(s){var t=babelHelpers["extends"]({},s,o);delete t.value;t.search_key=Object.values(t).join("-");t[this.props.activeMetric]=s.value;return t}.bind(this));return{columns:q,rows:r}};m.prototype.$GriffinAdsAPITableCard3=function(n,o){return n.activeMetric!==o.activeMetric||n.activeBreakdown!==o.activeBreakdown||Object.keys(n.filter).some(function(p){return n.filter[p]!==o.filter[p]})||!c("AnalyticsDateUtils").isDateRangeSame(n.visibleDateRange,o.visibleDateRange)};m.prototype.$GriffinAdsAPITableCard1=function(n){var o=this.$GriffinAdsAPITableCard6(n.activeBreakdown||c("BonsaiApiBreakdown").NONE),p=c("GriffinAdsAPIInsightsUtils").shouldShowHourlyData(n.visibleDateRange.since,n.visibleDateRange.until)?"hourly":"daily",q=new(c("AdsAppInsightsQueryBuilder"))().setMetric(n.activeMetric).setGranularity(p).setFilter(n.filter).setBreakdowns(o).setSince(n.visibleDateRange.since).setUntil(n.visibleDateRange.until).setLimit(50).setTimeSeries(false).setOnSuccess(function(r){this.setState({data:r.data})}.bind(this)).setOnError(function(r){this.setState({error:r})}.bind(this));c("AdsAppInsightsGraphAPI").submitQuery(q.toQuery())};m.prototype.$GriffinAdsAPITableCard6=function(n){switch(n){case c("BonsaiApiBreakdown").NONE:return[];case c("BonsaiApiBreakdown").ADS_ACCOUNT:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT];case c("BonsaiApiBreakdown").ADS_METHOD:return[c("AdsAppInsightsBreakdowns").ADS_API_METHOD];case c("BonsaiApiBreakdown").ADS_ERRORCODE:return[c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_VERSION:return[c("AdsAppInsightsBreakdowns").ADS_API_VERSION];case c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_METHOD];case c("BonsaiApiBreakdown").ADS_ACCOUNT_ERRORCODE:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_METHOD_ERRORCODE:return[c("AdsAppInsightsBreakdowns").ADS_API_METHOD,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD_ERRORCODE:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_METHOD,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];default:return[]}};m.prototype.$GriffinAdsAPITableCard2=function(){c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,babelHelpers["extends"]({metric:this.props.activeMetric,breakdown:this.props.activeBreakdown},this.props.filter))};f.exports=m}),null);
__d("AdsAppInsightsDimensionsGraphAPI",["regeneratorRuntime","AdsAPIVersions","GraphAPI","InsightsContext"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsAPIVersions").latestLaunched,i={submitQuery:function j(k){this._submitQuery(c("InsightsContext").getObjID(),c("InsightsContext").getBonsaiApiAccess().accessToken,k).done(function(l){return k.callback&&k.callback(l)},function(l){return k.errorCallback&&k.errorCallback(l)})},_submitQuery:function j(k,l,m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(c("GraphAPI")(h).object("application",k).edge("ads_app_insights_dimensions").get({access_token:l,dimension:m.dimension,details:m.granularity,since:Math.floor(m.since/1e3),until:Math.floor(m.until/1e3),limit:m.limit,date_format:"U",adlog_sampling:1}));case 2:n=p.sent;return p.abrupt("return",n);case 4:case"end":return p.stop()}},null,this)}};f.exports=i}),null);
__d("AdsAppInsightsDimensionsQueryBuilder",[],(function a(b,c,d,e,f,g){"use strict";function h(){}h.prototype.setDimension=function(i){this.$AdsAppInsightsDimensionsQueryBuilder1=i;return this};h.prototype.setGranularity=function(i){this.$AdsAppInsightsDimensionsQueryBuilder2=i;return this};h.prototype.setSince=function(i){this.$AdsAppInsightsDimensionsQueryBuilder3=i;return this};h.prototype.setUntil=function(i){this.$AdsAppInsightsDimensionsQueryBuilder4=i;return this};h.prototype.setLimit=function(i){this.$AdsAppInsightsDimensionsQueryBuilder5=i;return this};h.prototype.setOnSuccess=function(i){this.$AdsAppInsightsDimensionsQueryBuilder6=i;return this};h.prototype.setOnError=function(i){this.$AdsAppInsightsDimensionsQueryBuilder7=i;return this};h.prototype.toQuery=function(){return{dimension:this.$AdsAppInsightsDimensionsQueryBuilder1,granularity:this.$AdsAppInsightsDimensionsQueryBuilder2,since:this.$AdsAppInsightsDimensionsQueryBuilder3,until:this.$AdsAppInsightsDimensionsQueryBuilder4,limit:this.$AdsAppInsightsDimensionsQueryBuilder5,callback:this.$AdsAppInsightsDimensionsQueryBuilder6,errorCallback:this.$AdsAppInsightsDimensionsQueryBuilder7}};f.exports=h}),null);
__d("FalcorHeaderSelector",["cx","ix","Image.react","InsightsContext","LeftRight.react","PopoverMenu.react","React","ReactXUIMenu"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=c("ReactXUIMenu").Item,o=c("React").PropTypes;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$FalcorHeaderSelector1=function(w){var x=null;if(w.activeTabKey)x=w.activeTabKey;else if(c("InsightsContext").getActiveCardName()===w.headerKey)if(c("InsightsContext").getActiveTabName())x=c("InsightsContext").getActiveTabName();var y=w.children[0];c("React").Children.forEach(w.children,function(z){if(z.props.value===x)y=z});return{activeSection:y}},this.$FalcorHeaderSelector2=function(w){return function(){c("InsightsContext").setActiveCardName(this.props.headerKey);c("InsightsContext").setActiveTabName(w.props.value);c("InsightsContext").addCardState(this.props.headerKey,{tab:w.props.value});if(this.props.onItemChange)this.props.onItemChange(w.props.value);this.setState({activeSection:w})}.bind(this)}.bind(this),this.$FalcorHeaderSelector3=function(){var w=[];c("React").Children.forEach(this.props.children,function(x){var y=x.props.value===this.state.activeSection.props.value,z="_2li5"+(y?" _2li6":""),A=c("React").createElement("div",{onClick:this.$FalcorHeaderSelector2(x),role:"presentation"},x.props.label,x.props.tooltip);w.push(c("React").createElement(n,{className:z,key:x.props.value,value:x.props.value},A))}.bind(this));return c("React").createElement(c("ReactXUIMenu"),{className:"_2li4"},w)}.bind(this),this.state=this.$FalcorHeaderSelector1(this.props),s}p.prototype.componentWillReceiveProps=function(r){this.setState(this.$FalcorHeaderSelector1(r))};p.prototype.render=function(){var r=this.state.activeSection.props.label||"",s=this.props.maxWidth;if(s&&r.length>s)r=r.substring(0,s/2)+"..."+r.substring(r.length-s/2);return c("React").createElement("div",{className:"_3imf"},c("React").createElement(c("PopoverMenu.react"),{menu:this.$FalcorHeaderSelector3(),disabled:this.props.disabled},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_3img"},r),c("React").createElement(c("Image.react"),{src:i("101305")}))))};p.propTypes={activeTabKey:o.string,disabled:o.bool,headerKey:o.string.isRequired,maxWidth:o.number,onItemChange:o.func};l=babelHelpers.inherits(q,c("React").Component);m=l&&l.prototype;q.prototype.render=function(){return this.props.children};function q(){l.apply(this,arguments)}q.propTypes={label:o.string,value:o.string,tooltip:o.element};p.Item=q;f.exports=p}),null);
__d("GriffinButtonGroup",["React","SUIAnalyticsGriffinTheme","SUIButtonGroup.react"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){return c("React").cloneElement(c("React").createElement(c("SUIButtonGroup.react"),{theme:c("SUIAnalyticsGriffinTheme")}),i,i.children)};f.exports=h}),null);
__d("GriffinAdsAPITimeSeriesCard",["cx","fbt","invariant","AnalyticsCard","AdsAppInsightsQueryBuilder","AdsAppInsightsGraphAPI","AdsAppInsightsDimensionsQueryBuilder","AdsAppInsightsDimensionsGraphAPI","AdsAppInsightsBreakdowns","AnalyticsDateUtils","AnyTokenSearchSource","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiText","AnalyticsUntypedUIUtils","CompositeSearchSource","FalcorErrorNotice","FalcorHeaderSelector","FalcorLoadingCard","FalcorLoadingAndErrorChart","GriffinAdsAPIInsightsUtils","GriffinAdsAPITableCard","GriffinButton","GriffinButtonGroup","GriffinContextualDrawer","InsightsEventLogger","React","Set","SUIAnalyticsGriffinTheme","SUISearchableSelector.react","SearchableEntry","StaticSearchSource","GraphAPI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("FalcorHeaderSelector").Item,n=10,o=500,p={ads_api_call:{label:c("BonsaiText").ads_api_calls,breakdowns:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").ADS_ACCOUNT,c("BonsaiApiBreakdown").ADS_METHOD,c("BonsaiApiBreakdown").ADS_VERSION],isPercent:false},ads_api_error:{label:c("BonsaiText").ads_api_errors,breakdowns:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").ADS_ACCOUNT,c("BonsaiApiBreakdown").ADS_METHOD,c("BonsaiApiBreakdown").ADS_ERRORCODE,c("BonsaiApiBreakdown").ADS_VERSION],isPercent:false},ads_api_error_rate:{label:c("BonsaiText").ads_api_error_rate,breakdowns:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").ADS_ACCOUNT,c("BonsaiApiBreakdown").ADS_METHOD,c("BonsaiApiBreakdown").ADS_VERSION],isPercent:true}};k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(s){l.constructor.call(this,s);this.$GriffinAdsAPITimeSeriesCard6=function(){this.setState({hideFiltersBar:!this.state.hideFiltersBar})}.bind(this);this.state={adAccountIds:new(c("Set"))(),data:null,error:null,hideFiltersBar:false,methods:new(c("Set"))(),versions:new(c("Set"))()}}q.prototype.componentWillMount=function(){c("GraphAPI").enableBatching();this.$GriffinAdsAPITimeSeriesCard1(this.props);this.$GriffinAdsAPITimeSeriesCard2(this.props);this.$GriffinAdsAPITimeSeriesCard3()};q.prototype.componentWillUnmount=function(){c("GraphAPI").disableBatching()};q.prototype.componentWillReceiveProps=function(s){if(this.$GriffinAdsAPITimeSeriesCard4(this.props,s)){this.setState({data:null,error:null});this.$GriffinAdsAPITimeSeriesCard1(s);if(this.$GriffinAdsAPITimeSeriesCard5(this.props,s))this.$GriffinAdsAPITimeSeriesCard2(s)}};q.prototype.componentDidUpdate=function(s,t){if(this.$GriffinAdsAPITimeSeriesCard4(s,this.props))this.$GriffinAdsAPITimeSeriesCard3()};q.prototype.render=function(){if(this.state.error)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:i._("Error occurred during downloading the insights data")}));if(!this.state.data)return c("React").createElement(c("FalcorLoadingCard"),null);var s=p[this.props.activeMetric].breakdowns,t=c("GriffinAdsAPIInsightsUtils").shouldShowHourlyData(this.props.visibleDateRange.since,this.props.visibleDateRange.until),u={data:new(c("BonsaiApiDataAdapter"))(babelHelpers["extends"]({isHourly:t},this.state.data)),title:this.props.activeMetric,key:this.props.activeMetric},v=c("React").createElement(c("GriffinButtonGroup"),null,c("React").createElement(c("GriffinButton"),{onClick:this.$GriffinAdsAPITimeSeriesCard6,key:"SettingsButton",iconName:"settings",width:32,ref:"settingsButton"}));return c("React").createElement(c("AnalyticsCard"),{buttons:v,cardKey:this.props.cardKey,dropDown:this.$GriffinAdsAPITimeSeriesCard7(),showLine:this.state.hideFiltersBar,title:i._("Facebook Marketing API Usage")},this.$GriffinAdsAPITimeSeriesCard8(),c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[u],activeBreakdown:this.props.activeBreakdown,allBreakdowns:s,currentCard:this.props.cardKey,isHourlyTimeSeries:t,isPercent:p[this.props.activeMetric].isPercent,onBreakdownChange:this.props.onBreakdownChange,showBreakdownSelector:s.length!==0}),c("React").createElement("div",{className:"_2pig"},c("React").createElement(c("GriffinAdsAPITableCard"),{activeBreakdown:this.props.activeBreakdown,activeMetric:this.props.activeMetric,cardKey:"ads_api_table",filter:this.props.filter,key:"ads_api_table",visibleDateRange:this.props.visibleDateRange})))};q.prototype.$GriffinAdsAPITimeSeriesCard8=function(){if(this.state.hideFiltersBar)return null;return c("React").createElement(c("GriffinContextualDrawer"),{anchor:this.refs.settingsButton,cardKey:"ads_api_filter_builder",className:"_13_w"},c("React").createElement(r,{currentValue:this.props.filter[c("AdsAppInsightsBreakdowns").AD_ACCOUNT],filterLabel:i._("Ad Account"),filterName:c("AdsAppInsightsBreakdowns").AD_ACCOUNT,onFilterChange:this.props.onFilterChange,placeholder:i._("Filter by an Ad Account"),autoSuggestionList:this.state.adAccountIds,valueValidator:function s(t){return!isNaN(t)&&isFinite(t)}}),c("React").createElement(r,{currentValue:this.props.filter[c("AdsAppInsightsBreakdowns").ADS_API_METHOD],filterLabel:i._("Method"),filterName:c("AdsAppInsightsBreakdowns").ADS_API_METHOD,onFilterChange:this.props.onFilterChange,placeholder:i._("Filter by a Method"),autoSuggestionList:this.state.methods}),c("React").createElement(r,{currentValue:this.props.filter[c("AdsAppInsightsBreakdowns").ADS_API_VERSION],filterLabel:i._("API Version"),filterName:c("AdsAppInsightsBreakdowns").ADS_API_VERSION,onFilterChange:this.props.onFilterChange,placeholder:i._("Filter by API Version"),autoSuggestionList:this.state.versions}))};q.prototype.$GriffinAdsAPITimeSeriesCard5=function(s,t){return!c("AnalyticsDateUtils").isDateRangeSame(s.visibleDateRange,t.visibleDateRange)};q.prototype.$GriffinAdsAPITimeSeriesCard4=function(s,t){return s.activeMetric!==t.activeMetric||s.activeBreakdown!==t.activeBreakdown||Object.keys(s.filter).some(function(u){return s.filter[u]!==t.filter[u]})||!c("AnalyticsDateUtils").isDateRangeSame(s.visibleDateRange,t.visibleDateRange)};q.prototype.$GriffinAdsAPITimeSeriesCard2=function(s){var t=["ad_account_id","method","version"];t.forEach(function(u){this.$GriffinAdsAPITimeSeriesCard9(s,u)}.bind(this))};q.prototype.$GriffinAdsAPITimeSeriesCard9=function(s,t){var u=new(c("Set"))(),v=this.$GriffinAdsAPITimeSeriesCard10(s),w=new(c("AdsAppInsightsDimensionsQueryBuilder"))().setDimension(t).setGranularity(v).setSince(s.visibleDateRange.since).setUntil(s.visibleDateRange.until).setLimit(o).setOnSuccess(function(x){x.data.forEach(function(y){u.add(y.dimension_value)});switch(t){case"ad_account_id":this.setState({adAccountIds:u});break;case"method":this.setState({methods:u});break;case"version":this.setState({versions:u});break;default:j(0)}}.bind(this)).setOnError(function(x){this.setState({error:x})}.bind(this));c("AdsAppInsightsDimensionsGraphAPI").submitQuery(w.toQuery())};q.prototype.$GriffinAdsAPITimeSeriesCard10=function(s){return c("GriffinAdsAPIInsightsUtils").shouldShowHourlyData(s.visibleDateRange.since,s.visibleDateRange.until)?"hourly":"daily"};q.prototype.$GriffinAdsAPITimeSeriesCard1=function(s){var t=this.$GriffinAdsAPITimeSeriesCard11(s.activeBreakdown||c("BonsaiApiBreakdown").NONE),u=this.$GriffinAdsAPITimeSeriesCard10(s),v=new(c("AdsAppInsightsQueryBuilder"))().setMetric(s.activeMetric).setGranularity(u).setFilter(s.filter).setBreakdowns(t).setSince(s.visibleDateRange.since).setUntil(s.visibleDateRange.until).setLimit(n).setTimeSeries(true).setOnSuccess(function(w){var x=this.$GriffinAdsAPITimeSeriesCard12(w.data,t);this.setState({data:x})}.bind(this)).setOnError(function(w){this.setState({error:w})}.bind(this));c("AdsAppInsightsGraphAPI").submitQuery(v.toQuery())};q.prototype.$GriffinAdsAPITimeSeriesCard13=function(s){var t=0;s.forEach(function(u){if(u===c("AdsAppInsightsBreakdowns").AD_ACCOUNT)t|=1;else if(u===c("AdsAppInsightsBreakdowns").ADS_API_METHOD)t|=2;else if(u===c("AdsAppInsightsBreakdowns").ADS_API_ERROR)t|=4;else if(u===c("AdsAppInsightsBreakdowns").ADS_API_VERSION)t|=8});switch(t){case 1:return c("BonsaiApiBreakdown").ADS_ACCOUNT;case 2:return c("BonsaiApiBreakdown").ADS_METHOD;case 4:return c("BonsaiApiBreakdown").ADS_ERRORCODE;case 3:return c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD;case 5:return c("BonsaiApiBreakdown").ADS_ACCOUNT_ERRORCODE;case 6:return c("BonsaiApiBreakdown").ADS_METHOD_ERRORCODE;case 7:return c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD_ERRORCODE;case 8:return c("BonsaiApiBreakdown").ADS_VERSION;default:return c("BonsaiApiBreakdown").NONE}};q.prototype.$GriffinAdsAPITimeSeriesCard12=function(s,t){var u=[],v=this.$GriffinAdsAPITimeSeriesCard13(t);s.forEach(function(w){var x={};if(v!==c("BonsaiApiBreakdown").NONE)x[v]=t.map(function(z){return w[z]}).join(" ");var y={value:w.value,breakdowns:x};if(Object.prototype.hasOwnProperty.call(w,"time"))y=babelHelpers["extends"]({time:w.time},y);u.push(y)});return{data:u}};q.prototype.$GriffinAdsAPITimeSeriesCard7=function(){var s=Object.keys(p);if(s.length===1)return c("React").createElement("span",null,p[s[0]].label);var t=s.map(function(u){return this.$GriffinAdsAPITimeSeriesCard14(u,p[u].label)}.bind(this));return c("React").createElement(c("FalcorHeaderSelector"),{activeTabKey:this.props.activeMetric,headerKey:"ads_api_breakdown",onItemChange:this.props.onMetricChange},t)};q.prototype.$GriffinAdsAPITimeSeriesCard14=function(s,t){return c("React").createElement(m,{key:s,value:s,label:t})};q.prototype.$GriffinAdsAPITimeSeriesCard11=function(s){switch(s){case c("BonsaiApiBreakdown").NONE:return[];case c("BonsaiApiBreakdown").ADS_ACCOUNT:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT];case c("BonsaiApiBreakdown").ADS_METHOD:return[c("AdsAppInsightsBreakdowns").ADS_API_METHOD];case c("BonsaiApiBreakdown").ADS_ERRORCODE:return[c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_VERSION:return[c("AdsAppInsightsBreakdowns").ADS_API_VERSION];case c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_METHOD];case c("BonsaiApiBreakdown").ADS_ACCOUNT_ERRORCODE:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_METHOD_ERRORCODE:return[c("AdsAppInsightsBreakdowns").ADS_API_METHOD,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];case c("BonsaiApiBreakdown").ADS_ACCOUNT_METHOD_ERRORCODE:return[c("AdsAppInsightsBreakdowns").AD_ACCOUNT,c("AdsAppInsightsBreakdowns").ADS_API_METHOD,c("AdsAppInsightsBreakdowns").ADS_API_ERROR];default:return[]}};q.prototype.$GriffinAdsAPITimeSeriesCard3=function(){c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,babelHelpers["extends"]({metric:this.props.activeMetric,breakdown:this.props.activeBreakdown},this.props.filter))};var r=function r(s){var t=function t(A){return i._("{filter_field}: {id}",[i.param("filter_field",s.filterLabel),i.param("id",A)])},u=[],v=function v(A){return new(c("SearchableEntry"))({keywordString:A,title:t(A),uniqueID:A})};if(s.autoSuggestionList.size===0&&s.currentValue==null)u.push(new(c("SearchableEntry"))({title:i._("You can input a filter value"),subtitle:i._("or select {filter_field} in SHOW BY menu",[i.param("filter_field",s.filterLabel)]),uniqueID:"__hint"}));else u.push(new(c("SearchableEntry"))({title:i._("Show All"),uniqueID:"__show_all"}));s.autoSuggestionList.forEach(function(A){return u.push(v(A))});var w=new(c("CompositeSearchSource"))([new(c("StaticSearchSource"))(u),new(c("AnyTokenSearchSource"))(function(A){return v(A)})]),x=s.currentValue||null,y=x&&new(c("SearchableEntry"))({keywordString:x,title:t(x),uniqueID:x}),z=function z(A){if(!A.startsWith("__")&&(!s.valueValidator||s.valueValidator(A)))return A;else return null};return c("React").createElement("div",{className:"_13_x"},c("React").createElement(c("SUISearchableSelector.react"),{emptySearchResultsContent:i._("No matching results."),onChange:function A(B){s.onFilterChange(s.filterName,z(B.getUniqueID()))},placeholder:s.placeholder,searchSource:w,theme:c("SUIAnalyticsGriffinTheme"),value:y,width:260}))};f.exports=q}),null);
__d("AutomatedInsight",["InsightsUtils"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.$AutomatedInsight1=i.id;this.$AutomatedInsight2=i.text;this.$AutomatedInsight3=i.feedback;this.$AutomatedInsight4=i.since;this.$AutomatedInsight5=i.until}h.prototype.getID=function(){return this.$AutomatedInsight1};h.prototype.getText=function(){return this.$AutomatedInsight2};h.prototype.getFeedback=function(){return this.$AutomatedInsight3};h.prototype.getSince=function(){return this.$AutomatedInsight4};h.prototype.getSinceUTCTime=function(){return c("InsightsUtils").pstTimeToUTCDay(new Date(this.getSince()*1e3)).getTime()};h.prototype.getUntil=function(){return this.$AutomatedInsight5};h.prototype.getUntilUTCTime=function(){return c("InsightsUtils").pstTimeToUTCDay(new Date(this.getUntil()*1e3)).getTime()};h.prototype.getLogParams=function(){return{insightId:this.getID()}};h.prototype.getAnalyticsInsightObject=function(){return{id:this.$AutomatedInsight1,text:this.$AutomatedInsight2,feedback:this.$AutomatedInsight3,since:this.$AutomatedInsight4,until:this.$AutomatedInsight5}};f.exports=h}),null);
__d("AutomatedInsightFeedbackMutation",["RelayFBEnvironment","RelayModern","AutomatedInsightFeedbackMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AutomatedInsightFeedbackMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{insight_id:l.insightId,user_feedback:l.feedback}},onCompleted:m&&m.onSuccess,onError:function n(o){m&&m.onFailure}})}f.exports={commit:k}}),null);
__d("AutomatedInsightsApi",["AutomatedInsight","AutomatedInsightFeedbackMutation","RelayFBEnvironment","RelayModern","idx","nullthrows","AutomatedInsightsApi_FetchInsightsQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").fetchQuery,i=c("RelayModern").graphql,j=function j(){return c("AutomatedInsightsApi_FetchInsightsQuery.graphql")},k={rateInsight:function l(m,n){c("AutomatedInsightFeedbackMutation").commit({insightId:m,feedback:n})},fetchInsights:function l(m){return h(c("RelayFBEnvironment"),j,{id:m}).then(function(n){var o,p=((o=n)!=null?(o=o.analytics_entity)!=null?(o=o.automated_insights)!=null?o.edges:o:o:o)||[];p=p.map(function(q){var r=c("nullthrows")(q.node);return new(c("AutomatedInsight"))({id:c("nullthrows")(r.id),text:c("nullthrows")(r.text),feedback:r.user_feedback,since:c("nullthrows")(r.start_time),until:c("nullthrows")(r.end_time)})});return{insights:p}})}};f.exports=k}),null);
__d("AutomatedInsightsStore",["AnalyticsDispatcher","AutomatedInsight","FluxReduceStore","immutable","AnalyticsActionType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").AUTOMATED_INSIGHTS,m={appID:null,clickedInsight:null,insights:c("immutable").List(),isInitializing:false,visibleInsightIndex:0,visibleInsightsCount:0};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case l.INITIALIZE_INSIGHTS:return new n().set("isInitializing",true).set("clickedInsight",this.getClickedInsight());case l.INSIGHTS_FETCHED:return this.$AutomatedInsightsStore1(p,r);case l.INSIGHT_RATED:return this.$AutomatedInsightsStore2(p,r);case l.INSIGHT_NAVIGATED:return this.$AutomatedInsightsStore3(p,r);case l.INSIGHT_CLICKED:return this.$AutomatedInsightsStore4(p,r);case l.INSIGHT_UNHIGHLIGHT:return p.set("clickedInsight",null);case l.VISIBLE_INSIGHTS_COUNT_CHANGED:return p.set("visibleInsightsCount",r.visibleInsightsCount);default:return p}};o.prototype.isInitializing=function(){return this.getState().isInitializing};o.prototype.getAppID=function(){return this.getState().appID};o.prototype.getInsights=function(){return this.getState().insights};o.prototype.getVisibleInsightIndex=function(){return this.getState().visibleInsightIndex};o.prototype.getVisibleInsightsCount=function(){return this.getState().visibleInsightsCount};o.prototype.getClickedInsightID=function(){var p=this.getClickedInsight();return p?p.getID():null};o.prototype.getClickedInsight=function(){return this.getState().clickedInsight};o.prototype.$AutomatedInsightsStore1=function(p,q){return p.set("insights",c("immutable").List(q.insights)).set("isInitializing",false).set("appID",q.appID)};o.prototype.$AutomatedInsightsStore4=function(p,q){return p.set("clickedInsight",q.insightClicked)};o.prototype.$AutomatedInsightsStore2=function(p,q){var r=p.insights.findIndex(function(s){return s.getID()===q.id}),s=this.getInsights().get(r),t=new(c("AutomatedInsight"))(babelHelpers["extends"]({},s.getAnalyticsInsightObject(),{feedback:q.rating}));if(this.getClickedInsight()===s)p=this.$AutomatedInsightsStore4(p,{insightClicked:t});return p.setIn(["insights",r],t)};o.prototype.$AutomatedInsightsStore3=function(p,q){return p.set("visibleInsightIndex",q.index)};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("AutomatedInsightsActions",["AnalyticsDispatcher","AnalyticsNavigationUtils","AutomatedInsight","AutomatedInsightsApi","AutomatedInsightsStore","Base64","FBJSON","GriffinSections","AnalyticsActionType","InsightsContext"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").AUTOMATED_INSIGHTS,i={initialize:function j(k){if(c("AutomatedInsightsStore").isInitializing()||c("AutomatedInsightsStore").getAppID()===k)return;c("AnalyticsDispatcher").dispatchAction({type:h.INITIALIZE_INSIGHTS});c("AutomatedInsightsApi").fetchInsights(k).done(function(l){return c("AnalyticsDispatcher").dispatchAction(babelHelpers["extends"]({},l,{type:h.INSIGHTS_FETCHED,appID:k}))})},navigate:function j(k){if(k<0||k>=c("AutomatedInsightsStore").getInsights().count())return;c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_NAVIGATED,index:k})},insightClicked:function j(k){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_CLICKED,insightClicked:k})},insightClickNavigate:function j(k){this.insightClicked(k);c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").AUTOMATED_INSIGHTS,"","",{insight:c("Base64").encode(c("FBJSON").stringify(k.getAnalyticsInsightObject())),insight_id:k.getID()}).go()},insightUnhighlight:function j(){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_UNHIGHLIGHT})},insightRated:function j(k,l,m){c("AnalyticsDispatcher").dispatchAction({type:h.INSIGHT_RATED,id:k,rating:l===m?null:m});if(!c("InsightsContext").isDemoApp())c("AutomatedInsightsApi").rateInsight(k,l===m?null:m)},setVisibleInsightsCount:function j(k){if(c("AutomatedInsightsStore").getVisibleInsightsCount()===k)return;c("AnalyticsDispatcher").dispatchAction({type:h.VISIBLE_INSIGHTS_COUNT_CHANGED,visibleInsightsCount:k})}};f.exports=i}),null);
__d("AutomatedInsightCard",["ix","cx","fbt","AnalyticsGKs","AnalyticsGKNames","AnalyticsInsightFeedback","AutomatedInsight","AutomatedInsightsActions","AutomatedInsightsStore","BonsaiText","FluxContainer","InsightsEventLogger","Image.react","Link.react","React","TextWithEntities.react","Tooltip.react","XUIDateRangePickerUtil","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.getStores=function(){return[c("AutomatedInsightsStore")]};m.calculateState=function(n,o){if(c("AutomatedInsightsStore").isInitializing())return{visible:false,isInsightClicked:false};var p=c("AutomatedInsightsStore").getVisibleInsightIndex(),q=o.index-p>=0&&o.index-p<c("AutomatedInsightsStore").getVisibleInsightsCount(),r=c("AutomatedInsightsStore").getClickedInsightID(),s=o.insight.getID()===r;return{visible:q,isInsightClicked:s}};function m(n){l.constructor.call(this,n);this.state={visible:false,isInsightClicked:false}}m.prototype.componentDidMount=function(){if(this.state.visible)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_shown",index:this.props.index},this.props.insight.getLogParams()))};m.prototype.componentDidUpdate=function(n,o){var p=n.insight.getID()!==this.props.insight.getID();if(p&&this.state.visible||o&&this.state.visible&&o.visible!==this.state.visible)c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_shown",index:this.props.index},this.props.insight.getLogParams()))};m.prototype.render=function(){var n=this.$AutomatedInsightCard1("positive",j._("\u00datil"));return c("React").createElement("div",{className:"_2-_g"+(this.state.isInsightClicked?" _5-ci":""),onClick:function(){this.$AutomatedInsightCard2("card_link")}.bind(this),role:"presentation"},c("React").createElement("div",{className:"_2-_l"},c("React").createElement("div",{className:"_2-_n"},c("React").createElement("div",{className:c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_INSIGHT_TEXT)?"_gtf":"_3bi0",role:"link"},c("React").createElement(c("TextWithEntities.react"),{interpolator:function o(p,q){return c("React").createElement("b",null,p)},ranges:[],text:this.props.insight.getText()})),c("React").createElement("div",{className:c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_INSIGHT_TEXT)?"_gtg":"_3bi2"},c("XUIDateRangePickerUtil").formatDateRangeWithConfig(this.props.insight.getSinceUTCTime(),this.props.insight.getUntilUTCTime(),"M j, Y")),c("React").createElement("div",{className:"_3bi6",onClick:function(o){o.stopPropagation();this.$AutomatedInsightCard2("card_analyze_segment")}.bind(this),role:"presentation"}),c("React").createElement("div",{className:"_3bi4"}),c("React").createElement("div",{className:"_3bi5"},n))))};m.prototype.$AutomatedInsightCard1=function(n,o){var p=this.$AutomatedInsightCard3(c("AnalyticsInsightFeedback").RATE_POSITIVE)?h("134382"):h("123168"),q=this.$AutomatedInsightCard3(c("AnalyticsInsightFeedback").RATE_POSITIVE),r="_3bie",s=c("BonsaiText").insight_tutd_tooltips.thumbs_up;return c("React").createElement("div",{className:"_3bi9",ref:n},c("React").createElement(c("Tooltip.react"),{ref:"root",tooltip:s},c("React").createElement(c("Link.react"),{className:(!q?"_3bia":"")+(q?" _3bib":""),onClick:function(t){t.stopPropagation();this.$AutomatedInsightCard4(c("AnalyticsInsightFeedback").RATE_POSITIVE)}.bind(this)},c("React").createElement(c("Image.react"),{src:p,className:r}),c("React").createElement("div",{className:"_3bif"},o))))};m.prototype.$AutomatedInsightCard3=function(n){return this.props.insight.getFeedback()===n};m.prototype.$AutomatedInsightCard4=function(n){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_h1_rate",rating:n,index:this.props.index},this.props.insight.getLogParams()));c("AutomatedInsightsActions").insightRated(this.props.insight.getID(),this.props.insight.getFeedback(),n)};m.prototype.$AutomatedInsightCard2=function(n){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:"projectl_insight_see_more_click",source:n,index:this.props.index},this.props.insight.getLogParams()));c("AutomatedInsightsActions").insightClickNavigate(this.props.insight)};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("GriffinDashboardUtils",["fbt","AnalyticsChartSize"],(function a(b,c,d,e,f,g,h){"use strict";var i,j=h._("Panel sin t\u00edtulo"),k=h._("Gr\u00e1fico sin t\u00edtulo"),l=(i={},i[c("AnalyticsChartSize").LARGE]=2,i[c("AnalyticsChartSize").MEDIUM]=1,i[c("AnalyticsChartSize").SMALL]=1,i),m={defaultDashboardName:j,defaultChartName:k,chartSizeWeights:l};f.exports=m}),null);
__d("AutomatedInsightDashboard",["AnalyticsEditableGridChartLayout","AnalyticsDashboardChartUniform","AutomatedInsightsStore","AnalyticsSegmentUtils","FalcorLoadingCard","FluxContainer","GriffinDashboardUtils","React","RelayFBEnvironment","RelayModern","ScrollableArea.react","idx","AutomatedInsightDashboardQueryRendererQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").graphql,k=c("RelayModern").QueryRenderer,l=2,m=function m(){return c("AutomatedInsightDashboardQueryRendererQuery.graphql")};h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;n.getStores=function(){return[c("AutomatedInsightsStore")]};n.calculateState=function(o,p){return{clickedInsightID:c("AutomatedInsightsStore").getClickedInsightID()}};n.prototype.render=function(){var o=this.props.analyticsEntityID;if(!this.state.clickedInsightID)return null;return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:m,variables:{entityID:o,insightID:this.state.clickedInsightID},render:function(p){return this.$AutomatedInsightDashboard1(p)}.bind(this)})};n.prototype.$AutomatedInsightDashboard1=function(o){var p=o.error,q=o.props;if(!q)return c("React").createElement(c("FalcorLoadingCard"),null);else{var r,s=((r=q)!=null?(r=r.analytics_entity)!=null?r.automated_insight:r:r)||{},t=s.layout;if(t==null)return null;return c("React").createElement(c("ScrollableArea.react"),{height:this.props.height},c("React").createElement(c("AnalyticsEditableGridChartLayout"),{charts:t,chartSizeWeights:c("GriffinDashboardUtils").chartSizeWeights,inheritedSegment:c("AnalyticsSegmentUtils").ALL_USERS,isReadOnly:true,numColumns:l,uniform:c("AnalyticsDashboardChartUniform")}))}};function n(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("AutomatedInsightsFeed",["cssVar","AutomatedInsightsActions","AutomatedInsightsStore","AutomatedInsight","AutomatedInsightCard","Event","FluxContainer","InsightsEventLogger","immutable","React","ScrollableArea.react","SubscriptionsHandler","idx"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=parseInt("12",10),l=parseInt("125",10)+k;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.getStores=function(){return[c("AutomatedInsightsStore")]};m.calculateState=function(n,o){return{insights:c("AutomatedInsightsStore").getInsights()}};function m(n){j.constructor.call(this,n);this.$AutomatedInsightsFeed3=function(o){var p;this.scrollProps.scrollable=(p=o)!=null?(p=p.refs)!=null?p.wrap:p:p}.bind(this);this.$AutomatedInsightsFeed2=function(){if(this.scrollProps.scrollable==null)return;var o=Math.floor(this.scrollProps.scrollable.scrollTop/l);if(o===this.scrollProps.topVisibleIndex)return;var p=o-this.scrollProps.topVisibleIndex;c("InsightsEventLogger").logEvent({eventName:"projectl_h1_feedscroll",step:p,fromInsightId:this.scrollProps.topVisibleIndex,toInsightId:o});c("AutomatedInsightsActions").navigate(o);this.scrollProps={scrollable:this.scrollProps.scrollable,topVisibleIndex:o}}.bind(this);c("AutomatedInsightsActions").initialize(n.analyticsEntityID);c("AutomatedInsightsActions").setVisibleInsightsCount(this.props.height/l);this.state={insights:c("immutable").List()};this.scrollProps={scrollable:null,topVisibleIndex:0}}m.prototype.componentDidMount=function(){this.$AutomatedInsightsFeed1=new(c("SubscriptionsHandler"))();this.$AutomatedInsightsFeed1.addSubscriptions(c("Event").listen(this.scrollProps.scrollable,"scroll",this.$AutomatedInsightsFeed2))};m.prototype.componentWillUnmount=function(){if(this.$AutomatedInsightsFeed1!=null)this.$AutomatedInsightsFeed1.release()};m.prototype.componentWillReceiveProps=function(n){c("AutomatedInsightsActions").setVisibleInsightsCount(n.height/l)};m.prototype.render=function(){if(!this.state.insights)return c("React").createElement("div",null);var n=this.state.insights.map(function(o,p){return c("React").createElement("div",{key:p,style:{paddingBottom:k+"px"}},c("React").createElement(c("AutomatedInsightCard"),{index:p,insight:o,key:p,section:"automated_insights"}))});return c("React").createElement(c("ScrollableArea.react"),{height:this.props.height,ref:this.$AutomatedInsightsFeed3},n)};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("GriffinAutomatedInsightsDashboardSectionController",["cx","fbt","AutomatedInsightsActions","AutomatedInsightsFeed","AutomatedInsightDashboard","GriffinDefaultSectionController","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;function l(){return window.innerHeight-150}j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(n){k.constructor.call(this,n);c("AutomatedInsightsActions").initialize(String(this.props.analyticsEntityID));this.state={height:l()}}m.prototype.componentDidMount=function(){window.addEventListener("resize",function(){return this.$GriffinAutomatedInsightsDashboardSectionController1()}.bind(this))};m.prototype.componentWillUnmount=function(){window.removeEventListener("resize",function(){return this.$GriffinAutomatedInsightsDashboardSectionController1()}.bind(this))};m.prototype.render=function(){return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showDatePicker:false,showSegments:false,showCompare:false,itemLabel:this.$GriffinAutomatedInsightsDashboardSectionController2()}),c("React").createElement("div",null,c("React").createElement("div",{className:"_21-x"},c("React").createElement(c("AutomatedInsightsFeed"),{height:this.state.height,analyticsEntityID:String(this.props.analyticsEntityID)})),c("React").createElement("div",{className:"_21-y"},c("React").createElement(c("AutomatedInsightDashboard"),{analyticsEntityID:String(this.props.analyticsEntityID),height:this.state.height})),c("React").createElement("div",{className:"_21-z"})))};m.prototype.$GriffinAutomatedInsightsDashboardSectionController2=function(){return c("React").createElement("div",{className:"_x4h"},i._("Estad\u00edsticas autom\u00e1ticas"))};m.prototype.$GriffinAutomatedInsightsDashboardSectionController1=function(){this.setState({height:l()})};f.exports=m}),null);
__d("GriffinAutomaticAnalyticsParameterValueEditCard",["cx","BonsaiApiBreakdown","BonsaiAppEventTypesUtils","CustomEventStore","FalcorCustomEventsParamsCard","FalcorErrorNotice","FalcorLoadingCard","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={paramTitles:[],noParamTitles:false},this.$GriffinAutomaticAnalyticsParameterValueEditCard1=function(q){this.setState({paramTitles:q,noParamTitles:q.length===0})}.bind(this),m}k.prototype.componentWillMount=function(){c("BonsaiAppEventTypesUtils").loadParameterValues("fb_aa_time_from_ios_test_no_sb_valtosum",c("BonsaiApiBreakdown").AA_SCREEN_NAME,this.$GriffinAutomaticAnalyticsParameterValueEditCard1)};k.prototype.render=function(){var l,m=this.state.paramTitles;if(m.length>0){var l=function(){var n=c("CustomEventStore").getEvent("fb_aa_time_from_ios_test_no_sb_valtosum");if(!n)return{v:null};var o={},p=n.custom_event_fields;p.forEach(function(r){var s=r.name===c("BonsaiApiBreakdown").AA_SCREEN_NAME;if(s){var t=r.value_details||[];t.forEach(function(u){o[u.name]={name:u.name,display_name:u.display_name,description:u.description}})}});var q=m.map(function(r){var s=r.uniqueID;return o[s]||{name:s,display_name:s}});return{v:c("React").createElement(c("FalcorCustomEventsParamsCard"),{headerKey:"params_value_table_header",cardKey:"params_value_table_card",activeParams:q,inactiveParams:[],isProtected:false,eventName:"fb_aa_time_from_ios_test_no_sb_valtosum",key:"params_value_table",paramName:c("BonsaiApiBreakdown").AA_SCREEN_NAME})}}();if(typeof l==="object")return l.v}else if(this.state.noParamTitles)return c("React").createElement(c("FalcorErrorNotice"),{className:"_1jgf",message:"No Automatic Events have been logged for your app yet."});else return c("React").createElement(c("FalcorLoadingCard"),{showCard:false})};f.exports=k}),null);
__d("AnalyticsQueryDataFetcherMixin",["AnalyticsDateUtils","areEqual"],(function a(b,c,d,e,f,g){"use strict";var h={_queries:[],componentWillMount:function i(){this._fetchData(this.props)},componentWillUnmount:function i(){this._cancelQueries()},_fetchData:function i(j){this._cancelQueries();var k=this._getQueries(j);k.forEach(function(l){var m=l.query.getQueryAsPromise();m.promise.done(function(n){return l.onQueryData(n)},function(n){return l.onQueryError(n)});this._queries.push(m)}.bind(this))},_shouldFetchData:function i(j,k){return j.eventName!==k.eventName||!c("AnalyticsDateUtils").isDateRangeSame(j.visibleDateRange,k.visibleDateRange)||j.isComparing!==k.isComparing||!c("areEqual")(j.filters,k.filters)||!c("areEqual")(j.segment,k.segment)||!c("areEqual")(j.comparisonSegment,k.comparisonSegment)},_cancelQueries:function i(){this._queries.forEach(function(j){return j.cancel()});this._queries=[]}};f.exports=h}),null);
__d("FalcorChartFormatters",["fbt","CandelaCategoryScale","CandelaTimeScale","InsightsFormatterFactories","CandelaConstants"],(function a(b,c,d,e,f,g,h){var i=c("CandelaConstants").Orientation,j=function j(q){return function(r){if(r instanceof c("CandelaCategoryScale"))return function(s){if(s.length>q){var t=s.slice(0,q),u=t.lastIndexOf(" ");if(u===-1)return s;return s.slice(0,u)+"\n"+s.slice(u+1)}return s};return c("InsightsFormatterFactories").axisMarkFormatterFactory(r,i.VERTICAL)}},k=function k(q){return function(r){return l(r,q)}};function l(q,r){if(q instanceof c("CandelaCategoryScale"))return function(s){if(s.length>r)return s.slice(0,r)+"...";return s};return c("InsightsFormatterFactories").axisMarkFormatterFactory(q,i.VERTICAL)}var m=function m(){return function(q){return n(q)}};function n(q){if(q instanceof c("CandelaTimeScale"))return function(r){return p(r)};return c("InsightsFormatterFactories").axisMarkFormatterFactory(q,i.HORIZONTAL)}var o=function o(q){if(q instanceof c("CandelaTimeScale"))return function(r){return p(r)};else return function(r){return r}};function p(q){var r=q%60;q-=r;var s=Math.floor(q/60),t=Math.floor(s/60);s-=t*60;var u=[];if(t>0)u.push(t===1?t+" hr":t+" hrs");if(s>0)u.push(s===1?s+" min":s+" mins");if(r>0||u.length===0)u.push(r===1?r+" sec":r+" secs");var v=u.join(", ");return h._("{hours, minutes, seconds}",[h.param("hours, minutes, seconds",v)])}f.exports={getLineBreakAxisFormatter:j,getEllipsisAxisFormatter:k,getTimeElapsedAxisFormatter:m,getHoverCardTimeElapsedFormatterFactory:o,getTimeElapsedAxisFormatterFromScale:n,getEllipsisAxisFormatterFromScale:l,formatDetailTimeValueFromSeconds:p}}),null);
__d("GriffinAutomaticAnalyticsSectionController",["cx","fbt","invariant","AnalyticsCard","AnalyticsNavigationUtils","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","BonsaiApiBreakdown","CandelaGroupScaleBuilder","BonsaiText","CandelaTimeScale","CustomEventActions","FalcorBreakdownsTextUtils","FalcorChartFormatters","FalcorCommonViews","FalcorPaginatedDataTable","FalcorErrorNotice","FalcorLoadingCard","FalcorSectionRendererMixin","GriffinAutomaticAnalyticsParameterValueEditCard","GriffinHorizontalBarChart","GriffinSections","InsightsContext","InsightsUtils","React","Timezone","CandelaConstants","createObjectFrom","naturalComparator"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=c("CandelaGroupScaleBuilder").group,l=c("CandelaConstants").ScaleType,m=12,n=48,o="fb_aa_time_from_ios_test_no_sb_valtosum",p=i._("Tiempo dedicado en el controlador de vista"),q=c("React").createClass({displayName:"GriffinAutomaticAnalyticsSectionController",mixins:[c("FalcorSectionRendererMixin"),c("AnalyticsQueryDataFetcherMixin")],getInitialState:function r(){return{result:null,error:null,searchString:null}},componentWillReceiveProps:function r(s){if(this._shouldFetchData(this.props,s)){this.setState(this.getInitialState());this._fetchData(s)}},_getQueries:function r(s){var t=this.props.visibleDateRange,u=c("InsightsUtils").utcTimeToPacificDay(t.since),v=c("InsightsUtils").utcTimeToPacificDay(t.until),w=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setAggregations(["SUM","COUNT"]).setBreakdowns([c("BonsaiApiBreakdown").AA_SCREEN_NAME]).setEventName(o).setIntervalsToAggregate(0).setOrderingColumns(["SUM"]).setOrderingType("DESCENDING").setSince(u.getTime()/1e3).setUntil(v.getTime()/1e3).setTag("breakdown_by_"+s.eventName);return[{query:w,onQueryData:function(x){return this.setState({result:x})}.bind(this),onQueryError:function(x){return this.setState({error:x})}.bind(this)}]},_onSearchChange:function r(s){var t=s.target.value;this.setState({searchString:t});this.refs.breakdownTable.onSearchChange(t)},_getColumnsConfigForDataTable:function r(){var s=c("BonsaiApiBreakdown").AA_SCREEN_NAME;return[{comparator:function t(u,v){return v?c("naturalComparator")(u.breakdown,v.breakdown):c("naturalComparator")(u.breakdown,null)},id:s,label:c("FalcorBreakdownsTextUtils").getBreakdownsColumnDisplayString(o,s),sortable:true,widthWeight:1},{comparator:function t(u,v){return v?u.valueInt-v.valueInt:u.valueInt},id:"value",label:i._("Tiempo transcurrido"),sortable:true,widthWeight:1,exportLabel:i._("Tiempo dedicado (segundos)"),exportID:"valueInt"},{comparator:function t(u,v){return v?u.count-v.count:u.count},id:"count",label:i._("Visualizaciones de pantalla"),sortable:true,widthWeight:1},{comparator:function t(u,v){return v?u.valuePerEventInt-v.valuePerEventInt:u.valuePerEventInt},id:"valuePerEvent",label:i._("Tiempo dedicado por visualizaci\u00f3n"),sortable:true,widthWeight:1,exportLabel:i._("Tiempo dedicado por visualizaci\u00f3n (segundos)"),exportID:"valuePerEventInt"}]},_getRowsForDataTable:function r(s){var t=c("BonsaiApiBreakdown").AA_SCREEN_NAME,u=s.getResultAsRows(),v=s.getColumnNames().indexOf("SUM"),w=s.getColumnNames().indexOf("COUNT"),x=s.getColumnNames().indexOf(t);v>=0&&w>=0&&x>=0||j(0);return u.map(function(y){var z=y.get(x),A=parseInt(y.get(v),10),B=parseInt(y.get(w),10);z!==null&&A!==null&&A!==undefined&&B!==null&&B!==undefined&&B!==0||j(0);var C=c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(t,z,o).toString(),D=Math.round(A/B),E=c("createObjectFrom")([t],C),F={value:c("FalcorChartFormatters").formatDetailTimeValueFromSeconds(A),valueInt:A,count:B,valuePerEvent:c("FalcorChartFormatters").formatDetailTimeValueFromSeconds(D),valuePerEventInt:D,key:C};return babelHelpers["extends"]({},E,F)}).toJS()},_getExportData:function r(){return{data:this.refs.breakdownTable.getExportData(),fileName:this._getExportFileName()}},_getExportFileName:function r(){var s=this.props.visibleDateRange;return[p,s.since.toDateString(),s.until.toDateString()].join("_")},_formatResultData:function r(s){var t=c("BonsaiApiBreakdown").AA_SCREEN_NAME,u=s.getResultAsRows(),v=s.getColumnNames().indexOf("SUM"),w=s.getColumnNames().indexOf(t);v>=0&&w>=0||j(0);return u.map(function(x){var y=x.get(w),z=parseInt(x.get(v),10);y!==null&&z!==null&&z!==undefined||j(0);return{title:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(t,y,"fb_aa_time_from_ios_test_no_sb_valtosum").toString(),value:z}}).toJS()},_getSettingsButton:function r(){var s=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").AUTOMATIC_EVENTS,"",c("FalcorCommonViews").EDIT);return{text:i._("Configuraci\u00f3n"),onClick:function t(){s.go()}}},_getSaveButton:function r(){var s=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").AUTOMATIC_EVENTS,"","");return{text:i._("Guardar"),onClick:function t(){c("CustomEventActions").saveEventConfig();s.go()}}},_renderLoadingCard:function r(s){return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6 _2aax",title:s},c("React").createElement(c("FalcorLoadingCard"),{showCard:false}))},_renderErrorCard:function r(s,t){return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6 _2aax",title:s},c("React").createElement(c("FalcorErrorNotice"),{className:"_1jgf",message:t}))},getContent:function r(){if(this.props.view===c("FalcorCommonViews").EDIT)return[c("React").createElement(c("GriffinAutomaticAnalyticsParameterValueEditCard"),{key:"param_values_edit_card"})];else return this.getMainContent()},getMainContent:function r(){var s=c("BonsaiApiBreakdown").AA_SCREEN_NAME,t={title:{type:l.CATEGORY},value:{timezoneID:c("Timezone").UTC,type:l.TIME}},u=[k("value").niceStepOnly().roundInput()],v=k("title"),w="time_spent_error_card",x=function x(I){return function(J){if(J instanceof c("CandelaTimeScale"))return c("FalcorChartFormatters").getTimeElapsedAxisFormatterFromScale(J);else return c("FalcorChartFormatters").getEllipsisAxisFormatterFromScale(J,I)}},y=this.state.result,z=this.state.error;if(z){var A=this._renderErrorCard(p,z.getMessage());return[c("React").createElement("div",{key:w,className:"_4jip _4jiq"},A)]}if(y){var B=this._formatResultData(y);if(B.length===0){var C=this._renderErrorCard(p,c("BonsaiText").errors.unavailable);return[c("React").createElement("div",{key:w,className:"_4jip _4jiq"},C)]}else{var D=this._getRowsForDataTable(y),E=this._getColumnsConfigForDataTable(),F=c("React").createElement(c("AnalyticsCard"),{cardKey:"breakdown_table_card",getExportData:this._getExportData,key:"breakdown_table_card",onSearchChange:this._onSearchChange,searchString:this.state.searchString,title:p},c("React").createElement(c("FalcorPaginatedDataTable"),{key:"breakdown_table_card",columns:E,rows:D,searchFieldName:"key",showHeader:true,ref:"breakdownTable"})),G=c("React").createElement("div",{key:"time_spent_bar_chart",className:"_4jip _4jiq"},c("React").createElement(c("GriffinHorizontalBarChart"),{size:"large",cardKey:"auto_analytics",metricKey:s,title:p,data:B,plotX:u,plotY:v,schema:t,unitLabel:" ",maxNumBuckets:B.length,height:n*B.length,formatterFactory:c("FalcorChartFormatters").getHoverCardTimeElapsedFormatterFactory,axisMarkFormatterFactory:x(m)}));return[G,F]}}var H=this._renderLoadingCard(p);return[c("React").createElement("div",{key:"time_spent_loading_card",className:"_4jip _4jiq"},H)]},getHeaderProps:function r(){return{title:this.getTitle(),buttons:[this.props.view===c("FalcorCommonViews").EDIT?this._getSaveButton():this._getSettingsButton()]}},getTitle:function r(){return i._("Eventos autom\u00e1ticos")}});f.exports=q}),null);
__d("GriffinTypeaheadSelector",["cx","React","SUIAnalyticsGriffinTheme","SUITypeahead.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={query:""},this.$GriffinTypeaheadSelector1=function(q){this.props.onSelect(q);this.setState({query:""})}.bind(this),this.$GriffinTypeaheadSelector2=function(q){this.setState({query:q})}.bind(this),m}k.prototype.render=function(){"use strict";var l=this.props,m=l.placeholder,n=l.searchSource,o=this.state.query;return c("React").createElement(c("SUITypeahead.react"),{autoHighlight:true,blurOnWindowBlur:false,className:"_w0r",placeholder:m,queryString:o,searchSource:n,presenter:{extraRendererProps:{style:{maxHeight:295,overflowY:"auto"}}},onFocus:this.props.onFocus,onSelectAttempt:this.$GriffinTypeaheadSelector1,hideViewWithEntries:true,maxEntries:300,onChange:this.$GriffinTypeaheadSelector2,showEntriesOnFocus:true,theme:c("SUIAnalyticsGriffinTheme")})};f.exports=k}),null);
__d("FalcorAppEventSelector",["fbt","BonsaiConstants","CustomEventStore","FalcorSearchSource","GriffinSearchableSelector","GriffinTypeaheadSelector","React","SearchableEntry"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this,l,m);var n=this.props.excludeAppEvents,o=this.$FalcorAppEventSelector1(n),p=this.$FalcorAppEventSelector2(n);this.state={appEventsUnique:o,searchSource:p}}k.prototype.componentWillReceiveProps=function(l){var m,n=this;"use strict";if(l.value)(function(){var p=n.$FalcorAppEventSelector3();if(p){var q=n.$FalcorAppEventSelector4(n.state.appEventsUnique),r=q.find(function(t){return t.id===p.id});if(!r&&p.id!==c("BonsaiConstants").EVENT_SELECTOR_DEFAULT_VALUE){q.push(p);var s=new(c("FalcorSearchSource"))(q);n.setState({searchSource:s})}}})();else if(l.excludeAppEvents){var o=this.$FalcorAppEventSelector2(l.excludeAppEvents);this.setState({searchSource:o})}};k.prototype.$FalcorAppEventSelector1=function(l){"use strict";var m=c("CustomEventStore").getEventList().filter(function(o){return!l.includes(o.name)&&!o.is_deprecated});m.forEach(function(event){event.display_name=c("CustomEventStore").getAppEventDisplayName(event.name)});var n={};m.map(function(event){n[event.name]=event});return n};k.prototype.$FalcorAppEventSelector2=function(l){"use strict";var m=this.$FalcorAppEventSelector1(l),n=this.$FalcorAppEventSelector4(m),o=new(c("FalcorSearchSource"))(n);return o};k.prototype.$FalcorAppEventSelector3=function(){"use strict";var l=this.state.appEventsUnique,m=void 0;if(this.props.value)if(l[this.props.value]==null)m={id:this.props.value,name:this.props.value};else m={id:l[this.props.value].name,name:l[this.props.value].display_name};return m};k.prototype.$FalcorAppEventSelector4=function(l){"use strict";var m=[],n=Object.keys(l).map(function(p){return{id:l[p].name,name:l[p].display_name}});m=m.concat(n);if(this.props.enableCreateNewAppEvent){var o=h._("Crear nuevo evento de la aplicaci\u00f3n....");m.push({id:c("BonsaiConstants").EVENT_SELECTOR_NEW_VALUE,name:o})}return m};k.prototype.$FalcorAppEventSelector5=function(l){"use strict";if(l===null||l===undefined||l.name===c("BonsaiConstants").EVENT_SELECTOR_DEFAULT_VALUE)return null;return new(c("SearchableEntry"))({title:l.name,uniqueID:l.id})};k.prototype.render=function(){"use strict";var l=this.state.searchSource,m=this.props.placeholder;m=m?m:h._("Selecciona un evento");var n=this.$FalcorAppEventSelector3(),o=this.$FalcorAppEventSelector5(n);if(this.props.useTypeahead){if(!l)return null;return c("React").createElement(c("GriffinTypeaheadSelector"),{placeholder:m,onFocus:this.props.onOpen,onSelect:this.props.onSelect,searchSource:l})}else return c("React").createElement(c("GriffinSearchableSelector"),{className:this.props.className,dropdownWidth:300,isDisabled:this.props.disabled,searchSource:this.state.searchSource,placeholder:m,onChange:this.props.onSelect,onOpened:this.props.onOpen,value:o,width:this.props.width})};k.defaultProps={excludeAppEvents:[],width:"auto",useTypeahead:false};f.exports=k}),null);
__d("AnalyticsQueryBreakdownCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUILT_IN:"BUILT_IN",CUSTOM_PARAM:"CUSTOM_PARAM",USER_PROPERTY:"USER_PROPERTY"})}),null);
__d("GriffinBreakdownSearchableSelector",["fbt","AnalyticsBuiltInBreakdowns","AnalyticsQueryBreakdownUtils","AppEventsLowCardinalityAggregatingColumn","AppUserPropertyConfigStore","BonsaiApiBreakdown","AnalyticsQueryBreakdownCategory","AnalyticsQueryBreakdownCategoryLabels","CustomEventStore","GriffinSearchableSelector","FluxContainer","React","SearchableEntry","Set","StaticSearchSource","FalcorSearchSource"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("FalcorSearchSource").entrySortFunction,l=new(c("Set"))([c("AnalyticsBuiltInBreakdowns").DOMAIN,c("AnalyticsBuiltInBreakdowns").REFERER_DOMAIN,c("AnalyticsBuiltInBreakdowns").WEB_TRAFFIC_SOURCE,c("AnalyticsBuiltInBreakdowns").WEB_TRAFFIC_SEARCH_SOURCE,c("AnalyticsBuiltInBreakdowns").WEB_TRAFFIC_SOCIAL_SOURCE,c("AnalyticsBuiltInBreakdowns").WEB_URL,c("AnalyticsBuiltInBreakdowns").REFERER_URL,c("AnalyticsBuiltInBreakdowns").UTM_CAMPAIGN_SOURCE,c("AnalyticsBuiltInBreakdowns").UTM_CAMPAIGN_MEDIUM,c("AnalyticsBuiltInBreakdowns").UTM_CAMPAIGN_TERM,c("AnalyticsBuiltInBreakdowns").UTM_CAMPAIGN_CONTENT,c("AnalyticsBuiltInBreakdowns").UTM_CAMPAIGN_NAME]),m=c("AnalyticsQueryBreakdownUtils").demoBreakdownsString,n=c("AnalyticsQueryBreakdownUtils").demoBreakdownsDisplayString,o=new(c("SearchableEntry"))({title:n,type:c("AnalyticsQueryBreakdownCategoryLabels")[c("AnalyticsQueryBreakdownCategory").BUILT_IN],uniqueID:m}),p=Object.keys(c("AnalyticsBuiltInBreakdowns")).map(function(s){var t=c("AnalyticsBuiltInBreakdowns")[s];return new(c("SearchableEntry"))({title:c("AnalyticsQueryBreakdownUtils").getDisplayString(t),type:c("AnalyticsQueryBreakdownCategoryLabels")[c("AnalyticsQueryBreakdownCategory").BUILT_IN],uniqueID:t})});Object.freeze(p);var q=new(c("SearchableEntry"))({title:c("AnalyticsQueryBreakdownUtils").getDisplayString(c("BonsaiApiBreakdown").NONE),uniqueID:c("BonsaiApiBreakdown").NONE});i=babelHelpers.inherits(r,c("React").Component);j=i&&i.prototype;r.getStores=function(){return[c("AppUserPropertyConfigStore")]};r.calculateState=function(s){return{userProperties:c("AppUserPropertyConfigStore").getActiveProperties()}};function r(s){j.constructor.call(this,s);this.$GriffinBreakdownSearchableSelector4=function(t){var u=this.props,v=u.disabledEntryIDs,w=u.hasDisabledTooltip;return w&&v&&v.has(t.getUniqueID())?h._("No se aplica"):c("AnalyticsQueryBreakdownUtils").getTooltip(t.getUniqueID(),false)}.bind(this);this.state={userProperties:c("AppUserPropertyConfigStore").getActiveProperties()}}r.prototype.render=function(){var s=this.$GriffinBreakdownSearchableSelector1(),t=this.$GriffinBreakdownSearchableSelector2(),u=this.$GriffinBreakdownSearchableSelector3(),v=this.props.showOverall?[q]:[],w=v.concat(s,t,u);return c("React").createElement(c("GriffinSearchableSelector"),{className:this.props.className,dropdownWidth:"auto",header:this.props.header,disabledEntryIDs:this.props.disabledEntryIDs,getTooltipForEntry:this.$GriffinBreakdownSearchableSelector4,hasCategories:true,isDisabled:this.props.isDisabled,onChange:this.props.onChange,onOpened:this.props.onOpened,placeholder:this.props.placeholder,searchSource:new(c("StaticSearchSource"))(w),showSelectedSubtitle:false,value:this.$GriffinBreakdownSearchableSelector5(),width:this.props.width})};r.prototype.$GriffinBreakdownSearchableSelector1=function(){var s=c("CustomEventStore").hasWebEvent(),t=c("CustomEventStore").hasMessengerBotEvent(),u=this.props,v=u.showDemoBreakdowns,w=u.showHighCardinalityBreakdowns;return p.concat(v?o:[]).sort(function(x,y){return k(x.getTitle(),y.getTitle())}).filter(function(x){if(!s&&l.has(x.getUniqueID())||!t&&x.getUniqueID()===c("AnalyticsBuiltInBreakdowns").PAGE_ID)return false;if(!w&&!c("AppEventsLowCardinalityAggregatingColumn")[x.getUniqueID()])return false;return true})};r.prototype.$GriffinBreakdownSearchableSelector2=function(){var s=this.props,event=s.event,t=s.showHighCardinalityBreakdowns;if(!event||!t)return[];var u=c("CustomEventStore").getEvent(event),v=u?u.custom_event_fields:[];return(v||[]).map(function(w){return new(c("SearchableEntry"))({title:w.display_name,type:c("AnalyticsQueryBreakdownCategoryLabels")[c("AnalyticsQueryBreakdownCategory").CUSTOM_PARAM],uniqueID:c("AnalyticsQueryBreakdownUtils").getCustomParam(w.name)})}).sort(function(w,x){return k(w.getTitle(),x.getTitle())})};r.prototype.$GriffinBreakdownSearchableSelector3=function(){var s=this.state.userProperties;if(!this.props.showHighCardinalityBreakdowns||s==null)return[];return s.map(function(t){t=c("AnalyticsQueryBreakdownUtils").getUserProperty(t);return new(c("SearchableEntry"))({title:c("AnalyticsQueryBreakdownUtils").getDisplayString(t),type:c("AnalyticsQueryBreakdownCategoryLabels")[c("AnalyticsQueryBreakdownCategory").USER_PROPERTY],uniqueID:t})}).sort(function(t,u){return k(t.getTitle(),u.getTitle())})};r.prototype.$GriffinBreakdownSearchableSelector5=function(){var s=this.props,t=s.selectedBreakdown,event=s.event;if(!t)return null;var u=t===m?n:c("AnalyticsQueryBreakdownUtils").getDisplayString(t,event);return new(c("SearchableEntry"))({uniqueID:t,title:u})};r.defaultProps={showHighCardinalityBreakdowns:true,showOverall:false,width:"100%"};f.exports=c("FluxContainer").create(r)}),null);
__d("AnalyticsAdHocBreakdownBuilder",["cx","fbt","AnalyticsCard","FalcorAppEventSelector","FalcorFeatureValidationMixin","FalcorLoadingCard","GriffinBreakdownSearchableSelector","GriffinButton","InsightsContext","InsightsEventLogger","Layout.react","Link.react","React","Set","SUISelectorOption.react","SUISplitButton.react","SUIBusinessTheme","XUITextInput.react","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("Layout.react").Column,k=c("React").PropTypes,l={SAVE:"Save",SAVE_AS:"SaveAs",SAVE_AS_INTERNAL:"SaveAsInternal",DELETE:"Delete"},m=[{key:"breakdownsDropdown1",placeholder:i._("Desglose 1")},{key:"breakdownsDropdown2",placeholder:i._("Desglose 2")},{key:"breakdownsDropdown3",placeholder:i._("Desglose 3")}],n=c("React").createClass({displayName:"AnalyticsAdHocBreakdownBuilder",propTypes:{breakdownTable:k.object.isRequired,breakdownTableID:k.string,onApply:k.func.isRequired,onSave:k.func.isRequired,onSaveAs:k.func.isRequired,onSaveAsInternal:k.func.isRequired,onDelete:k.func.isRequired,onCancel:k.func.isRequired},mixins:[c("FalcorFeatureValidationMixin")],getInitialState:function o(){var p=this.props.breakdownTableID;return{updatedBreakdownTable:this.props.breakdownTable,isNewBreakdown:!p}},componentWillReceiveProps:function o(p){var q=this.props.breakdownTable.breakdowns!==p.breakdownTable.breakdowns||this.props.breakdownTable.event_name!==p.breakdownTable.event_name;if(q)this.setState({updatedBreakdownTable:p.breakdownTable})},render:function o(){if(this.props.breakdownTableID&&!this.props.breakdownTable.id)return c("React").createElement(c("FalcorLoadingCard"),null);return c("React").createElement("div",{className:"_4kvx"},this._renderErrorMessageOnSave(),c("React").createElement(c("AnalyticsCard"),{className:"_4kvy",title:i._("Tu desglose"),helpText:{key:"BreakdownsCreateEdit",title:i._("Desgloses")}},c("React").createElement("div",{className:"_4kv-"},this._renderNameTextInput(),this._renderEventsDropdown()),this._renderBreakdownsSection(),c("React").createElement("div",{className:"_4kwg"},this._renderSplitButton())))},_renderSplitButton:function o(){var p=this.props,q=p.onApply,r=p.onCancel,s=this.state,t=s.updatedBreakdownTable,u=s.isNewBreakdown,v=t.breakdowns.length===0,w=i._("Aplicar"),x=i._("Guardar"),y=i._("Guardar como"),z=i._("Guardar como interno"),A=i._("Eliminar"),B=i._("Cancelar"),C=c("React").createElement(c("GriffinButton"),{label:B,onClick:r,size:"medium",style:{marginRight:"8px"},use:"default"}),D=c("InsightsContext").isReadOnly(),E=D||u,F=u||c("InsightsContext").isReadOnly(),G=!c("InsightsContext").canUserCreateInternalObject(),H=G?null:c("React").createElement(c("SUISelectorOption.react"),{key:l.SAVE_AS_INTERNAL,value:l.SAVE_AS_INTERNAL},z),I=[c("React").createElement(c("SUISelectorOption.react"),{key:l.SAVE,value:l.SAVE,disabled:D},x),c("React").createElement(c("SUISelectorOption.react"),{key:l.SAVE_AS,value:l.SAVE_AS,disabled:E},y),H,c("React").createElement(c("SUISelectorOption.react"),{key:l.DELETE,value:l.DELETE,disabled:F},A)];return c("React").createElement("div",null,C,c("React").createElement(c("SUISplitButton.react"),{label:w,onChange:this._onAction,onClick:function J(){return q(t)},disabled:v,use:"confirm",theme:c("SUIBusinessTheme")},I))},_onAction:function o(p){var q=this.props,r=q.onSave,s=q.onSaveAs,t=q.onSaveAsInternal,u=q.onDelete,v=this.state.updatedBreakdownTable;switch(p){case l.SAVE:r(v);this.setState({isNewBreakdown:false});return;case l.SAVE_AS:s(v);return;case l.SAVE_AS_INTERNAL:t(v);return;case l.DELETE:u(v);return}},_renderNameTextInput:function o(){return c("React").createElement("div",{className:"_4kwh"},c("React").createElement("div",{className:"_4kwi"},i._("Nombre del desglose")),c("React").createElement(c("XUITextInput.react"),{className:"_4kwk",height:"tall",onChange:this._onNameChange,onFocus:function p(){return c("InsightsEventLogger").logEvent({eventName:"breakdown_table_name_input_focus"})},placeholder:i._("Desglose sin t\u00edtulo"),value:this.state.updatedBreakdownTable.name}))},_renderEventsDropdown:function o(){var p=this.state.updatedBreakdownTable,q=p.event_name,r=p.showValidationError,s=!q&&r,t="_4kwm"+(!!s?" _4kwn":"");return c("React").createElement("div",{className:"_4kwo"},c("React").createElement("div",{className:"_4kwp"},i._("Selecciona un evento")),c("React").createElement(c("FalcorAppEventSelector"),{className:t,onOpen:function u(){return c("InsightsEventLogger").logEvent({eventName:"breakdown_table_event_selector_open"})},onSelect:this._onEventSelect,placeholder:i._("Evento"),value:this.state.updatedBreakdownTable.event_name}))},_renderBreakdownsSection:function o(){return c("React").createElement("div",{className:"_4kwq"},c("React").createElement("div",{className:"_4kwr"},c("React").createElement("div",{className:"_4kwi"},i._("Par\u00e1metros del evento")),c("React").createElement("div",{className:"_4kwt"},i._("Elige un m\u00e1ximo de tres par\u00e1metros para analizar el evento."))),this._renderBreakdownsDropdowns())},_renderBreakdownsDropdowns:function o(){var p=this.state.updatedBreakdownTable,q=p.breakdowns,r=p.showValidationError,s=r&&(!q||!q.length),t=m.map(function(u,v){var w=this.state.updatedBreakdownTable,q=w.breakdowns,x=w.event_name,y=null,z=new(c("Set"))(),A=void 0;if(v===0){y=!x;A=!!s?"_4kwn":""}else y=!q[v-1];if(!y)q.filter(function(B,C){return v!==C}).forEach(function(B){return z.add(B)});return c("React").createElement(j,{className:"_4kwu",key:u.key},c("React").createElement("div",{className:"_4kwm"},c("React").createElement(c("GriffinBreakdownSearchableSelector"),{className:A,disabledEntryIDs:z,event:x,isDisabled:y,header:c("React").createElement(c("Link.react"),{onClick:function(){return this._onClearClick(v)}.bind(this)},i._("borrar")),onChange:function(B){return this._onSelectBreakdownsDropdown(B,v)}.bind(this),onOpened:function B(){return c("InsightsEventLogger").logEvent({eventName:"breakdown_table_breakdown_selector_open"})},placeholder:u.placeholder,selectedBreakdown:q[v]})))}.bind(this));return c("React").createElement(c("Layout.react"),null,t)},_renderErrorMessageOnSave:function o(){var p=this.state.updatedBreakdownTable,q=p.event_name,r=p.breakdowns;if(!q)return this._renderErrorOnSave(i._("Selecciona un evento para continuar"));else if(!r||!r.length)return this._renderErrorOnSave(i._("Elige el desglose que quieres ver"));return null},_onEventSelect:function o(p){var q=p.getUniqueID(),r=c("update")(this.state.updatedBreakdownTable,{event_name:{$set:q},breakdowns:{$set:[]},showValidationError:{$set:false}});c("InsightsEventLogger").logEvent({eventName:"breakdown_table_event_select",event:q,feature_id:this.props.breakdownTableID});this.setState({updatedBreakdownTable:r})},_onSelectBreakdownsDropdown:function o(p,q){var r=this.state.updatedBreakdownTable.breakdowns.slice();r[q]=p.getUniqueID();var s=c("update")(this.state.updatedBreakdownTable,{breakdowns:{$set:r}});c("InsightsEventLogger").logEvent({eventName:"breakdown_table_breakdown_select",event:this.props.breakdownTable.event_name,feature_id:this.props.breakdownTableID,breakdown:p.getUniqueID(),dropdown_index:q});this.setState({updatedBreakdownTable:s})},_onClearClick:function o(p){var q=this.state.updatedBreakdownTable.breakdowns.slice();for(var r=0;r<m.length-p;r++)q.splice(p,1);var s=c("update")(this.state.updatedBreakdownTable,{breakdowns:{$set:q}});this.setState({updatedBreakdownTable:s})},_onNameChange:function o(event){var p=c("update")(this.state.updatedBreakdownTable,{name:{$set:event.target.value}});this.setState({updatedBreakdownTable:p})}});f.exports=n}),null);
__d("BreakdownTableModel",["fbt","CustomEventStore","AnalyticsQueryBreakdownUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i={isValid:function k(){if(!this.event_name)return false;else if(!this.breakdowns||!this.breakdowns.length)return false;return true},getDescription:function k(){var l=c("CustomEventStore").getAppEventDisplayName(this.event_name),m=this.breakdowns.map(function(n){return c("AnalyticsQueryBreakdownUtils").getDisplayString(n,this.event_name)}.bind(this));return h._("{Event name of this breakdown table} por {Breakdown columns of this breakdown table}",[h.param("Event name of this breakdown table",l),h.param("Breakdown columns of this breakdown table",m.join(", "))])},getWireFormat:function k(){var l=this.name.trim();if(l==="")l=c("CustomEventStore").getAppEventDisplayName(this.event_name);return{aggregations:this.aggregations,breakdowns:this.breakdowns,description:this.description,event_name:this.event_name,name:l}}};function j(k){var l=null;if(!k)l=babelHelpers["extends"]({},i,{name:"",event_name:null,id:null,aggregations:[],breakdowns:[]});else l=babelHelpers["extends"]({},i,k);return l}f.exports=j}),null);
__d("InsightsEntityStore",["invariant","InsightsGraphAPI","InsightsGraphAPIConstants","update"],(function a(b,c,d,e,f,g,h){"use strict";var i=3e5;function j(k,l,m,n){this.$InsightsEntityStore1=k;this.$InsightsEntityStore7=l;this.$InsightsEntityStore5=m;this.$InsightsEntityStore12=n}j.prototype.newEntity=function(){this.$InsightsEntityStore2=this.$InsightsEntityStore5();return this.$InsightsEntityStore2};j.prototype.setEntityChangeCallback=function(k){this.$InsightsEntityStore9=k};j.prototype.setEntityDeletedCallback=function(k){this.$InsightsEntityStore10=k};j.prototype.setListChangeCallback=function(k){this.$InsightsEntityStore8=k};j.prototype.setGetParams=function(k){this.$InsightsEntityStore6=k};j.prototype.setEntityID=function(k){this.$InsightsEntityStore3=k;this.setEntityConfiguration(null);this.loadEntity()};j.prototype.setEntityConfiguration=function(k){this.$InsightsEntityStore2=k;if(this.$InsightsEntityStore9)this.$InsightsEntityStore9(this.$InsightsEntityStore2)};j.prototype.getEntityConfiguration=function(){return this.$InsightsEntityStore2};j.prototype.setEntityList=function(k){this.$InsightsEntityStore4=k;if(this.$InsightsEntityStore8)this.$InsightsEntityStore8(this.$InsightsEntityStore4)};j.prototype.updateEntityConfiguration=function(k){var l=c("update")(this.$InsightsEntityStore2,k);this.setEntityConfiguration(l)};j.prototype.loadEntityList=function(k){var l=function(m){this.$InsightsEntityStore11=Date.now();var n=m.data;n.forEach(function(o){o.name=o.name||this.$InsightsEntityStore12;o.name_data={id:o.id,name:o.name,isInternal:o.is_internal||false};o.description=this.$InsightsEntityStore13(o);o.time_last_updated=o.time_last_updated?new Date(o.time_last_updated*1e3):null;o.time_last_seen=o.time_last_seen?new Date(o.time_last_seen*1e3):null}.bind(this));this.setEntityList(n);if(k)k(n)}.bind(this);c("InsightsGraphAPI").appEdgeGet(this.$InsightsEntityStore1).done(l)};j.prototype.loadEntity=function(k){if(this.$InsightsEntityStore3)c("InsightsGraphAPI").objectGet(this.$InsightsEntityStore7,this.$InsightsEntityStore3,this.$InsightsEntityStore6).done(function(l){var m=this.$InsightsEntityStore5(l);if(k)k(m);this.setEntityConfiguration(m)}.bind(this));else!k||h(0)};j.prototype.saveEntity=function(k){this.$InsightsEntityStore2||h(0);c("InsightsGraphAPI").objectPost(this.$InsightsEntityStore7,this.$InsightsEntityStore3,this.$InsightsEntityStore2.getWireFormat()).done(function(l){if(k)k()})};j.prototype.createEntity=function(k,l){var m=function m(n){if(l)l(n)};c("InsightsGraphAPI").appEdgePost(this.$InsightsEntityStore1,k.getWireFormat()).done(m)};j.prototype.createInternalEntity=function(k,l){this.$InsightsEntityStore1===c("InsightsGraphAPIConstants").SEGMENT_EDGE||this.$InsightsEntityStore1===c("InsightsGraphAPIConstants").FUNNEL_EDGE||this.$InsightsEntityStore1===c("InsightsGraphAPIConstants").COHORTS_EDGE||this.$InsightsEntityStore1===c("InsightsGraphAPIConstants").BREAKDOWN_TABLE_EDGE||h(0);var m=function m(o){if(l)l(o)},n=k.getWireFormat();n.is_internal=true;c("InsightsGraphAPI").appEdgePost(this.$InsightsEntityStore1,n).done(m)};j.prototype.deleteEntity=function(k){c("InsightsGraphAPI").objectRemove(this.$InsightsEntityStore3).done(function(l){if(this.$InsightsEntityStore10)this.$InsightsEntityStore10();if(k)k(l)}.bind(this))};j.prototype.$InsightsEntityStore13=function(k){k=this.$InsightsEntityStore5(k);return k.getDescription()};f.exports=j}),null);
__d("BreakdownTableStore",["fbt","BreakdownTableModel","InsightsEntityStore","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=null;function j(){if(!i)i=new(c("InsightsEntityStore"))(c("InsightsGraphAPIConstants").BREAKDOWN_TABLE_EDGE,c("InsightsGraphAPIConstants").BREAKDOWN_TABLE_NODE,c("BreakdownTableModel"),h._("Desglose sin t\u00edtulo"));return i}f.exports=j()}),null);
__d("GriffinCardKey",[],(function a(b,c,d,e,f,g){"use strict";var h={BREAKDOWN_TABLE:{EDIT:"breakdownTableEditCard",LIST_CARD:"breakdownTableListCard",DETAILS_CARD:"breakdownTableDetailsCard"}};f.exports=h}),null);
__d("AnalyticsAdHocBreakdownController",["cx","fbt","AnalyticsNavigationUtils","BreakdownTableStore","FalcorCommonViews","AnalyticsCard","InsightsContext","InsightsEventLogger","GriffinCardKey","GriffinSections","AnalyticsAdHocBreakdownBuilder","AnalyticsAdHocBreakdownTable","GriffinSegmentSelectorToggleConditionsButton","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={updatedBreakdownTable:this.props.breakdownTable},this.$AnalyticsAdHocBreakdownController1=function(r){this.setState({updatedBreakdownTable:r});c("InsightsEventLogger").logEvent({eventName:"breakdowns_apply_click",feature_id:r.id,num_breakdowns:r.breakdowns.length,ad_hoc:true})}.bind(this),this.$AnalyticsAdHocBreakdownController2=function(r){c("InsightsEventLogger").logEvent({eventName:"breakdowns_save_click",feature_id:r.id,num_breakdowns:r.breakdowns.length,ad_hoc:true});if(!r.id){var s=function s(r){c("BreakdownTableStore").loadEntityList(function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE,r.id,c("FalcorCommonViews").DETAILS).go()})};c("BreakdownTableStore").createEntity(r,s)}else{c("BreakdownTableStore").setEntityConfiguration(r);c("BreakdownTableStore").saveEntity(function(){return c("BreakdownTableStore").loadEntityList()})}this.setState({updatedBreakdownTable:r})}.bind(this),this.$AnalyticsAdHocBreakdownController3=function(r){this.setState({updatedBreakdownTable:r});var s=function s(r){c("BreakdownTableStore").loadEntityList(function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE,r.id,c("FalcorCommonViews").DETAILS).go()})};c("InsightsEventLogger").logEvent({eventName:"breakdowns_save_as_click",feature_id:r.id,num_breakdowns:r.breakdowns.length,ad_hoc:true});c("BreakdownTableStore").createEntity(r,s);this.$AnalyticsAdHocBreakdownController1(r)}.bind(this),this.$AnalyticsAdHocBreakdownController4=function(r){this.setState({updatedBreakdownTable:r});var s=function s(r){c("BreakdownTableStore").loadEntityList(function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE,r.id,c("FalcorCommonViews").DETAILS).go()})};c("InsightsEventLogger").logEvent({eventName:"breakdowns_save_as_internal_click",feature_id:r.id,num_breakdowns:r.breakdowns.length,ad_hoc:true});c("BreakdownTableStore").createInternalEntity(r,s);this.$AnalyticsAdHocBreakdownController1(r)}.bind(this),this.$AnalyticsAdHocBreakdownController5=function(){var r=this.props.breakdownTableID;c("InsightsEventLogger").logEvent({eventName:"breakdowns_delete_click",feature_id:r,ad_hoc:true});c("BreakdownTableStore").deleteEntity(this.$AnalyticsAdHocBreakdownController6)}.bind(this),this.$AnalyticsAdHocBreakdownController6=function(){var r=this.props.breakdownTableID;c("InsightsEventLogger").logEvent({eventName:"breakdown_delete_complete",feature_id:r,ad_hoc:true});var s=function s(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE).go()};c("BreakdownTableStore").loadEntityList(s)}.bind(this),n}l.prototype.$AnalyticsAdHocBreakdownController7=function(m){var n=function n(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE).go()};c("BreakdownTableStore").loadEntityList(n)};l.prototype.$AnalyticsAdHocBreakdownController8=function(){var m=this.props,n=m.breakdownTableID,o=m.endTime,p=m.startTime,q=m.popDateRange,r=m.segmentID,s=m.updateHeaderProps,t=this.state.updatedBreakdownTable;if(n===null||t===null||t.event_name===null||t.breakdowns===null||t.breakdowns.length===0)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement("div",{className:"_605i"},c("React").createElement("div",{className:"_c_w"},i._("Crear un desglose")),c("React").createElement("div",{className:"_c_x"},i._("Aplica par\u00e1metros de desglose a cualquier evento que registres para poder ver estad\u00edsticas de usuarios en tiempo real sobre dispositivos, datos demogr\u00e1ficos y fuentes de instalaci\u00f3n, entre otros."))));return c("React").createElement(c("AnalyticsAdHocBreakdownTable"),{breakdownTableID:t.id,breakdownTable:t,cardKey:c("GriffinCardKey").BREAKDOWN_TABLE.DETAILS_CARD,endTime:o,key:c("GriffinCardKey").BREAKDOWN_TABLE.DETAILS_CARD,startTime:p,updateHeaderProps:s,popDateRange:q,segmentID:r})};l.prototype.render=function(){var m=this.props.breakdownTableID,n=this.state.updatedBreakdownTable;return c("React").createElement(c("AnalyticsCard"),{cardKey:"ad_hoc_breakdown_controller"},c("React").createElement(c("AnalyticsAdHocBreakdownBuilder"),{appID:c("InsightsContext").getObjID(),cardKey:c("GriffinCardKey").BREAKDOWN_TABLE.EDIT,breakdownTable:n,breakdownTableID:m,key:c("GriffinCardKey").BREAKDOWN_TABLE.EDIT,onApply:this.$AnalyticsAdHocBreakdownController1,onDelete:this.$AnalyticsAdHocBreakdownController5,onSave:this.$AnalyticsAdHocBreakdownController2,onSaveAs:this.$AnalyticsAdHocBreakdownController3,onSaveAsInternal:this.$AnalyticsAdHocBreakdownController4,onCancel:this.$AnalyticsAdHocBreakdownController7}),this.$AnalyticsAdHocBreakdownController8())};l.prototype.componentWillMount=function(){var m=c("React").createElement(c("GriffinSegmentSelectorToggleConditionsButton"),null),n={control:m};this.props.updateHeaderProps(n)};l.prototype.componentWillReceiveProps=function(m){var n=this.props.breakdownTableID&&!this.props.breakdownTable.id;if(n)this.setState({updatedBreakdownTable:m.breakdownTable});if(this.props.breakdownTableID&&!c("InsightsContext").isReadOnly()&&c("BreakdownTableStore").getEntityConfiguration().isValid())c("BreakdownTableStore").saveEntity()};f.exports=l}),null);
__d("AnalyticsExportUtils",["FbtResultBase"],(function a(b,c,d,e,f,g){var h={getExportValueFromCell:function i(j){if(j===undefined||j===null)return"";if(typeof j==="string")return j;if(j.props)if(j.props.data!==undefined&&j.props.data!==null)return j.props.data.toString();else if(j.props.exportValue!==undefined&&j.props.exportValue!==null)return j.props.exportValue.toString();else if(j.props.children)return j.props.children.toString();return j.toString()},escapeString:function i(j){var k=j instanceof c("FbtResultBase")?j.toString().trim():j.trim();if(k.startsWith('"')||k.endsWith('"'))return k;else return'"'+k+'"'}};f.exports=h}),null);
__d("BonsaiErrorNotice",["BonsaiText","React","XUINotice.react"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props["short"]?c("BonsaiText").errors.unavailable:this.props.message;return c("React").createElement(c("XUINotice.react"),this.props,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("FalcorDataTooltipMixin",["FalcorDataTooltip","React","ReactLayeredComponentMixin_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";var h={_timeoutRef:null,mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],renderLayers:function j(){return{funnelTooltip:c("React").createElement(i,{ref:"___falcortooltip"})}},onHideTooltip:function j(){this.refs.___falcortooltip.resetTooltip()},onHideTooltipWithDelay:function j(){clearTimeout(this._timeoutRef);this._timeoutRef=setTimeout(this.onHideTooltip,400)},onShowTooltip:function j(k,l,m,n,o,p){clearTimeout(this._timeoutRef);this.refs.___falcortooltip.setTooltip(this.refs[k],l(),m,n,o,p)}},i=c("React").createClass({displayName:"FalcorDataTooltipWrapper",getInitialState:function j(){return{contextRef:null,content:null,indicatorColor:null,position:null,offsetX:null,offsetY:null}},resetTooltip:function j(){this.setState(this.getInitialState())},setTooltip:function j(k,l,m,n,o,p){this.setState({contextRef:k,content:l,indicatorColor:m,position:n,offsetX:o,offsetY:p})},render:function j(){return c("React").createElement(c("FalcorDataTooltip"),{contextRef:function(){return this.state.contextRef}.bind(this),indicatorColor:this.state.indicatorColor,position:this.state.position,offsetX:this.state.offsetX,offsetY:this.state.offsetY,shown:this.state.contextRef!==null},this.state.content)}});f.exports=h}),null);
__d("InsightsBreakdownTableAggregationColumns",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COUNT:"count",COUNT_PERCENT:"count_percent",VALUE:"value",VALUE_PERCENT:"value_percent",VALUE_PER_EVENT:"value_per_event",UNIQUE_USERS:"unique_users",UNIQUE_USERS_PERCENT:"unique_users_percent"})}),null);
__d("AnalyticsAdHocBreakdownTable",["cx","fbt","invariant","AnalyticsAcquisitionSourceNames","AnalyticsBreakdownTableChartUtils","AnalyticsBuiltInBreakdowns","AnalyticsCard","AnalyticsExportUtils","AnalyticsGKs","AnalyticsGKNames","AnalyticsPagePostDisplayNames","AnalyticsQueryApi","AnalyticsQueryBreakdownUtils","InternalAnalyticsQueryBuilder","AnalyticsUIUtils","BonsaiApiBreakdown","BonsaiColors","BonsaiErrorNotice","Clipboard","CustomEventStore","DateTime","FalcorBreakdownsTextUtils","FalcorDataTooltip","FalcorDataTooltipMixin","FalcorErrorNotice","FalcorLoadingCard","FalcorPaginatedDataTable","FluxContainer","GriffinBreakdownSettingsButton","GriffinPinButton","GriffinSections","GriffinSegmentSelectorToggleConditionsButton","InsightsBreakdownTableAggregationColumns","InsightsContext","InsightsEventLogger","InsightsNumUtils","LightweightSegmentStore","Link.react","React","Tooltip","createObjectFrom","mapObject","naturalComparator","Timezone"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=c("React").PropTypes,l=c("Timezone").PST8PDT,m=["COUNT","SUM","USD_SUM","USERS"],n={COUNT:"count",SUM:"value",USD_SUM:"usd_value",USERS:"unique_users"},o=[c("InsightsBreakdownTableAggregationColumns").COUNT,c("InsightsBreakdownTableAggregationColumns").VALUE,c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS],p=c("React").createClass({displayName:"AnalyticsAdHocBreakdownTable",statics:{getKey:function q(){return c("GriffinSections").BREAKDOWN_TABLE},getStores:function q(){return[c("LightweightSegmentStore")]},calculateState:function q(r){var s=c("LightweightSegmentStore").getAppliedSegment();return{selectedSegment:s}}},propTypes:{breakdownTable:k.object.isRequired,breakdownTableID:k.string,endTime:k.number.isRequired,startTime:k.number.isRequired,updateHeaderProps:k.func.isRequired,popDateRange:k.object,segmentID:k.string,hideControls:k.bool,hideHeaderLine:k.bool,rowLimit:k.number,aggregationsColumns:k.arrayOf(k.string),breakdownWidthWeight:k.number,title:k.node,compactRowsAndHeader:k.bool,height:k.number,url:k.object,tooltip:k.node,filterUnknownValues:k.bool,skipEnclosingCard:k.bool},mixins:[c("FalcorDataTooltipMixin")],getInitialState:function q(){return{acquisitionSourceNameLoaded:false,aggregationsColumns:this.props.aggregationsColumns||o,apiData:null,apiErrorMessage:null,breakdownsColumns:null,isApiDataEmpty:false,isPopErrorOrEmpty:false,pagePostDisplayNamesLoaded:false,popApiData:null,queries:[],searchString:null,selectedSegment:null,uniqueUsersTotal:null,popUniqueUsersTotal:null}},componentWillMount:function q(){this._renderAdditionalHeaders();this._loadBreakdownsData(this.props,this.state)},componentWillReceiveProps:function q(r){var s=this.props,t=s.breakdownTable,u=s.breakdownTableID,v=s.endTime,w=s.startTime,x=t.event_name,y=t.breakdowns,z=t.id,A=r.breakdownTable,B=A.event_name,C=A.breakdowns,D=A.id,E=r.startTime!==w||r.endTime!==v,F=r.breakdownTableID!==u||z!==D,G=y.some(function(K,L){return K!==C[L]}),H=y.length!==C.length,I=x!==B,J=E||F||I||G||H;if(J)this._loadBreakdownsData(r,this.state)},componentWillUpdate:function q(r,s){if(this.state.selectedSegment!==s.selectedSegment)this._loadBreakdownsData(r,s)},componentWillUnmount:function q(){this._cancelQuery()},_renderAdditionalHeaders:function q(){this.props.updateHeaderProps({control:c("React").createElement(c("GriffinSegmentSelectorToggleConditionsButton"),null)})},_renderHeaderButtons:function q(r){return c("React").createElement(c("GriffinBreakdownSettingsButton"),{breakdownTableID:this.props.breakdownTableID,defaultChecked:this.state.aggregationsColumns,onAggregationsChange:this._onAggregationsChange,showEditButton:false,showSettingButton:r})},_renderBreakdownTable:function q(){var r=this.state,s=r.aggregationsColumns,t=r.breakdownsColumns,u=this._getRows();if(u.length===0)return this._getNoDataNotice();var v=this._getAggregationsColumnsConfig(s),w=this._getBreakdownsColumnsConfig(t),x=w.concat(v),y=s&&s.includes(c("InsightsBreakdownTableAggregationColumns").COUNT)?c("InsightsBreakdownTableAggregationColumns").COUNT:c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS;return c("React").createElement(c("FalcorPaginatedDataTable"),{className:"_56wn",columns:x,columnToSortBy:y,fixTableLayout:true,getExportValueFromCell:c("AnalyticsExportUtils").getExportValueFromCell,pageSize:Infinity,reverseSort:true,rows:u,searchFieldName:"key",showHeader:true,compactRowsAndHeader:this.props.compactRowsAndHeader,height:this.props.height,ref:"breakdownsTable"})},_getRows:function q(){var r,s=this,t=this.state,u=t.apiData,v=t.isPopErrorOrEmpty,w=t.popApiData,x=t.popUniqueUsersTotal,y=t.uniqueUsersTotal,z=u.totals,A=!!z.usdSumTotal,B=this._getBreakdownsRows(u,true),C=this._getAggregationsRows(u,y,A),D=null;if(!v&&w&&x)D=this._getBreakdownsToAggregationsMap(w,x,A);var E=[],F=function F(G){if(s.props.rowLimit&&E.length===s.props.rowLimit)return"break";var H={},I=null;if(D){var J=B[G].key;I=D[J]}c("mapObject")(C[G],function(O,P){var Q=c("AnalyticsBreakdownTableChartUtils").getAggregationColumnLabel(P);H[P]=this._renderAggregationsCell(Q,P,O,I?I[P]:null,P+"_"+G,A)}.bind(s));var K=B[G];if(s.props.filterUnknownValues){var L=false;for(var M in K)if(c("FalcorBreakdownsTextUtils").isBreakdownValueExplicitUnknown(K[M])||c("FalcorBreakdownsTextUtils").isBreakdownValueUnknown(K[M])){L=true;continue}if(L)return"continue"}var N=babelHelpers["extends"]({},K,H);E.push(N)};_loop2:for(var G=0;G<C.length;G++){var r=F(G);switch(r){case"break":break _loop2;case"continue":continue}}return E},_getBreakdownsToAggregationsMap:function q(r,s,t){var u=this._getBreakdownsRows(r,false),v=this._getAggregationsRows(r,s,t),w={};u.map(function(x,y){var z=x.key;w[z]=v[y]});return w},_getAggregationsRows:function q(r,s,t){var u=r.columns,v=r.totals,w=r.rows,x=u.aggregations.map(function(B){return n[B]}).toJS(),y=v.countTotal,z=v.sumTotal,A=v.usdSumTotal;if(t)z=A;return w.toJS().map(function(B){var C=B.aggregations,D=c("createObjectFrom")(x,C),E=D.count,F=D.value,G=D.usd_value,H=D.unique_users;if(t)F=G;var I=y?E/y:0,J=z?F/z:0,K=E?F/E:0,L=s?H/s:0;return{count:E,value:F,unique_users:H,count_percent:I,value_percent:J,value_per_event:K,unique_users_percent:L}})},_getBreakdownsRows:function q(r,s){var t=r.columns,u=r.rows,v=t.breakdowns.toJS(),w=u.toJS().map(function(x){var y=v.map(function(B,C){if(B===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L1||B===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L2||B===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L3){if(!this.state.acquisitionSourceNameLoaded&&s)c("AnalyticsAcquisitionSourceNames").addIDstoLoad([x.breakdowns[C]]);return x.breakdowns[C]}else if(B===c("AnalyticsQueryBreakdownUtils").getCustomParam(c("BonsaiApiBreakdown").POST)&&c("AnalyticsGKs").get(c("AnalyticsGKNames").SHOW_POST_URLS_IN_BREAKDOWN)){if(!this.state.pagePostDisplayNamesLoaded&&s)c("AnalyticsPagePostDisplayNames").addIDstoLoad([x.breakdowns[C]]);return x.breakdowns[C]}return c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(B,x.breakdowns[C],this.props.breakdownTable.event_name)}.bind(this)),z=c("createObjectFrom")(v,y),A=babelHelpers["extends"]({},z,{key:y.join(" ")});return A}.bind(this));if(!this.state.acquisitionSourceNameLoaded&&s)c("AnalyticsAcquisitionSourceNames").loadNames(function(){this.setState({acquisitionSourceNameLoaded:true})}.bind(this));if(!this.state.pagePostDisplayNamesLoaded&&s&&c("AnalyticsGKs").get(c("AnalyticsGKNames").SHOW_POST_URLS_IN_BREAKDOWN))c("AnalyticsPagePostDisplayNames").loadDisplayNames(function(){this.setState({pagePostDisplayNamesLoaded:true})}.bind(this));return w},_renderAggregationsCell:function q(r,s,t,u,v,w){var x=null;if(u)x=c("AnalyticsUIUtils").calculatePercentageChange(t,u);var y="";if(x)if(x.value>0)y=c("BonsaiColors").ANALYTICS_GREEN;else if(x.value<0)y=c("BonsaiColors").ANALYTICS_RED;var z="";switch(s){case"count":case"unique_users":z=c("InsightsNumUtils").prettyInt(t);break;case"value":z=w?c("InsightsNumUtils").prettyCurrency("USD",t):c("InsightsNumUtils").prettyFloat(Math.round(t*100)/100);break;case"count_percent":case"value_percent":case"unique_users_percent":z=c("InsightsNumUtils").prettyPercent(t,1);break;case"value_per_event":z=w?c("InsightsNumUtils").prettyCurrency("USD",t):c("InsightsNumUtils").prettyFloat(Math.round(t*100)/100);break}var A=10,B=x?-20:-12;return c("React").createElement("span",{data:t,onMouseOver:function(){return this.onShowTooltip(v,function(){return c("FalcorDataTooltip").getBreakdownTableTooltip(r,z,x,this.props.startTime,this.props.endTime)}.bind(this),y,"right",A,B)}.bind(this),onMouseOut:this.onHideTooltipWithDelay,ref:v,tabIndex:0},z)},render:function q(){var r=this.state,s=r.apiData,t=r.apiErrorMessage,u=r.isApiDataEmpty,v=r.uniqueUsersTotal,w=this.props.breakdownTable.event_name,x=c("CustomEventStore").getAppEventDisplayName(w),y=this.props.title?this.props.title:i._("{Event name of breakdown table object}",[i.param("Event name of breakdown table object",x)]),z={key:"BreakdownsListView",title:x},A=c("React").createElement(c("GriffinPinButton"),{chartKey:"breakdown",key:"pin"});if(t){var B=c("React").createElement(c("FalcorErrorNotice"),{message:i._("{Error message}",[i.param("Error message",t)])},i._("Vuelve a intentarlo m\u00e1s tarde o {Label for report bug hyperlink}",[i.param("Label for report bug hyperlink",c("React").createElement(c("Link.react"),{href:"https://developers.facebook.com/bugs/",target:"_blank"},"report a bug."))]));return this.props.skipEnclosingCard?B:c("React").createElement(c("AnalyticsCard"),null," ",B," ")}else if(u)return this.props.skipEnclosingCard?this._getNoDataNotice():c("React").createElement(c("AnalyticsCard"),{buttons:this.props.hideControls?null:this._renderHeaderButtons(false),cardKey:"breakdown_card",helpText:this.props.hideControls?null:z,key:"breakdown_card",pinButton:this.props.hideControls?null:A,title:y,compactHeader:this.props.compactRowsAndHeader,url:this.props.url},c("React").createElement(c("FalcorErrorNotice"),{message:i._("Sin datos")},i._("No hay datos para mostrar para este desglose. Para incluir m\u00e1s informaci\u00f3n, prueba a editar el intervalo de fechas, las condiciones del segmento o los tipos de desgloses.")));else if(s===null||v===null){var C=c("React").createElement(c("FalcorLoadingCard"),{text:i._("Cargando tabla"),showCard:false});return this.props.skipEnclosingCard?C:c("React").createElement(c("AnalyticsCard"),{"data-testid":"loading"},C)}var D=this._renderBreakdownTable();return this.props.skipEnclosingCard?D:c("React").createElement(c("AnalyticsCard"),{buttons:this.props.hideControls?null:this._renderHeaderButtons(true),cardKey:"breakdown_card",getExportData:this.props.hideControls?null:this._getExportData,helpText:this.props.hideControls?null:z,key:"breakdown_card",onSearchChange:this.props.hideControls?null:this._onSearchChange,pinButton:this.props.hideControls?null:A,searchString:this.props.hideControls?null:this.state.searchString,title:y,tooltip:this.props.tooltip,compactHeader:this.props.compactRowsAndHeader,url:this.props.url,showLine:!this.props.hideHeaderLine},D)},_getNoDataNotice:function q(){var r=i._("No hay suficientes datos para mostrar para el intervalo de fechas o segmento");return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:r})},_onApplySegment:function q(r){this.setState({selectedSegment:r},function(){return this._loadBreakdownsData(this.props,this.state)}.bind(this))},_onAggregationsChange:function q(r){c("InsightsEventLogger").logEvent({eventName:"breakdown_table_aggregations_select",event:this.props.breakdownTable.event_name,feature_id:this.props.breakdownTable.id,aggregations:r});this.setState({aggregationsColumns:r})},_onSearchChange:function q(r){var s=r;if(r&&r.target)s=r.target.value;this.setState({searchString:s});this.refs.breakdownsTable.onSearchChange(s)},_getAggregationsColumnsConfig:function q(r){return r.map(function(s){return c("AnalyticsBreakdownTableChartUtils").getAggregationColumnConfig(s)})},_getBreakdownsColumnsConfig:function q(r){return r.map(function(s){return c("AnalyticsBreakdownTableChartUtils").getBreakdownColumnConfig(s,this.props.breakdownTable.event_name,this.props.breakdownWidthWeight)}.bind(this))},_getReferralUrlLink:function q(r){if(c("FalcorBreakdownsTextUtils").isBreakdownValueExplicitUnknown(r))return c("React").createElement("span",null,c("FalcorBreakdownsTextUtils").UNKNOWN_REFERRAL_URL_STRING);return c("React").createElement(c("Link.react"),babelHelpers["extends"]({href:"#",title:"Click to copy URL to clipboard",onClick:function s(){return c("Clipboard").copy(r)}},c("Tooltip").propsFor(r)),r)},_getExportData:function q(){return{data:this.refs.breakdownsTable.getExportData(),fileName:this._getExportFileName()}},_getExportFileName:function q(){return[this.props.breakdownTable.name,c("DateTime").fromLegacyArgs(this.props.startTime*1e3,l).format("Y-m-d"),c("DateTime").fromLegacyArgs(this.props.endTime*1e3,l).format("Y-m-d")].join("_")},_cancelQuery:function q(){var r=this.state.queries;r.forEach(function(s){return s.cancelQuery()})},_loadBreakdownsData:function q(r,s){var t=s.aggregationsColumns,u=s.selectedSegment,v=r.breakdownTable,w=r.startTime,x=r.endTime,y=r.popDateRange;this._cancelQuery();if(!v)return;var z=v.breakdowns,A=v.event_name,B=t?t:o,C=[],D=u?{event_rules:u.event_rules,event_info_rules:u.event_info_rules,user_property_rules:u.user_property_rules,percentile_rules:u.percentile_rules,web_param_rules:u.web_param_rules}:null,E=c("InsightsContext").getObjID(),F=this.props.rowLimit;if(F&&F!==undefined&&this.props.filterUnknownValues)F++;var G=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(E).setEventName(A).setBreakdowns(z).setAggregations(m).setIntervalsToAggregate(0).setFilters(D).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").setLimit(F).setOnSuccess(function(K){var L=K.getDatapointsRollupResult();if(!L)this.setState({isApiDataEmpty:true});this.setState({apiData:L})}.bind(this)).setOnError(function(K){this.setState({apiErrorMessage:K.getMessage()})}.bind(this)).setSince(w).setUntil(x).setTag("breakdown_"+(this.props.breakdownTable.name||A)).getQuery();C.push(G);var H=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(E).setEventName(A).setAggregations(["USERS"]).setIntervalsToAggregate(0).setFilters(D).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").setOnSuccess(function(K){var L=K.getUniquesTotalDangerously();if(!L)this.setState({isApiDataEmpty:true});this.setState({uniqueUsersTotal:L})}.bind(this)).setOnError(function(K){this.setState({apiErrorMessage:K.getMessage()})}.bind(this)).setSince(w).setUntil(x).setTag("breakdown_unique_"+(this.props.breakdownTable.name||A)).getQuery();C.push(H);var I=null,J=null;if(y){I=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(E).setEventName(A).setBreakdowns(z).setAggregations(m).setIntervalsToAggregate(0).setFilters(D).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").setOnSuccess(function(K){var L=K.getDatapointsRollupResult();if(!L)this.setState({isPopErrorOrEmpty:true});this.setState({popApiData:L})}.bind(this)).setOnError(function(K){this.setState({isPopErrorOrEmpty:true})}.bind(this)).setDateRangeUTC(y).setTag("breakdown_pop_"+(this.props.breakdownTable.name||A)).getQuery();C.push(I);J=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(E).setEventName(A).setAggregations(["USERS"]).setIntervalsToAggregate(0).setFilters(D).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").setOnSuccess(function(K){var L=K.getUniquesTotalDangerously();if(!L)this.setState({isPopErrorOrEmpty:true});this.setState({popUniqueUsersTotal:L})}.bind(this)).setOnError(function(K){this.setState({isPopErrorOrEmpty:true})}.bind(this)).setDateRangeUTC(y).setTag("breakdown_pop_unique_"+(this.props.breakdownTable.name||A)).getQuery();C.push(J)}c("AnalyticsQueryApi").queryAppEventData(C);c("InsightsEventLogger").logCardViewWithDateRange("breakdown_table_data",{since:new Date(w*1e3),until:new Date(x*1e3)},{event:A,feature_id:v.id,feature_name:v.name,breakdown1:z[0],breakdown2:z[1],breakdown3:z[2]});this.setState({apiData:null,apiErrorMessage:null,acquisitionSourceNameLoaded:false,aggregationsColumns:B,breakdownsColumns:z,isPopErrorOrEmpty:!y,isApiDataEmpty:false,pagePostDisplayNamesLoaded:false,popApiData:null,popUniqueUsersTotal:null,queries:C,uniqueUsersTotal:null})}});f.exports=c("FluxContainer").create(p)}),null);
__d("AnalyticsAdHocBreakdownTableContainer",["AnalyticsAdHocBreakdownTable","AnalyticsDateUtils","AnalyticsNavigationUtils","BreakdownTableStore","emptyFunction","FalcorCommonViews","GriffinSections","InsightsBreakdownTableAggregationColumns","LightweightSegmentStore","GriffinCardKey","React","GriffinOverviewCard"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.render=function(){var k=c("BreakdownTableStore").newEntity();k.event_name=this.props.eventName;k.breakdowns=[this.props.breakdown];var l=c("AnalyticsDateUtils").getTimePST_DO_NOT_USE(this.props.visibleDateRange.since),m=c("AnalyticsDateUtils").getTimePST_DO_NOT_USE(this.props.visibleDateRange.until),n=c("LightweightSegmentStore").getActiveSegmentID(),o=c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").BREAKDOWN_TABLE,{event_name:this.props.eventName,breakdown:this.props.breakdown,view:c("FalcorCommonViews").CREATE});return c("React").createElement(c("GriffinOverviewCard"),babelHelpers["extends"]({},this.props,{url:o}),c("React").createElement(c("AnalyticsAdHocBreakdownTable"),{breakdownTableID:this.props.breakdown,breakdownTable:k,cardKey:c("GriffinCardKey").BREAKDOWN_TABLE.DETAILS_CARD,endTime:m,startTime:l,segmentID:n?n:undefined,updateHeaderProps:c("emptyFunction"),hideControls:true,hideHeaderLine:true,rowLimit:5,compactRowsAndHeader:true,height:154,aggregationsColumns:[c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS],breakdownWidthWeight:3,title:this.props.title,tooltip:this.props.tooltip,url:o,filterUnknownValues:true,skipEnclosingCard:true}))};f.exports=j}),null);
__d("GriffinCustomEventsCountTrendsCard",["AppCustomEventType","AnalyticsQueryMetric","BonsaiApiBreakdown","GriffinCustomEventsTrendsCard","GriffinSections","InsightsContext","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=[c("AnalyticsQueryMetric").COUNT,c("AnalyticsQueryMetric").UNIQUE_USERS,c("AnalyticsQueryMetric").STICKINESS,c("AnalyticsQueryMetric").COUNT_PER_USER,c("AnalyticsQueryMetric").MAU_WAU_DAU];h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.$GriffinCustomEventsCountTrendsCard1=function(){var l=c("InsightsContext").getActiveCardName()==="trends"&&c("InsightsContext").getActiveTabName();if(l)return l;if(c("InsightsContext").getActiveSectionName()===c("GriffinSections").ACTIVE_USERS)return c("AnalyticsQueryMetric").UNIQUE_USERS;return this.props.eventName===c("AppCustomEventType").FB_MOBILE_INSTALL?c("AnalyticsQueryMetric").COUNT:c("AnalyticsQueryMetric").UNIQUE_USERS};k.prototype.$GriffinCustomEventsCountTrendsCard2=function(){return c("InsightsContext").getActiveCardName()==="trends"&&c("InsightsContext").getActiveBreakdownName()?c("InsightsContext").getActiveBreakdownName():c("BonsaiApiBreakdown").NONE};k.prototype.$GriffinCustomEventsCountTrendsCard3=function(){if(this.props.eventName===c("AppCustomEventType").FB_MOBILE_INSTALL)return[c("AnalyticsQueryMetric").COUNT];return j};k.prototype.render=function(){return c("React").createElement(c("GriffinCustomEventsTrendsCard"),{activeBreakdown:this.$GriffinCustomEventsCountTrendsCard2(),activeSection:this.$GriffinCustomEventsCountTrendsCard1(),allSections:this.$GriffinCustomEventsCountTrendsCard3(),cardKey:"TRENDS",comparisonSegment:this.props.comparisonSegment,eventName:this.props.eventName,isComparing:this.props.isComparing,sectionKey:this.props.sectionKey,segment:this.props.segment,visibleDateRange:this.props.visibleDateRange})};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsDashboardQueryUtils",["AnalyticsSegmentUtils","AnalyticsDateRangeStore","DateTime","RelayModern","AnalyticsDateUtils","Timezone","idx","AnalyticsDashboardQueryUtilsQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").graphql,i=c("AnalyticsDateUtils").DateRangeTypes,j=c("Timezone").UTC,k=function k(){return c("AnalyticsDashboardQueryUtilsQuery.graphql")},l={DashboardListQuery:k,getChartQueryConfigs:function m(n,o,p,q,r,s){var t,u=s?c("AnalyticsSegmentUtils").toSegment(s):c("AnalyticsSegmentUtils").ALL_USERS,v=s&&s.id?String(s.id):null,w=c("AnalyticsDateRangeStore").getDateRangeType(),x=w===i.DATE_RANGE?c("DateTime").fromDate(p.since,j):null,y=w===i.DATE_RANGE?c("DateTime").fromDate(p.until,j):null;return[{aggregation_period:n,breakdowns:o,date_range:{type:w,since:x,until:y},event_name:q,ordering_columns:[],ordering_type:"DESCENDING",limit:0,metric:r,segment:{id:v,name:(t=s)!=null?t.name:t,rules:u}}]}};f.exports=l}),null);
__d("GriffinCustomEventsDemoCard",["fbt","invariant","AnalyticsQueryAggregationMethod","AnalyticsBuiltInBreakdowns","AnalyticsCandelaUtils","AnalyticsCard","AnalyticsChartType","AnalyticsDashboardQueryUtils","AnalyticsDateUtils","AnalyticsGKs","AnalyticsGKNames","AnalyticsPredefinedBreakdownValues","AnalyticsQEUniverses","AnalyticsQEUtils","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","BonsaiContextualHelp","BUIInsightsHoverCardChart.react","CustomEventStore","FalcorErrorNotice","FalcorLoadingCard","GriffinChartContainer","GriffinDashboardAggregationChartPinModal.react","GriffinPinButton","GriffinSections","GriffinSegmentUtils","InsightsContext","InsightsEventLogger","InsightsNumUtils","React","BUIInsightsVerticalBarChart.react","formatDate","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i){var j=c("CandelaGroupScaleBuilder").group,k=h._("Edad y sexo"),l=[c("AnalyticsBuiltInBreakdowns").AGE,c("AnalyticsBuiltInBreakdowns").GENDER],m=c("AnalyticsBuiltInBreakdowns").AGE,n="CustomEventsUsersDemo",o=c("React").createClass({displayName:"GriffinCustomEventsDemoCard",mixins:[c("AnalyticsQueryDataFetcherMixin")],getInitialState:function p(){return{queryResult:null,error:null,comparisonQueryResult:null,showPinModal:false}},componentWillReceiveProps:function p(q){var r=babelHelpers["extends"]({},this.props,{eventName:this.props.event.name}),s=babelHelpers["extends"]({},q,{eventName:q.event.name});if(this._shouldFetchData(r,s)){this.setState({queryResult:null,error:null,comparisonQueryResult:null});this._fetchData(q)}},componentDidMount:function p(){c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{event:this.props.event.name})},componentDidUpdate:function p(q,r){if(this.props.event.name!=q.event.name||!c("AnalyticsDateUtils").isDateRangeSame(q.visibleDateRange,this.props.visibleDateRange))c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{event:this.props.event.name})},_getQuery:function p(q,r,s,t){var u=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q.event.name).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns(l).setFilters(c("GriffinSegmentUtils").getFilters(r)).setIntervalsToAggregate(0).setSince(c("AnalyticsDateUtils").getTimestampForQueryAPI(s.since)).setUntil(c("AnalyticsDateUtils").getTimestampForQueryAPI(s.until)).setTag(q.event.name);return{query:u,onQueryData:function(v){var w;return this.setState((w={},w[t]=v,w))}.bind(this),onQueryError:function(v){return this.setState({error:v})}.bind(this)}},_getQueries:function p(q){var r=[this._getQuery(q,q.segment,q.visibleDateRange,"queryResult")];if(q.isComparing)r.push(this._getQuery(q,q.comparisonSegment,q.visibleDateRange,"comparisonQueryResult"));return r},_getSchema:function p(){var event=this.props.event,q=this.state,r=q.queryResult,s=q.comparisonQueryResult;!this._isLoading()||i(0);var t={aggregations:[c("AnalyticsQueryAggregationMethod").USERS],label:"People"},u=c("AnalyticsCandelaUtils").BarChart.getSchemaFromResult(r,l[0],l[1],event.name,t),v=s?c("AnalyticsCandelaUtils").Comparisons.getComparisonSchema(c("AnalyticsCandelaUtils").BarChart.getSchemaFromResult(s,l[0],l[1],event.name,t)):null;return babelHelpers["extends"]({},u,v)},_getData:function p(){var q=this.state,r=q.queryResult,s=q.comparisonQueryResult;!this._isLoading()&&r||i(0);var t=c("AnalyticsCandelaUtils").BarChart.getDataFromResult(r,{aggregations:[c("AnalyticsQueryAggregationMethod").USERS],label:"People"},l[0],l[1]);if(!s)return t.sort(function(v,w){return String(v[m]).localeCompare(String(w[m]))});var u=c("AnalyticsCandelaUtils").Comparisons.getComparisonData(c("AnalyticsCandelaUtils").BarChart.getDataFromResult(s,{aggregations:[c("AnalyticsQueryAggregationMethod").USERS]},l[0],l[1]),m);return c("AnalyticsCandelaUtils").Generic.mergeData(m,t,u).sort(function(v,w){return String(v[m]).localeCompare(String(w[m]))})},_getPlotX:function p(){return j(m)},_getYSeriesNames:function p(){return Object.keys(c("AnalyticsPredefinedBreakdownValues").gender)},_getComparisonYSeriesNames:function p(){return this._getYSeriesNames().map(c("AnalyticsCandelaUtils").Comparisons.getComparisonKey)},_getPlotY:function p(q){var r=this.props.isComparing,s=this._getYSeriesNames(),t=this._getComparisonYSeriesNames(),u=[j.apply(null,s)];if(r)u.push(j.apply(null,t));return u.map(function(v){return v.from(0).to(q||0).extendInput(0,.5).niceStepOnly()})},_renderChart:function p(){var q=this.props.isComparing,r=this.props.segment,s=this.props.comparisonSegment;!this._isLoading()||i(0);var t=this._getSchema(),u=this._getData(),v=this._getPlotX(),w=this._getYSeriesNames(),x=this._getComparisonYSeriesNames(),y=c("AnalyticsCandelaUtils").BarChart.getRangeMax(u,w.concat(x)),z=this._getPlotY(y),A=q?c("AnalyticsCandelaUtils").Comparisons.getLegendLabelForStandardSegment(r):null,B=q?c("AnalyticsCandelaUtils").Comparisons.getLegendLabelForComparisonSegment(s):null,C=c("AnalyticsCandelaUtils").BarChart.getTitleElementFactory(m),D=function(F,G){var H=this._getTotalUserCount();return c("InsightsNumUtils").prettyPercentQuotient({numerator:F,denominator:H,precision:0})}.bind(this),E=function E(){return D};return c("React").createElement(c("GriffinChartContainer"),{chartKey:"events_demo",comparisonLegendLabel:B,dependentScaleName:"plotY",legendLabel:A},c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(t),titleElementGetter:C},c("React").createElement(c("BUIInsightsVerticalBarChart.react"),{barLabelFormatterFactory:E,data:u,schema:t,height:300,plotX:v,plotY:z,ref:"chart"})))},_getTotalUserCount:function p(){var q=this.state,r=q.comparisonQueryResult,s=q.queryResult,t=r?this._getTotalUserCountFromQueryResult(r):0,u=s?this._getTotalUserCountFromQueryResult(s):0;return this.props.isComparing?t+u:u},_getTotalUserCountFromQueryResult:function p(q){return Object.keys(c("AnalyticsPredefinedBreakdownValues").gender).map(function(r){return q.getTotalForBreakdownValue(c("AnalyticsBuiltInBreakdowns").GENDER,r)}).reduce(function(r,s){return r+s})},_onExportClick:function p(){var q=this.props,r=q.isComparing,s=q.visibleDateRange,t=this.props.segment,u=this.props.comparisonSegment,v=this._getData(),w=this._getSchema(),x=this._getPlotX(),y=this._getPlotY(),z=r?c("AnalyticsCandelaUtils").Comparisons.getExportLabelForStandardSegment(t):null,A=r?c("AnalyticsCandelaUtils").Comparisons.getExportLabelForComparisonSegment(u):null,B=c("AnalyticsCandelaUtils").BarChart.getCSVData(v,w,x,y,z,A),C=this.props.event.display_name,D=s.since,E=s.until,F="M d, Y",G=c("AnalyticsCandelaUtils").Export.sanitizeFileName(h._("{event display name, like 'App Launches'} por edad y sexo - {start of date range, like 5\/25\/17} - {end of date range, like 6\/25\/17}",[h.param("event display name, like 'App Launches'",C),h.param("start of date range, like 5/25/17",c("formatDate")(D,F,{utc:true})),h.param("end of date range, like 6/25/17",c("formatDate")(E,F,{utc:true}))]));return{data:B,fileName:G}},_isLoading:function p(){var q=this.props.isComparing,r=this.state,s=r.queryResult,t=r.comparisonQueryResult;return Boolean(!s||q&&!t)},_showPinModal:function p(){this.setState({showPinModal:true})},_closePinModal:function p(){this.setState({showPinModal:false})},_getPinChartQueryConfigs:function p(){var q=this.props,event=q.event,r=q.segment,s=q.visibleDateRange;return c("AnalyticsDashboardQueryUtils").getChartQueryConfigs("RANGE",l,s,event.name,"UNIQUE_USERS",r)},_shouldUseNewTooltipDesign:function p(){return this.props.sectionKey===c("GriffinSections").ACTIVE_USERS&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_CONTEXTUAL_TOOLTIPS)},_renderHelpText:function p(){return this._shouldUseNewTooltipDesign()?null:{key:n,title:k}},_renderTooltip:function p(){return this._shouldUseNewTooltipDesign()?c("React").createElement(c("BonsaiContextualHelp"),{helpKey:n}):null},render:function p(){var q=this.state.error;if(q)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:q.getMessage()}));else if(this._isLoading())return c("React").createElement(c("FalcorLoadingCard"),null);var r=!c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_BAR_CHART),s=c("React").createElement(c("GriffinPinButton"),{chartKey:"event_demo",disabled:r,key:"pin",onClick:this._showPinModal}),t=c("CustomEventStore").getAppEventDisplayName(this.props.event.name),u=this.state.showPinModal?c("React").createElement(c("GriffinDashboardAggregationChartPinModal.react"),{chartType:c("AnalyticsChartType").BAR_CHART,placeholderChartName:t,onClose:this._closePinModal,queryConfigs:this._getPinChartQueryConfigs()}):null;return c("React").createElement(c("AnalyticsCard"),{cardKey:this.props.cardKey,title:k,helpText:this._renderHelpText(),getExportData:this._onExportClick,pinButton:s,tooltip:this._renderTooltip()},this._renderChart(),u)}});f.exports=o}),null);
__d("AppEventsSegmentShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({ruleType:h.string,parameter_name:h.string.isRequired,operator:h.string.isRequired,values:h.arrayOf(h.string).isRequired}),j=h.shape({name:h.string,negate_rule:h.bool,event_rule:h.shape({application:h.string,event_name:h.string.isRequired,parameters:h.arrayOf(i).isRequired,cumulative_rule:h.shape({metric:h.string.isRequired,period:h.string,technique:h.shape({technique_name:h.string.isRequired,lower_bound:h.number,upper_bound:h.number})})}).isRequired}),k=h.shape({event_rules:h.arrayOf(j),event_info_rules:h.arrayOf(i),user_property_rules:h.arrayOf(i),percentile_rules:h.arrayOf(j),web_param_rules:h.arrayOf(i)});f.exports=k}),null);
__d("BonsaiLayerModalMixin",["cx","LayerPage.react","LayerPageContent.react","React","ReactLayeredComponentMixin_DEPRECATED","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){var i=babelHelpers["extends"]({},c("ReactLayeredComponentMixin_DEPRECATED"),{getInitialState:function j(){return{showModal:false}},onToggleModal:function j(k){if(!k&&this.state.showModal)this.setState({showModal:false})},onCloseButtonClick:function j(){this.onToggleModal(false)},renderLayers:function j(){if(!this.state.showModal)return null;if(this._renderLayersHook)return this._renderLayersHook();var k=this.getModalObject();return{modal:c("React").createElement(c("LayerPage.react"),{layerRootClass:"_5ue4",onToggle:this.onToggleModal,shown:true},c("React").createElement(c("LayerPageContent.react"),{useCustomPadding:true},c("React").createElement("div",{className:"_5ue5"},c("React").createElement(c("XUICloseButton.react"),{className:"_5ue6",onClick:this.onCloseButtonClick}),k.title),k.content))}}});f.exports=i}),null);
__d("BonsaiStyle",["SpectrumStyle","BonsaiColors"],(function a(b,c,d,e,f,g){var h={CAMPAIGNS_EVENTS_PAGE_LENGTH:15,CUSTOM_EVENTS_PAGE_LENGTH:15,MINICHART_HEIGHT:160,MINICHART_WIDTH:292,CHART_HEIGHT:300,CHART_WIDTH:900,DEMO_WIDTH:750,FALCOR_WIDTH:740,BREAKDOWN_WIDTH:750,BREAKDOWN_DEMO_WIDTH:600,TABLE_TOP_ROWS:10,TABLE_TOP_ROWS_ONE_WEEK:7,SPARKLINES_WIDTH:60,SPARKLINES_HEIGHT:40,TIME_SELECTOR_HEIGHT:65,TIME_SELECTOR_WIDTH:760,COLORS:c("BonsaiColors"),API_EXAMPLE_DIALOG_WIDTH:600,CHART_THEME:{lines:{colors:c("BonsaiColors").LINE_COLORS},areas:{colors:c("BonsaiColors").AREA_COLORS},columns:{colors:c("BonsaiColors").COLUMN_COLORS}},OVERVIEW_CHART_THEME:{columns:{colors:c("BonsaiColors").OVERVIEW_DEMO_COLORS,borderRadius:0,labelColors:[c("BonsaiColors").ANALYTICS_GRAY],sideBySideMargin:0},xAxis:{labelColor:c("BonsaiColors").ANALYTICS_GRAY,fontSize:c("SpectrumStyle").FONT_SIZE_SMALL}},DEMO_COLORS:{female:c("BonsaiColors").BUTTERFLY_COLORS[0],male:c("BonsaiColors").BUTTERFLY_COLORS[1],other:c("BonsaiColors").BUTTERFLY_COLORS[2]},TREND_CHART_THEME:{areas:{colors:[c("SpectrumStyle").PINK,c("SpectrumStyle").LIGHT_BLUE]},lines:{colors:[c("SpectrumStyle").DARK_BLUE]}}};f.exports=h}),null);
__d("SpectrumFloatScale",["NumberFormatConfig","SpectrumBaseNumberScale","intlNumUtils"],(function a(b,c,d,e,f,g){function h(j,k){j.tickFormat=function(){return j.tooltipFormat()},j.tooltipFormat=function(){return function(m){return c("intlNumUtils").getFloatString(m.toPrecision(k),c("NumberFormatConfig").numberDelimiter,c("NumberFormatConfig").decimalSeparator)}};var l=j.copy;j.copy=function(){return h(l(),k)};return j}var i=function i(j){j=j===undefined?2:j;return h(c("SpectrumBaseNumberScale")(j),j)};f.exports=i}),null);
__d("BonsaiSparkLinesChart",["cx","fbt","BonsaiApiError","BonsaiLayerModalMixin","BonsaiColors","BonsaiStyle","SpectrumChart","SpectrumCurrencyScale","SpectrumFloatScale","Grid.react","InsightsLegend_DEPRECATED.react","InsightsLegendAreaKey.react","InsightsTimeUtils","SpectrumIntegerScale","SpectrumLines","React","SpectrumStyle","SpectrumTimeScale","SpectrumTooltipMenu","SpectrumXAxis","SpectrumYAxis","formatDate","mapObject","d3/time/day","d3/core/max","d3/core/min"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes;function k(o){o.tickFormat=function(){return function(q){return c("formatDate")(q,"m/d",{utc:true})}};var p=o.copy;o.copy=function(){return l(p())};return o}function l(o){o.tickFormatMaxLength=41;var p=o.copy;o.copy=function(){return l(p())};return o}function m(o){o.tickFormatMaxLength=46;var p=o.copy;o.copy=function(){return m(p())};return o}var n=c("React").createClass({displayName:"BonsaiSparkLinesChart",mixins:[c("BonsaiLayerModalMixin")],propTypes:{configs:j.array,height:j.number,width:j.number,showXAxis:j.bool,showYAxis:j.bool,showAxisLines:j.bool,valueType:j.oneOf(["USD","seconds"]),showTooltips:j.bool,"float":j.bool},getDefaultProps:function o(){return{configs:[],showTooltips:false}},componentWillReceiveProps:function o(p){this.setState(this._getStateFromProps(p))},_getStateFromProps:function o(p){var q=[];p.configs.forEach(function(r){if(r.data instanceof c("BonsaiApiError"))return;var s=r.series||r.data.getTimeSeries();if(s.length<2)return;var t={color:r.color,series:s,legendValue:r.legendValue};q.push(t)},this);return{metrics:q}},getInitialState:function o(){return this._getStateFromProps(this.props)},range:{max:-Infinity,min:Infinity},render:function o(){var p={lines:[]},q={gutter:{bottom:5,top:12},lines:{colors:[],markers:false},xAxis:{fontSize:c("SpectrumStyle").FONT_SIZE_SMALL,labelColor:c("BonsaiColors").ANALYTICS_GRAY,tickPadding:6},yAxis:{fontSize:c("SpectrumStyle").FONT_SIZE_SMALL,labelColor:c("BonsaiColors").ANALYTICS_GRAY,tickPadding:20}};if(!this.props.showAxisLines)q.yAxis.lineColor=null;if(!this.state.metrics.length)return c("React").createElement("div",null);var r=[];for(var s=0;s<this.state.metrics.length;s++){p.lines[s]=this.state.metrics[s].series;q.lines.colors[s]=this.state.metrics[s].color;if(this.state.metrics[s].legendValue)r[s]=this.state.metrics[s].legendValue}this.series=p;var t=0,u=c("mapObject")(p,function(E,F){if(!E.length)return null;E.forEach(function(G){t=Math.max(t,G.length)});this.range.max=c("d3/core/max")(E,function(G){return c("d3/core/max")(G,function(H){return c("d3/time/day").utc.offset(H[0],1)})});this.range.min=c("d3/core/min")(E,function(G){return c("d3/core/min")(G,function(H){return H[0]})});return this._getChart(E)},this),v=new Date(this.range.min),w=new Date(this.range.max),x=c("SpectrumTimeScale")().domain([v,w]).clamp(true).interval(c("SpectrumTimeScale").Intervals.Day),y=this.props["float"]?c("SpectrumFloatScale")(2):c("SpectrumIntegerScale")(),z=null;if(this.props.showXAxis){z=c("React").createElement(c("SpectrumXAxis"),{ticks:3,disableLines:!this.props.showAxisLines});x=k(x)}var A=null;if(this.props.showYAxis){A=c("React").createElement(c("SpectrumYAxis"),null);if(this.props.valueType==="USD")y=m(c("SpectrumCurrencyScale")("USD"));else if(this.props.valueType==="seconds")y=c("InsightsTimeUtils").ySecondsScale(y);else y=l(y)}var B=null,C=r.length>1;if(C)B=c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{className:"_2piv",layout:c("InsightsLegend_DEPRECATED.react").layout.STACKED},r.map(function(E,F){return c("React").createElement(c("InsightsLegendAreaKey.react"),{className:"_2pip",color:q.lines.colors[F],key:"legend_"+F},c("React").createElement("span",{className:"_5qvg"},E))}));var D=this.props.showTooltips?c("React").createElement(c("SpectrumTooltipMenu"),{actionContent:i._("Haz clic para ver m\u00e1s detalles.")}):null;return c("React").createElement(c("Grid.react"),{className:this.props.className,cols:C?2:1},c("React").createElement(c("SpectrumChart"),{height:this.props.height||c("BonsaiStyle").SPARKLINES_HEIGHT,scaleX:x,scaleY:y,theme:q,width:this.props.width||c("BonsaiStyle").SPARKLINES_WIDTH},u.lines,z,A,D),B)},_getChart:function o(p){var q=c("React").createElement(c("SpectrumLines"),{data:p,ignoreMouseEvents:!this.props.showTooltips,theme:{lines:{markers:false}},valueX:function r(s,t){return s[0]},valueY:function r(s,t){return s[1]}});return q}});f.exports=n}),null);
__d("GriffinCustomEventsMauWauDauCard",["cx","invariant","AnalyticsCard","AnalyticsDateUtils","AnalyticsQueryAggregationMethod","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppEventsSegmentShape","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiErrorNotice","BonsaiSparkLinesChart","CandelaStyleSheet","FalcorLoadingAndErrorChart","FalcorLoadingCard","GriffinEmptyStateCard","InsightsContext","InsightsEventLogger","InsightsUtils","React","AppEventQueryAggregationPeriod","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("CandelaStyleSheet").fromJS({'gridline[orientation="horizontal"]':{visibility:"hidden"}}),l=c("React").createClass({displayName:"GriffinCustomEventsMauWauDauCard",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:babelHelpers["extends"]({},c("BonsaiSparkLinesChart").propTypes,{eventName:j.string.isRequired,visibleDateRange:j.object.isRequired,url:j.instanceOf(c("URI")).isRequired,widgetKey:j.string.isRequired,legendValues:j.arrayOf(j.node),showLine:j.bool,unitLabel:j.node,showEmptyStateIfNoData:j.bool,filters:c("AppEventsSegmentShape"),title:j.string.isRequired,sessionLoggerID:j.string}),getInitialState:function m(){return{queryData:null,queryError:null,isHovered:false,componentLoggerID:null,hasData:null}},componentWillMount:function m(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function m(n){if(this._shouldFetchData(this.props,n)){this.setState(this.getInitialState());this._fetchData(n)}if(n.sessionLoggerID&&n.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(n.sessionLoggerID,n.widgetKey)},_renderCandelaChart:function m(){if(this._isLoading())return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.queryError)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:this.state.queryError.getMessage()});var n=this.state.queryData;n!=null||i(0);var o=[];for(var p=0;p<n.length;p++)if(n[p]instanceof c("BonsaiApiDataAdapter")){var q={data:n[p],key:"bucket_"+p,title:this.props.legendValues&&this.props.legendValues[p]||this.props.tooltipTitle};o.push(q)}var r=c("AnalyticsDateUtils").isTwentyFourHoursOrLess(this.props.visibleDateRange),s=r?c("AppEventQueryAggregationPeriod").HOUR:c("AppEventQueryAggregationPeriod").DAY;return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:o,activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:"overview",formatValue:this.props.formatValue,height:this.props.height,width:this.props.width,hideLegend:!this.props.legendValues,isHourlyTimeSeries:r,onClick:this._onClick,showBreakdownSelector:false,styleSheet:this.props.legendValues?null:k,timeGranularity:s,unitLabel:this.props.unitLabel,url:this.props.url,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut})},render:function m(){var n=this.props.title;if(this.props.showEmptyStateIfNoData&&this.state.hasData===false)return c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:"OverviewEventsTooOld"});var o=this._renderCandelaChart();return c("React").createElement(c("AnalyticsCard"),{className:this.props.className,"data-testid":"mau_wau_dau_chart",showLine:this.props.showLine,title:n,url:this.props.url},o)},_getQueries:function m(n){var o=c("AnalyticsDateUtils").isTwentyFourHoursOrLess(n.visibleDateRange)?c("AppEventQueryAggregationPeriod").HOUR:c("AppEventQueryAggregationPeriod").DAY,p=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(n.eventName).setFilters(n.filters).setAggregations([c("AnalyticsQueryAggregationMethod").DAU,c("AnalyticsQueryAggregationMethod").WAU,c("AnalyticsQueryAggregationMethod").MAU]).setAggregationPeriod(o).setSince(c("InsightsUtils").utcTimeToPacificTime(n.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificTime(n.visibleDateRange.until).getTime()/1e3).setTag(this.props.widgetKey);return[{query:p,onQueryData:this._onQueryDataAvailable,onQueryError:this._onQueryError}]},_onQueryDataAvailable:function m(n){var o=new(c("BonsaiApiDataAdapter"))(n.getResult([c("AnalyticsQueryAggregationMethod").DAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),p=new(c("BonsaiApiDataAdapter"))(n.getResult([c("AnalyticsQueryAggregationMethod").WAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),q=new(c("BonsaiApiDataAdapter"))(n.getResult([c("AnalyticsQueryAggregationMethod").MAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),r=q.getData().some(function(s){return s.value>0});this.setState({queryData:[q,p,o],queryError:null,hasData:r});if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)},_onQueryError:function m(n){this.setState({queryData:null,queryError:n});if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)},_isLoading:function m(){return!this.state.queryData&&!this.state.queryError},_getCustomOffset:function m(){return 240},_onClick:function m(){c("InsightsEventLogger").logEvent({eventName:"overview_widget_click",widget:this.props.widgetKey})},_onMouseOver:function m(){this.setState({isHovered:true})},_onMouseOut:function m(){this.setState({isHovered:false})}});f.exports=l}),null);
__d("BonsaiHelpTextEditLink",["AnalyticsCMSStore","BonsaiConfig","React"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";if(!c("BonsaiConfig").isEmployee||!c("BonsaiConfig").isInternal)return null;var l=c("AnalyticsCMSStore").getEditLink(this.props.helpKey);return c("React").createElement("span",{className:"fss"},c("React").createElement("a",{target:"_blank",href:l},"Edit this content in CMS"))};function k(){"use strict";h.apply(this,arguments)}k.propTypes={helpKey:j.string.isRequired};f.exports=k}),null);
__d("BonsaiContextualHelp",["cx","BonsaiHelpText","BonsaiHelpTextEditLink","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_5x4h"},c("React").createElement("div",null,c("React").createElement(c("BonsaiHelpText"),{helpKey:this.props.helpKey})),c("React").createElement(c("BonsaiHelpTextEditLink"),{helpKey:this.props.helpKey}))};function l(){i.apply(this,arguments)}l.propTypes={helpKey:k.string.isRequired};f.exports=l}),null);
__d("GriffinBatchDeactivateDialog",["cx","fbt","GriffinButton","GriffinModal","immutable","React","SUIBusinessTheme","SUICheckboxInput.react","XUIDataTable.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(n){k.constructor.call(this,n);m.call(this);var o={};n.events.filter(this.$GriffinBatchDeactivateDialog1).forEach(function(event){o[event.name]=false});this.state={isChecked:c("immutable").Map(o)}}l.prototype.render=function(){var n=i._("Seleccionar los eventos para desactivarlos"),o=this.$GriffinBatchDeactivateDialog2(),p=this.$GriffinBatchDeactivateDialog3();return c("React").createElement(c("GriffinModal"),{className:"_3igd",content:p,footerButtons:o,onClose:this.props.onCancel,width:450,header:n})};l.prototype.$GriffinBatchDeactivateDialog1=function(n){return!n.is_deprecated&&!n.is_protected};l.prototype.$GriffinBatchDeactivateDialog2=function(){var n=c("React").createElement(c("GriffinButton"),{label:i._("Cancelar"),onClick:this.props.onCancel}),o=this.state.isChecked.some(function(q){return q}),p=o?c("React").createElement(c("GriffinButton"),{label:i._("Desactivar eventos"),onClick:this.$GriffinBatchDeactivateDialog4,use:"confirm",size:"xlarge"}):null;return[p,n]};l.prototype.$GriffinBatchDeactivateDialog3=function(){var n=this.state.isChecked.every(function(q){return q}),o=[{id:"eventName",width:340,label:i._("Nombre del evento")},{id:"eventSelection",width:30,label:c("React").createElement(c("SUICheckboxInput.react"),{onChange:this.$GriffinBatchDeactivateDialog5,theme:c("SUIBusinessTheme"),value:n})}],p=this.props.events.filter(this.$GriffinBatchDeactivateDialog1).map(function(event){return{eventName:event.display_name,eventSelection:c("React").createElement(c("SUICheckboxInput.react"),{value:this.state.isChecked.get(event.name),theme:c("SUIBusinessTheme"),onChange:function(q){return this.$GriffinBatchDeactivateDialog6(event.name,q)}.bind(this)})}}.bind(this));return c("React").createElement(c("XUIDataTable.react"),{bodyHeight:300,outerBorder:true,columns:o,rows:p,onSortAttempt:c("emptyFunction"),reverseSort:false})};l.prototype.$GriffinBatchDeactivateDialog6=function(n,o){var p=this.state.isChecked.set(n,o);this.setState({isChecked:p})};var m=function m(){this.$GriffinBatchDeactivateDialog5=function(n){var o=this.state.isChecked.map(function(p){return n});this.setState({isChecked:o})}.bind(this);this.$GriffinBatchDeactivateDialog4=function(){this.props.onConfirm(this.state.isChecked)}.bind(this)};f.exports=l}),null);
__d("GriffinCustomEventsOverviewCard",["cx","fbt","AnalyticsCard","AnalyticsDateUtils","InternalAnalyticsQueryBuilder","AnalyticsSamplingDisclosureActions","AppCustomEventType","BonsaiContextualHelp","BonsaiText","BonsaiTooltip","GriffinButton","AnalyticsUntypedUIUtils","CustomEventActions","CustomEventStore","FalcorPaginatedDataTable","GriffinCustomEventsOverviewCardCell","InsightsContext","InsightsEventLogger","InsightsUtils","React","Reflux","GriffinBatchDeactivateDialog","d3/time/day","immutable"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k={users:i._("N\u00famero de usuarios \u00fanicos que han completado este evento durante el intervalo de fechas seleccionado"),pops:i._("Muestra el cambio de porcentaje en el n\u00famero de eventos que usan el periodo actual en comparaci\u00f3n con el mismo periodo de tiempo en el pasado, como semana\/semana o mes\/mes.")};function l(p){return c("React").createElement(c("GriffinCustomEventsOverviewCardCell"),{column:p.column,eventName:p.eventName,promise:p.promise,popPromise:p.popPromise,isDeprecated:p.isDeprecated,cellValueCallback:function q(r){return p.value=r}})}var m=[{id:"name",label:i._("Nombre"),sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("name",true,"value"),cellRenderer:l,width:150}],n=function n(p){var q=p.visibleDateRange,r=q.since,s=q.until;return[{id:"name",label:i._("Nombre"),sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("name",true,"value"),cellRenderer:l,width:150},{id:"count",label:c("BonsaiText").count,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("count",false,"value"),cellRenderer:l,width:150},{id:"pop",label:c("React").createElement("span",null,c("BonsaiText").getPoPLabelFromTimesWithDelta(r.getTime(),s.getTime(),1),c("React").createElement(c("BonsaiTooltip"),{tooltip:k.pops})),sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("pop",false,"value"),cellRenderer:l,width:150},{id:"today",label:i._("Recuento de hoy"),sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("today",false,"value"),cellRenderer:l,width:150},{id:"users",label:c("React").createElement("span",null,i._("Usuarios \u00fanicos"),c("React").createElement(c("BonsaiTooltip"),{tooltip:k.users})),sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("users",false,"value"),cellRenderer:l,width:150},{id:"value",label:c("BonsaiText").value,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("value",false,"value"),cellRenderer:l,width:150},{id:"description",label:c("BonsaiText").description,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("description",true,"description"),cellRenderer:l,width:150}]},o=c("React").createClass({displayName:"GriffinCustomEventsOverviewCard",mixins:[c("Reflux").connect(c("CustomEventStore"),"eventConfig")],propTypes:{fullDateRange:j.object.isRequired,visibleDateRange:j.object.isRequired,popDateRange:j.object,socialPluginEventsOnly:j.bool.isRequired,fixHeaderAt:j.number},getInitialState:function p(){return{promises:this._getAllPromises(this.props),searchString:"",batchDeactivateEvents:{},isShowingBatchDeactivationDialog:false}},componentWillMount:function p(){c("AnalyticsSamplingDisclosureActions").clearEventsInContext()},componentDidMount:function p(){c("InsightsEventLogger").logCardViewWithDateRange("events_overview",this.props.visibleDateRange,{})},componentWillUpdate:function p(q,r){if(c("AnalyticsDateUtils").isDateRangeSame(q.visibleDateRange,this.props.visibleDateRange))return;c("InsightsEventLogger").logCardViewWithDateRange("events_overview",this.props.visibleDateRange,{});this._cancelAllPromises();this.setState({promises:this._getAllPromises(q)})},componentWillUnmount:function p(){this._cancelAllPromises()},_getEventsToDisplay:function p(q){return c("CustomEventStore").getEventList()},_getRows:function p(){var q=this._getEventsToDisplay(this.props),r=[],s=[];q.forEach(function(event){if(event.name==c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP)return;if(event.name===c("AppCustomEventType").FB_NEW_USER&&c("InsightsContext").isPage())return;var t={key:event.name+(event.display_name||"")};n(this.props).map(function(u){return u.id}).forEach(function(u){var v=u==="today",w=u==="pop";t[u]={column:u,eventName:event.name,description:event.description||"",isDeprecated:event.is_deprecated,value:"",promise:v?this.state.promises.get(event.name).todayData.promise:this.state.promises.get(event.name).visibleData.promise,popPromise:w?this.state.promises.get(event.name).popData.promise:undefined}}.bind(this));if(event.is_deprecated)s.push(t);else r.push(t)}.bind(this));return{rows:r,deprecatedRows:s}},_onSearchChange:function p(q){this.setState({searchString:q.target.value});this.refs.table&&this.refs.table.onSearchChange(q);this.refs.deprecatedEventsTable&&this.refs.deprecatedEventsTable.onSearchChange(q)},_getBatchDeactivateButton:function p(){var q=i._("Desactivar"),r=c("AnalyticsUntypedUIUtils").getEventOrParameterEditDisabled(),s=c("AnalyticsUntypedUIUtils").getEventOrParameterDeactivationTooltip();return c("React").createElement(c("GriffinButton"),{disabled:r,label:q,onClick:this._showBatchDeactivateDialog,use:"confirm",tooltip:s})},_showBatchDeactivateDialog:function p(){this.setState({isShowingBatchDeactivationDialog:true});c("InsightsEventLogger").logEvent({eventName:"appevents_batch_deactivate_open"})},_hideBatchDeactivateDialog:function p(){this.setState({isShowingBatchDeactivationDialog:false})},_getBatchDeactivationDialog:function p(){if(!this.state.isShowingBatchDeactivationDialog)return null;var q=this._getEventsToDisplay(this.props);return c("React").createElement(c("GriffinBatchDeactivateDialog"),{events:q,onConfirm:this._batchDeactivateEvents,onCancel:this._hideBatchDeactivateDialog})},_batchDeactivateEvents:function p(q){var r=q.filter(function(s){return s}).keySeq().toArray();c("CustomEventActions").deactivateEvents(r);this.setState({isShowingBatchDeactivationDialog:false});c("InsightsEventLogger").logEvent({eventName:"appevents_batch_deactivate_confirm",count:r.length})},render:function p(){var q=null,r=null,s=this._getRows();if(s.rows)q=c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"table",columns:n(this.props),searchFieldName:"key",rows:s.rows,pageSize:Infinity});if(s.deprecatedRows&&s.deprecatedRows.length)r=c("React").createElement("div",null,c("React").createElement("div",{className:"_1c78 _3-8-"},i._("Eventos inactivos")),c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"deprecatedEventsTable",columns:m,searchFieldName:"key",rows:s.deprecatedRows,pageSize:Infinity}));var t=i._("Eventos"),u=this._getBatchDeactivateButton(),v=this._getBatchDeactivationDialog();return c("React").createElement(c("AnalyticsCard"),{title:t,buttons:u,searchString:this.state.searchString,onSearchChange:this._onSearchChange,helpText:{key:"EventsListView",title:t}},v,q,r,c("React").createElement(c("BonsaiContextualHelp"),{helpKey:"CustomEventsOverviewTable"}))},_cancelAllPromises:function p(){this.state.promises.forEach(function(q){for(var r in q)q[r].cancel()})},_getAllPromises:function p(q){var r={},s=this._getEventsToDisplay(q);s.forEach(function(event){r[event.name]={visibleData:this._getVisibleDataPromise(event.name,q.visibleDateRange),popData:this._getPopDataPromise(event.name,q.visibleDateRange),todayData:this._getTodayDataPromise(event.name)}}.bind(this));return c("immutable").Map(r)},_getVisibleDataPromise:function p(q,r){var s=c("InsightsUtils").utcTimeToPacificDay(r.since),t=c("InsightsUtils").utcTimeToPacificDay(r.until);return new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q).setAggregations(["COUNT","USERS","SUM","USD_SUM"]).setIntervalsToAggregate(0).setSince(Math.floor(s.getTime()/1e3)).setUntil(Math.floor(t.getTime()/1e3)).setNotifySamplingStore(false).setTag("custom_events_"+q).getQueryAsPromise()},_getTodayDataPromise:function p(q){var r=c("InsightsUtils").getMostRecentPacificDayBegin(new Date());return new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q).setAggregations(["COUNT"]).setIntervalsToAggregate(0).setSince(Math.floor(r.getTime()/1e3)).setUntil(Math.floor(r.getTime()/1e3)).setNotifySamplingStore(false).setTag("custom_events_today_"+q).getQueryAsPromise()},_getPopDataPromise:function p(q,r){var s=c("InsightsUtils").utcTimeToPacificDay(c("d3/time/day").offset(r.since,-1*(c("d3/time/day").range(r.since,r.until).length+1))),t=c("InsightsUtils").utcTimeToPacificDay(c("d3/time/day").offset(r.since,-1));return new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q).setAggregations(["COUNT"]).setIntervalsToAggregate(0).setSince(Math.floor(s.getTime()/1e3)).setUntil(Math.floor(t.getTime()/1e3)).setNotifySamplingStore(false).setTag("custom_events_pop_"+q).getQueryAsPromise()}});f.exports=o}),null);
__d("FBAMetaEventAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLUR:"Blur",CHANGE:"Change",CLICK:"Click",END:"End",FOCUS:"Focus",INSTALL:"Install",LAUNCH:"Launch",OPEN:"Open",SHOW:"Show",TOGGLE:"Toggle",VIEW:"View"})}),null);
__d("FBAMetaEventComponent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BONSAI_HELP_TEXT:"BonsaiHelpText",CHART_DELETE_BUTTON:"ChartDeleteButton",EVENT_NAME_LINK:"EventNameLink",SAVE_BUTTON:"SaveButton",SECTION:"Section"})}),null);
__d("FBAMetaEventNamespace",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACCOUNT_KIT:"AccountKit",ACTIVE_USERS:"ActiveUsers",ADS_APIS:"AdsApis",APIS:"Apis",APP_EVENTS:"AppEvents",APP_NOTIFICATIONS:"AppNotifications",BREAKDOWN_TABLE:"BreakdownTable",COHORTS:"Cohorts",DASHBOARDS:"Dashboards",FUNNELS:"Funnels",GLOBAL:"Global",HOUSEHOLD_PURCHASE:"HouseholdPurchase",INVITES:"Invites",LANDING:"Landing",LIFETIME_VALUE:"LifetimeValue",LOGIN:"Login",MONETIZE:"Monetize",MOST_RECENT:"MostRecent",OVERLAP:"Overlap",OVERVIEW:"Overview",PAGE_LIKES:"PageLikes",PEOPLE_DEMOGRAPHICS:"PeopleDemographics",PEOPLE_OVERVIEW:"PeopleOverview",PERCENTILES:"Percentiles",PUSH:"Push",PUSH_IN_APP:"PushInApp",REFERRALS:"Referrals",REQUESTS:"Requests",RETENTION:"Retention",REVENUE:"Revenue",SETTINGS:"Settings",STORIES:"Stories",TECHNOLOGY:"Technology"})}),null);
__d("GriffinCustomEventsOverviewCardCell",["cx","fbt","AnalyticsNavigationUtils","AnalyticsQueryAggregationMethod","AppCustomEventType","BonsaiErrorNotice","GriffinSections","AnalyticsUIUtils","CustomEventStore","FalcorCommonViews","FBAMetaEventAction","FBAMetaEventComponent","FBAMetaEventNamespace","FBAMetaLoggerWWW","InsightsNumUtils","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("FBAMetaLoggerWWW").META_LOGGER,k=c("React").PropTypes,l=c("React").createClass({displayName:"GriffinCustomEventsOverviewCardCell",propTypes:{column:k.string.isRequired,eventName:k.string.isRequired,promise:k.object,popPromise:k.object,isDeprecated:k.bool.isRequired,cellValueCallback:k.func.isRequired},getInitialState:function m(){return{data:null,popData:null,error:null}},componentWillMount:function m(){this._setupPromises(this.props)},componentWillUpdate:function m(n,o){if(this.props.promise===n.promise&&this.props.popPromise===n.popPromise)return;this.setState(this.getInitialState(),function(){return this._setupPromises(n)}.bind(this))},_setupPromises:function m(n){if(n.promise)n.promise.done(function(o){return this.setState({data:o})}.bind(this),function(o){return this.setState({error:o})}.bind(this));if(n.popPromise)n.popPromise.done(function(o){return this.setState({popData:o})}.bind(this),function(o){return this.setState({error:o})}.bind(this))},render:function m(){if(this.props.column==="name")return this._renderNameColumn();else if(this.props.column==="description")return this._renderDescription();else return this._renderMetricColumn()},_onCustomEventNameClick:function m(n){c("InsightsEventLogger").logEvent({eventName:"appevents_event_name_click",custom_event_name:n});j.logEvent({namespace:c("FBAMetaEventNamespace").APP_EVENTS,component:c("FBAMetaEventComponent").EVENT_NAME_LINK,action:c("FBAMetaEventAction").CLICK},{custom_event_name:n});return true},_renderNameColumn:function m(){var n=this.props.eventName;this.props.cellValueCallback(n);return c("React").createElement("a",{onClick:function(){return this._onCustomEventNameClick(n)}.bind(this),className:"_5igp",href:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS,n,c("FalcorCommonViews").DETAILS)},c("CustomEventStore").getAppEventDisplayName(n))},_renderDescription:function m(){this.props.cellValueCallback(c("CustomEventStore").getAppEventDescription(this.props.eventName));return c("React").createElement("div",null,c("CustomEventStore").getAppEventDescription(this.props.eventName))},_renderMetricColumn:function m(){var n=this.state.error,o=this.state.data,p=this.state.popData;if(n)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:n.getMessage()});if(!o||this.props.column==="pop"&&!p)return c("React").createElement("div",null,i._("Cargando..."));var q=null,r=null,s=o.getColumnNames(),t=o.getResultAsRows();if(this.props.column==="count")q=this._getValueForColumnOrZero(t,s.indexOf(c("AnalyticsQueryAggregationMethod").COUNT));else if(this.props.column==="today")q=this._getValueForColumnOrZero(t,s.indexOf(c("AnalyticsQueryAggregationMethod").COUNT));else if(this.props.column==="users"&&this.props.eventName!==c("AppCustomEventType").FB_MOBILE_INSTALL&&this.props.eventName!==c("AppCustomEventType").FB_WEB_NEW_USER)q=this._getValueForColumnOrZero(t,s.indexOf(c("AnalyticsQueryAggregationMethod").USERS));else if(this.props.column==="pop"&&p){var u=p.getResultAsRows(),v=p.getColumnNames(),w=s.indexOf(c("AnalyticsQueryAggregationMethod").COUNT),x=v.indexOf(c("AnalyticsQueryAggregationMethod").COUNT),y=t.count()!==0?+t.get(0).get(w):0,z=u.count()!==0?+u.get(0).get(x):0,A=c("AnalyticsUIUtils").calculatePercentageChange(y,z);r=A.className;q=A.value<0?"- "+A.string:"+ "+A.string;this.props.cellValueCallback(A.value)}else if(this.props.column==="value"){var B=s.indexOf(c("AnalyticsQueryAggregationMethod").SUM),C=s.indexOf(c("AnalyticsQueryAggregationMethod").USD_SUM);if(t.count()!==0){var D=+t.get(0).get(B),E=+t.get(0).get(C);if(E){q=c("InsightsNumUtils").prettyShortCurrency("USD",E);this.props.cellValueCallback(E)}else if(D){q=c("InsightsNumUtils").prettyShortInt(D);this.props.cellValueCallback(D)}}}if(!q)q="-";return c("React").createElement("div",{className:r},q)},_getValueForColumnOrZero:function m(n,o){var p=0;if(n.count()!==0)p=+n.get(0).get(o);this.props.cellValueCallback(p);return c("InsightsNumUtils").prettyShortInt(p)}});f.exports=l}),null);
__d("HighlightChartSeriesOnHoverMixin",["CandelaStructs","immutable","isEmpty"],(function a(b,c,d,e,f,g){"use strict";var h=c("CandelaStructs").Highlight,i=c("immutable").Set,j={getInitialState:function k(){return{highlights:i()}},_onMouseEnter:function k(event){if(!c("isEmpty")(event.data))this.setState({highlights:i(Object.keys(event.data).map(function(l){return new h({dependentSeriesName:l})}))});if(this.props.onMouseEnter)this.props.onMouseEnter(event)},_onMouseLeave:function k(event){this.setState({highlights:i()});if(this.props.onMouseLeave)this.props.onMouseLeave(event)}};f.exports=j}),null);
__d("FalcorInsightsLineAreaChart.react",["HighlightChartSeriesOnHoverMixin","InsightsLineAreaChart.react","InsightsThemeableChartMixin","React","ReactComponentWithPureRenderMixin","immutable","GriffinCandelaTheme"],(function a(b,c,d,e,f,g){var h=c("immutable").Set,i=c("React").createClass({displayName:"FalcorInsightsLineAreaChart",mixins:[c("HighlightChartSeriesOnHoverMixin"),c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")}),c("ReactComponentWithPureRenderMixin")],statics:{getComponentTheming:function j(){return{styleSheet:{'gridline[orientation="horizontal"]:last-child':{visibility:"hidden"},'gridline[orientation="horizontal"]:last-child:only-child':{visibility:"visible"}}}}},render:function j(){return c("React").createElement(c("InsightsLineAreaChart.react"),babelHelpers["extends"]({theme:this.state.theme,highlights:this.state.highlights,onMouseEnter:this._onMouseEnter,onMouseOut:this._onMouseOut},this.props))}});f.exports=i}),null);
__d("FalcorPercentileChart",["fbt","invariant","AppEventMetricText","CandelaConstants","CandelaGroupScaleBuilder","FalcorInsightsHoverCardChart","FalcorInsightsLineAreaChart.react","GriffinResizableChart","React","immutable"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=c("CandelaGroupScaleBuilder").group,n=c("CandelaConstants").RenderAs;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$FalcorPercentileChart2=function(u){this.props.onHintPercentileChange(Math.round(u.data.percentile.value*100))}.bind(this),this.$FalcorPercentileChart3=function(u){this.props.onHintPercentileChange(Math.round(u.data.percentile.value*100))}.bind(this),this.$FalcorPercentileChart1=function(u,v){return function(w){if(v!=="percentile")return null;var x=Math.round(w*100),y=100-x,z=this.props.data[x],A=void 0;switch(this.props.measurement){case"count":var B=c("AppEventMetricText").action_taken[this.props.event]||c("AppEventMetricText").action_taken["default"];A=h._("Un {percent} \u0025 de usuarios {completed event e.g.: 'launched the app'} una media de {average count} veces o m\u00e1s.",[h.param("percent",y),h.param("completed event e.g.: 'launched the app'",B),h.param("average count",z)]);break;case"value":if(this.props.currency==="USD")A=h._("Un {percent} \u0025 de usuarios ten\u00edan un valor medio de {average value} o m\u00e1s.",[h.param("percent",y),h.param("average value","$"+z)]);else A=h._("Un {percent} \u0025 de usuarios ten\u00edan un valor medio de {average value} o m\u00e1s.",[h.param("percent",y),h.param("average value",z)]);break;case"spend":if(this.props.currency==="USD")A=h._("Un {percent}\u0025 de los usuarios ha gastado una media de {average money value} o m\u00e1s.",[h.param("percent",y),h.param("average money value","$"+z)]);else A=h._("Un {percent}\u0025 de los usuarios ha gastado una media de {average money value} o m\u00e1s.",[h.param("percent",y),h.param("average money value",z)]);break;default:A=""}return c("React").createElement("div",{style:{maxWidth:220}},A)}.bind(this)}.bind(this),q}o.prototype.render=function(){this.props.data.length===100||i(0);var p=this.props.hintPercentilePosition;p>=0&&p<100||i(0);var q=this.props.data.map(function(x,y){return{above:y>=p?x:null,below:y>p?null:x,percentile:y/100}}),r={above:{renderAs:"area",currencyCode:this.props.currency,type:this.props.currency?"currency":"number"},below:{renderAs:"area",currencyCode:this.props.currency,type:this.props.currency?"currency":"number"},percentile:{type:"percentage"}},s=[{draggable:true,renderAs:[n.ANCHOR,n.LINE],value:this.props.hintPercentilePosition/100,variableName:"percentile"}],t={above:"#6BDBFD",below:"#C3DAEC"},u=h._("Percentil de usuarios").toString(),v=c("immutable").OrderedSet([{key:"percentile"},{key:"above"},{key:"below"}]),w=c("immutable").OrderedSet([{key:"bucket",bucket:"percentile"}]);return c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("FalcorInsightsHoverCardChart"),{formatterFactory:this.$FalcorPercentileChart1,auxiliaryItems:w,items:v,hoverCardPosition:"above"},c("React").createElement(c("FalcorInsightsLineAreaChart.react"),{annotations:c("immutable").List(s),autoColors:c("immutable").Map(t),selectedAnnotationIndex:0,schema:r,data:q,onClick:this.$FalcorPercentileChart2,onDragEnd:this.$FalcorPercentileChart3,height:300,plotX:m("percentile").setTitle(u).niceStepOnly().stepCountHint(20),plotY:[m("above","below").niceStepOnly().from(0).stepCountHint(5)]})))};o.propTypes={data:l.array.isRequired,event:l.string.isRequired,hintPercentilePosition:l.number.isRequired,onHintPercentileChange:l.func.isRequired,measurement:l.oneOf(["count","value","spend"]).isRequired};f.exports=o}),null);
__d("GriffinChartLayout",["cx","AnalyticsErrorBoundary","GriffinResizableChart","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var n=this.props,o=n.chart,p=n.chartKey,q=n.errorNotice,r=n.legend,s=n.legendLabel,t=n.comparisonLegend,u=n.comparisonLegendLabel,v=n.selector,w=n.selectorLabel,x=v?c("React").createElement(m,{label:w},v):null,y=r?c("React").createElement(m,{label:s},r):null,z=t?c("React").createElement("div",null,c("React").createElement("div",{className:"_uq2"}),c("React").createElement(m,{label:u},t)):null,A=void 0;if(v||r)A=c("React").createElement("div",{className:"_5xfr"},x,y,z);var B=p?p+"_chart":"";return c("React").createElement("div",{className:"_5xfs","data-testid":this.props["data-testid"]},c("React").createElement("div",{className:"_5xft"},q?q:c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:B},o))),A)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={chart:k.node,"data-testid":k.string,comparisonLegend:k.node,comparisonLegendLabel:k.node,errorNotice:k.node,legend:k.node,legendLabel:k.node,selector:k.node,selectorLabel:k.node};var m=function m(n){var o=n.children,p=n.label;return c("React").createElement("div",{className:"_3-96"},c("React").createElement("div",{className:"_uq3"},p),o)};f.exports=l}),null);
__d("GriffinCustomEventsPercentilesCard",["cx","fbt","AnalyticsCard","InternalAnalyticsQueryBuilder","BonsaiText","CustomEventStore","DateConsts","FalcorErrorNotice","FalcorLoadingCard","FalcorPercentileChart","GriffinChartLayout","GriffinPinButton","InsightsContext","InsightsEventLogger","InsightsUtils","React","SUIAnalyticsGriffinTheme","SUIButton.react","SUIToggleButtonGroup.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l={CREATE_AUDIENCE_BUTTON_LABEL:i._("Crear p\u00fablico personalizado"),CREATE_CUSTOM_TITLE:i._("Crear personalizado"),CREATE_CUSTOM_SUBTITLE:i._("Analiza la distribuci\u00f3n de la actividad o el valor para los eventos en tu aplicaci\u00f3n."),VALUE_LABEL:i._("Valor"),COUNT_LABEL:i._("Total")},m=75,n={COUNT:"count",VALUE:"amount"};j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$GriffinCustomEventsPercentilesCard8=function(q){this.setState({activeChartKey:q});c("InsightsEventLogger").logEvent({eventName:"percentiles_aggregation_change",event:this.props.event.name,aggregation:q})}.bind(this);this.$GriffinCustomEventsPercentilesCard5=function(q){this.setState({hintPercentilePosition:q});c("InsightsEventLogger").logEvent({eventName:"percentiles_anchor_change",event:this.props.event.name,percentile:q})}.bind(this);this.state={responseData:null,responseError:null,activeChartKey:p.defaultTab,hintPercentilePosition:m}}o.prototype.componentWillMount=function(){this.$GriffinCustomEventsPercentilesCard2(this.props.event.name,this.props.visibleDateRange,this.props.segment)};o.prototype.componentWillUnmount=function(){this.$GriffinCustomEventsPercentilesCard1&&this.$GriffinCustomEventsPercentilesCard1.cancel()};o.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{card_section:this.state.activeChartKey,event:this.props.event.name,segment:this.props.segment})};o.prototype.componentDidUpdate=function(p,q){if(this.props.event.name!=p.event.name||this.props.visibleDateRange!=p.visibleDateRange||this.props.segment!=p.segment||this.state.activeChartKey!==q.activeChartKey)c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{card_section:this.state.activeChartKey,event:this.props.event.name,segment:this.props.segment})};o.prototype.componentWillReceiveProps=function(p){if(this.props.event.name!==p.event.name||this.props.visibleDateRange!=p.visibleDateRange||this.props.segment!=p.segment)this.$GriffinCustomEventsPercentilesCard2(p.event.name,p.visibleDateRange,p.segment)};o.prototype.$GriffinCustomEventsPercentilesCard3=function(){var p={},q=this.state.responseData,r=this.state.responseError;if(q!==undefined&&q!==null){if(q.length!==0){var s=JSON.parse(q[0][1]),t=this.$GriffinCustomEventsPercentilesCard4(s);if(!t){p.chart=c("React").createElement(c("FalcorPercentileChart"),{data:s,event:this.props.event.name,hintPercentilePosition:this.state.hintPercentilePosition,measurement:"count",onHintPercentileChange:this.$GriffinCustomEventsPercentilesCard5});p.type="event"}}}else p.error=c("React").createElement(c("FalcorErrorNotice"),{message:r});return p};o.prototype.$GriffinCustomEventsPercentilesCard6=function(){var p={},q=this.state.responseData,r=this.state.responseError;if(q!==undefined&&q!==null){if(q.length!==0){var s=c("CustomEventStore").isPurchaseEvent(this.props.event.name)?"spend":"value",t=JSON.parse(q[0][2]),u=JSON.parse(q[0][3]);if(t===0||u===0)return null;var v=this.$GriffinCustomEventsPercentilesCard4(t),w=this.$GriffinCustomEventsPercentilesCard4(u),x=void 0;if(!w)x=u;else if(!v)x=t;else return null;p.chart=c("React").createElement(c("FalcorPercentileChart"),{currency:w?null:"USD",data:x,event:this.props.event.name,hintPercentilePosition:this.state.hintPercentilePosition,measurement:s,onHintPercentileChange:this.$GriffinCustomEventsPercentilesCard5});p.type="value"}}else p.error=c("React").createElement(c("FalcorErrorNotice"),{message:r});return p};o.prototype.render=function(){var p=this.props.canCreateCustom?c("React").createElement("div",null,c("React").createElement("div",{className:"_4yb_"},l.CREATE_CUSTOM_TITLE),c("React").createElement("div",{className:"_4yc0"},l.CREATE_CUSTOM_SUBTITLE)):null;if(!this.props.event.name)if(this.props.canCreateCustom)return c("React").createElement("span",null,c("React").createElement(c("AnalyticsCard"),{additionalHeader:p,showLine:false,title:this.props.title}));else return null;var q=!this.state.responseData&&!this.state.responseError;if(q)return c("React").createElement(c("FalcorLoadingCard"),null);var r=this.$GriffinCustomEventsPercentilesCard3(),s=this.$GriffinCustomEventsPercentilesCard6(),t=s!==null,u=void 0,v=[];if(r){if(t)v.push(c("React").createElement(c("SUIButton.react"),{key:n.COUNT,label:l.COUNT_LABEL,value:n.COUNT}));if(this.state.activeChartKey===n.COUNT)u=this.$GriffinCustomEventsPercentilesCard7(r)}if(t){v.push(c("React").createElement(c("SUIButton.react"),{key:n.VALUE,label:l.VALUE_LABEL,value:n.VALUE}));if(this.state.activeChartKey===n.VALUE)u=this.$GriffinCustomEventsPercentilesCard7(s)}var w=c("React").createElement(c("SUIToggleButtonGroup.react"),{className:"_24rp",key:"chart_toggle",onChange:this.$GriffinCustomEventsPercentilesCard8,theme:c("SUIAnalyticsGriffinTheme"),value:this.state.activeChartKey},v),x=c("React").createElement(c("GriffinPinButton"),{key:"pin",chartKey:"percentile"});if(u||this.props.canCreateCustom)return c("React").createElement("span",null,c("React").createElement(c("AnalyticsCard"),{additionalHeader:p,buttons:[w],pinButton:x,title:this.props.title},u));else return null};o.prototype.$GriffinCustomEventsPercentilesCard7=function(p){var q=void 0;if(!p||!p.chart&&!p.error)q=c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable});else q=p.chart||p.error;return c("React").createElement(c("GriffinChartLayout"),{chart:q,chartKey:"percentile_new"})};o.prototype.$GriffinCustomEventsPercentilesCard2=function(p,q,r){this.setState({responseData:null,responseError:null});this.$GriffinCustomEventsPercentilesCard1&&this.$GriffinCustomEventsPercentilesCard1.cancel();if(!p)return;var s=c("InsightsUtils").utcTimeToPacificTime(q.since).getTime()/1e3,t=c("InsightsUtils").utcTimeToPacificTime(q.until).getTime()/1e3,u=r?{event_rules:r.event_rules,event_info_rules:r.event_info_rules,user_property_rules:r.user_property_rules,percentile_rules:r.percentile_rules,web_param_rules:r.web_param_rules}:null;this.$GriffinCustomEventsPercentilesCard1=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(p).setAggregations(["PERCENTILES_COUNT","PERCENTILES_VALUE","PERCENTILES_USD_VALUE"]).setIntervalsToAggregate(0).setSince(s).setUntil(t).setFilters(u).setNotifySamplingStore(true).setTag(this.props.cardKey).getQueryAsPromise();this.$GriffinCustomEventsPercentilesCard1.promise.done(function(v){this.setState({responseData:v.getResultAsRows().toJS()})}.bind(this),function(v){this.setState({responseError:v.getMessage()})}.bind(this))};o.prototype.$GriffinCustomEventsPercentilesCard4=function(p){return p.every(function(q){return q===0})};o.prototype.$GriffinCustomEventsPercentilesCard9=function(){var p=this.props.visibleDateRange.until.getTime()-this.props.visibleDateRange.since.getTime();return Math.ceil(p/c("DateConsts").MS_PER_DAY)};o.defaultProps={canCreateCustom:false,defaultTab:n.COUNT};f.exports=o}),null);
__d("GriffinCustomEventsPercentilesSectionController",["AppCustomEventType","CustomEventStore","FalcorAppEventSelector","GriffinCustomEventsPercentilesCard","InsightsEventLogger","React","SearchableEntry"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP,k=c("AppCustomEventType").FB_MOBILE_INSTALL,l=c("AppCustomEventType").FB_MOBILE_PURCHASE,m=c("AppCustomEventType").FB_PAGE_VIEW,n={COUNT:"count",VALUE:"amount"};h=babelHelpers.inherits(o,c("React").PureComponent);i=h&&h.prototype;function o(p){i.constructor.call(this,p);this.$GriffinCustomEventsPercentilesSectionController1=function(q){var event=q.getUniqueID();this.setState({customAnalyticsEvent:event});c("InsightsEventLogger").logEvent({eventName:"percentiles_event_change",event:event})}.bind(this);this.state={customAnalyticsEvent:null}}o.prototype.render=function(){var p=c("CustomEventStore").getEvent(j),q=c("CustomEventStore").getEvent(m),r=c("CustomEventStore").getEvent(l),s=c("CustomEventStore").getEvent(this.state.customAnalyticsEvent)||{},t=p?c("React").createElement(c("GriffinCustomEventsPercentilesCard"),babelHelpers["extends"]({},this.props,{cardKey:"percentiles_launch",event:p,key:"percentiles_launch",title:p.display_name})):null,u=r?c("React").createElement(c("GriffinCustomEventsPercentilesCard"),babelHelpers["extends"]({},this.props,{cardKey:"percentiles_purchase",defaultTab:"amount",event:r,key:"percentiles_purchase",title:r.display_name})):null,v=q?c("React").createElement(c("GriffinCustomEventsPercentilesCard"),babelHelpers["extends"]({},this.props,{cardKey:"percentiles_page_view",event:q,key:"percentiles_page_view",title:q.display_name})):null;return c("React").createElement("div",null,t,v,u,c("React").createElement(c("GriffinCustomEventsPercentilesCard"),babelHelpers["extends"]({},this.props,{cardKey:"percentiles_custom",event:s,key:"percentiles_custom",canCreateCustom:true,title:c("React").createElement(c("FalcorAppEventSelector"),{value:this.state.customAnalyticsEvent,onOpen:function w(){return c("InsightsEventLogger").logEvent({eventName:"percentiles_event_selector_open"})},onSelect:this.$GriffinCustomEventsPercentilesSectionController1,excludeAppEvents:[j,k,l]})})))};o.defaultProps={canCreateCustom:false,defaultTab:n.COUNT,filters:{}};f.exports=o}),null);
__d("BonsaiCustomEventsHistory",["BonsaiStyle","InsightsContext","CacheStorage","ErrorUtils"],(function a(b,c,d,e,f,g){var h="bonsai_app_events_history_",i=c("BonsaiStyle").CUSTOM_EVENTS_PAGE_LENGTH,j=new(c("CacheStorage"))("localstorage",h),k={_getKey:function l(){return""+c("InsightsContext").getObjID()},getRecentlyVisitedAppEvents:function l(){var m=j.get(this._getKey(),null);if(m)try{var n=JSON.parse(m);if(!Array.isArray(n)){n=[];j.set(this._getKey(),JSON.stringify(n))}return n}catch(o){c("ErrorUtils").report(o)}return[]},visitedAppEvent:function l(m){var n=this.getRecentlyVisitedAppEvents();if(n.indexOf(m)!=-1)n.splice(n.indexOf(m),1);n.unshift(m);n=n.slice(0,i);j.set(this._getKey(),JSON.stringify(n))},maybeLogHistoryEntry:function l(){if(c("InsightsContext").getActiveSectionName()==="AppEvents"&&c("InsightsContext").getActiveCustomEventName())this.visitedAppEvent(c("InsightsContext").getActiveCustomEventName())}};f.exports=k}),null);
__d("CustomEventLinks",["AnalyticsNavigationUtils","BonsaiCustomEventsHistory","GriffinSections","BonsaiStyle","CustomEventStore"],(function a(b,c,d,e,f,g){"use strict";var h={get:function i(j,k){var l,m=c("CustomEventStore").getEventList(),n=m.slice();if(k&&n.length>c("BonsaiStyle").CUSTOM_EVENTS_PAGE_LENGTH)(function(){var q=c("BonsaiCustomEventsHistory").getRecentlyVisitedAppEvents();if(j)q=q.filter(function(s){return s!=j});q.sort();if(q.Length)n=n.filter(function(s){return q.indexOf(s.name)!=-1});else n=[];if(n.length<c("BonsaiStyle").CUSTOM_EVENTS_PAGE_LENGTH){var r=c("BonsaiStyle").CUSTOM_EVENTS_PAGE_LENGTH-n.length;for(var p=0;p<r;p++)if(n.indexOf(m[p])==-1)n.push(m[p])}})();var o=[];for(var p=0;p<n.length;p++){var event=n[p];if(j===event.name)continue;o.push({displayName:event.display_name,id:event.name,url:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS,event.name).toString()})}return o}};f.exports=h}),null);
__d("FalcorNoticeTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ERROR:"ERROR",INFORMATION:"INFORMATION",SUCCESS:"SUCCESS",WARNING:"WARNING"})}),null);
__d("GriffinDialog",["GriffinModal","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){var k=c("React").createElement("div",null,this.props.text,this.props.extra);return c("React").createElement(c("GriffinModal"),{onClose:this.props.onClose,header:this.props.title,footerButtons:this.props.footerButtons,width:500,content:k})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("GriffinHeaderActions",["ActiveSectionStore","AnalyticsActionType","AnalyticsDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={updateActiveSection:function i(j){c("AnalyticsDispatcher").dispatchAction({type:c("AnalyticsActionType").HEADER.SECTION_UPDATE,data:{activeSection:j}})},updateFeatureAndList:function i(j,k){c("AnalyticsDispatcher").dispatchAction({type:c("AnalyticsActionType").HEADER.FEATURE_UPDATE,data:{id:j,featureList:k}})},updateFromURI:function i(j){var k=j.getQueryData();this._updateIsComparingFromURI(k);this._updateViewFromURI(k)},_updateIsComparingFromURI:function i(j){var k=c("ActiveSectionStore").getIsComparing()!==j.is_comparing;if(k){var l=j.is_comparing!==undefined;h.updateIsComparing(l)}},updateIsComparing:function i(j){c("AnalyticsDispatcher").dispatchAction({type:c("AnalyticsActionType").HEADER.IS_COMPARING_UPDATE,data:{isComparing:j}})},_updateViewFromURI:function i(j){var k=c("ActiveSectionStore").getView()!==j.view;if(k)h._updateView(j.view)},_updateView:function i(j){c("AnalyticsDispatcher").dispatchAction({type:c("AnalyticsActionType").HEADER.VIEW_UPDATE,data:{view:j}})}};f.exports=h}),null);
__d("GriffinCustomEventsSectionController",["cx","fbt","invariant","AnalyticsDateUtils","AnalyticsInsightsCarousel","AnalyticsNavigationUtils","AppCustomEventType","AppEventsSegmentShape","BonsaiAppEventTypesUtils","BonsaiConfig","AnalyticsUntypedUIUtils","CustomEventActions","CustomEventLinks","CustomEventStore","FalcorCommonViews","FalcorCustomEventsBreakdownCard","FalcorCustomEventsParamsCard","FalcorEditNameDescriptionCard","FalcorHeader.react","FalcorNotice","FalcorNoticeTypes","GriffinButton","GriffinCustomEventsCountTrendsCard","GriffinCustomEventsDemoCard","GriffinCustomEventsOverviewCard","GriffinCustomEventsOverviewKeyEventsCard","GriffinCustomEventsPercentilesSectionController","GriffinCustomEventsTimeSpentTrendsCard","GriffinCustomEventsValueTrendsCard","GriffinDefaultSectionController","GriffinDialog","GriffinEmptyStateCard","GriffinEventDebuggingCard","GriffinHeaderActions","GriffinLifetimeValueSectionUpsell","GriffinSamplingDisclosureController","GriffinSections","InsightsEventLogger","React","Reflux","ShimButton.react"],(function a(b,c,d,e,f,g,h,i,j){var k=c("React").PropTypes,l="trends",m="distribution",n="breakdowns",o="list",p="recent",q="social_plugins",r=c("BonsaiConfig").falcorConstants,s=r.max_num_events||1e3,t=c("React").createClass({displayName:"GriffinCustomEventsSectionController",mixins:[c("Reflux").connect(c("CustomEventStore"),"eventsConfig")],propTypes:{activeSubsection:k.string,analyticsEntityID:k.string,appliedSegment:c("AppEventsSegmentShape"),comparisonSegment:c("AppEventsSegmentShape"),dateRangeType:k.oneOf(Object.keys(c("AnalyticsDateUtils").DateRangeTypes)).isRequired,disableMiniMode:k.bool,eventName:k.string,fixHeader:k.bool,fullDateRange:k.object.isRequired,isComparing:k.bool,isTopLevelSection:k.bool,sectionKey:k.string,title:k.node,upsell:k.bool,view:k.string,visibleDateRange:k.object.isRequired},statics:{getKey:function u(){return c("GriffinSections").CUSTOM_EVENTS},getTimeSpentEvent:function u(){return c("CustomEventStore").getEvent(c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP)}},componentWillMount:function u(){this._updateTitle(this.props)},componentWillReceiveProps:function u(v){this._updateTitle(v)},_updateTitle:function u(v){var w=v.eventName,x=v.isTopLevelSection,y=c("CustomEventStore").getEvent(w),z=y&&!x;if(z){var A=c("CustomEventLinks").get(null,false);c("GriffinHeaderActions").updateFeatureAndList(w,A)}else this._clearTitleSelectorSelector()},_clearTitleSelectorSelector:function u(){c("GriffinHeaderActions").updateFeatureAndList()},componentWillUnmount:function u(){c("CustomEventActions").revertToSavedEventConfig();this._clearTitleSelectorSelector()},getInitialState:function u(){return{showUndoNotice:false,timerIsSet:false,eventNameOnNotice:"",eventLastInactive:"",showDeactivationDialog:false}},_renderEventEditCards:function u(){var v=this.props.eventName,w=c("CustomEventStore").getEvent(v);if(!w)return[];return[c("React").createElement(c("FalcorEditNameDescriptionCard"),{name:w.name,displayName:w.display_name,description:w.description||"",onChange:this._nameDescUpdate,key:"name_desc"}),c("React").createElement(c("FalcorCustomEventsParamsCard"),{cardKey:"params",activeParams:w.custom_event_fields||[],inactiveParams:w.deprecated_params||[],isProtected:w.is_protected,displayName:w.display_name,eventName:w.name,key:"params_table"})]},_getActiveSubsection:function u(){return this.props.activeSubsection||(this.props.eventName?l:o)},_renderEventDetailCards:function u(){var v=this.props,w=v.fullDateRange,x=v.eventName,y=v.visibleDateRange,z=[],A=this._getActiveSubsection(),B=c("CustomEventStore").getEvent(x);w!=null&&y!=null||j(0);var C=c("AnalyticsDateUtils").getPopDateRange(w,y);if(!B){var D=this._renderEmptyEventDetailCard();return D?[D]:[]}if(B&&B.is_deprecated){var E={noticeType:c("FalcorNoticeTypes").INFORMATION,key:"inactive_event_notice"};if(c("CustomEventStore").getActiveEventCount()<s)E.message=i._("Este evento no est\u00e1 activo. Est\u00e1s viendo el historial de datos, pero no se est\u00e1n registrando eventos nuevos de {event_name}. Para que se vuelvan a registrar, activa este evento.",[i.param("event_name",B.display_name)]);else E.message=c("React").createElement("span",null,i._("Este evento no est\u00e1 activo y no se est\u00e1n registrando sus datos. Para registrar datos nuevos, debes desactivar otro evento."),c("React").createElement("a",{href:"https://www.facebook.com/help/analytics/1638374679734616",rel:"noopener noreferrer",target:"_blank"}," ",i._("M\u00e1s informaci\u00f3n")));c("InsightsEventLogger").logCardView("inactive_event",{event:B.name});z.push(c("React").createElement(c("FalcorNotice"),E))}var F=null;if(B.name===c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP||B.name===c("AppCustomEventType").FB_BASE_EVENT)F=t.getTimeSpentEvent();if(A===l){z.push(c("React").createElement(c("GriffinCustomEventsOverviewKeyEventsCard"),{analyticsEntityID:this.props.analyticsEntityID,comparisonSegment:this.props.comparisonSegment,eventName:B.name,isComparing:this.props.isComparing,key:"key_events_overview",popDateRange:C,segment:this.props.appliedSegment,visibleDateRange:y}));var G=this.props.sectionKey,H=c("React").createElement(c("GriffinCustomEventsCountTrendsCard"),{comparisonSegment:this.props.comparisonSegment,eventName:B.name,isComparing:!!this.props.isComparing,key:"trends",sectionKey:G,segment:this.props.appliedSegment,visibleDateRange:y}),I=c("React").createElement(c("GriffinCustomEventsValueTrendsCard"),{comparisonSegment:this.props.comparisonSegment,eventName:B.name,isComparing:!!this.props.isComparing,key:"values",sectionKey:G,segment:this.props.appliedSegment,visibleDateRange:y});if(c("CustomEventStore").isPurchaseEvent(B.name))z.push(I,H);else z.push(H,I);if(F)z.push(c("React").createElement(c("GriffinCustomEventsTimeSpentTrendsCard"),{comparisonSegment:this.props.comparisonSegment,eventName:F.name,isComparing:this.props.isComparing,key:"timeSpent",sectionKey:G,segment:this.props.appliedSegment,visibleDateRange:y}));z.push(c("React").createElement(c("GriffinCustomEventsDemoCard"),{cardKey:"demo",comparisonSegment:this.props.comparisonSegment,event:B,isComparing:this.props.isComparing,key:"demo",sectionKey:this.props.sectionKey,segment:this.props.appliedSegment,visibleDateRange:y}))}else if(A===n)z.push(c("React").createElement(c("FalcorCustomEventsBreakdownCard"),{cardKey:"breakdown_table",event:B,timeSpentEvent:F,key:"breakdown_table"}));else{A===m||j(0);z.push(c("React").createElement(c("GriffinCustomEventsPercentilesSectionController"),{cardKey:"percentiles",fullDateRange:w,key:"percentiles",segment:this.props.appliedSegment,visibleDateRange:y}))}return z},_renderEventOverview:function u(){var v=this._getActiveSubsection(),w=this.props,x=w.fullDateRange,y=w.visibleDateRange;if(v===o)return c("React").createElement(c("GriffinCustomEventsOverviewCard"),{fixHeaderAt:c("FalcorHeader.react").MINI_HEADER_HEIGHT,fullDateRange:x,key:"events_overview",socialPluginEventsOnly:v===q,visibleDateRange:y});else return c("React").createElement(c("GriffinEventDebuggingCard"),{key:"most_recent_events"})},_dismissUndoNotice:function u(){this.setState({showUndoNotice:false,timerIsSet:false})},render:function u(){var v=this.props,w=v.dateRangeType,x=v.eventName,y=v.fullDateRange,z=v.view,A=v.visibleDateRange,B=[],C=this._getActiveSubsection();if(this.state.showUndoNotice){if(!this.state.timerIsSet){this.setState({timerIsSet:true});setTimeout(this._dismissUndoNotice,2e4)}var D=i._("Has desactivado \"{event_name}\"",[i.param("event_name",'"'+this.state.eventNameOnNotice+'"')]),E=c("React").createElement("div",null,c("React").createElement("span",{className:"_2pih"},i._("No se registrar\u00e1n datos de este evento mientras est\u00e9 desactivado.")),c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this._handleUndo},i._("Deshacer")));B.push(c("React").createElement(c("FalcorNotice"),{className:"_3-98",noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,message:D,subtext:E,dismissButton:{onClick:this._dismissUndoNotice,text:"dismiss"}}))}if(x)if(z===c("FalcorCommonViews").EDIT)B=this._renderEventEditCards();else B=this._renderEventDetailCards();else if(C===q)B.push(this._renderEventOverview());else{C===o||C===p||j(0);var F=c("BonsaiAppEventTypesUtils").nonSocialPluginEventCount();if(F===0)B.push(c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty_state",cmsKey:"events"}));else B.push(this._renderEventOverview())}var G=this._getButtons().map(function(K){var L=K.disabled,M=K.onClick,N=K.text,O=K.use,P=K.tooltip;return c("React").createElement(c("GriffinButton"),{disabled:L,key:N,label:N,onClick:M,use:O,tooltip:P,"data-tooltip-position":"below"})}),H=C===l,I=H||C===m,J=C===l||C===o||C===m;return c("React").createElement(c("GriffinDefaultSectionController"),{buttons:G,dateRangeType:w,fullDateRange:y,showCompare:H,showDatePicker:J,showSegments:I,visibleDateRange:A},this._renderDeactivationDialog(),this._renderLifetimeValueSectionUpsell(),this._getInsightCarousel(),this._getSamplingDisclosure(),B)},_showCarouselAndSamplingDisclosure:function u(){var v=[c("GriffinSections").ACTIVE_USERS,c("GriffinSections").REVENUE];return v.includes(this.props.sectionKey)},_getSamplingDisclosure:function u(){return this._showCarouselAndSamplingDisclosure()?c("React").createElement(c("GriffinSamplingDisclosureController"),null):null},_getInsightCarousel:function u(){var v=String(this.props.sectionKey)+"_insights_carousel",w=this._showCarouselAndSamplingDisclosure()?c("React").createElement(c("AnalyticsInsightsCarousel"),{key:v,section:this.props.sectionKey}):null;return w},_getButtons:function u(){var v=this._getActiveSubsection(),w=c("CustomEventStore").getEvent(this.props.eventName);if(!w||v===o)return[];else if(this.props.view===c("FalcorCommonViews").EDIT)return[this._getSaveButton(),this._getCancelButton(),this._getDeactivateButton(w.is_protected)];else if(w.is_deprecated)return[this._getActivateButton()];else if(!this.props.isTopLevelSection)return[this._getEditButton()];else return[]},_getCancelButton:function u(){return{text:i._("Cancelar"),onClick:this._handleCancel}},_handleCancel:function u(){this._logHeaderButtonClick("cancel");c("CustomEventActions").revertToSavedEventConfig();c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS,this.props.eventName).go()},_getSaveButton:function u(){return{disabled:c("AnalyticsUntypedUIUtils").getEventOrParameterEditDisabled()||c("CustomEventStore").appNeedsMoreEventsToCreateFeature(this.props.section),onClick:this._handleSave,text:i._("Guardar"),use:"confirm"}},_getEditButton:function u(){var v=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS,this.props.eventName,c("FalcorCommonViews").EDIT),w=c("AnalyticsUntypedUIUtils").getEventOrParameterEditDisabled(),x=c("AnalyticsUntypedUIUtils").getEventOrParameterDeactivationTooltip();return{disabled:w,text:i._("Editar"),onClick:function(){this._logHeaderButtonClick("edit");v.go()}.bind(this),use:"confirm",tooltip:x}},_getDeactivateButton:function u(v){return{disabled:c("AnalyticsUntypedUIUtils").getEventOrParameterEditDisabled()||v,onClick:this._handleDeactivation,text:i._("Desactivar"),tooltip:!v?null:i._("Los eventos integrados no se pueden desactivar")}},_getActivateButton:function u(){var v=c("AnalyticsUntypedUIUtils").getEventOrParameterEditDisabled(),w=c("AnalyticsUntypedUIUtils").getEventOrParameterDeactivationTooltip(),x=c("CustomEventStore").getActiveEventCount()>=s;return{onClick:this._handleActivation,text:i._("Activar"),disabled:x||v,tooltip:w}},_getOverviewURI:function u(){return c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS)},onActionComplete:function u(){var v=this._getOverviewURI();v.go()},_handleDeactivation:function u(){this._logHeaderButtonClick("deactivate");this.setState({showDeactivationDialog:true})},_hideDeactivationDialog:function u(){this.setState({showDeactivationDialog:false})},_renderDeactivationDialog:function u(){if(!this.state.showDeactivationDialog)return null;var v=c("CustomEventStore").getEvent(this.props.eventName),w=i._("Cancelar"),x=c("React").createElement(c("GriffinButton"),{label:w,onClick:this._hideDeactivationDialog,size:"xlarge"}),y=i._("Desactivar evento"),z=c("React").createElement(c("GriffinButton"),{label:y,onClick:this._deactivateEvent,use:"confirm",size:"xlarge"}),A=[z,x],B=i._("\u00bfSeguro?"),C=v.display_name,D=i._("Si desactivas \"{event_name}\", no se recopilar\u00e1n datos de este evento salvo que lo vuelvas a activar en el futuro. No se recopilar\u00e1 informaci\u00f3n mientras el evento est\u00e9 desactivado.",[i.param("event_name",C)]);return c("React").createElement(c("GriffinDialog"),{title:B,text:D,footerButtons:A,onClose:this._hideDeactivationDialog})},_renderLifetimeValueSectionUpsell:function u(){if(this.props.sectionKey!==c("GriffinSections").REVENUE)return null;return c("React").createElement(c("GriffinLifetimeValueSectionUpsell"),null)},_deactivateEvent:function u(){var v=c("CustomEventStore").getEvent(this.props.eventName);this.setState({showUndoNotice:true,eventNameOnNotice:v.display_name,eventLastInactive:v.name,showDeactivationDialog:false});c("CustomEventActions").deactivateEvent(v.name);this.onActionComplete()},_handleActivation:function u(){this._logHeaderButtonClick("activate");c("CustomEventActions").activateEvent(this.props.eventName)},_handleUndo:function u(){this._dismissUndoNotice();if(!this.state.eventLastInactive)return;c("CustomEventActions").activateEvent(this.state.eventLastInactive)},_nameDescUpdate:function u(v,w){c("CustomEventActions").addEventNameDescChange(this.props.eventName,v,w)},_handleSave:function u(){if(!this.props.eventName)return;this._logHeaderButtonClick("save");c("CustomEventActions").saveEventConfig();c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS,this.props.eventName,c("FalcorCommonViews").DETAILS).go()},_logHeaderButtonClick:function u(v){c("InsightsEventLogger").logEvent({eventName:"appevents_"+v+"_click",event:this.props.eventName})},_renderEmptyEventDetailCard:function u(){var v=this.props,w=v.isTopLevelSection,x=v.sectionKey;if(w)return c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty_state",cmsKey:x});return null}});f.exports=t}),null);
__d("GriffinCustomEventsTimeSpentTrendsCard",["invariant","AnalyticsQueryMetric","AppCustomEventType","BonsaiApiBreakdown","GriffinCustomEventsTrendsCard","InsightsContext","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=[c("AnalyticsQueryMetric").MEDIAN_VALUE,c("AnalyticsQueryMetric").MEDIAN_VALUE_PER_USER,c("AnalyticsQueryMetric").COUNT];i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$GriffinCustomEventsTimeSpentTrendsCard1=function(){return c("InsightsContext").getActiveCardName()==="timeSpent"&&c("InsightsContext").getActiveTabName()?c("InsightsContext").getActiveTabName():c("AnalyticsQueryMetric").MEDIAN_VALUE};l.prototype.$GriffinCustomEventsTimeSpentTrendsCard2=function(){return c("InsightsContext").getActiveCardName()==="timeSpent"&&c("InsightsContext").getActiveBreakdownName()?c("InsightsContext").getActiveBreakdownName():c("BonsaiApiBreakdown").NONE};l.prototype.render=function(){this.props.eventName===c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP||h(0);return c("React").createElement(c("GriffinCustomEventsTrendsCard"),{activeBreakdown:this.$GriffinCustomEventsTimeSpentTrendsCard2(),activeSection:this.$GriffinCustomEventsTimeSpentTrendsCard1(),allSections:k,cardKey:"TRENDS",comparisonSegment:this.props.comparisonSegment,eventName:this.props.eventName,isComparing:this.props.isComparing,sectionKey:this.props.sectionKey,segment:this.props.segment,visibleDateRange:this.props.visibleDateRange})};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("GriffinCardHeaderControl",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.label,o=m.children;n=n?i._("{label}:",[i.param("label",n)]):null;return c("React").createElement("span",{className:"_3-91"},c("React").createElement("span",{className:"_1mtb"},n),o)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("GriffinSelector",["React","SUIAnalyticsGriffinTheme","SUISelector.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUISelector.react"),babelHelpers["extends"]({},this.props,{theme:c("SUIAnalyticsGriffinTheme")}))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("GriffinSelectorOption",["React","SUIAnalyticsGriffinTheme","SUISelectorOption.react"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){return c("React").createElement(c("SUISelectorOption.react"),babelHelpers["extends"]({},i,{theme:c("SUIAnalyticsGriffinTheme")}))};f.exports=h}),null);
__d("GriffinMetricSelector",["fbt","AnalyticsMetricConfigs","AnalyticsQueryMetric","BonsaiApiBreakdown","BonsaiContextualHelp","GriffinCardHeaderControl","GriffinSelector","GriffinSelectorOption","LeftRight.react","React","SUIBusinessTheme","SUISimplePopover.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.$GriffinMetricSelector1(),m=this.props,n=m.activeMetric,o=m.eventNames,p=o.length===1?o[0]:null,q=l.map(function(s){var t,r=c("AnalyticsMetricConfigs").getMetricLabel(s,p),u=(t=this.props.helpKeys)!=null?t[s]:t;return c("React").createElement(c("GriffinSelectorOption"),{key:s,value:s},u?this.$GriffinMetricSelector2(r,u):r)}.bind(this)),r=h._("Resultado");return c("React").createElement(c("GriffinCardHeaderControl"),{label:r},c("React").createElement(c("GriffinSelector"),{disabled:this.props.disabled,label:c("AnalyticsMetricConfigs").getMetricLabel(n,p),onChange:this.props.onChange,onOpen:this.props.onOpen,value:n},q))};k.prototype.$GriffinMetricSelector2=function(l,m){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,l),c("React").createElement("div",{style:{marginLeft:8,marginRight:-16}},c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement(c("BonsaiContextualHelp"),{helpKey:m}),theme:c("SUIBusinessTheme")})))};k.prototype.$GriffinMetricSelector1=function(){var l=this.$GriffinMetricSelector3();return this.props.allMetrics.filter(function(m){return m!==c("AnalyticsQueryMetric").MAU_WAU_DAU&&m!==c("AnalyticsQueryMetric").STICKINESS||l})};k.prototype.$GriffinMetricSelector3=function(){var l=this.props.selectedBreakdown;return!l||l===c("BonsaiApiBreakdown").NONE};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinTimeIntervalSelector",["fbt","AnalyticsMetricConfigs","AggregationPeriods$FbtEnum","GriffinCardHeaderControl","GriffinSelector","GriffinSelectorOption","React","AppEventQueryAggregationPeriod","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.selectedMetric,n=l.timeInterval,o=l.disabledTooltip,p=Object.keys(c("AppEventQueryAggregationPeriod")).map(function(w){if(c("AppEventQueryAggregationPeriod")[w]===c("AppEventQueryAggregationPeriod").RANGE)return null;var x=c("AppEventQueryAggregationPeriod")[w],q=h._({"DAY":"Diario","HOUR":"Cada hora","MONTH":"Mensual","RANGE":"Intervalo","WEEK":"Semanal"},[h["enum"](w,c("AggregationPeriods$FbtEnum"))]);return c("React").createElement(c("GriffinSelectorOption"),{key:w,value:x},q)}).filter(function(w){return!!w}),q=h._("Intervalo de tiempo"),r=!c("AnalyticsMetricConfigs").metricSupportsIntervalSelection(m),s=o?o:r?h._("Selecciona un resultado diferente para cambiar el intervalo de tiempo."):null,t=r||this.props.disabled,u=n===c("AppEventQueryAggregationPeriod").RANGE?h._("Ninguno"):null,v=n===c("AppEventQueryAggregationPeriod").RANGE?null:n;return c("React").createElement(c("GriffinCardHeaderControl"),{label:q},c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:s},c("React").createElement(c("GriffinSelector"),{disabled:t,onChange:this.props.onChange,onOpen:this.props.onOpen,placeholder:u,value:v},p)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinTimeSeriesBreakdownSelector",["fbt","AnalyticsGKNames","AnalyticsGKs","BonsaiApiBreakdown","GriffinCardHeaderControl","GriffinBreakdownSearchableSelector","React","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$GriffinTimeSeriesBreakdownSelector1=function(q){var r=q.getUniqueID();this.props.onChange(r)}.bind(this),m}k.prototype.render=function(){var l=this.props,m=l.breakdown,n=l.eventName,o=l.isDisabled,p=l.disabledMessage,q=l.showDemoBreakdowns,r=h._("Mostrar por"),s=null;if(o)switch(p){case"wrong_metric":s=h._("To see breakdowns by platform, demographics and more, please select a different metric.");break;case"more_than_one_event":s=h._("To see breakdowns by platform, demographics and more in line chart, please select only one event.");break}return c("React").createElement(c("GriffinCardHeaderControl"),{label:r},c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:s},c("React").createElement(c("GriffinBreakdownSearchableSelector"),{event:n,isDisabled:o,onChange:this.$GriffinTimeSeriesBreakdownSelector1,onOpened:this.props.onOpened,selectedBreakdown:m,showDemoBreakdowns:Boolean(q),showHighCardinalityBreakdowns:c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_SHOW_ADDITIONAL_BREAKDOWNS),showOverall:true,width:"auto"})))};k.defaultProps={breakdown:c("BonsaiApiBreakdown").NONE,disabledMessage:"wrong_metric"};f.exports=k}),null);
__d("GriffinCustomEventsTrendsCard",["AnalyticsDateUtils","AnalyticsMetricConfigs","AnalyticsQEUniverses","AnalyticsQEUtils","BonsaiApiBreakdown","GriffinCustomEventsTrendsCardChart","GriffinMetricSelector","GriffinSections","GriffinTimeIntervalSelector","GriffinTimeSeriesBreakdownSelector","InsightsEventLogger","React","AppEventQueryAggregationPeriod"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={COUNT:"CustomEventsCount",MAU_WAU_DAU:"CustomEventsUsers",UNIQUE_USERS:"CustomEventsDaily",STICKINESS:"CustomEventsSticky",COUNT_PER_USER:"CustomEventsAverageEventsPerUser",VALUE:"CustomEventsValue",VALUE_PER_EVENT:"CustomEventsAverageValuePerEvent",VALUE_PER_USER:"CustomEventsAverageValuePerUser",MEDIAN_VALUE:"CustomEventsMedianValue",MEDIAN_VALUE_PER_USER:"CustomEventsMedianValuePerUser",OVERLAP:"CustomEventsOverlap"};h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$GriffinCustomEventsTrendsCard13=function(q){c("InsightsEventLogger").logEvent({eventName:"event_breakdown_change",event:this.props.eventName,selected_breakdown:q});this.setState({activeBreakdown:q})}.bind(this),this.$GriffinCustomEventsTrendsCard14=function(q){if(q!==this.state.timeGranularity){c("InsightsEventLogger").logEvent({eventName:"event_time_granularity_change",time_granularity:q});this.setState({timeGranularity:q})}}.bind(this),this.$GriffinCustomEventsTrendsCard11=function(q){var r={activeSection:q};if(!c("AnalyticsMetricConfigs").metricSupportsBreakdowns(q))r=babelHelpers["extends"]({},r,{activeBreakdown:c("BonsaiApiBreakdown").NONE});if(!c("AnalyticsMetricConfigs").metricSupportsIntervalSelection(q))r=babelHelpers["extends"]({},r,{timeGranularity:c("AppEventQueryAggregationPeriod").DAY});c("InsightsEventLogger").logEvent({eventName:"event_chart_type_change",active_section:q});this.setState(r)}.bind(this),this.state={activeSection:this.$GriffinCustomEventsTrendsCard8(this.props),activeBreakdown:this.$GriffinCustomEventsTrendsCard9(this.props),isEmpty:false,isLoading:false,timeGranularity:this.$GriffinCustomEventsTrendsCard10(this.props)},m}k.prototype.componentWillReceiveProps=function(l){var m=this.$GriffinCustomEventsTrendsCard1(l),n=this.$GriffinCustomEventsTrendsCard2(l);if(m!==this.state.activeSection||n!==this.state.activeBreakdown)this.setState({activeSection:m,activeBreakdown:n})};k.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{card_section:this.state.activeSection,card_breakdown:this.state.activeBreakdown,event:this.props.eventName})};k.prototype.componentDidUpdate=function(l,m){if(this.props.eventName!==l.eventName||this.state.activeSection!==m.activeSection||this.state.activeBreakdown!==m.activeBreakdown||!c("AnalyticsDateUtils").isDateRangeSame(l.visibleDateRange,this.props.visibleDateRange))c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey.toLowerCase(),this.props.visibleDateRange,{card_section:this.state.activeSection,card_breakdown:this.state.activeBreakdown,event:this.props.eventName})};k.prototype.$GriffinCustomEventsTrendsCard3=function(){return[this.$GriffinCustomEventsTrendsCard4(),this.$GriffinCustomEventsTrendsCard5(),this.$GriffinCustomEventsTrendsCard6()]};k.prototype.$GriffinCustomEventsTrendsCard7=function(){return this.props.sectionKey===c("GriffinSections").ACTIVE_USERS&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_CONTEXTUAL_TOOLTIPS)};k.prototype.render=function(){var l={key:j[this.state.activeSection],title:c("AnalyticsMetricConfigs").getMetricLabel(this.state.activeSection,this.props.eventName)};return c("React").createElement(c("GriffinCustomEventsTrendsCardChart"),{activeSection:this.state.activeSection,activeBreakdown:this.state.activeBreakdown,allSections:this.props.allSections,cardKey:this.props.cardKey,comparisonSegment:this.props.comparisonSegment,eventName:this.props.eventName,segment:this.props.segment,visibleDateRange:this.props.visibleDateRange,buttons:this.$GriffinCustomEventsTrendsCard3(),helpText:this.$GriffinCustomEventsTrendsCard7()?null:l,timeGranularity:this.state.timeGranularity,isComparing:this.props.isComparing})};k.prototype.$GriffinCustomEventsTrendsCard8=function(l,m){var n=l.allSections;if(n.some(function(o){return o===l.activeSection}))return l.activeSection;return n[0]};k.prototype.$GriffinCustomEventsTrendsCard9=function(l){return l.activeBreakdown};k.prototype.$GriffinCustomEventsTrendsCard10=function(l){var m=l.visibleDateRange,n=c("AnalyticsMetricConfigs").metricSupportsIntervalSelection(l.activeSection)&&c("AnalyticsDateUtils").isTwentyFourHoursOrLess(m);return n?c("AppEventQueryAggregationPeriod").HOUR:c("AppEventQueryAggregationPeriod").DAY};k.prototype.$GriffinCustomEventsTrendsCard1=function(l){if(this.props.eventName!==l.eventName||!l.allSections.some(function(m){return m===this.state.activeSection}.bind(this)))return this.$GriffinCustomEventsTrendsCard8(l,this.state);return this.state.activeSection};k.prototype.$GriffinCustomEventsTrendsCard2=function(l){if(this.props.eventName!==l.eventName)return this.$GriffinCustomEventsTrendsCard9(l);return this.state.activeBreakdown};k.prototype.$GriffinCustomEventsTrendsCard4=function(){return c("React").createElement(c("GriffinMetricSelector"),{allMetrics:this.props.allSections,activeMetric:this.state.activeSection,eventNames:[this.props.eventName],key:"metricSelector",onChange:this.$GriffinCustomEventsTrendsCard11,onOpen:function(){return c("InsightsEventLogger").logEvent({eventName:"event_chart_type_selector_open",event:this.props.eventName})}.bind(this),selectedBreakdown:this.$GriffinCustomEventsTrendsCard12(),helpKeys:this.$GriffinCustomEventsTrendsCard7()?j:null})};k.prototype.$GriffinCustomEventsTrendsCard12=function(){return this.state?this.state.activeBreakdown:this.props.activeBreakdown||c("BonsaiApiBreakdown").NONE};k.prototype.$GriffinCustomEventsTrendsCard6=function(){var l=this.state.activeSection,m=!c("AnalyticsMetricConfigs").metricSupportsBreakdowns(l);return c("React").createElement(c("GriffinTimeSeriesBreakdownSelector"),{breakdown:this.state.activeBreakdown,isDisabled:m,key:"breakdownSelector",onChange:this.$GriffinCustomEventsTrendsCard13,onOpened:function(){return c("InsightsEventLogger").logEvent({eventName:"event_breakdown_selector_open",event:this.props.eventName})}.bind(this),eventName:this.props.eventName})};k.prototype.$GriffinCustomEventsTrendsCard5=function(){return c("React").createElement(c("GriffinTimeIntervalSelector"),{onChange:this.$GriffinCustomEventsTrendsCard14,onOpen:function(){return c("InsightsEventLogger").logEvent({eventName:"event_time_granularity_selector_open",event:this.props.eventName})}.bind(this),key:"timeGranularitySelector",selectedMetric:this.state.activeSection,timeInterval:this.state.timeGranularity})};k.prototype.$GriffinCustomEventsTrendsCard15=function(l){if(l!==this.state.isEmpty)this.setState({isEmpty:l})};k.prototype.$GriffinCustomEventsTrendsCard16=function(l){if(l!==this.state.isLoading)this.setState({isLoading:l})};f.exports=k}),null);
__d("FalcorExportDataMixin",["AppEventQueryAggregationPeriod","BonsaiApiBreakdown","BonsaiText"],(function a(b,c,d,e,f,g){"use strict";var h={_activeConfig:null,_activeBreakdown:null,_aggregationPeriod:null,setExportInfo:function i(j,k,l){this._activeConfig=j;this._activeBreakdown=k;this._aggregationPeriod=l},getExportData:function i(){var j=[],k=this._activeBreakdown;this._activeConfig.map(function(l){var m,n=[l.data],o=[l.title];if(k&&k!==c("BonsaiApiBreakdown").NONE)(function(){var q=l.data.groupBy(k);o=Object.keys(q);n=o.map(function(r){return q[r]})})();var p=this._aggregationPeriod===c("AppEventQueryAggregationPeriod").HOUR;n.forEach(function(q,r){q=q.getTimeSeries(null,!p);j.push({header:c("BonsaiText").getBucketLabel(o[r],k||c("BonsaiApiBreakdown").NONE),body:q.map(function(s){return{time:s[0],value:s[1]}})})})}.bind(this));return j}};f.exports=h}),null);
__d("GriffinCustomEventsTrendsCardChart",["fbt","invariant","CandelaConstants","DateConsts","AnalyticsAcquisitionSourceNames","AnalyticsBuiltInBreakdowns","AnalyticsCandelaUtils","AnalyticsCard","AnalyticsChartType","AnalyticsDashboardQueryUtils","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsQueryAggregationMethod","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsGKNames","AnalyticsGKs","AppCustomEventType","AppEventMetricText","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiText","BUIInsightsHoverCardChart.react","CustomEventStore","FalcorErrorNotice","FalcorExportDataMixin","FalcorLoadingCard","GriffinChartContainer","GriffinDashboardAggregationChartPinModal.react","GriffinPinButton","GriffinSegmentUtils","InsightsContext","BUIInsightsLineAreaChart.react","React","AppEventQueryAggregationPeriod","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("CandelaConstants").ScaleType,k=c("DateConsts").SEC_PER_MIN,l=c("CandelaGroupScaleBuilder").group,m=300,n="timestamp",o={COUNT:"COUNT",MAU_WAU_DAU:"MAU_WAU_DAU",UNIQUE_USERS:"UNIQUE_USERS",STICKINESS:"STICKINESS",COUNT_PER_USER:"COUNT_PER_USER",VALUE:"VALUE",VALUE_PER_EVENT:"VALUE_PER_EVENT",VALUE_PER_USER:"VALUE_PER_USER",MEDIAN_VALUE:"MEDIAN_VALUE",MEDIAN_VALUE_PER_USER:"MEDIAN_VALUE_PER_USER"},p=c("React").createClass({displayName:"GriffinCustomEventsTrendsCardChart",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("FalcorExportDataMixin")],getInitialState:function q(){return{acquisitionSourceNamesLoaded:false,comparisonMauWauData:null,comparisonMedianPerUserData:null,comparisonNonMauWauData:null,error:null,mauWauData:null,medianPerUserData:null,nonMauWauData:null,showPinModal:false}},componentWillReceiveProps:function q(r){if(this._shouldFetchData(r,this.props)||this.props.activeBreakdown!==r.activeBreakdown||this.props.timeGranularity!==r.timeGranularity){this.setState({acquisitionSourceNamesLoaded:false,medianPerUserData:null,nonMauWauData:null,mauWauData:null,comparisonMedianPerUserData:null,comparisonNonMauWauData:null,comparisonMauWauData:null,error:null});this._fetchData(r)}},render:function q(){var r=this.props,s=r.activeBreakdown,t=r.activeSection,u=r.comparisonSegment,v=r.eventName,w=r.isComparing,x=r.segment,y=r.timeGranularity,z=this._getChartConfigs();this._setExportData(z.configs);var A=v+"+"+t+"+"+s,B=void 0;if(t===o.MAU_WAU_DAU)B=!this.state.mauWauData||w&&!this.state.comparisonMauWauData;else if(t===o.MEDIAN_VALUE_PER_USER)B=!this.state.medianPerUserData||w&&!this.state.comparisonMedianPerUserData;else B=!this.state.nonMauWauData||w&&!this.state.comparisonNonMauWauData;var C=void 0;if(B||this.state.error)C=this.state.error?c("React").createElement(c("FalcorErrorNotice"),{message:this.state.error.getMessage()}):c("React").createElement(c("FalcorLoadingCard"),{height:m,showCard:false});else{var D=this._getData(),E=this._getSchema(),F=w?c("AnalyticsCandelaUtils").Comparisons.getLegendLabelForStandardSegment(x):null,G=w?c("AnalyticsCandelaUtils").Comparisons.getLegendLabelForComparisonSegment(u):null,H=this._getMetricsForSection(t),I=c("AnalyticsCandelaUtils").Timeseries.getItemsFromSchema(E,D),J=I.map(function(R){return R.key}).toJS(),K=c("AnalyticsCandelaUtils").Timeseries.getFormatterFactory(H),L=c("AnalyticsCandelaUtils").Timeseries.getTitleElementFactory(y,this.props.visibleDateRange.until,c("AnalyticsDateRangeStore").getTimezoneID()),M=c("AnalyticsCandelaUtils").Timeseries.getIndependentScaleBuilder(E,D,this.props.timeGranularity,c("AnalyticsDateRangeStore").getTimezoneID());C=c("React").createElement(c("GriffinChartContainer"),{chartKey:"events_time_series",comparisonLegendLabel:G,dependentScaleName:"plotY",legendLabel:F},c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:I,formatterFactory:K,titleElementGetter:L},c("React").createElement(c("BUIInsightsLineAreaChart.react"),{data:D,height:m,plotX:M,plotY:[l.apply(this,J).from(0).roundInput()],ref:"chart",schema:E,styles:{'axis[orientation="vertical"][alignment="left"]':{width:50}},until:this.props.visibleDateRange.until})))}var N=this.state.nonMauWauData&&z.configs.every(function(R){return R.data===null}),O=c("CustomEventStore").getAppEventDisplayName(v),P=c("AppEventMetricText").tooltip[v];if(v===c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP&&(!c("AnalyticsGKs").get(c("AnalyticsGKNames").WEB_SESSION)||c("InsightsContext").isPixel()))P=null;var Q=this.state.showPinModal?c("React").createElement(c("GriffinDashboardAggregationChartPinModal.react"),{chartType:c("AnalyticsChartType").TIME_SERIES,placeholderChartName:O,onClose:this._closePinModal,queryConfigs:this._getPinChartQueryConfigs()}):null;return c("React").createElement(c("AnalyticsCard"),{aggregationPeriod:this.props.timeGranularity,buttons:this.props.buttons,cardKey:this.props.cardKey,exportFilename:A,getExportData:this._onExportClick,helpText:this.props.helpText,hidden:N,pinButton:this._getPinButton(),title:O,tooltip:P},C,Q)},_getPinChartQueryConfigs:function q(){var r=this.props,s=r.activeBreakdown,t=r.activeSection,u=r.eventName,v=r.segment,w=r.timeGranularity,x=r.visibleDateRange,y=s!==c("BonsaiApiBreakdown").NONE?[s]:[];return c("AnalyticsDashboardQueryUtils").getChartQueryConfigs(w,y,x,u,t,v)},_getPinButton:function q(){return c("React").createElement(c("GriffinPinButton"),{disabled:false,key:"pin",onClick:this._showPinModal,showNUX:this.props.cardKey==="TRENDS",chartKey:"event"})},_shouldQueryMAUWAU:function q(r){var s=r.activeBreakdown||c("BonsaiApiBreakdown").NONE,t=s===c("BonsaiApiBreakdown").NONE;return t},_getAggregationsToQuery:function q(r){if(r.eventName===c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP)return[c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE,c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER,c("AnalyticsQueryAggregationMethod").COUNT];var s=[c("AnalyticsQueryAggregationMethod").COUNT,c("AnalyticsQueryAggregationMethod").SUM,c("AnalyticsQueryAggregationMethod").USD_SUM,c("AnalyticsQueryAggregationMethod").USERS],t=r.allSections.some(function(u){return u===(o.STICKINESS||u===o.MAU_WAU_DAU)&&this._shouldQueryMAUWAU(r)}.bind(this));if(t){s.push(c("AnalyticsQueryAggregationMethod").MAU);s.push(c("AnalyticsQueryAggregationMethod").WAU);s.push(c("AnalyticsQueryAggregationMethod").DAU)}return s},_getQuery:function q(r,s,t,u,v){var w=r.eventName,x=r.timeGranularity,y=r.activeBreakdown,z=y!==c("BonsaiApiBreakdown").NONE?[y]:[],A=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(w).setAggregations(s).setAggregationPeriod(x).setBreakdowns(z).setFilters(c("GriffinSegmentUtils").getFilters(t)).setSince(c("AnalyticsDateUtils").getTimestampForQueryAPI(u.since)).setUntil(c("AnalyticsDateUtils").getTimestampForQueryAPI(u.until)).setTag(v);return{query:A,onQueryData:function(B){var C;this.setState((C={},C[v]=B,C));this._loadAcquisitionSourceNames(z,B)}.bind(this),onQueryError:function(B){return this.setState({error:B})}.bind(this)}},_getQueries:function q(r){var s=r.timeGranularity,t=this._getAggregationsToQuery(r),u=t.filter(function(G){return G!==c("AnalyticsQueryAggregationMethod").MAU&&G!==c("AnalyticsQueryAggregationMethod").WAU&&G!==c("AnalyticsQueryAggregationMethod").DAU&&G!==c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER}),v=t.filter(function(G){return G===c("AnalyticsQueryAggregationMethod").MAU||G===c("AnalyticsQueryAggregationMethod").WAU||G===c("AnalyticsQueryAggregationMethod").DAU}),w=t.filter(function(G){return G===c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER}),x=r.segment,y=r.comparisonSegment,z=this._getQuery(r,u,x,r.visibleDateRange,"nonMauWauData"),A=this._getQuery(r,u,y,r.visibleDateRange,"comparisonNonMauWauData"),B=[z,A];if(v.length>0&&s===c("AppEventQueryAggregationPeriod").DAY){var C=this._getQuery(r,v,x,r.visibleDateRange,"mauWauData"),D=this._getQuery(r,v,y,r.visibleDateRange,"comparisonMauWauData");B.push(C,D)}if(w.length>0){var E=this._getQuery(r,w,x,r.visibleDateRange,"medianPerUserData"),F=this._getQuery(r,w,y,r.visibleDateRange,"comparisonMedianPerUserData");B.push(E,F)}return B},_getMetricsForSection:function q(r){var s=this.state.nonMauWauData,t=s&&s.hasUSDValue(),u=t?c("AnalyticsQueryAggregationMethod").USD_SUM:c("AnalyticsQueryAggregationMethod").SUM;switch(r){case o.MAU_WAU_DAU:return[{aggregations:[c("AnalyticsQueryAggregationMethod").MAU],label:c("AppEventMetricText").monthly_users[this.props.eventName]||c("AppEventMetricText").monthly_users["default"]},{aggregations:[c("AnalyticsQueryAggregationMethod").WAU],label:c("AppEventMetricText").weekly_users[this.props.eventName]||c("AppEventMetricText").weekly_users["default"]},{aggregations:[c("AnalyticsQueryAggregationMethod").DAU],label:c("AppEventMetricText").daily_users[this.props.eventName]||c("AppEventMetricText").daily_users["default"]}];case o.COUNT:return[{aggregations:[c("AnalyticsQueryAggregationMethod").COUNT],label:c("AppEventMetricText").count[this.props.eventName]||c("AppEventMetricText").count["default"]}];case o.UNIQUE_USERS:return[{aggregations:[c("AnalyticsQueryAggregationMethod").USERS],label:c("AppEventMetricText").unique_users[this.props.eventName]||c("AppEventMetricText").unique_users["default"]}];case o.STICKINESS:return[{aggregations:[c("AnalyticsQueryAggregationMethod").DAU,c("AnalyticsQueryAggregationMethod").MAU],label:c("AppEventMetricText").stickiness["default"],metricCalculationFn:function v(w){var x=w[0],y=w[1];if(y===0)return 0;return x/y},scaleType:j.PERCENTAGE}];case o.COUNT_PER_USER:return[{aggregations:[c("AnalyticsQueryAggregationMethod").COUNT,c("AnalyticsQueryAggregationMethod").USERS],label:c("AppEventMetricText").count_average[this.props.eventName]||c("AppEventMetricText").count_average["default"],metricCalculationFn:function v(w){var x=w[0],y=w[1];if(y===0)return 0;return x/y}}];case o.VALUE:return[{aggregations:[u],label:t?this._getUSDCurrencyLabel():c("AppEventMetricText").value[this.props.eventName]||c("AppEventMetricText").value["default"]}];case o.VALUE_PER_EVENT:return[{aggregations:[u,c("AnalyticsQueryAggregationMethod").COUNT],label:t?this._getUSDCurrencyLabel():c("AppEventMetricText").value_event_average[this.props.eventName]||c("AppEventMetricText").value_event_average["default"],metricCalculationFn:function v(w){var x=w[0],y=w[1];if(y===0)return 0;return x/y}}];case o.VALUE_PER_USER:return[{aggregations:[u,c("AnalyticsQueryAggregationMethod").USERS],label:t?this._getUSDCurrencyLabel():c("AppEventMetricText").value_user_average[this.props.eventName]||c("AppEventMetricText").value_user_average["default"],metricCalculationFn:function v(w){var x=w[0],y=w[1];if(y===0)return 0;return x/y}}];case o.MEDIAN_VALUE:return[{aggregations:[c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE],label:c("AppEventMetricText").value_event_average[this.props.eventName]||c("AppEventMetricText").value_event_average["default"],metricCalculationFn:function v(w){var x=w[0];return x/k}}];case o.MEDIAN_VALUE_PER_USER:return[{aggregations:[c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER],label:c("AppEventMetricText").value_user_average[this.props.eventName]||c("AppEventMetricText").value_user_average["default"],metricCalculationFn:function v(w){var x=w[0];return x/k}}]}return[]},_getSectionSupportsBreakdowns:function q(r){return r!==o.MAU_WAU_DAU&&r!==o.STICKINESS},_getBreakdown:function q(r){if(!this._getSectionSupportsBreakdowns(r)||this.props.activeBreakdown==="none")return null;return this.props.activeBreakdown},_getSchema:function q(){var r=c("AnalyticsDateRangeStore").getTimezoneID(),s=this.props.activeSection,t=this._getMetricsForSection(s),u=this._getBreakdown(s),v=c("AnalyticsCandelaUtils").Timeseries.getSchemaFromResult(this.state.nonMauWauData,t,u,r,this.props.eventName),w=this.props.isComparing?c("AnalyticsCandelaUtils").Comparisons.getComparisonSchema(c("AnalyticsCandelaUtils").Timeseries.getSchemaFromResult(this.state.comparisonNonMauWauData,t,u,r,this.props.eventName)):null;return babelHelpers["extends"]({},v,w)},_getData:function q(){var r,s,t=this.props.activeSection,u=this._getMetricsForSection(t),v=this._getQueryResult();if(!v)return[];var w=u.map(function(B){return c("AnalyticsCandelaUtils").Timeseries.getDataFromResult(v,B,this._getBreakdown(t))}.bind(this)),x=(r=c("AnalyticsCandelaUtils").Generic).mergeData.apply(r,[n].concat(w)),y=this._getComparisonQueryResult();if(!y)return x.sort(function(B,C){return Number(C[n])-Number(B[n])});var z=u.map(function(B){return c("AnalyticsCandelaUtils").Comparisons.getComparisonData(c("AnalyticsCandelaUtils").Timeseries.getDataFromResult(y,B,this._getBreakdown(t)),n)}.bind(this)),A=(s=c("AnalyticsCandelaUtils").Generic).mergeData.apply(s,[n].concat(z));return c("AnalyticsCandelaUtils").Generic.mergeData(n,x,A).sort(function(B,C){return Number(C[n])-Number(B[n])})},_getChartConfigs:function q(){var r,s=null,t=(r={},r[o.COUNT]=function(){return[this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").COUNT),c("AppEventMetricText").count[this.props.eventName]||c("AppEventMetricText").count["default"],"event_count_config")]}.bind(this),r[o.MAU_WAU_DAU]=function(){return[this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").MAU),c("AppEventMetricText").monthly_users[this.props.eventName]||c("AppEventMetricText").monthly_users["default"],"uniques_28")].concat([this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").WAU),c("AppEventMetricText").weekly_users[this.props.eventName]||c("AppEventMetricText").weekly_users["default"],"uniques_7")]).concat([this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USERS),c("AppEventMetricText").daily_users[this.props.eventName]||c("AppEventMetricText").daily_users["default"],"uniques_1")])}.bind(this),r[o.UNIQUE_USERS]=function(){return[this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USERS),c("AppEventMetricText").unique_users[this.props.eventName]||c("AppEventMetricText").unique_users["default"],"uniques_1")]}.bind(this),r[o.STICKINESS]=function(){return[this._makeChartConfig(this._getStickinessDataAdapter(),c("AppEventMetricText").stickiness["default"],"sticky_config")]}.bind(this),r[o.COUNT_PER_USER]=function(){return[this._makeChartConfig(this._getEventsPerUserDataAdapter(),c("AppEventMetricText").count_average[this.props.eventName]||c("AppEventMetricText").count_average["default"],"events_per_user_config")]}.bind(this),r[o.VALUE]=function(){var v=this._getValueAdapterHelper();return[this._makeChartConfig(v.adapter,v.currency?this._getUSDCurrencyLabel():c("AppEventMetricText").value[this.props.eventName]||c("AppEventMetricText").value["default"],"value_config")]}.bind(this),r[o.VALUE_PER_EVENT]=function(){var v=this._getValuePerEventAdapterHelper();return[this._makeChartConfig(v.adapter,v.currency?this._getUSDCurrencyLabel():c("AppEventMetricText").value_event_average[this.props.eventName]||c("AppEventMetricText").value_event_average["default"],"value_per_event_config")]}.bind(this),r[o.VALUE_PER_USER]=function(){var v=this._getValuePerUserAdapterHelper();return[this._makeChartConfig(v.adapter,v.currency?this._getUSDCurrencyLabel():c("AppEventMetricText").value_user_average[this.props.eventName]||c("AppEventMetricText").value_user_average["default"],"value_per_user_config")]}.bind(this),r[o.MEDIAN_VALUE]=function(){return[this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE),c("AppEventMetricText").value_event_average[this.props.eventName]||c("AppEventMetricText").value_event_average["default"],"median_value_config")]}.bind(this),r[o.MEDIAN_VALUE_PER_USER]=function(){return[this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER),c("AppEventMetricText").value_user_average[this.props.eventName]||c("AppEventMetricText").value_user_average["default"],"median_value_per_user_config")]}.bind(this),r),u=t[this.props.activeSection];u||i(0);return{configs:u(),currency:s}},_makeChartConfig:function q(r,s,t){return{data:r,title:s,type:"lines",key:t}},_getQueryResult:function q(){if(this.props.activeSection===o.MAU_WAU_DAU||this.props.activeSection===o.STICKINESS)return this.state.mauWauData;else if(this.props.activeSection===o.MEDIAN_VALUE_PER_USER)return this.state.medianPerUserData;else return this.state.nonMauWauData},_getComparisonQueryResult:function q(){if(this.props.activeSection===o.MAU_WAU_DAU||this.props.activeSection===o.STICKINESS)return this.state.comparisonMauWauData;else if(this.props.activeSection===o.MEDIAN_VALUE_PER_USER)return this.state.comparisonMedianPerUserData;else return this.state.comparisonNonMauWauData},_getDataAdapter:function q(r){var s=null;if(r===c("AnalyticsQueryAggregationMethod").WAU||r===c("AnalyticsQueryAggregationMethod").MAU)s=this.state.mauWauData;else if(r===c("AnalyticsQueryAggregationMethod").MEDIAN_VALUE_PER_USER)s=this.state.medianPerUserData;else s=this.state.nonMauWauData;if(!s)return null;var t=new(c("BonsaiApiDataAdapter"))(s.getResult([r]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true,true);if(r===c("AnalyticsQueryAggregationMethod").SUM||r===c("AnalyticsQueryAggregationMethod").USD_SUM){var u=t.getTotal();if(!u)return null;if(r===c("AnalyticsQueryAggregationMethod").SUM){var v=new(c("BonsaiApiDataAdapter"))(s.getResult([c("AnalyticsQueryAggregationMethod").USD_SUM]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true,true),w=v.getTotal();if(w)return null}}return t},_getEventsPerUserDataAdapter:function q(){var r=this._getDataAdapter(c("AnalyticsQueryAggregationMethod").COUNT),s=this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USERS);if(!r||!s)return null;return r.divideBy(s)},_getStickinessDataAdapter:function q(){var r=this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USERS),s=this._getDataAdapter(c("AnalyticsQueryAggregationMethod").MAU);if(!r||!s)return null;var t=r.divideBy(s);t.setValueFormatter(function(u){return parseFloat(u,10)*100});return t},_getValueAdapterHelper:function q(){var r=this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USD_SUM);if(r)return{adapter:r,currency:"USD"};else return{adapter:this._getDataAdapter(c("AnalyticsQueryAggregationMethod").SUM),currency:null}},_getValuePerEventAdapterHelper:function q(){var r=this._getValueAdapterHelper();if(r.adapter){var s=r.adapter;r.adapter=s.divideBy(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").COUNT))}return r},_getValuePerUserAdapterHelper:function q(){var r=this._getValueAdapterHelper();if(r.adapter){var s=r.adapter;r.adapter=s.divideBy(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").USERS))}return r},_getUSDCurrencyLabel:function q(){var r=c("BonsaiText").getLocalizedCurrencyName("USD");return h._("{currency} Valor",[h.param("currency",r)])},_loadAcquisitionSourceNames:function q(r,s){var t=r.filter(function(u){return u===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L1||u===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L2||u===c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L3});if(t.length>0){t.forEach(function(u){return c("AnalyticsAcquisitionSourceNames").addIDstoLoad(s.getBreakdownUniqueValues(u).toJS())});c("AnalyticsAcquisitionSourceNames").loadNames(function(){return this.setState({acquisitionSourceNamesLoaded:true})}.bind(this))}},_showPinModal:function q(){this.setState({showPinModal:true})},_closePinModal:function q(){this.setState({showPinModal:false})},_onExportClick:function q(){return this.getExportData()},_setExportData:function q(r){this.setExportInfo(r,this.props.activeBreakdown,this.props.timeGranularity)}});p.SECTIONS=o;f.exports=p}),null);
__d("GriffinCustomEventsValueTrendsCard",["AnalyticsQueryMetric","BonsaiApiBreakdown","GriffinCustomEventsTrendsCard","InsightsContext","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=[c("AnalyticsQueryMetric").VALUE,c("AnalyticsQueryMetric").VALUE_PER_EVENT,c("AnalyticsQueryMetric").VALUE_PER_USER];h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.$GriffinCustomEventsValueTrendsCard1=function(){return c("InsightsContext").getActiveCardName()==="values"&&c("InsightsContext").getActiveTabName()?c("InsightsContext").getActiveTabName():c("AnalyticsQueryMetric").VALUE};k.prototype.$GriffinCustomEventsValueTrendsCard2=function(){return c("InsightsContext").getActiveBreakdownName()||c("BonsaiApiBreakdown").NONE};k.prototype.render=function(){return c("React").createElement(c("GriffinCustomEventsTrendsCard"),{activeBreakdown:this.$GriffinCustomEventsValueTrendsCard2(),activeSection:this.$GriffinCustomEventsValueTrendsCard1(),allSections:j,cardKey:"VALUES",comparisonSegment:this.props.comparisonSegment,eventName:this.props.eventName,isComparing:this.props.isComparing,key:"values",sectionKey:this.props.sectionKey,segment:this.props.segment,visibleDateRange:this.props.visibleDateRange})};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("GriffinEventDebuggingCard",["ix","cx","fbt","AnalyticsCard","BonsaiApiBreakdown","CustomEventStore","FalcorBreakdownsTextUtils","FalcorErrorNotice","FalcorLoadingCard","FalcorSearchSource","FluxContainer","GriffinEventDebuggingActions","GriffinEventDebuggingStore","GriffinEventDebuggingTable","GriffinSearchableSelector","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsEventLogger","Image.react","Link.react","React","SearchableEntry","SUIAnalyticsGriffinTheme","SUIButton.react","Token.react","TooltipData","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUINotice.react","XUITextInput.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m="[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}",n="_default",o="device_me",p="device_id",q="1.37",r={allEvents:j._("Todos los eventos"),allEventsTooltip:j._("Este men\u00fa no est\u00e1 disponible en la demostraci\u00f3n"),allVersions:j._("Todas las versiones de la aplicaci\u00f3n"),deviceIdTitle:j._("Entrada del identificador del dispositivo"),deviceIdInvalid:j._("El identificador del dispositivo debe ser un UUID similar a 50b1f7b1-326c-427b-a5d8-ddcdcfc12843."),deviceIdSubmit:j._("Continuar"),deviceEvents:j._("Eventos del identificador"),deviceEventsTooltip:j._("Para dispositivos iOS, debe ser el IDFA. Para dispositivos Android debe ser el identificador de publicidad de los servicios de Google Play."),deviceOS:j._("Todos los SO del dispositivo"),hintTitle:j._("Lista de eventos m\u00e1s recientes"),myEvents:j._("Solo mis eventos"),myEventsTooltip:j._("Debes haber iniciado sesi\u00f3n en Facebook en tu navegador o en la aplicaci\u00f3n de Facebook para m\u00f3viles en tu dispositivo o un simulador, o bien con el inicio de sesi\u00f3n de Facebook en tu aplicaci\u00f3n."),noEvents:j._("Todav\u00eda no hay eventos coincidentes."),refresh:j._("Actualizar"),title:j._("Incluir")};k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;s.getStores=function(){"use strict";return[c("GriffinEventDebuggingStore")]};s.calculateState=function(t){"use strict";var u=babelHelpers["extends"]({},t,{app_versions:c("GriffinEventDebuggingStore").getAppVersions(),device_os_list:c("GriffinEventDebuggingStore").getDeviceOSList(),error:c("GriffinEventDebuggingStore").getError(),events:c("GriffinEventDebuggingStore").getEvents(),filters:c("GriffinEventDebuggingStore").getFilters()});return u};function s(t){"use strict";l.constructor.call(this,t);this.$GriffinEventDebuggingCard20=function(u){if(!u)this.setState({showDeviceIdDialog:false})}.bind(this);this.$GriffinEventDebuggingCard9=function(){c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{device_os:null}));c("InsightsEventLogger").logEvent({eventName:"most_recent_device_os_change"})}.bind(this);this.$GriffinEventDebuggingCard12=function(){c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{version:null}));c("InsightsEventLogger").logEvent({eventName:"most_recent_app_version_change"})}.bind(this);this.$GriffinEventDebuggingCard15=function(){c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{event_name:null}));c("InsightsEventLogger").logEvent({eventName:"most_recent_event_change"})}.bind(this);this.$GriffinEventDebuggingCard8=function(){this.setState({inputDeviceId:"",selectedDeviceId:null})}.bind(this);this.state={app_versions:c("InsightsContext").isDemoApp()?[q]:c("GriffinEventDebuggingStore").getAppVersions(),device_os_list:c("GriffinEventDebuggingStore").getDeviceOSList(),error:c("GriffinEventDebuggingStore").getError(),events:c("GriffinEventDebuggingStore").getEvents(),filters:c("GriffinEventDebuggingStore").getFilters(),inputDeviceId:"",isDeviceIdValid:true,selectedDeviceId:null,showDeviceIdDialog:false}}s.prototype.componentWillMount=function(){"use strict";c("GriffinEventDebuggingActions").initializeEventDebuggingSection(c("InsightsContext").getObjID())};s.prototype.componentDidMount=function(){"use strict";c("InsightsEventLogger").logCardView("recent_events",{})};s.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement(c("AnalyticsCard"),{buttons:this.$GriffinEventDebuggingCard1(),dropDown:this.$GriffinEventDebuggingCard2(),helpText:{key:"CustomEventsRecentEventsHint",title:r.hintTitle},showLine:false,title:r.title},this.$GriffinEventDebuggingCard3()),this.renderLayers())};s.prototype.$GriffinEventDebuggingCard1=function(){"use strict";return c("React").createElement("div",{className:"_1c6j"},this.$GriffinEventDebuggingCard4(),this.$GriffinEventDebuggingCard5(),this.$GriffinEventDebuggingCard6(),this.$GriffinEventDebuggingCard7(),c("React").createElement(c("SUIButton.react"),{disabled:c("GriffinEventDebuggingStore").isLoadingEvents(),icon:c("React").createElement(c("Image.react"),{src:h("142714")}),label:r.refresh,onClick:function t(){c("GriffinEventDebuggingActions").refreshData();c("InsightsEventLogger").logEvent({eventName:"most_recent_refresh_click"})},style:{marginRight:"4px"},theme:c("SUIAnalyticsGriffinTheme")}))};s.prototype.$GriffinEventDebuggingCard4=function(){"use strict";if(this.state.selectedDeviceId)return c("React").createElement(c("Token.react"),{className:"_1c6k",key:"token_device_id",label:this.state.selectedDeviceId,removable:true,onRemove:this.$GriffinEventDebuggingCard8});return null};s.prototype.$GriffinEventDebuggingCard5=function(){"use strict";var t=this.state.filters.device_os?new(c("SearchableEntry"))({title:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").CLIENT,this.state.filters.device_os),uniqueID:this.state.filters.device_os||""}):new(c("SearchableEntry"))({title:r.deviceOS,uniqueID:n}),u=c("React").createElement("div",{className:"_2phz"},c("React").createElement(c("Link.react"),{onClick:this.$GriffinEventDebuggingCard9},r.deviceOS));return c("React").createElement(c("GriffinSearchableSelector"),{className:"_3-8_",disabled:c("GriffinEventDebuggingStore").isLoadingEvents(),header:u,onChange:function(v){return this.$GriffinEventDebuggingCard10(v)}.bind(this),onOpened:function v(){return c("InsightsEventLogger").logEvent({eventName:"most_recent_device_os_selector_open"})},searchSource:this.$GriffinEventDebuggingCard11(),value:t,dropdownWidth:"sameAsSelector",width:140})};s.prototype.$GriffinEventDebuggingCard6=function(){"use strict";var t=this.state.filters.version?new(c("SearchableEntry"))({title:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").APP_VERSION,this.state.filters.version),uniqueID:this.state.filters.version||""}):new(c("SearchableEntry"))({title:r.allVersions,uniqueID:n}),u=c("React").createElement("div",{className:"_2phz"},c("React").createElement(c("Link.react"),{onClick:this.$GriffinEventDebuggingCard12},r.allVersions));return c("React").createElement(c("GriffinSearchableSelector"),{className:"_3-8_",disabled:c("GriffinEventDebuggingStore").isLoadingEvents()||c("GriffinEventDebuggingStore").isLoadingAppVersions(),header:u,onChange:function(v){return this.$GriffinEventDebuggingCard13(v)}.bind(this),onOpened:function v(){return c("InsightsEventLogger").logEvent({eventName:"most_recent_app_version_selector_open"})},searchSource:this.$GriffinEventDebuggingCard14(),value:t,dropdownWidth:"sameAsSelector",width:140})};s.prototype.$GriffinEventDebuggingCard7=function(){"use strict";var t=this.state.filters.event_name?new(c("SearchableEntry"))({title:c("CustomEventStore").getAppEventDisplayName(this.state.filters.event_name),uniqueID:this.state.filters.event_name||""}):new(c("SearchableEntry"))({title:r.allEvents,uniqueID:n}),u=c("React").createElement("div",{className:"_2phz"},c("React").createElement(c("Link.react"),{onClick:this.$GriffinEventDebuggingCard15},r.allEvents));return c("React").createElement(c("GriffinSearchableSelector"),{className:"_3-8_",disabled:c("GriffinEventDebuggingStore").isLoadingEvents(),header:u,onChange:function(v){return this.$GriffinEventDebuggingCard16(v)}.bind(this),onOpened:function v(){return c("InsightsEventLogger").logEvent({eventName:"most_recent_event_selector_open"})},searchSource:this.$GriffinEventDebuggingCard17(),value:t,dropdownWidth:"sameAsSelector",width:140})};s.prototype.$GriffinEventDebuggingCard11=function(){"use strict";var t=[],u=this.state.filters.device_os!==null;if(this.state.device_os_list)this.state.device_os_list.forEach(function(v){if(this.state.filters.device_os===v)u=true;t.push({id:v,name:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").CLIENT,v)})}.bind(this));if(!u&&this.state.filters.device_os)t.push({id:this.state.filters.device_os,name:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").CLIENT,this.state.filters.device_os)});return new(c("FalcorSearchSource"))(t)};s.prototype.$GriffinEventDebuggingCard14=function(){"use strict";var t=[],u=this.state.filters.version!==null;if(this.state.app_versions)this.state.app_versions.forEach(function(v){if(this.state.filters.version===v)u=true;t.push({id:v,name:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").APP_VERSION,v)})}.bind(this));if(!u&&this.state.filters.version)t.push({id:this.state.filters.version,name:this.state.filters.version});return new(c("FalcorSearchSource"))(t)};s.prototype.$GriffinEventDebuggingCard17=function(){"use strict";var t=[],u=this.state.filters.event_name!==null,v=c("CustomEventStore").getActiveNonSyntheticEvents();if(v)Object.keys(v).forEach(function(w){if(this.state.filters.event_name===w)u=true;var x=c("CustomEventStore").getAppEventDisplayName(w);t.push({id:w,name:x})}.bind(this));if(!u&&this.state.filters.event_name)t.push({id:this.state.filters.event_name,name:c("CustomEventStore").getAppEventDisplayName(this.state.filters.event_name)});return new(c("FalcorSearchSource"))(t)};s.prototype.$GriffinEventDebuggingCard18=function(){"use strict";return[c("React").createElement(c("GriffinSelectorOption"),{key:n,value:n},r.allEvents.toString()),c("React").createElement(c("GriffinSelectorOption"),{key:o,tooltip:r.myEventsTooltip.toString(),value:o},r.myEvents.toString()),c("React").createElement(c("GriffinSelectorOption"),{key:p,tooltip:r.deviceEventsTooltip.toString(),value:p},r.deviceEvents.toString())]};s.prototype.$GriffinEventDebuggingCard2=function(){"use strict";var t=c("React").createElement(c("GriffinSelector"),{className:"_3-8_",headerKey:"recent_events",onChange:function(v){return this.$GriffinEventDebuggingCard19(v)}.bind(this),onOpen:function v(){return c("InsightsEventLogger").logEvent({eventName:"most_recent_device_filter_selector_open"})},value:this.state.filters.device!==null?p:this.state.filters.user!==null?o:n,width:"auto",disabled:c("GriffinEventDebuggingStore").isLoadingEvents()||c("InsightsContext").isDemoApp()},this.$GriffinEventDebuggingCard18());if(c("InsightsContext").isDemoApp()){var u=c("TooltipData").propsFor(r.allEventsTooltip,"right");return c("React").createElement("span",u,t)}else return t};s.prototype.renderLayers=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{shown:!!this.state.showDeviceIdDialog,width:500,onToggle:this.$GriffinEventDebuggingCard20,key:"deviceIdDialog"},c("React").createElement(c("XUIDialogTitle.react"),{className:"_1c6l"},c("React").createElement("div",{className:"_1c6m"},r.deviceIdTitle)),c("React").createElement(c("XUIDialogBody.react"),{className:"_1c6n"},c("React").createElement(c("XUITextInput.react"),{className:"_1c6o",height:"tall",onChange:function(t){return this.setState({inputDeviceId:t.target.value})}.bind(this),placeholder:"Ex. 50b1f7b1-326c-427b-a5d8-ddcdcfc12843",value:this.state.inputDeviceId}),this.state.isDeviceIdValid?null:c("React").createElement(c("XUINotice.react"),{use:"warn"}," ",r.deviceIdInvalid," ")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{className:"_3ikm _3ikw",label:r.deviceIdSubmit,onClick:function(){return this.$GriffinEventDebuggingCard21()}.bind(this),size:"xlarge",use:"default"})))};s.prototype.$GriffinEventDebuggingCard3=function(){"use strict";if(this.state.error)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.error.message});else if(c("GriffinEventDebuggingStore").isLoadingEvents())return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,onlySpinner:true});else return c("React").createElement(c("GriffinEventDebuggingTable"),{events:this.state.events})};s.prototype.$GriffinEventDebuggingCard21=function(){"use strict";var t=new RegExp(m);if(t.test(this.state.inputDeviceId.toUpperCase()))this.setState({isDeviceIdValid:true,selectedDeviceId:this.state.inputDeviceId,showDeviceIdDialog:false},function(){return c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{device:this.state.inputDeviceId,user:null}))}.bind(this));else this.setState({isDeviceIdValid:false})};s.prototype.$GriffinEventDebuggingCard10=function(t){"use strict";c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{device_os:t.getUniqueID()}));c("InsightsEventLogger").logEvent({eventName:"most_recent_device_os_change",device_os:t.getUniqueID()})};s.prototype.$GriffinEventDebuggingCard13=function(t){"use strict";c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{version:t.getUniqueID()}));c("InsightsEventLogger").logEvent({eventName:"most_recent_app_version_change",version:t.getUniqueID()})};s.prototype.$GriffinEventDebuggingCard16=function(t){"use strict";c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{event_name:t.getUniqueID()}));c("InsightsEventLogger").logEvent({eventName:"most_recent_event_change",event:t.getUniqueID()})};s.prototype.$GriffinEventDebuggingCard19=function(t){"use strict";if(t===n){if(this.state.filters.device)c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{device:null}));else if(this.state.filters.user)c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{user:null}));this.$GriffinEventDebuggingCard8()}else if(t===o){c("GriffinEventDebuggingActions").applyFilters(babelHelpers["extends"]({},this.state.filters,{user:1,device:null}));this.$GriffinEventDebuggingCard8()}else if(t===p)this.setState({showDeviceIdDialog:true});c("InsightsEventLogger").logEvent({eventName:"most_recent_device_filter_change",filter_type:t})};f.exports=c("FluxContainer").create(s)}),null);
__d("GriffinEventDebuggingTable",["cx","fbt","BonsaiApiBreakdown","CustomEventStore","FalcorErrorNotice","FalcorPaginatedDataTable","FalcorBreakdownsTextUtils","InsightsNumUtils","React","Tooltip","formatDate"],(function a(b,c,d,e,f,g,h,i){var j,k;function l(n){return c("React").createElement("span",c("Tooltip").propsFor(n),n)}j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";if(!this.props.events)return null;var n=this.props.events.map(function(event){var o=parseFloat(event.value,10);if(!event.value)o=i._("-");else if(o%1)o=c("InsightsNumUtils").prettyFloat(parseFloat(o.toFixed(2)));else o=c("InsightsNumUtils").prettyInt(o);return{timestamp:event.timestamp,platform:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").CLIENT,event.client),name:c("CustomEventStore").getAppEventDisplayName(event.event_name),value:o,version:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("BonsaiApiBreakdown").APP_VERSION,event.version),params:event}});if(!n||!n.length)return c("React").createElement(c("FalcorErrorNotice"),{message:i._("No hay ning\u00fan evento de las \u00faltimas 24 horas disponible para los filtros seleccionados.")});return c("React").createElement("div",{className:"_3n-1"},c("React").createElement(c("FalcorPaginatedDataTable"),{columns:this.$GriffinEventDebuggingTable1(),fixTableLayout:true,rows:n,searchFieldName:"name",pageSize:20}))};m.prototype.$GriffinEventDebuggingTable2=function(n){"use strict";if(!n.parameters||Object.keys(n.parameters).length===0)return null;var o=Object.keys(n.parameters).map(function(p){return{name:c("CustomEventStore").getAppEventParameterDisplayName(n.event_name,p),value:n.parameters[p]}});if(n.order_id)o.push({name:"Order ID",value:n.order_id});return c("React").createElement(c("FalcorPaginatedDataTable"),{className:"_3-8w",columns:[{cellRenderer:function p(q){return c("React").createElement("div",{className:"_4enz"},q)},id:"name"},{cellRenderer:function p(q){return c("React").createElement("div",{className:"_4enz _4en_",title:q},q)},id:"value"}],fixTableLayout:true,pageSize:25,rows:o,searchFieldName:"name",showHeader:false})};m.prototype.$GriffinEventDebuggingTable1=function(){"use strict";var n=function n(o){return c("React").createElement("div",{className:"_4eo0"},c("React").createElement("p",null," ",o," "))};return[{cellRenderer:function o(p){return n(c("formatDate")(p,"m/d/y H:i:s"))},headerRenderer:l,id:"timestamp",label:i._("Hora de registro"),widthWeight:1.5},{cellRenderer:n,headerRenderer:l,label:i._("SO del dispositivo"),id:"platform",widthWeight:1},{cellRenderer:n,headerRenderer:l,label:i._("Versi\u00f3n de la aplicaci\u00f3n"),id:"version",widthWeight:1},{cellRenderer:n,headerRenderer:l,label:i._("Evento"),id:"name",widthWeight:2},{cellRenderer:n,headerRenderer:l,label:i._("Valor"),id:"value",widthWeight:1},{cellRenderer:function(event){return c("React").createElement("div",null," ",this.$GriffinEventDebuggingTable2(event)," ")}.bind(this),headerRenderer:l,label:i._("Par\u00e1metros"),id:"params",widthWeight:4}]};function m(){"use strict";j.apply(this,arguments)}f.exports=m}),null);
__d("AnalyticsAggregationChartCreateMutation",["AnalyticsAggregationChartTypeUtils","AnalyticsSegmentUtils","AnalyticsDateUtils","CurrentUser","RelayFBEnvironment","guid","RelayModern","AnalyticsAggregationChartCreateMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsAggregationChartCreateMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("CurrentUser").getAccountID(),client_mutation_id:c("guid")(),dashboard_id:l.dashboardID,chart_type:l.chartConfig.chart_type,queries:l.chartConfig.queries.map(function(n){var o=n.date_range,p=n.segment,q=babelHelpers.objectWithoutProperties(n,["date_range","segment"]),r=c("AnalyticsDateUtils").getDateRangeForGraphQLMutation(o);return babelHelpers["extends"]({date_range:r,segment_id:p.id,serialized_filter:c("AnalyticsSegmentUtils").serializeFilter(p.rules)},q)}),name:l.chartConfig.name,goal:c("AnalyticsAggregationChartTypeUtils").getGoalForGraphQLMutation(l.chartConfig.goal)}},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsAggregationChartCreateEditor",["AnalyticsAggregationChartCreateMutation","AnalyticsAggregationChartInputForm","AnalyticsDateUtils","GriffinCustomDashboardChartEditController","InsightsEventLogger","React","update"],(function a(b,c,d,e,f,g){"use strict";var h,i,j="TIME_SERIES";h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AnalyticsAggregationChartCreateEditor1=function(m){var n=this.state.chartConfig,o=c("update")(n,{name:{$set:m}});this.setState({chartConfig:o})}.bind(this);this.$AnalyticsAggregationChartCreateEditor3=function(m){this.setState({chartConfig:m})}.bind(this);this.$AnalyticsAggregationChartCreateEditor2=function(m){if(this.state.chartConfig.queries.length===0)return;var n=this.state.chartConfig.queries,o=n[0],p=o.date_range,q=p.since,r=p.until,s=p.type,t=q&&r?c("AnalyticsDateUtils").getDaysInRange({since:q.toDate(),until:r.toDate()}):undefined,u=s,v=this.state.chartConfig.goal,w={event_name:o.event_name,event_number:n.length,metric:o.metric,breakdown:o.breakdowns[0],timeInterval:o.aggregation_period,daysInRange:t,dateRangeType:u,goal:v};this.$AnalyticsAggregationChartCreateEditor4("dashboard_chart_create_save",w);var x=c("update")(this.state.chartConfig,{name:{$set:this.state.chartConfig.name.trim()}});c("AnalyticsAggregationChartCreateMutation").commit({chartConfig:x,dashboardID:this.props.dashboardID},m)}.bind(this);this.state={chartConfig:{chart_type:j,name:"",inherit_segment:false,queries:[]}}}k.prototype.render=function(){return c("React").createElement(c("GriffinCustomDashboardChartEditController"),{chartName:this.state.chartConfig.name,dashboardID:this.props.dashboardID,isSaveDisabled:this.state.chartConfig.queries.length===0,loading:false,onChartNameChange:this.$AnalyticsAggregationChartCreateEditor1,onSave:this.$AnalyticsAggregationChartCreateEditor2},c("React").createElement(c("AnalyticsAggregationChartInputForm"),{chartConfig:this.state.chartConfig,chartID:null,dashboardID:this.props.dashboardID,analyticsEntityID:this.props.analyticsEntityID,inheritedDateRange:this.props.inheritedDateRange,inheritedDateRangeType:this.props.inheritedDateRangeType,timezoneID:this.props.timezoneID,onChartConfigChange:this.$AnalyticsAggregationChartCreateEditor3}))};k.prototype.$AnalyticsAggregationChartCreateEditor4=function(l,m){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:l,dashboardID:this.props.dashboardID},m))};f.exports=k}),null);
__d("AnalyticsAggregationChartEditMutation",["AnalyticsAggregationChartTypeUtils","AnalyticsDateUtils","AnalyticsSegmentUtils","CurrentUser","RelayFBEnvironment","guid","RelayModern","AnalyticsAggregationChartEditMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsAggregationChartEditMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{client_mutation_id:c("guid")(),actor_id:c("CurrentUser").getAccountID(),chart_id:l.id,chart_type:l.chart_type,name:l.name,description:l.description,queries:l.queries.map(function(n){var o=n.date_range,p=n.segment,q=babelHelpers.objectWithoutProperties(n,["date_range","segment"]),r=c("AnalyticsDateUtils").getDateRangeForGraphQLMutation(o);return babelHelpers["extends"]({date_range:r,segment_id:p.id,serialized_filter:c("AnalyticsSegmentUtils").serializeFilter(p.rules)},q)}),goal:c("AnalyticsAggregationChartTypeUtils").getGoalForGraphQLMutation(l.goal)}},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsAggregationChartEditor",["AnalyticsAggregationChartEditMutation","AnalyticsAggregationChartInputForm","AnalyticsDateUtils","AnalyticsSegmentUtils","GriffinCustomDashboardChartEditController","InsightsEventLogger","React","nullthrows","update","RelayModern","AnalyticsAggregationChartTypeUtils","AnalyticsAggregationChartEditor_chart.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").createFragmentContainer,k=c("RelayModern").graphql,l=c("AnalyticsAggregationChartTypeUtils").createErrorBoundNonNullableChart;h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;function m(n){i.constructor.call(this,n);this.$AnalyticsAggregationChartEditor1=function(o){var p=this.state.chartConfig,q=c("update")(p,{name:{$set:o}});this.setState({chartConfig:q})}.bind(this);this.$AnalyticsAggregationChartEditor3=function(o){var p=babelHelpers["extends"]({},o,{id:c("nullthrows")(this.props.chart.id)});this.setState({chartConfig:p})}.bind(this);this.$AnalyticsAggregationChartEditor2=function(o){var p=this.state.chartConfig.queries,q=p[0],r=q.date_range,s=r.since,t=r.until,u=r.type,v=s&&t?c("AnalyticsDateUtils").getDaysInRange({since:s.toDate(),until:t.toDate()}):undefined,w=c("AnalyticsSegmentUtils").serializeFilter(q.segment.rules),x=u,y=this.state.chartConfig.goal,z={event_name:q.event_name,event_number:p.length,metric:q.metric,breakdown:q.breakdowns[0],serializedSegment:w,timeInterval:q.aggregation_period,daysInRange:v,dateRangeType:x,goal:y};this.$AnalyticsAggregationChartEditor4("dashboard_chart_edit_save",z);var A=c("update")(this.state.chartConfig,{name:{$set:this.state.chartConfig.name.trim()}});c("AnalyticsAggregationChartEditMutation").commit(A,o)}.bind(this);this.state={chartConfig:n.chart}}m.prototype.render=function(){return c("React").createElement(c("GriffinCustomDashboardChartEditController"),{chartID:this.state.chartConfig.id,chartName:this.state.chartConfig.name,dashboardID:this.props.dashboardID,isSaveDisabled:this.state.chartConfig.queries.length===0,loading:false,onChartNameChange:this.$AnalyticsAggregationChartEditor1,onSave:this.$AnalyticsAggregationChartEditor2},c("React").createElement(c("AnalyticsAggregationChartInputForm"),{chartConfig:this.state.chartConfig,chartID:this.state.chartConfig.id,dashboardID:this.props.dashboardID,analyticsEntityID:this.props.analyticsEntityID,inheritedDateRange:this.props.inheritedDateRange,inheritedDateRangeType:this.props.inheritedDateRangeType,timezoneID:this.props.timezoneID,onChartConfigChange:this.$AnalyticsAggregationChartEditor3}))};m.prototype.$AnalyticsAggregationChartEditor4=function(n,o){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:n,dashboardID:this.props.dashboardID,chartID:this.props.chart.id},o))};f.exports=j(l(m),{chart:function n(){return c("AnalyticsAggregationChartEditor_chart.graphql")}})}),null);
__d("AnalyticsDashboardCreateMutation",["CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsDashboardCreateMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsDashboardCreateMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:babelHelpers["extends"]({actor_id:c("CurrentUser").getAccountID(),client_mutation_id:"0"},l)},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsVisibility",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OWNER:"OWNER",ANALYTICS_ENTITY:"ANALYTICS_ENTITY"})}),null);
__d("AnalyticsDashboardChartAutoCreateAndRedirect",["AnalyticsAggregationChartCreateMutation","AnalyticsChartType","AnalyticsDashboardCreateMutation","AnalyticsDateRangeType","AnalyticsNavigationUtils","AnalyticsQueryMetric","AnalyticsSegmentUtils","AnalyticsVisibility","AppCustomEventType","FalcorCommonViews","GriffinSections","InsightsEventLogger","RelayFBEnvironment","RelayModern","idx","AnalyticsDashboardChartAutoCreateAndRedirectQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").graphql,i=c("RelayModern").fetchQuery,j="",k=c("AnalyticsVisibility").OWNER,l=function l(){return c("AnalyticsDashboardChartAutoCreateAndRedirectQuery.graphql")},m={aggregation_period:"DAY",breakdowns:[],date_range:{type:c("AnalyticsDateRangeType").LAST_7_DAYS,since:null,until:null},event_name:c("AppCustomEventType").FB_BASE_EVENT,ordering_columns:[],ordering_type:"DESCENDING",limit:0,metric:c("AnalyticsQueryMetric").UNIQUE_USERS,segment:{id:null,name:null,rules:c("AnalyticsSegmentUtils").ALL_USERS}};function n(s){i(c("RelayFBEnvironment"),l,{entityID:s}).done(function(t){var u,v=void 0,w=void 0,x=(u=t)!=null?(u=u.analytics_entity)!=null?(u=u.dashboards)!=null?u.edges:u:u:u;if(x)x.find(function(y){var z,A=(z=y)!=null?(z=z.node)!=null?z.layout:z:z;if(A)A.find(function(B){var C;if(((C=B)!=null?(C=C.chart)!=null?C.chart_type:C:C)===c("AnalyticsChartType").TIME_SERIES){w=B.chart.id;v=y.node.id;return true}});if(v&&w)return true});if(v&&w)r(v,w);else o(s)})}function o(s){c("AnalyticsDashboardCreateMutation").commit({analytics_entity_id:s,name:j,visibility:k},{onCompleted:function t(u){var v,w=(v=u)!=null?(v=v.analytics_dashboard_create)!=null?(v=v.dashboard)!=null?v.id:v:v:v;if(w){q("dashboard_create_complete",{dashboardID:w,visibilityType:k});p(w,s);return}q("dashboard_create_error",{visibilityType:k})},onError:function t(u){q("dashboard_create_error",{visibilityType:k})}})}function p(s,t){var u={chart_type:c("AnalyticsChartType").TIME_SERIES,inherit_segment:false,name:"",queries:[m]};c("AnalyticsAggregationChartCreateMutation").commit({chartConfig:u,dashboardID:s},{onCompleted:function v(w){var x,y,z=(x=w)!=null?(x=x.analytics_aggregation_chart_create)!=null?(x=x.dashboard)!=null?x.layout:x:x:x,A=(y=z)!=null?(y=y[0])!=null?(y=y.chart)!=null?y.id:y:y:y;if(A){q("dashboard_chart_create_complete",{dashboardID:s,chartID:A});r(s,A);return}q("dashboard_chart_create_error",{dashboardID:s})},onError:function v(w){q("dashboard_chart_create_error",{dashboardID:s})}})}function q(s,t){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:s},t))}function r(s,t){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,s,c("FalcorCommonViews").EDIT,{chart_id:t}).go()}f.exports={goToTimeSeriesChartEditPage:n}}),null);
__d("AnalyticsDashboardChartCard",["AnalyticsDashboardChartHeader","React","SUIBusinessTheme","SUICardDEPRECATED.react"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props.children;return c("React").createElement(c("SUICardDEPRECATED.react"),{header:this.$AnalyticsDashboardChartCard1(),type:"fullbleed",theme:c("SUIBusinessTheme")},c("React").createElement("div",{onMouseDown:function l(m){return m.stopPropagation()}},k))};j.prototype.$AnalyticsDashboardChartCard1=function(){"use strict";var k=this.props,l=k.chartDateRange,m=k.chartID,n=k.chartName,o=k.chartSegments,p=k.chartType,q=k.dashboardID,r=k.inheritedDateRange,s=k.inheritedDateRangeType,t=k.inheritSegment,u=k.isReadOnly,v=k.onDelete,w=k.showEditIcon;return c("React").createElement(c("AnalyticsDashboardChartHeader"),{chartDateRange:l,chartID:m,chartName:n,chartSegments:o,chartType:p,dashboardID:q,inheritedDateRange:r,inheritedDateRangeType:s,inheritSegment:t,isReadOnly:u,onDelete:v,showEditIcon:w})};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("AnalyticsDashboardChartHeader",["ix","cx","fbt","AnalyticsNavigationUtils","AnalyticsSegmentUtils","AnalyticsDateUtils","AnalyticsDateRangeType","AnalyticsSegmentLabel","FalcorCommonViews","GriffinDashboardUtils","GriffinSections","GriffinSegmentUtils","InsightsEventLogger","LeftRight.react","React","SUIGlyphIcon.react","fbglyph","immutable","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("immutable").Set;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsDashboardChartHeader6=function(){this.$AnalyticsDashboardChartHeader5("dashboard_chart_delete_click");this.props.onDelete(c("nullthrows")(this.props.chartID))}.bind(this),p}n.prototype.render=function(){var o=this.props.chartName,p=this.$AnalyticsDashboardChartHeader1(),q=o||c("GriffinDashboardUtils").defaultChartName,r=p===null?q:j._("{chart name}: {date range label}",[j.param("chart name",q),j.param("date range label",this.$AnalyticsDashboardChartHeader1())]),s=c("React").createElement("div",null,r,c("React").createElement("div",{className:"_1miq"}),this.$AnalyticsDashboardChartHeader2()),t=this.$AnalyticsDashboardChartHeader3();return c("React").createElement("div",{className:"_1nrr"+(this.props.isReadOnly?" _1nrs":"")},c("React").createElement(c("LeftRight.react"),{direction:"right",className:"_1nrt"},s,t))};n.prototype.$AnalyticsDashboardChartHeader1=function(){var o=this.props,p=o.chartDateRange,q=o.inheritedDateRange,r=o.inheritedDateRangeType,s=p.type,t=babelHelpers.objectWithoutProperties(p,["type"]);if(s===c("AnalyticsDateRangeType").INHERIT)return null;var u=t,v=u.since,w=u.until;t=v&&w?{since:v.toDate(),until:w.toDate()}:undefined;if(s===c("AnalyticsDateRangeType").INHERIT){s=r;t=q}return c("AnalyticsDateUtils").getDateRangeLabel(s,t)};n.prototype.$AnalyticsDashboardChartHeader2=function(){var o=this.props,p=o.chartSegments,q=o.inheritSegment;if(q)return[];if(m(p.map(function(r){return r.name})).count()>1)return p.map(function(r,s){return this.$AnalyticsDashboardChartHeader4(r,String(s))}.bind(this));else return this.$AnalyticsDashboardChartHeader4(p[0],"0")};n.prototype.$AnalyticsDashboardChartHeader4=function(o,p){var q=this.props.inheritedDateRange;return c("React").createElement(c("AnalyticsSegmentLabel"),{className:"_1nsv _2pij",key:p,dateRange:q,segment:c("GriffinSegmentUtils").parseSerializedFilterFromGraphQL(c("AnalyticsSegmentUtils").serializeFilter(o.rules),o.id,o.name)})};n.prototype.$AnalyticsDashboardChartHeader3=function(){var o=this.props,p=o.chartID,q=o.dashboardID,r=o.isReadOnly,s=o.showEditIcon;if(r)return null;var t=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,q,c("FalcorCommonViews").EDIT,{chart_id:String(p)}),u=!s?null:c("React").createElement("a",{href:t,onClick:function(){return this.$AnalyticsDashboardChartHeader5("dashboard_chart_edit_click")}.bind(this),onMouseDown:function v(w){return w.stopPropagation()}},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123351")}));return c("React").createElement("div",{className:"_1nsw"},u,c("React").createElement("a",{href:"#",onMouseDown:function v(w){return w.stopPropagation()},onClick:this.$AnalyticsDashboardChartHeader6},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("117912")})))};n.prototype.$AnalyticsDashboardChartHeader5=function(o){c("InsightsEventLogger").logEvent({eventName:o,dashboardID:this.props.dashboardID,chartID:this.props.chartID,chartType:this.props.chartType})};f.exports=n}),null);
__d("AnalyticsOverlapChartCard",["AnalyticsOverlapView","AnalyticsQueryAggregationMethod","AnalyticsQueryBuilder","AnalyticsSegmentUtils","AppEventQueryError","FalcorLoadingCard","GriffinSections","GriffinErrorCard","InsightsUtils","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=180,k=5,l=300,m=93,n=19;h=babelHelpers.inherits(o,c("React").Component);i=h&&h.prototype;function o(p){i.constructor.call(this,p);var q=p.chart;this.state={apiData:null,apiError:null,breakdown:q.queries[0].breakdowns[0],eventName:q.queries[0].event_name,cancellablePromise:null}}o.prototype.componentDidMount=function(){var p=this.state,q=p.breakdown,r=p.eventName;this.$AnalyticsOverlapChartCard1(this.props,r,q)};o.prototype.componentWillUnmount=function(){var p=this.state.cancellablePromise;p&&p.cancel()};o.prototype.render=function(){var p=this.state,q=p.apiData,r=p.apiError,s=p.breakdown,t=p.eventName,u=null;if(r)u=c("React").createElement(c("GriffinErrorCard"),{error:r,style:{height:l-m}});else if(!q)u=c("React").createElement(c("FalcorLoadingCard"),{height:l+n,showCard:false});else u=c("React").createElement(c("AnalyticsOverlapView"),{apiData:q,bucketsLimit:k,breakdown:s,eventName:t,height:j,section:c("GriffinSections").DASHBOARD});return u};o.prototype.$AnalyticsOverlapChartCard1=function(p,q,r){var s=p.analyticsEntityID,t=p.chart,u=p.inheritedSegment,v=p.inheritedDateRange,w=this.state.cancellablePromise;w&&w.cancel();this.setState({apiData:null,apiError:null,cancellablePromise:null});if(!q||!r)return;var x=c("InsightsUtils").utcTimeToPacificTime(v.since).getTime()/1e3,y=c("InsightsUtils").utcTimeToPacificTime(v.until).getTime()/1e3,z=t.inherit_segment?u:c("AnalyticsSegmentUtils").ALL_USERS,A=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(s).setEventName(q).setBreakdowns([r]).setAggregations([c("AnalyticsQueryAggregationMethod").OVERLAP]).setIntervalsToAggregate(0).setFilters(c("AnalyticsSegmentUtils").toGraphAPISegment(z)).setSince(x).setUntil(y).getQueryAsPromise();A.promise.done(function(B){var C=B.getResultAsRows().toJS();this.setState({apiData:C});this.props.onDataLoaded&&this.props.onDataLoaded()}.bind(this),function(B){this.setState({apiError:B})}.bind(this));this.setState({cancellablePromise:A})};f.exports=o}),null);
__d("AnalyticsSegmentLabel",["fbt","AnalyticsSegmentSizeQueryRenderer","GriffinSegmentUtils","InsightsNumUtils","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderQueryResult=function(q,r,s,t){if(q)return c("React").createElement("span",{className:this.props.className},c("React").createElement(c("SUISpinner.react"),{size:"small",theme:c("SUIBusinessTheme")}));var u=this.props.segment,v=c("InsightsNumUtils").prettyPercentQuotient({numerator:s,denominator:t,precision:2});if(u.name)return c("React").createElement("span",{className:this.props.className},h._("{name}: {percentage} de usuarios",[h.param("name",u.name),h.param("percentage",v)]));return c("React").createElement("span",{className:this.props.className},h._("Segmento: {percentage} de los usuarios",[h.param("percentage",v)]))}.bind(this),m}k.prototype.render=function(){var l=this.props,m=l.className,n=l.dateRange,o=l.segment,p=c("GriffinSegmentUtils").isEmpty(o);if(p){if(o.name)return c("React").createElement("span",{className:m},h._("{name}: 100 \u0025 de los usuarios",[h.param("name",o.name)]));return c("React").createElement("span",{className:m},h._("100 \u0025 de usuarios"))}return c("React").createElement(c("AnalyticsSegmentSizeQueryRenderer"),{dateRange:n,segment:o,render:this.renderQueryResult})};f.exports=k}),null);
__d("GriffinChartCreateEditor",["AnalyticsAggregationChartCreateEditor","AnalyticsDateRangeStore","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.getStores=function(){return[c("AnalyticsDateRangeStore")]};k.calculateState=function(){return{inheritedDateRange:c("AnalyticsDateRangeStore").getVisibleDateRange(),inheritedDateRangeType:c("AnalyticsDateRangeStore").getDateRangeType(),timezoneID:c("AnalyticsDateRangeStore").getTimezoneID()}};k.prototype.render=function(){return c("React").createElement(c("AnalyticsAggregationChartCreateEditor"),babelHelpers["extends"]({},this.props,this.state,this.context))};function k(){h.apply(this,arguments)}k.contextTypes={analyticsEntityID:j.string.isRequired};f.exports=c("FluxContainer").create(k)}),null);
__d("GriffinChartEditor",["AnalyticsAggregationChartEditor","AnalyticsChartType","AnalyticsDateRangeStore","FluxContainer","React","RelayModern","GriffinChartEditor_chart.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").createFragmentContainer,k=c("RelayModern").graphql,l=c("React").PropTypes;h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.getStores=function(){return[c("AnalyticsDateRangeStore")]};m.calculateState=function(){return{inheritedDateRange:c("AnalyticsDateRangeStore").getVisibleDateRange(),inheritedDateRangeType:c("AnalyticsDateRangeStore").getDateRangeType(),timezoneID:c("AnalyticsDateRangeStore").getTimezoneID()}};m.prototype.render=function(){var n=this.props.chart,o=n.chartType;switch(o){case c("AnalyticsChartType").TIME_SERIES:case c("AnalyticsChartType").BAR_CHART:return c("React").createElement(c("AnalyticsAggregationChartEditor"),babelHelpers["extends"]({},this.props,this.state,this.context));default:return null}};function m(){h.apply(this,arguments)}m.contextTypes={analyticsEntityID:l.string.isRequired};f.exports=j(c("FluxContainer").create(m),{chart:function n(){return c("GriffinChartEditor_chart.graphql")}})}),null);
__d("GriffinCustomDashboardChartEditController",["cx","fbt","AnalyticsNavigationUtils","FalcorCommonViews","GriffinButton","GriffinDashboardUtils","GriffinDefaultSectionController","GriffinSections","InsightsEventLogger","React","SUIBusinessTheme","SUISpinner.react","SUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$GriffinCustomDashboardChartEditController1=function(){c("InsightsEventLogger").logEvent({eventName:"dashboard_chart_edit_cancel",chartID:this.props.chartID,dashboardID:this.props.dashboardID});this.$GriffinCustomDashboardChartEditController4()}.bind(this);this.$GriffinCustomDashboardChartEditController2=function(){var n=this.props.onSave;if(n){this.setState({isButtonLoading:true});n({onCompleted:this.$GriffinCustomDashboardChartEditController4,onError:this.$GriffinCustomDashboardChartEditController5})}else this.$GriffinCustomDashboardChartEditController4()}.bind(this);this.$GriffinCustomDashboardChartEditController4=function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,this.props.dashboardID,c("FalcorCommonViews").DETAILS).go()}.bind(this);this.state={isButtonLoading:false}}l.prototype.componentDidMount=function(){c("InsightsEventLogger").logEvent({eventName:"dashboards_chart_editor_view",dashboardID:this.props.dashboardID,chartID:this.props.chartID})};l.prototype.render=function(){var m=this.props,n=m.children,o=m.dateRangeType,p=m.fullDateRange,q=m.visibleDateRange,r=i._("Guardar e ir al panel"),s=this.state.isButtonLoading?c("React").createElement("div",null,c("React").createElement("span",{className:"_4gcn"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")})),r):r,t=[c("React").createElement("div",{className:"_1f_c"},c("React").createElement(c("GriffinButton"),{label:i._("Cancelar"),key:"cancelButton",onClick:this.$GriffinCustomDashboardChartEditController1})),c("React").createElement("div",{className:"_1f_c"},c("React").createElement(c("GriffinButton"),{disabled:this.props.isSaveDisabled,label:s,key:"saveButton",use:"confirm",onClick:this.$GriffinCustomDashboardChartEditController2}))],u=c("React").createElement("div",{style:{display:"flex"}},c("React").createElement("div",{style:{fontSize:14,fontWeight:700,marginTop:14,marginRight:8,marginBottom:12}},i._("Nombre del gr\u00e1fico")),this.$GriffinCustomDashboardChartEditController3());return c("React").createElement(c("GriffinDefaultSectionController"),{buttons:t,dateRangeType:o,fullDateRange:p,itemLabel:u,visibleDateRange:q,showCompare:false,showDatePicker:false,showDemoAppNUXTour:false,showSegments:false,showSamplingDisclosureInHeader:true},n)};l.prototype.$GriffinCustomDashboardChartEditController3=function(){return c("React").createElement(c("SUITextInput.react"),{maxLength:30,onChange:this.props.onChartNameChange,placeholder:c("GriffinDashboardUtils").defaultChartName,style:{width:190},theme:c("SUIBusinessTheme"),value:this.props.chartName})};l.prototype.$GriffinCustomDashboardChartEditController5=function(){};f.exports=l}),null);
__d("GriffinCustomDashboardChartEditControllerQueryRenderer",["RelayModern","GriffinChartEditor","GriffinCustomDashboardChartEditController","FalcorErrorNotice","FalcorLoadingCard","React","RelayFBEnvironment","GriffinCustomDashboardChartEditControllerQueryRendererQuery.graphql"],(function a(b,c,d,e,f,g){var h,i,j=c("RelayModern").graphql,k=c("RelayModern").QueryRenderer,l=function l(){return c("GriffinCustomDashboardChartEditControllerQueryRendererQuery.graphql")};h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.prototype.render=function(){"use strict";var n=this.props.chartID;return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:l,variables:{chartID:n},render:function(o){return this.$GriffinCustomDashboardChartEditControllerQueryRenderer1(o)}.bind(this)})};m.prototype.$GriffinCustomDashboardChartEditControllerQueryRenderer1=function(n){var o=n.error,p=n.props;"use strict";if(!p)return c("React").createElement(c("GriffinCustomDashboardChartEditController"),p,c("React").createElement(c("FalcorLoadingCard"),null));else if(p.node)return c("React").createElement(c("GriffinChartEditor"),babelHelpers["extends"]({chart:p.node},this.props));else return c("React").createElement(c("FalcorErrorNotice"),{"short":true})};function m(){"use strict";h.apply(this,arguments)}f.exports=m}),null);
__d("GriffinCustomDashboardSectionController",["fbt","FalcorCommonViews","FalcorErrorNotice","GriffinChartCreateEditor","GriffinCustomDashboardChartEditControllerQueryRenderer","GriffinCustomDashboardViewControllerQueryRenderer","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.view,n=l.chartID,o=l.featureID;if(o==null)return c("React").createElement(c("FalcorErrorNotice"),{message:h._("Ning\u00fan panel seleccionado")});if(n!=null)return c("React").createElement(c("GriffinCustomDashboardChartEditControllerQueryRenderer"),babelHelpers["extends"]({dashboardID:o,chartID:n},this.props));else if(m===c("FalcorCommonViews").CREATE)return c("React").createElement(c("GriffinChartCreateEditor"),babelHelpers["extends"]({dashboardID:o},this.props));else return c("React").createElement(c("GriffinCustomDashboardViewControllerQueryRenderer"),babelHelpers["extends"]({dashboardID:o},this.props))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsDashboardDeleteMutation",["CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsDashboardDeleteMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsDashboardDeleteMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("CurrentUser").getAccountID(),client_mutation_id:"1",dashboard_id:l.dashboard_id}},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("GriffinDashboardDeleteModal",["fbt","GriffinButton","GriffinModal","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=h._("\u00bfSeguro que quieres eliminar este panel? Una vez que lo hayas eliminado no podr\u00e1s recuperarlo."),m=h._("Eliminar panel"),n=[c("React").createElement(c("GriffinButton"),{label:h._("Eliminar"),onClick:this.props.onDelete,use:"confirm"}),c("React").createElement(c("GriffinButton"),{label:h._("Cancelar"),onClick:this.props.onCancel})];return c("React").createElement(c("GriffinModal"),{content:l,footerButtons:n,header:m,onClose:this.props.onCancel,width:600})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinDashboardRenameModal",["fbt","GriffinButton","GriffinModal","React","SUIAtlasTheme","SUIFormRow.react","SUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={inputName:null},this.$GriffinDashboardRenameModal1=function(q){this.setState({inputName:q})}.bind(this),this.$GriffinDashboardRenameModal2=function(){this.props.onConfirm(this.state.inputName)}.bind(this),m}k.prototype.render=function(){var l=c("React").createElement(c("SUIFormRow.react"),{label:h._("Nombre del panel"),theme:c("SUIAtlasTheme")},c("React").createElement(c("SUITextInput.react"),{defaultValue:this.props.name,maxLength:25,onChange:this.$GriffinDashboardRenameModal1,style:{width:"300px"},theme:c("SUIAtlasTheme"),value:this.state.inputName})),m=h._("Cambiar nombre al panel"),n=[c("React").createElement(c("GriffinButton"),{label:h._("Cambiar nombre"),onClick:this.$GriffinDashboardRenameModal2,use:"confirm"}),c("React").createElement(c("GriffinButton"),{label:h._("Cancelar"),onClick:this.props.onCancel})];return c("React").createElement(c("GriffinModal"),{content:l,footerButtons:n,header:m,onClose:this.props.onCancel})};f.exports=k}),null);
__d("GriffinDashboardVisibilityModal",["ix","cx","fbt","AnalyticsVisibility","GriffinButton","GriffinModal","React","SUIAtlasTheme","SUIGlyphIcon.react","SUIRadioList.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("SUIRadioList.react").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$GriffinDashboardVisibilityModal2=function(p){this.setState({selectedOption:p})}.bind(this);this.$GriffinDashboardVisibilityModal1=function(){this.props.onUpdate(this.state.selectedOption)}.bind(this);this.state={selectedOption:o.visibility||c("AnalyticsVisibility").OWNER}}n.prototype.render=function(){var o=j._("Editar configuraci\u00f3n de visibilidad del panel"),p=[c("React").createElement(c("GriffinButton"),{label:j._("Actualizar"),onClick:this.$GriffinDashboardVisibilityModal1,use:"confirm"}),c("React").createElement(c("GriffinButton"),{label:j._("Cancelar"),onClick:this.props.onCancel})],q=this.state.selectedOption===c("AnalyticsVisibility").OWNER?c("React").createElement("span",{className:"_1f-4"},j._("El panel ser\u00e1 privado. Utiliza la URL para compartirlo.")):null,r=this.state.selectedOption===c("AnalyticsVisibility").ANALYTICS_ENTITY?c("React").createElement("span",{className:"_1f-4"},j._("Tu panel ser\u00e1 visible para todos.")):null,s=c("React").createElement(c("SUIRadioList.react"),{className:"_1f-5",onChange:this.$GriffinDashboardVisibilityModal2,theme:c("SUIAtlasTheme"),value:this.state.selectedOption},c("React").createElement(m,{value:c("AnalyticsVisibility").OWNER},c("React").createElement("div",{className:"_1f-9"},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123223")}),c("React").createElement("span",{className:"_1f-a"},j._("Solo yo")),q)),c("React").createElement(m,{value:c("AnalyticsVisibility").ANALYTICS_ENTITY},c("React").createElement("div",{className:"_1f-9"},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123038")}),c("React").createElement("span",{className:"_1f-a"},j._("Todos")),r))),t=c("React").createElement("div",{className:"_1f-9"},c("React").createElement("span",{className:"_1f-b"},j._("Qui\u00e9n puede ver este panel")),s);return c("React").createElement(c("GriffinModal"),{content:t,footerButtons:p,header:o,onClose:this.props.onCancel,width:700})};f.exports=n}),null);
__d("GriffinCustomDashboardViewController",["cx","fbt","invariant","ix","AnalyticsCard","AnalyticsEditableGridChartLayout","AnalyticsDashboardChartUniform","AnalyticsDashboardDeleteMutation","AnalyticsDashboardEditMutation","AnalyticsDateRangeStore","AnalyticsGKs","AnalyticsGKNames","AnalyticsNavigationUtils","AnalyticsQEUniverses","AnalyticsQEUtils","AnalyticsSegmentUtils","AnalyticsVisibility","Clipboard","ContextualLayer.react","CornerEnum","CurrentUser","DateTime","FalcorCommonViews","GriffinButton","GriffinButtonGroup","GriffinDashboardDeleteModal","GriffinDashboardRenameModal","GriffinDashboardVisibilityModal","GriffinDashboardUtils","GriffinDefaultSectionController","GriffinMenuConfig","GriffinSections","GriffinSelector","GriffinSelectorOption","Image.react","InsightsContext","InsightsEventLogger","Link.react","React","SideEnum","SUIBusinessTheme","SUICardDEPRECATED.react","SUIGlyphIcon.react","SUITooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=2;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.state={isCopied:false,selectedModal:null,showClipboard:false},this.$GriffinCustomDashboardViewController16=function(){this.$GriffinCustomDashboardViewController7("dashboard_delete");this.props.dashboardID&&this.props.analyticsEntityID||j(0);c("AnalyticsDashboardDeleteMutation").commit({dashboard_id:this.props.dashboardID,entity_id:this.props.analyticsEntityID},{onCompleted:function u(v){},onError:function u(v){}});this.$GriffinCustomDashboardViewController15();c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").OVERVIEW).go()}.bind(this),this.$GriffinCustomDashboardViewController19=function(){this.$GriffinCustomDashboardViewController7("dashboard_add_chart_button_click",{chartCount:this.props.charts.length});c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,this.props.dashboardID,c("FalcorCommonViews").CREATE).go()}.bind(this),this.$GriffinCustomDashboardViewController22=function(){var u=this.$GriffinCustomDashboardViewController21(),v=c("Clipboard").copy(u);if(v)this.setState({isCopied:true});this.$GriffinCustomDashboardViewController7("dashboard_share_URL",{visibility:this.props.visibility,copySuccess:v})}.bind(this),this.$GriffinCustomDashboardViewController15=function(){this.setState({selectedModal:null})}.bind(this),this.$GriffinCustomDashboardViewController18=function(u){this.setState({selectedModal:u})}.bind(this),q}o.prototype.componentDidMount=function(){c("InsightsEventLogger").logEvent({eventName:"dashboard_view",dashboardID:this.props.dashboardID,chartCount:this.props.charts.length,visibility:this.props.visibility})};o.prototype.render=function(){var p=this.props,q=p.dateRangeType,r=p.fullDateRange,s=p.visibleDateRange,t=[this.$GriffinCustomDashboardViewController1(),c("React").createElement(c("GriffinButtonGroup"),null,this.$GriffinCustomDashboardViewController2(),this.$GriffinCustomDashboardViewController3(),this.$GriffinCustomDashboardViewController4())],u=this.$GriffinCustomDashboardViewController5();return c("React").createElement(c("GriffinDefaultSectionController"),{buttons:t,dateRangeType:q,fullDateRange:r,itemLabel:u,showCompare:false,showDatePicker:false,showSegments:false,visibleDateRange:s},this.$GriffinCustomDashboardViewController6())};o.prototype.$GriffinCustomDashboardViewController7=function(p,q){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:p,dashboardID:this.props.dashboardID},q))};o.prototype.$GriffinCustomDashboardViewController6=function(){var p=this.props,q=p.charts,r=p.dashboardID,s=p.dashboardName,t=p.visibility,u=this.$GriffinCustomDashboardViewController8(this.state.selectedModal,s,t);if(q.length===0)return c("React").createElement("div",null,this.$GriffinCustomDashboardViewController9(),u);return c("React").createElement("div",null,c("React").createElement(c("AnalyticsEditableGridChartLayout"),{charts:q,chartSizeWeights:c("GriffinDashboardUtils").chartSizeWeights,dashboardID:r,inheritedSegment:c("AnalyticsSegmentUtils").ALL_USERS,isReadOnly:this.$GriffinCustomDashboardViewController10(),numColumns:n,uniform:c("AnalyticsDashboardChartUniform")}),u)};o.prototype.$GriffinCustomDashboardViewController9=function(){var p=c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").ACTIVE_USERS),onClick:function(){return this.$GriffinCustomDashboardViewController7("dashboard_emptyState_activeUsers_click")}.bind(this)},c("GriffinMenuConfig").labels.ACTIVE_USERS),q=c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").REVENUE),onClick:function(){return this.$GriffinCustomDashboardViewController7("dashboard_emptyState_revenue_click")}.bind(this)},c("GriffinMenuConfig").labels.REVENUE),r=c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").CUSTOM_EVENTS),onClick:function(){return this.$GriffinCustomDashboardViewController7("dashboard_emptyState_customEvents_click")}.bind(this)},c("GriffinMenuConfig").labels.EVENTS),s=c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS),onClick:function(){return this.$GriffinCustomDashboardViewController7("dashboard_emptyState_funnels_click")}.bind(this)},c("GriffinMenuConfig").labels.FUNNELS),t=c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_BAR_CHART),u=c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_FUNNEL_PIN),v=c("React").createElement("p",{className:"_24s1"},i._("Para empezar a a\u00f1adir gr\u00e1ficos a tu nuevo panel, ve a las secciones {link to Active Users section}, {link to Revenue section} o {link to Events section}. Tambi\u00e9n puedes usar el bot\u00f3n de arriba \"A\u00f1adir gr\u00e1fico\".",[i.param("link to Active Users section",p),i.param("link to Revenue section",q),i.param("link to Events section",r)]));if(t&&!u)v=c("React").createElement("p",{className:"_24s1"},i._("Fija un gr\u00e1fico de barras o de l\u00edneas de las secciones {link to Active Users section}, {link to Revenue section} o {link to Events section}. Tambi\u00e9n puedes hacer clic en el bot\u00f3n \"A\u00f1adir gr\u00e1fico\".",[i.param("link to Active Users section",p),i.param("link to Revenue section",q),i.param("link to Events section",r)]));else if(!t&&u)v=c("React").createElement("p",{className:"_24s1"},i._("Fija una l\u00ednea o un gr\u00e1fico de embudo de {link to Active Users section}, {link to Revenue section}, {link to Events section} o {link to Funnels section}. Tambi\u00e9n puedes hacer clic en el bot\u00f3n de arriba \"A\u00f1adir gr\u00e1fico\".",[i.param("link to Active Users section",p),i.param("link to Revenue section",q),i.param("link to Events section",r),i.param("link to Funnels section",s)]));else if(t&&u)v=c("React").createElement("p",{className:"_24s1"},i._("Fija una barra o un gr\u00e1fico de embudo de {link to Active Users section}, {link to Revenue section}, {link to Events section} o {link to Funnels section}. Tambi\u00e9n puedes hacer clic en el bot\u00f3n de arriba \"A\u00f1adir gr\u00e1fico\".",[i.param("link to Active Users section",p),i.param("link to Revenue section",q),i.param("link to Events section",r),i.param("link to Funnels section",s)]));return c("React").createElement(c("AnalyticsCard"),{className:"_5-tn"},c("React").createElement(c("Image.react"),{src:k("291916")}),c("React").createElement("h2",{className:"_24s0"},i._("Empezar a marcar gr\u00e1ficos")),v)};o.prototype.$GriffinCustomDashboardViewController10=function(){var p=this.props,q=p.ownerID,r=p.visibility,s=c("InsightsContext").isReadOnly(),t=r===c("AnalyticsVisibility").OWNER,u=q===c("CurrentUser").getAccountID();if(this.$GriffinCustomDashboardViewController11())return!u;return s||t&&!u};o.prototype.$GriffinCustomDashboardViewController11=function(){return c("InsightsContext").isReadOnly()&&c("InsightsContext").isDemoApp()};o.prototype.$GriffinCustomDashboardViewController5=function(){var p=this.props,q=p.dashboardName,r=p.visibility,s=this.$GriffinCustomDashboardViewController10()?this.$GriffinCustomDashboardViewController12():r===c("AnalyticsVisibility").ANALYTICS_ENTITY?this.$GriffinCustomDashboardViewController13():this.$GriffinCustomDashboardViewController14();return c("React").createElement("span",null,c("React").createElement("span",{className:"_3si7"},q),c("React").createElement("span",{className:"_3si8"},s))};o.prototype.$GriffinCustomDashboardViewController12=function(){return c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),tooltip:i._("Solo el propietario puede editar este panel.")},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:k("123136")}))};o.prototype.$GriffinCustomDashboardViewController13=function(){return c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),tooltip:i._("Visible para cualquiera")},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:k("123037")}))};o.prototype.$GriffinCustomDashboardViewController14=function(){return c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),tooltip:i._("Visible para ti")},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:k("123222")}))};o.prototype.$GriffinCustomDashboardViewController1=function(){var p=this.props,q=p.lastUpdatedTime,r=p.ownerName,s=c("AnalyticsDateRangeStore").getTimezoneID(),t=new(c("DateTime"))(q,s).format("M d, Y g:ia");if(r===null)return c("React").createElement("div",{className:"_3si9"},i._("\u00daltima modificaci\u00f3n: {dashboard last updated time}",[i.param("dashboard last updated time",t)]));else return c("React").createElement("div",{className:"_3si9"},i._("Creado por {dashboard creator name}, modificado por \u00faltima vez a las {dashboard last updated time}",[i.param("dashboard creator name",r),i.param("dashboard last updated time",t)]))};o.prototype.$GriffinCustomDashboardViewController8=function(p,q,r){switch(p){case"delete":return c("React").createElement(c("GriffinDashboardDeleteModal"),{onCancel:this.$GriffinCustomDashboardViewController15,onDelete:this.$GriffinCustomDashboardViewController16});case"rename":return c("React").createElement(c("GriffinDashboardRenameModal"),{name:q,onCancel:this.$GriffinCustomDashboardViewController15,onConfirm:function(s){this.$GriffinCustomDashboardViewController7("dashboard_name_update");this.$GriffinCustomDashboardViewController17({name:s})}.bind(this)});case"visibility":return c("React").createElement(c("GriffinDashboardVisibilityModal"),{onCancel:this.$GriffinCustomDashboardViewController15,onUpdate:function(r){this.$GriffinCustomDashboardViewController7("dashboard_visibility_update",{visibility:r});this.$GriffinCustomDashboardViewController17({visibility:r})}.bind(this),visibility:r});case null:return null;default:p;return null}};o.prototype.$GriffinCustomDashboardViewController17=function(p){this.props.dashboardID||j(0);var q=babelHelpers["extends"]({dashboard_id:this.props.dashboardID},p);c("AnalyticsDashboardEditMutation").commit(q,{onCompleted:function r(s){},onError:function r(s){}});this.$GriffinCustomDashboardViewController15()};o.prototype.$GriffinCustomDashboardViewController4=function(){if(this.$GriffinCustomDashboardViewController10())return null;var p=c("React").createElement(c("GriffinButton"),{iconName:"settings",roundedCorners:[c("CornerEnum").topRight,c("CornerEnum").bottomRight]}),q=this.$GriffinCustomDashboardViewController11()?null:c("React").createElement(c("GriffinSelectorOption"),{value:"visibility"},i._("Configuraci\u00f3n de visibilidad"));return c("React").createElement(c("GriffinSelector"),{button:p,key:"setting",onChange:this.$GriffinCustomDashboardViewController18,placeholder:""},q,c("React").createElement(c("GriffinSelectorOption"),{value:"rename"},i._("Cambiar nombre del panel")),c("React").createElement(c("GriffinSelectorOption"),{value:"delete"},i._("Eliminar panel")))};o.prototype.$GriffinCustomDashboardViewController2=function(){if(this.$GriffinCustomDashboardViewController10())return null;else if(c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_DASHBOARD_ADD_CHART_STYLE))return c("React").createElement("span",{className:"_3-91"},c("React").createElement(c("GriffinButton"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:k("115405")}),key:"create_chart",label:i._("Crear gr\u00e1fico"),onClick:this.$GriffinCustomDashboardViewController19,use:"special"}));else return c("React").createElement("span",{className:"_3-91"},c("React").createElement(c("GriffinButton"),{key:"add_chart",label:i._("A\u00f1adir gr\u00e1fico"),onClick:this.$GriffinCustomDashboardViewController19,use:"confirm"}))};o.prototype.$GriffinCustomDashboardViewController3=function(){var p=this.state.isCopied?i._("Copiado"):i._("Copiar"),q=this.$GriffinCustomDashboardViewController10()?[c("SideEnum").left,c("SideEnum").top,c("SideEnum").bottom,c("SideEnum").right]:[c("SideEnum").left,c("SideEnum").top,c("SideEnum").bottom];return c("React").createElement("span",null,c("React").createElement(c("GriffinButton"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:k("142785")}),key:"share",label:i._("Compartir"),onClick:function(){return this.$GriffinCustomDashboardViewController20(true)}.bind(this),ref:"share",roundedCorners:[c("CornerEnum").topLeft,c("CornerEnum").bottomLeft],borderedSides:q}),c("React").createElement(c("ContextualLayer.react"),{alignment:"right",contextRef:function(){return this.refs.share}.bind(this),onBlur:function(){return this.$GriffinCustomDashboardViewController20(false)}.bind(this),position:"below",shown:this.state.showClipboard},c("React").createElement(c("SUICardDEPRECATED.react"),{className:"_2wo_",theme:c("SUIBusinessTheme")},c("React").createElement("div",null,c("React").createElement("div",null,i._("Compartir URL privada")),c("React").createElement("div",{className:"_2wp0"},this.$GriffinCustomDashboardViewController21()),c("React").createElement("div",{className:"_2wp1"},c("React").createElement(c("GriffinButton"),{label:p,onClick:this.$GriffinCustomDashboardViewController22,use:"confirm"}))))))};o.prototype.$GriffinCustomDashboardViewController20=function(p){this.setState({showClipboard:p})};o.prototype.$GriffinCustomDashboardViewController21=function(){var p=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,this.props.dashboardID,c("FalcorCommonViews").DETAILS).getQualifiedURI();return p.toString()};f.exports=o}),null);
__d("GriffinCustomDashboardViewControllerQueryRenderer",["FalcorLoadingCard","FalcorErrorNotice","GriffinCustomDashboardViewController","GriffinDashboardUtils","React","RelayFBEnvironment","idx","RelayModern","GriffinCustomDashboardViewControllerQueryRendererQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").graphql,k=c("RelayModern").QueryRenderer,l=function l(){return c("GriffinCustomDashboardViewControllerQueryRendererQuery.graphql")};h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.prototype.render=function(){var n=this.props,o=n.analyticsEntityID,p=n.dashboardID;return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:l,variables:{entityID:o,dashboardID:p},render:function(q){return this.$GriffinCustomDashboardViewControllerQueryRenderer1(q)}.bind(this)})};m.prototype.$GriffinCustomDashboardViewControllerQueryRenderer1=function(n){var o=n.error,p=n.props;if(!p)return c("React").createElement(c("FalcorLoadingCard"),null);else{var q,r=((q=p)!=null?(q=q.analytics_entity)!=null?q.dashboard:q:q)||{},s=r.dashboard_visibility,t=r.layout,u=r.name,v=r.time_last_updated,w=r.owner,x=w&&w.id,y=w&&w.name,z=this.props.dashboardID;if(o||!t||u==null||!z||!s||!v)return c("React").createElement(c("FalcorErrorNotice"),{"short":true});var A=u.length===0?c("GriffinDashboardUtils").defaultDashboardName:u;return c("React").createElement(c("GriffinCustomDashboardViewController"),babelHelpers["extends"]({charts:t,dashboardName:A,visibility:s,lastUpdatedTime:v,ownerName:y,ownerID:x,dashboardID:z},this.props))}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("GriffinDashboardAggregationChartPinModal.react",["AnalyticsSegmentUtils","AnalyticsAggregationChartCreateMutation","GriffinDashboardChartPinModalBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("GriffinDashboardChartPinModalBase"));i=h&&h.prototype;j.prototype.createChart=function(k,l,m,n,o){var p=this.props.chartType,q={chart_type:p,name:k,inherit_segment:false,queries:this.props.queryConfigs};c("AnalyticsAggregationChartCreateMutation").commit({dashboardID:l,chartConfig:q,chartType:q.chart_type},{onCompleted:n,onError:o})};j.prototype.getDefaultLogParams=function(){var k=this.props.queryConfigs,l=k[0],m=l.aggregation_period,n=l.breakdowns,o=l.date_range,p=l.event_name,q=l.ordering_columns,r=l.ordering_type,s=l.metric,t=l.segment;return{aggregation_period:m,breakdowns:JSON.stringify(n),date_range:JSON.stringify(o),event_name:p,ordering_columns:JSON.stringify(q),ordering_type:r,metric:s,segment_id:t.id||"",serialized_filter:c("AnalyticsSegmentUtils").serializeFilter(t.rules),query_count:k.length.toString()}};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AnalyticsMarketingInfraUtil",[],(function a(b,c,d,e,f,g){"use strict";function h(){window.fbq("trackCustom","CreateDashboard")}function i(){window.fbq("trackCustom","CreateEventSource")}function j(){window.fbq("trackCustom","LeftNav")}f.exports={logDashboardCreate:h,logEventSourceCreate:i,logLeftNavClick:j}}),null);
__d("AnalyticsNotificationActions",["AnalyticsActionType","AnalyticsDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").NOTIFICATION,i=function i(k,l){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({type:k},l)})},j={showNotification:function k(l){i(h.SHOW_NOTIFICATION,{activeNotification:l})},dismiss:function k(){i(h.DISMISS_NOTIFICATION)}};f.exports=j}),null);
__d("SUIAnalyticsCreateDashboardModalTheme",["cssVar","SUIBusinessThemeComponents","SUIModalCardUniformDEPRECATED.business","SUITheme","SUITypeStyle"],(function a(b,c,d,e,f,g,h){"use strict";var i={BLUE:"#3A84C5",GRAY:"#4E5665",RED:"#fa3e3e",WHITE:"#ffffff",LIGHT_GRAY:"#BDC1C9"},j={DEFAULT:new(c("SUITypeStyle"))({color:"#4b4f56",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px"})},k=new(c("SUITheme"))({id:"analytics_create_dashboard_theme",components:babelHelpers["extends"]({},c("SUIBusinessThemeComponents"),{SUIToggle:{height:20,off:{hover:{backgroundColor:i.LIGHT_GRAY,color:i.WHITE},normal:{backgroundColor:i.LIGHT_GRAY,color:i.WHITE}},on:{hover:{backgroundColor:i.BLUE,color:i.WHITE},normal:{backgroundColor:i.BLUE,color:i.WHITE}},switchColor:i.WHITE,typeStyle:j.DEFAULT},SUIModalCardDEPRECATED:babelHelpers["extends"]({},c("SUIModalCardUniformDEPRECATED.business"),{colors:babelHelpers["extends"]({},c("SUIModalCardUniformDEPRECATED.business").colors,{headerBackground:"#EEFFFF"})}),SUIFormRow:{labelText:j.DEFAULT,childrenText:j.DEFAULT,requiredColor:i.RED,emphasizedBackgroundColor:i.GRAY,positions:{helpPosition:"13px",requiredPosition:"16px",requiredPositionWithHelp:"32px"}}})});f.exports=k}),null);
__d("GriffinDashboardVisibilityToggle",["fbt","AnalyticsVisibility","React","SUIAnalyticsCreateDashboardModalTheme","SUIBusinessTheme","SUIHelpMessage.react","SUIHorizontalLayout.react","SUIToggle.react","SUITooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$GriffinDashboardVisibilityToggle1=function(){var r=this.context,s=r.isDemoApp,t=r.isReadOnly;if(s&&t)return;this.props.onToggleVisibility()}.bind(this),n}l.prototype.render=function(){var m=this.context,n=m.isDemoApp,o=m.isReadOnly,p=h._("Cuando la visibilidad est\u00e1 activada, todas las personas que tengan acceso a las estad\u00edsticas ver\u00e1n este panel."),q=c("React").createElement(c("SUIToggle.react"),{onClick:this.$GriffinDashboardVisibilityToggle1,theme:c("SUIAnalyticsCreateDashboardModalTheme"),value:this.props.selectedVisibility===c("AnalyticsVisibility").ANALYTICS_ENTITY}),r=o&&n?c("React").createElement(c("SUITooltip.react"),{theme:c("SUIBusinessTheme"),tooltip:h._("No puedes crear un panel p\u00fablico para la aplicaci\u00f3n de demostraci\u00f3n")},q):q;return c("React").createElement(c("SUIHorizontalLayout.react"),{theme:c("SUIBusinessTheme")},c("React").createElement("span",null,c("React").createElement("span",{style:{fontWeight:"bold"}},h._("Visibilidad del panel")),c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:p})),r)};l.contextTypes={isDemoApp:k.bool.isRequired,isReadOnly:k.bool.isRequired};f.exports=l}),null);
__d("GriffinDashboardsSelector",["fbt","GriffinDashboardUtils","GriffinSelector","GriffinSelectorOption","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.dashboards.map(function(m){var n=m.name.length===0?c("GriffinDashboardUtils").defaultDashboardName:m.name;return c("React").createElement(c("GriffinSelectorOption"),{key:m.id,value:m},n)});return c("React").createElement(c("GriffinSelector"),{onChange:this.props.onSelectDashboard,placeholder:h._("Selecciona un panel"),value:this.props.selectedDashboard},l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SUIAnalyticsDashboardPinModalTheme",["cssVar","SUIBusinessThemeComponents","SUIModalCardUniformDEPRECATED.business","SUITheme"],(function a(b,c,d,e,f,g,h){"use strict";var i={WHITE:"#ffffff",GRAY:"#D7D7D7",LIGHT:"#dddfe2"},j=new(c("SUITheme"))({id:"analytics_dashboard_pin_modal_theme",components:babelHelpers["extends"]({},c("SUIBusinessThemeComponents"),{SUIModalCardDEPRECATED:babelHelpers["extends"]({},c("SUIModalCardUniformDEPRECATED.business"),{colors:{background:i.WHITE,border:i.GRAY,footerBackground:i.WHITE,headerBackground:i.WHITE,innerBorder:i.LIGHT},fullWidthFooterDivider:true,padding:{contentLightPadding:{paddingBottom:"8px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"8px"},contentNormalPadding:{paddingBottom:"24px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"24px"},footer:{paddingBottom:"12px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"12px"},header:{paddingBottom:"0",paddingLeft:"12px",paddingRight:"8px",paddingTop:"0"}}})})});f.exports=j}),null);
__d("GriffinDashboardChartPinForm.react",["cx","fbt","AnalyticsVisibility","GriffinButton","GriffinDashboardsSelector","GriffinDashboardVisibilityToggle","GriffinModal","GriffinDashboardUtils","React","SUIAnalyticsDashboardPinModalTheme","SUIAtlasTheme","SUIBusinessTheme","SUITabGroup.react","SUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=30,m="",n=c("AnalyticsVisibility").OWNER,o=[{label:i._("A\u00f1adir a un panel existente"),value:"existing"},{label:i._("A\u00f1adir al nuevo panel"),value:"new"}];j=babelHelpers.inherits(p,c("React").PureComponent);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$GriffinDashboardChartPinForm11=function(s){this.setState({chartName:s})}.bind(this);this.$GriffinDashboardChartPinForm8=function(s){this.setState({dashboardName:s})}.bind(this);this.$GriffinDashboardChartPinForm10=function(s){this.setState({selectedDashboard:s})}.bind(this);this.$GriffinDashboardChartPinForm2=function(s){this.setState({activeTab:s})}.bind(this);this.$GriffinDashboardChartPinForm13=function(){this.setState({dashboardVisibility:this.state.dashboardVisibility===c("AnalyticsVisibility").ANALYTICS_ENTITY?c("AnalyticsVisibility").OWNER:c("AnalyticsVisibility").ANALYTICS_ENTITY})}.bind(this);this.$GriffinDashboardChartPinForm15=function(){var s=this.state,t=s.activeTab,u=s.chartName,v=s.dashboardName,w=s.dashboardVisibility,x=s.selectedDashboard;this.props.onConfirm(t,u.trim(),v,w,x)}.bind(this);this.$GriffinDashboardChartPinForm7=function(){this.props.onClose()}.bind(this);var r=q.dashboards.length>0;this.state={activeTab:r?"existing":"new",chartName:q.placeholderChartName.substr(0,l),dashboardName:m,dashboardVisibility:n,selectedDashboard:null}}p.prototype.render=function(){var q=this.state.activeTab,r=!this.$GriffinDashboardChartPinForm1()?i._("A\u00f1adir al nuevo panel"):c("React").createElement(c("SUITabGroup.react"),{onChange:this.$GriffinDashboardChartPinForm2,tabs:o,theme:c("SUIBusinessTheme"),value:q}),s=q==="existing"?this.$GriffinDashboardChartPinForm3():this.$GriffinDashboardChartPinForm4();return c("React").createElement(c("GriffinModal"),{content:s,footerButtons:this.$GriffinDashboardChartPinForm5(),footerItem:this.$GriffinDashboardChartPinForm6(),header:r,onClose:this.$GriffinDashboardChartPinForm7,theme:c("SUIAnalyticsDashboardPinModalTheme"),width:700})};p.prototype.$GriffinDashboardChartPinForm4=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2_71"},c("React").createElement("div",{className:"_2_72"},i._("Crear un nuevo panel")),c("React").createElement("div",{className:"_2_73"},c("React").createElement(c("SUITextInput.react"),{maxLength:25,onChange:this.$GriffinDashboardChartPinForm8,placeholder:i._("Panel sin t\u00edtulo"),style:{width:"300px"},theme:c("SUIAtlasTheme"),value:this.state.dashboardName}))),this.$GriffinDashboardChartPinForm9())};p.prototype.$GriffinDashboardChartPinForm3=function(){var q=this.props.dashboards;return c("React").createElement("div",null,c("React").createElement("div",{className:"_2_71"},c("React").createElement("div",{className:"_2_72"},i._("Elegir un panel existente")),c("React").createElement("div",{className:"_2_73"},c("React").createElement(c("GriffinDashboardsSelector"),{dashboards:q,onSelectDashboard:this.$GriffinDashboardChartPinForm10,selectedDashboard:this.state.selectedDashboard}))),this.$GriffinDashboardChartPinForm9())};p.prototype.$GriffinDashboardChartPinForm9=function(){return c("React").createElement("div",{className:"_2_71"},c("React").createElement("div",{className:"_2_72"},i._("Nombre del gr\u00e1fico")),c("React").createElement("div",{className:"_2_73"},c("React").createElement(c("SUITextInput.react"),{className:"_2_75",maxLength:l,onChange:this.$GriffinDashboardChartPinForm11,placeholder:c("GriffinDashboardUtils").defaultChartName,style:{width:"180px"},theme:c("SUIAtlasTheme"),value:this.state.chartName}),this.$GriffinDashboardChartPinForm12()))};p.prototype.$GriffinDashboardChartPinForm12=function(){return c("React").createElement("div",{className:"_2_74"},i._("Se guardar\u00e1 toda la configuraci\u00f3n que hayas seleccionado."))};p.prototype.$GriffinDashboardChartPinForm6=function(){var q=this.state.activeTab;return q==="existing"?null:c("React").createElement("div",{style:{marginTop:8,marginLeft:60}},c("React").createElement(c("GriffinDashboardVisibilityToggle"),{onToggleVisibility:this.$GriffinDashboardChartPinForm13,selectedVisibility:this.state.dashboardVisibility}))};p.prototype.$GriffinDashboardChartPinForm5=function(){return[c("React").createElement(c("GriffinButton"),{disabled:!this.$GriffinDashboardChartPinForm14(),label:i._("A\u00f1adir al panel"),onClick:this.$GriffinDashboardChartPinForm15,use:"confirm"}),c("React").createElement(c("GriffinButton"),{label:i._("Cancelar"),onClick:this.$GriffinDashboardChartPinForm7})]};p.prototype.$GriffinDashboardChartPinForm14=function(){var q=this.state,r=q.activeTab,s=q.selectedDashboard;return r==="new"||s!=null};p.prototype.$GriffinDashboardChartPinForm1=function(){return this.props.dashboards.length>0};f.exports=p}),null);
__d("GriffinDashboardChartPinModalBase",["fbt","invariant","AnalyticsDashboardCreateMutation","AnalyticsNavigationUtils","AnalyticsNotificationActions","AnalyticsMarketingInfraUtil","CurrentUser","FalcorCommonViews","GriffinDashboardChartPinForm.react","GriffinDashboardUtils","GriffinSections","InsightsEventLogger","React","RelayFBEnvironment","idx","nullthrows","RelayModern","AnalyticsDashboardQueryUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=c("RelayModern").QueryRenderer,n=c("AnalyticsDashboardQueryUtils").DashboardListQuery;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$GriffinDashboardChartPinModalBase2=function(u,v,w,x,y){var z,A=this,B,C=this.context.analyticsEntityID;if(u==="new")(function(){c("AnalyticsMarketingInfraUtil").logDashboardCreate();var D=A.getLogParams(u);c("AnalyticsDashboardCreateMutation").commit({analytics_entity_id:C,name:w,visibility:x},{onCompleted:function(E){var F,G=c("nullthrows")((F=E)!=null?(F=F.analytics_dashboard_create)!=null?(F=F.dashboard)!=null?F.id:F:F:F),H=babelHelpers["extends"]({},D,{dashboardID:G});this.createChart(v,G,w,function(){return this.$GriffinDashboardChartPinModalBase3(v,G,w,H)}.bind(this),function(I){return this.$GriffinDashboardChartPinModalBase4(I,H)}.bind(this))}.bind(A),onError:function E(F){throw F}})})();else(function(){y||i(0);var D=y.id,E=y.name,F=A.getLogParams(u,D);A.createChart(v,D,E,function(){return this.$GriffinDashboardChartPinModalBase3(v,D,E,F)}.bind(A),function(G){return this.$GriffinDashboardChartPinModalBase4(G,F)}.bind(A))})();this.props.onClose()}.bind(this),q}o.prototype.render=function(){var p=this.context.analyticsEntityID;return c("React").createElement(m,{environment:c("RelayFBEnvironment"),query:n,variables:{entityID:p},render:function(q){return this.$GriffinDashboardChartPinModalBase1(q)}.bind(this)})};o.prototype.$GriffinDashboardChartPinModalBase1=function(p){var q,r=p.error,s=p.props;if(r)return null;var t=(q=s)!=null?(q=q.analytics_entity)!=null?(q=q.dashboards)!=null?q.edges:q:q:q,u=!t?null:t.map(function(w){return w.node});if(!u)return null;var v=c("CurrentUser").getAccountID();u=this.context.isDemoApp&&this.context.isReadOnly?u.filter(function(w){return w.owner.id===v}):u;return c("React").createElement(c("GriffinDashboardChartPinForm.react"),{dashboards:u,onClose:this.props.onClose,onConfirm:this.$GriffinDashboardChartPinModalBase2,placeholderChartName:this.props.placeholderChartName})};o.prototype.logEvent=function(p,q){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:p},q))};o.prototype.getLogParams=function(p,q){var r=babelHelpers["extends"]({},this.getBaseLogParams(p),this.getDefaultLogParams());if(q!=null)r.dashboardID=q;return r};o.prototype.getBaseLogParams=function(p){return{chart_type:this.props.chartType,isNewDashboard:(p==="new").toString()}};o.prototype.getDefaultLogParams=function(){return{}};o.prototype.createChart=function(p,q,r,s,t){i(0)};o.prototype.$GriffinDashboardChartPinModalBase3=function(p,q,r,s){this.logEvent("dashboard_pin_chart_complete",s);var t=r.length===0?c("GriffinDashboardUtils").defaultDashboardName:r,u=h._("El gr\u00e1fico {chart name} se ha guardado en el panel {dashboard name}.",[h.param("chart name",c("React").createElement("b",null,p||c("GriffinDashboardUtils").defaultChartName)),h.param("dashboard name",c("React").createElement("b",null,t))]),v=function(){this.logEvent("dashboard_toast_link_click",s);c("AnalyticsNotificationActions").dismiss();c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").DASHBOARDS,q,c("FalcorCommonViews").DETAILS).go()}.bind(this),w=h._("Ir al panel");c("AnalyticsNotificationActions").showNotification({message:u,action:v,actionLabel:w})};o.prototype.$GriffinDashboardChartPinModalBase4=function(p,q){this.logEvent("dashboard_pin_chart_error",q);throw p};o.contextTypes={analyticsEntityID:l.string.isRequired,isDemoApp:l.bool.isRequired,isReadOnly:l.bool.isRequired};f.exports=o}),null);
__d("AnalyticsDashboardFunnelCreateMutation",["AnalyticsDateUtils","CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsDashboardFunnelCreateMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsDashboardFunnelCreateMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("CurrentUser").getAccountID(),analytics_entity_id:l.analytics_entity_id,breakdown:l.breakdown,dashboard_id:l.dashboard_id,date_range:c("AnalyticsDateUtils").getDateRangeForGraphQLMutation(l.date_range),is_internal:false,name:l.name,serialized_filter:l.segment==null?null:JSON.stringify(l.segment),segment_id:l.segment_id,stages:l.stages.map(function(n){return JSON.stringify(n)})}},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("GriffinDashboardFunnelChartPinModal.react",["AnalyticsDashboardFunnelCreateMutation","GriffinDashboardChartPinModalBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("GriffinDashboardChartPinModalBase"));i=h&&h.prototype;j.prototype.createChart=function(k,l,m,n,o){var p=this.context.analyticsEntityID,q=this.props,r=q.segment,s=q.segmentID,t=q.breakdown,u=q.dateRange,v=q.stages;c("AnalyticsDashboardFunnelCreateMutation").commit({analytics_entity_id:p,breakdown:t,dashboard_id:l,date_range:u,name:k,segment:r,segment_id:s,stages:v},{onCompleted:n,onError:o})};j.prototype.getDefaultLogParams=function(){var k=this.props.stages;return{num_stages:k.length.toString()}};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("GoalDatePicker",["fbt","AnalyticsDateRangeType","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DateTime","LayerHideOnBlur","React","SUIAnalyticsGriffinTheme","SUIDateTimeRangePicker.react","SUISelectorButton.react","XUIDateRangePickerUtil"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=h._("Indefinido"),l="M j, Y";i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$GoalDatePicker2=function(){this.setState({isLayerVisible:!this.state.isLayerVisible})}.bind(this);this.$GoalDatePicker3=function(o){this.setState({isLayerVisible:o})}.bind(this);this.$GoalDatePicker4=function(){this.setState({isLayerVisible:false})}.bind(this);this.$GoalDatePicker5=function(o,p){this.setState({rangeStart:o,rangeEnd:p})}.bind(this);this.$GoalDatePicker6=function(){this.setState({isLayerVisible:false});this.props.onChange(c("AnalyticsDateRangeType").DATE_RANGE,this.state.rangeStart,this.state.rangeEnd)}.bind(this);this.state={isLayerVisible:false,rangeEnd:n.rangeEnd,rangeStart:n.rangeStart}}m.prototype.render=function(){var n=this.props,o=n.dateRangeType,p=n.dateRestraints,q=n.rangeStart,r=n.rangeEnd,s=n.errorMessage,t=this.$GoalDatePicker1(o,q,r);return c("React").createElement("div",null,c("React").createElement(c("SUISelectorButton.react"),{theme:c("SUIAnalyticsGriffinTheme"),disabled:false,label:t,onClick:this.$GoalDatePicker2,value:o,ref:"selector",errorMessage:s,errorTooltipPosition:s?"right":null}),c("React").createElement(c("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.selector}.bind(this),onToggle:this.$GoalDatePicker3,position:"below",shown:this.state.isLayerVisible},c("React").createElement(c("SUIDateTimeRangePicker.react"),{theme:c("SUIAnalyticsGriffinTheme"),dateRestraints:p,hasTimeSelectors:false,onCancel:this.$GoalDatePicker4,onChange:this.$GoalDatePicker5,onClose:this.$GoalDatePicker6,rangeEnd:this.state.rangeEnd,rangeStart:this.state.rangeStart})))};m.prototype.$GoalDatePicker1=function(n,o,p){if(n===c("AnalyticsDateRangeType").ALL)return k;return c("XUIDateRangePickerUtil").formatDateRangeWithConfig(this.props.rangeStart.getUnixTimestamp(),this.props.rangeEnd.getUnixTimestamp(),l)};f.exports=m}),null);
__d("GriffinDashboardGoalCard",["cx","fbt","invariant","AnalyticsDateRangeStore","AnalyticsDateRangeType","AnalyticsDateUtils","DatePickerRestraints","DateTime","GoalDatePicker","InsightsContext","InsightsEventLogger","React","SUIBusinessTheme","SUIButton.react","SUICloseButton.react","SUIHelpMessage.react","SUILink.react","SUITextInput.react","Timezone","areEqual","idx","intlNumUtils"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("Timezone").UTC,n=i._("Mi objetivo");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(p){"use strict";l.constructor.call(this,p);this.$GriffinDashboardGoalCard5=function(A){this.setState({nameInput:A})}.bind(this);this.$GriffinDashboardGoalCard6=function(A){var B=null;if(!A)B=i._("El valor del objetivo no debe estar vac\u00edo.");else if(!this.$GriffinDashboardGoalCard16(A))B=i._("El valor del objetivo debe ser un n\u00famero positivo.");this.setState({valueInput:{value:A,errorMessage:B}})}.bind(this);this.$GriffinDashboardGoalCard10=function(){this.setState({showMoreOptions:!this.state.showMoreOptions})}.bind(this);this.$GriffinDashboardGoalCard8=function(A){var B=null;if(A&&!this.$GriffinDashboardGoalCard16(A))B=i._("El valor de inicio del objetivo debe ser un n\u00famero positivo.");this.setState({startValueInput:{value:A,errorMessage:B}})}.bind(this);this.$GriffinDashboardGoalCard12=function(A,B,C){this.setState({dateRangeTypeInput:A,rangeStartInput:B,rangeEndInput:C,dateErrorMessage:null})}.bind(this);this.$GriffinDashboardGoalCard13=function(){this.setState({dateRangeTypeInput:c("AnalyticsDateRangeType").ALL,rangeStartInput:null,rangeEndInput:null})}.bind(this);this.$GriffinDashboardGoalCard14=function(){var A=this.state,B=A.valueInput,C=A.startValueInput,D=A.dateRangeTypeInput,E=A.rangeStartInput,F=A.rangeEndInput;if(!B.errorMessage&&!C.errorMessage)if(B.value)if(C.value&&D===c("AnalyticsDateRangeType").ALL){var G=i._("El intervalo de fechas se debe seleccionar si introduces un valor de inicio del objetivo.");this.$GriffinDashboardGoalCard17(G);this.setState({dateErrorMessage:G})}else{var H=this.$GriffinDashboardGoalCard18(B.value),x=D!==c("AnalyticsDateRangeType").ALL&&E!=null&&F!=null?{startValue:this.$GriffinDashboardGoalCard19(C.value),dateRange:{type:D,since:E,until:F}}:null;this.$GriffinDashboardGoalCard17();this.props.onApplyGoal({name:this.state.nameInput,value:H,goalBound:x})}else{var I=i._("El valor del objetivo no debe estar vac\u00edo.");this.$GriffinDashboardGoalCard17(I);this.setState({valueInput:{value:"",errorMessage:I}})}else this.$GriffinDashboardGoalCard17(B.errorMessage!=null?B.errorMessage:C.errorMessage)}.bind(this);this.$GriffinDashboardGoalCard15=function(){this.props.onDeleteGoal()}.bind(this);if(p.goal){var q,r,s,t,u=p.goal,v=u.name,w=u.value,x=u.goalBound,y=(q=p.goal)!=null?(q=q.goalBound)!=null?q.startValue:q:q,z=(r=p.goal)!=null?(r=r.goalBound)!=null?(r=r.dateRange)!=null?r.type:r:r:r;this.state={displayName:v?v:n,nameInput:v,valueInput:{value:w.toString(),errorMessage:null},startValueInput:{value:y?y.toString():"",errorMessage:null},showMoreOptions:x!=null,dateRangeTypeInput:z?z:c("AnalyticsDateRangeType").ALL,rangeStartInput:(s=p.goal)!=null?(s=s.goalBound)!=null?(s=s.dateRange)!=null?s.since:s:s:s,rangeEndInput:(t=p.goal)!=null?(t=t.goalBound)!=null?(t=t.dateRange)!=null?t.until:t:t:t,dateErrorMessage:null}}else this.state={displayName:"",nameInput:"",valueInput:{value:"",errorMessage:null},startValueInput:{value:"",errorMessage:null},showMoreOptions:false,dateRangeTypeInput:c("AnalyticsDateRangeType").ALL,rangeStartInput:null,rangeEndInput:null,dateErrorMessage:null}}o.prototype.componentWillReceiveProps=function(p){"use strict";if(!c("areEqual")(this.props.goal,p.goal))if(p.goal){var q,r,s,t,u=p.goal,v=u.name,w=u.value,x=u.goalBound,y=(q=p.goal)!=null?(q=q.goalBound)!=null?q.startValue:q:q,z=(r=p.goal)!=null?(r=r.goalBound)!=null?(r=r.dateRange)!=null?r.type:r:r:r;this.setState({displayName:v?v:n,nameInput:v,valueInput:{value:w.toString(),errorMessage:null},startValueInput:{value:y?y.toString():"",errorMessage:null},showMoreOptions:x!=null,dateRangeTypeInput:z?z:c("AnalyticsDateRangeType").ALL,rangeStartInput:(s=p.goal)!=null?(s=s.goalBound)!=null?(s=s.dateRange)!=null?s.since:s:s:s,rangeEndInput:(t=p.goal)!=null?(t=t.goalBound)!=null?(t=t.dateRange)!=null?t.until:t:t:t})}else this.setState({displayName:"",nameInput:"",valueInput:{value:"",errorMessage:null},startValueInput:{value:"",errorMessage:null},showMoreOptions:false,dateRangeTypeInput:c("AnalyticsDateRangeType").ALL,rangeStartInput:null,rangeEndInput:null,dateErrorMessage:null})};o.prototype.render=function(){"use strict";return c("React").createElement("div",null,this.$GriffinDashboardGoalCard1(),this.$GriffinDashboardGoalCard2(),this.$GriffinDashboardGoalCard3(),this.$GriffinDashboardGoalCard4())};o.prototype.$GriffinDashboardGoalCard1=function(){"use strict";var p=this.state.valueInput;return c("React").createElement("div",null,c("React").createElement("div",{className:"_mtk"},c("React").createElement("div",{className:"_62ey"},i._("Nombre del objetivo")),c("React").createElement(c("SUITextInput.react"),{style:{width:"100%"},maxLength:30,placeholder:i._("Mi objetivo"),value:this.state.nameInput,onChange:this.$GriffinDashboardGoalCard5})),c("React").createElement("div",{className:"_mtk"},c("React").createElement("div",{className:"_62ey"},i._("Valor del objetivo")),c("React").createElement(c("SUITextInput.react"),{style:{width:"100%"},placeholder:i._("Por ejemplo, 100 000"),value:this.state.valueInput.value,onChange:this.$GriffinDashboardGoalCard6,errorMessage:p.errorMessage,errorTooltipPosition:p.errorMessage?"right":undefined})))};o.prototype.$GriffinDashboardGoalCard2=function(){"use strict";var p=this.state.showMoreOptions;if(p){var q=this.state.startValueInput;return c("React").createElement("div",null,c("React").createElement("div",{className:"_mtk"},c("React").createElement("div",{className:"_62ey"},i._("Iniciar valor"),c("React").createElement("span",{className:"_4y2d"},this.$GriffinDashboardGoalCard7())),c("React").createElement(c("SUITextInput.react"),{style:{width:"100%"},placeholder:i._("Por ejemplo, 10 000"),value:q.value,onChange:this.$GriffinDashboardGoalCard8,errorMessage:q.errorMessage,errorTooltipPosition:q.errorMessage?"right":undefined})),this.$GriffinDashboardGoalCard9())}else return c("React").createElement("div",{className:"_4qq6"},c("React").createElement(c("SUILink.react"),{theme:c("SUIBusinessTheme"),onClick:this.$GriffinDashboardGoalCard10},i._("M\u00e1s opciones")))};o.prototype.$GriffinDashboardGoalCard7=function(){"use strict";var p=i._("Al definir un valor de inicio distinto de tu valor objetivo, puedes crear un objetivo diagonal para hacer un seguimiento de tu progreso hacia el objetivo.");return c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:p})};o.prototype.$GriffinDashboardGoalCard9=function(){"use strict";var p=this.state,q=p.dateRangeTypeInput,r=p.rangeStartInput,s=p.rangeEndInput,t=p.dateErrorMessage,u=c("AnalyticsDateRangeStore").getTimezoneID(),v=r&&s?{since:r.toDate(),until:s.toDate()}:c("AnalyticsDateUtils").getDateRange(q,u),w=[c("DatePickerRestraints").enforceDateIsNoEarlierThan(c("InsightsContext").getTwoYearDateRange(false).since),c("DatePickerRestraints").enforceDateIsNoLaterThan(c("InsightsContext").getTwoYearDateRange(true).until)];return c("React").createElement("div",{className:"_mtk"},c("React").createElement("div",{className:"_62ey"},i._("Intervalo de fechas"),c("React").createElement("span",{className:"_4y2d"},this.$GriffinDashboardGoalCard11())),c("React").createElement(c("GoalDatePicker"),{errorMessage:t,dateRangeType:q,dateRestraints:w,rangeStart:c("DateTime").fromDate(v.since,m),rangeEnd:c("DateTime").fromDate(v.until,m),onChange:this.$GriffinDashboardGoalCard12}),c("React").createElement("div",{className:"_62qk"},c("React").createElement(c("SUILink.react"),{onClick:this.$GriffinDashboardGoalCard13},i._("Establecer en una fecha indefinida"))))};o.prototype.$GriffinDashboardGoalCard11=function(){"use strict";var p=i._("Aqu\u00ed puedes definir una fecha de inicio y de finalizaci\u00f3n para tu objetivo. Por ejemplo, puedes definir un objetivo que quieras alcanzar este mes seleccionando un intervalo de fechas de principio a final de mes.");return c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:p})};o.prototype.$GriffinDashboardGoalCard3=function(){"use strict";var p=i._("Aplicar objetivo"),q=i._("Primero selecciona un evento");return c("React").createElement("div",{className:"_62ez"},c("React").createElement(c("SUIButton.react"),{disabled:!this.props.canApply,label:p,use:"default",onClick:this.$GriffinDashboardGoalCard14,tooltip:!this.props.canApply?q:null}))};o.prototype.$GriffinDashboardGoalCard4=function(){"use strict";if(!this.props.applyGoalline)return null;return c("React").createElement("div",null,c("React").createElement("hr",{className:"_3km6"}),c("React").createElement("div",{className:"_3km7"},c("React").createElement("div",{className:"_3kmw"},this.state.displayName),c("React").createElement("div",{className:"_3kmx"}),c("React").createElement("div",{className:"_3kmy"},c("React").createElement(c("SUICloseButton.react"),{onClick:this.$GriffinDashboardGoalCard15,size:"large"}))))};o.prototype.$GriffinDashboardGoalCard17=function(p){"use strict";var q=this.state,r=q.nameInput,s=q.valueInput,t=q.startValueInput,u=q.dateRangeTypeInput,v=q.rangeStartInput,w=q.rangeEndInput;c("InsightsEventLogger").logEvent({eventName:"dashboard_goal_apply_click",goalName:r,goalValue:s.value,goalStartValue:t.value,goalDateRangeType:u,goalRangeStart:v,goalRangeEnd:w,errorMessage:p})};o.prototype.$GriffinDashboardGoalCard16=function(p){"use strict";var q=c("intlNumUtils").parseNumber(p);if(q&&q>=0)return true;return false};o.prototype.$GriffinDashboardGoalCard19=function(p){"use strict";if(p)return this.$GriffinDashboardGoalCard18(p);return null};o.prototype.$GriffinDashboardGoalCard18=function(p){"use strict";var q=c("intlNumUtils").parseNumber(p);q&&q>=0||j(0);return q};f.exports=o}),null);
__d("AnalyticsUserConfigFlags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HAS_DISMISSED_ADD_CHART_NUX:"has_dismissed_add_chart_nux",HAS_DISMISSED_BAR_CHART_PIN_ANNOUNCEMENT:"has_dismissed_bar_chart_pin_announcement",HAS_DISMISSED_BAR_CHART_PIN_NUX:"has_dismissed_bar_chart_pin_nux",HAS_DISMISSED_CHART_TYPE_TOGGLE_NUX:"has_dismissed_chart_type_toggle_nux",HAS_DISMISSED_FUNNEL_CALLOUT:"has_dismissed_funnel_callout",HAS_DISMISSED_FUNNEL_PIN_ANNOUNCEMENT:"has_dismissed_funnel_pin_announcement",HAS_DISMISSED_FUNNEL_PIN_NUX:"has_dismissed_funnel_pin_nux",HAS_DISMISSED_FUNNEL_UPSELL:"has_dismissed_funnel_upsell",HAS_DISMISSED_GOAL_LINE_ANNOUNCEMENT:"has_dismissed_goal_line_announcement",HAS_DISMISSED_GOAL_LINE_NUX:"has_dismissed_goal_line_nux",HAS_DISMISSED_LTV_SECTION_UPSELL:"has_dismissed_ltv_section_upsell",HAS_DISMISSED_VALUE_PROP_NUX:"has_dismissed_value_prop_nux",HAS_DISMISSED_VALUE_PROP_NUX_BANNER:"has_dismissed_value_prop_nux_banner",HAS_VIEWED_MARKETING_OPT_IN:"has_viewed_marketing_opt_in",HAS_VIEWED_MOBILE_ONBOARDING_NUX:"has_viewed_mobile_onboarding_nux",IS_PIXEL_NUX_DISMISSED:"is_pixel_nux_dismissed",IS_PRODUCT_TOUR_DISMISSED:"is_product_tour_dismissed",IS_PRODUCT_TOUR_F8_2017_DISMISSED:"is_product_tour_f8_2017_dismissed",IS_SIGNED_UP_FOR_PUSH_BETA:"is_signed_up_for_push_beta"})}),null);
__d("AnalyticsUserConfigEditMutation",["AnalyticsUserConfigFlags","CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsUserConfigEditMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsUserConfigEditMutation.graphql")};function k(l,m,n){return h(c("RelayFBEnvironment"),{mutation:j,onCompleted:m,onError:n,variables:{input:babelHelpers["extends"]({actor_id:c("CurrentUser").getAccountID(),client_mutation_id:0},l)}})}f.exports={commit:k}}),null);
__d("GriffinFunnelPinButton",["fbt","AnalyticsGKs","AnalyticsGKNames","AnalyticsUserConfigEditMutation","GriffinPinButton","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props.isSavable,m=c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_FUNNEL_PIN),n=l&&m,o=l?null:h._("Aplica un embudo con al menos un paso para activar la fijaci\u00f3n.");return c("React").createElement(c("GriffinPinButton"),{chartKey:"funnel",disabled:!n,disabledMessage:o,onClick:this.props.onClick})};k.prototype.$GriffinFunnelPinButton1=function(){"use strict";c("AnalyticsUserConfigEditMutation").commit({flag:"HAS_DISMISSED_FUNNEL_PIN_NUX",value:true})};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsUserConfigSetFlagMutation",["AnalyticsUserConfigFlags","AnalyticsUserConfig","CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsUserConfigSetFlagMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsUserConfig").id,i=c("RelayModern").commitMutation,j=c("RelayModern").graphql,k=function k(){return c("AnalyticsUserConfigSetFlagMutation.graphql")};function l(m,n,o){return i(c("RelayFBEnvironment"),{mutation:k,onCompleted:n,onError:o,optimisticUpdater:function p(q){var r=q.get(h);if(r)r.setValue(m.value,m.flag.toLowerCase())},variables:{input:babelHelpers["extends"]({actor_id:c("CurrentUser").getAccountID(),client_mutation_id:0,user_config_id:h},m)}})}f.exports={commit:l}}),null);
__d("GriffinAmbientNUXBody",["cx","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("_30vj",this.props.className);return c("React").createElement("div",{className:m},c("React").createElement(c("XUICloseButton.react"),{shade:"light",className:"_30vk",onClick:this.props.onCloseButtonClick}),c("React").createElement("div",{className:"_30vl"},this.props.children))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={onCloseButtonClick:k.func};f.exports=l}),null);
__d("GriffinAmbientNUXTheme",["cx"],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_2e4p",arrowDimensions:{offset:-8,length:30}};f.exports=i}),null);
__d("GriffinAmbientNUX",["React","ReactLayer","ReactAbstractContextualDialog","GriffinAmbientNUXTheme","GriffinAmbientNUXBody"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes,k=300,l=380;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;m.prototype.$GriffinAmbientNUX1=function(){"use strict";switch(this.props.width){case"wide":return l;case"custom":return this.props.customwidth;case"auto":return null;default:return k}};m.prototype.render=function(){"use strict";var n=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"GriffinAmbientNUX",theme:this.props.theme||c("GriffinAmbientNUXTheme")}));return c("React").createElement(n,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,focusContextOnHide:false,hasActionableContext:this.props.hasActionableContext,insertParent:this.props.insertParent,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onBeforeHide:this.props.onBeforeHide,onBlur:this.props.onBlur,position:this.props.position,shown:this.props.shown,width:this.$GriffinAmbientNUX1(this.props)},c("React").createElement(c("GriffinAmbientNUXBody"),{onCloseButtonClick:this.props.onCloseButtonClick},this.props.children))};function m(){"use strict";h.apply(this,arguments)}m.propTypes={alignment:j.oneOf(["left","center","right"]),behaviors:j.object,context:j.object,contextRef:j.func,customwidth:j.number,hasActionableContext:j.bool,insertParent:j.object,offsetX:j.number,offsetY:j.number,onBeforeHide:j.func,onCloseButtonClick:j.func,onBlur:j.func,position:j.oneOf(["above","below","left","right"]),shown:j.bool,theme:j.object,width:j.oneOf(["wide","normal","auto","custom"])};f.exports=m}),null);
__d("GriffinNUX",["cx","fbt","GriffinAmbientNUX","LeftRight.react","React","SimpleNUXMessage","XUIButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l={arrowDimensions:{offset:6,length:8},wrapperClassName:"_2e4p"};j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$GriffinNUX1=function(){var o=this.props,p=o.onDismiss,q=o.nuxKey;if(q)c("SimpleNUXMessage").markMessageSeenByUser(q);this.setState({hasDismissed:true});if(p!=null)p()}.bind(this);this.state={hasDismissed:false}}m.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement("span",{ref:this.props.contextRef},this.props.children),this.renderLayers())};m.prototype.$GriffinNUX2=function(){var n="\u25cf",o=this.props,p=o.currentStep,q=o.totalSteps;return c("React").createElement("span",{className:"_-jk"},Array(q).fill(null).map(function(r,s){return c("React").createElement("span",{className:"_-jl"+(s===p?" _-js":""),key:s},n)}))};m.prototype.$GriffinNUX3=function(){var n=this.props,o=n.currentStep,p=n.onNextButtonClick,q=n.totalSteps;if(o==null||q==null)return null;var r=o>=q-1?i._("Cerrar"):i._("Siguiente");return c("React").createElement(c("XUIButton.react"),{className:"_-jt",label:r,onClick:p})};m.prototype.renderLayers=function(){var n=this.props,o=n.behaviors,p=n.contextRef,q=n.currentStep,r=n.dismissOnBlur,s=n.offsetX,t=n.offsetY,u=n.position,v=n.subtitle,w=n.title,x=n.totalSteps,y=q==null||x==null?null:c("React").createElement(c("LeftRight.react"),{className:"_-jv"},this.$GriffinNUX2(),this.$GriffinNUX3());return c("React").createElement(c("GriffinAmbientNUX"),{behaviors:o,contextRef:function(){return this.refs[p]}.bind(this),onCloseButtonClick:this.$GriffinNUX1,onBlur:r?this.$GriffinNUX1:c("emptyFunction"),offsetX:s,offsetY:t,position:u,shown:this.props.canShow&&!this.state.hasDismissed,theme:l},c("React").createElement("div",null,c("React").createElement("div",{className:"_176e"},w),c("React").createElement("div",{className:"_176k"},v),y))};f.exports=m}),null);
__d("GriffinGoalLineNUX",["fbt","AnalyticsUserConfigSetFlagMutation","ContextualLayerUpdateOnScroll","GriffinNUX","InsightsEventLogger","React","RelayFBEnvironment","RelayModern","idx","GriffinGoalLineNUXQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("RelayModern").QueryRenderer,l=c("RelayModern").graphql,m=function m(){return c("GriffinGoalLineNUXQuery.graphql")};i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.componentWillReceiveProps=function(o){if(!this.props.clickedGoalTab&&o.clickedGoalTab)this.$GriffinGoalLineNUX1()};n.prototype.render=function(){return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:m,render:function(o){return this.$GriffinGoalLineNUX2(o)}.bind(this),variables:{}})};n.prototype.$GriffinGoalLineNUX2=function(o){var p,q=o.props,r=(p=q)!=null?(p=p.viewer)!=null?(p=p.analytics_user_config)!=null?p.has_dismissed_goal_line_nux:p:p:p;return r==null?null:c("React").createElement(c("GriffinNUX"),{behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:this.props.contextRef,onDismiss:function(){return this.$GriffinGoalLineNUX3()}.bind(this),position:"right",offsetX:140,offsetY:-30,canShow:!r,title:h._("Selecciona eventos y despu\u00e9s a\u00f1ade el objetivo a tu gr\u00e1fico."),subtitle:h._("Puedes introducir un valor para la segmentaci\u00f3n, la fecha de inicio y la fecha l\u00edmite para hacer un seguimiento del progreso hacia el objetivo.")})};n.prototype.$GriffinGoalLineNUX3=function(){c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_GOAL_LINE_NUX",value:true});c("InsightsEventLogger").logEvent({eventName:"dismiss_goal_line_nux"})};n.prototype.$GriffinGoalLineNUX1=function(){c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_GOAL_LINE_NUX",value:true});c("InsightsEventLogger").logEvent({eventName:"dashboard_goal_tab_click_upsell_success"})};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("GriffinMultiEventSelectorEventToken",["cx","CustomEventStore","React","SUICloseButton.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$GriffinMultiEventSelectorEventToken4=function(){this.props.onDelete(this.props.event)}.bind(this),m}k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_2r3s"},this.$GriffinMultiEventSelectorEventToken1(),this.$GriffinMultiEventSelectorEventToken2(),this.$GriffinMultiEventSelectorEventToken3())};k.prototype.$GriffinMultiEventSelectorEventToken1=function(){"use strict";var event=this.props.event,l=c("CustomEventStore").getAppEventDisplayName(event);return c("React").createElement("div",{className:"_2r3t"},l)};k.prototype.$GriffinMultiEventSelectorEventToken2=function(){"use strict";return c("React").createElement("div",{className:"_2r3u",style:{backgroundColor:this.props.color}})};k.prototype.$GriffinMultiEventSelectorEventToken3=function(){"use strict";return c("React").createElement("div",{className:"_2r3v"},c("React").createElement(c("SUICloseButton.react"),{onClick:this.$GriffinMultiEventSelectorEventToken4,size:"large"}))};f.exports=k}),null);
__d("GriffinMultiEventSelectorCard",["cssVar","cx","fbt","AnalyticsCandelaUtils","FalcorAppEventSelector","GriffinCandelaTheme","GriffinMultiEventSelectorEventToken","InsightsEventLogger","React","SUIAtlasIcon.react"],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(n){"use strict";l.constructor.call(this,n);this.$GriffinMultiEventSelectorCard3=function(o){var p=this.props,q=p.canAddEvent,r=p.events;if(!q)return;else if(r.some(function(event){return event===o.getUniqueID()}))return;this.props.onAddEvent(o.getUniqueID())}.bind(this)}m.prototype.render=function(){"use strict";return c("React").createElement("div",null,this.$GriffinMultiEventSelectorCard1(),c("React").createElement("hr",{className:"_3vxh"}),this.$GriffinMultiEventSelectorCard2())};m.prototype.$GriffinMultiEventSelectorCard1=function(){"use strict";var n=j._("Busca un evento"),o=this.props,p=o.canAddEvent,q=o.events;return c("React").createElement("div",{className:"_3vxi"},c("React").createElement("div",{className:"_3vxj"},j._("A\u00f1ade eventos")),c("React").createElement(c("FalcorAppEventSelector"),{disabled:!p,excludeAppEvents:q,onOpen:function r(){return c("InsightsEventLogger").logEvent({eventName:"multi_event_builder_focus"})},onSelect:this.$GriffinMultiEventSelectorCard3,placeholder:n,useTypeahead:true,value:null}),c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:"#4b4f56",name:"search",style:{fontSize:25,marginLeft:-32,marginRight:7,paddingTop:8,zIndex:1}}))};m.prototype.$GriffinMultiEventSelectorCard2=function(){"use strict";if(this.props.events.length===0)return c("React").createElement("div",{className:"_399v"},c("React").createElement("div",null,m.TEXT_CHOOSE_EVENT),c("React").createElement("div",null,j._("Puedes a\u00f1adir m\u00e1s de un evento en un gr\u00e1fico.")));var n=c("AnalyticsCandelaUtils").Generic.getAutoColors(c("GriffinCandelaTheme"),this.props.events),o=this.props.events.map(function(event){return c("React").createElement(c("GriffinMultiEventSelectorEventToken"),{key:event,color:n.get(event),event:event,onDelete:this.props.onRemoveEvent})}.bind(this));return c("React").createElement("div",{className:"_3vy2"},o)};m.TEXT_CHOOSE_EVENT=j._("Elige eventos para empezar a a\u00f1adir gr\u00e1ficos.");f.exports=m}),null);
__d("GriffinPinButton",["ix","fbt","ActiveSectionStore","CornerEnum","FluxContainer","GriffinButton","GriffinNUX","Image.react","InsightsEventLogger","React","SideEnum","SimpleNUXMessage","fbglyph","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=c("SimpleNUXMessageTypes").ANALYTICS_CUSTOM_DASHBOARDS_PIN_NUX;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$GriffinPinButton1=null,this.$GriffinPinButton2=function(){c("InsightsEventLogger").logEvent({eventName:"dashboard_chart_pin_click",chart:this.props.chartKey});this.props.onClick()}.bind(this),this.$GriffinPinButton3=function(){if(!this.$GriffinPinButton1)this.$GriffinPinButton1=setTimeout(function(){c("InsightsEventLogger").logEvent({eventName:"dashboard_chart_pin_hover",chart:this.props.chartKey,enabled:!this.props.disabled})}.bind(this),1e3)}.bind(this),this.$GriffinPinButton4=function(){if(this.$GriffinPinButton1){clearTimeout(this.$GriffinPinButton1);this.$GriffinPinButton1=null}}.bind(this),p}n.getStores=function(){return[c("ActiveSectionStore")]};n.calculateState=function(){return{isComparing:c("ActiveSectionStore").getIsComparing()}};n.prototype.componentWillUnmount=function(){if(this.$GriffinPinButton1){clearTimeout(this.$GriffinPinButton1);this.$GriffinPinButton1=null}};n.prototype.render=function(){var o=void 0;if(this.props.disabled)if(this.props.disabledMessage!=null)o=this.props.disabledMessage;else o=i._("Los paneles personalizados est\u00e1n versi\u00f3n de prueba. Este gr\u00e1fico todav\u00eda no se puede a\u00f1adir a un panel.");else if(this.context.isReadOnly&&!this.context.isDemoApp)o=i._("No puedes marcar el gr\u00e1fico en el panel para este origen de datos.");else if(this.state.isComparing)o=i._("Los gr\u00e1ficos todav\u00eda no se pueden marcar en los paneles cuando se aplica un segmento de comparaci\u00f3n.");else o=i._("Fijar a un panel");var p=this.props.disabled||this.context.isReadOnly&&!this.context.isDemoApp||this.state.isComparing,q=p?c("React").createElement(c("Image.react"),{src:h("126671")}):c("React").createElement(c("Image.react"),{src:h("142691")}),r=c("React").createElement(c("GriffinButton"),{borderedSides:this.props.borderedSides,"data-tooltip-position":"below",disabled:p,icon:q,onClick:this.$GriffinPinButton2,onMouseOver:this.$GriffinPinButton3,onMouseOut:this.$GriffinPinButton4,roundedCorners:this.props.roundedCorners,tooltip:o,width:32});if(!this.props.showNUX)return r;var s=c("SimpleNUXMessage").hasUserSeenMessage(m);return c("React").createElement(c("GriffinNUX"),{contextRef:"event_count_card_pin_button",key:"pin",nuxKey:m,position:"left",canShow:!s,title:i._("Haz clic en este icono de marcador para fijar el gr\u00e1fico en un panel")},r)};n.defaultProps={borderedSides:[c("SideEnum").left,c("SideEnum").top,c("SideEnum").bottom],disabled:true,roundedCorners:[c("CornerEnum").topLeft,c("CornerEnum").bottomLeft],showNUX:false};n.contextTypes={isDemoApp:l.bool.isRequired,isReadOnly:l.bool.isRequired};f.exports=c("FluxContainer").create(n)}),null);
__d("GriffinSegmentConditions",["FalcorSegmentTextUtils","GriffinSegmentUtils","React","SUIAudiencePlatformTheme","SUIToken.react"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=c("GriffinSegmentUtils").getAllRules(this.props.segmentEntity).map(function(m,n){return c("React").createElement(c("SUIToken.react"),{key:"token_"+n,theme:c("SUIAudiencePlatformTheme"),label:c("FalcorSegmentTextUtils").getTokenLabel(m)})});return c("React").createElement("div",null,l)};function k(){h.apply(this,arguments)}k.propTypes={segmentEntity:j.object.isRequired};f.exports=k}),null);
__d("GriffinSegmentReachChart",["cx","fbt","invariant","InsightsNumUtils","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props,p=o.errorMessage,q=o.totalUsers,r=o.segmentTotalUsers,s=o.allUsersSegment,t=null,u=null;if(s){t=i._("{total users} - todos los usuarios",[i.param("total users",c("InsightsNumUtils").prettyShortInt(r||0))]);u=c("React").createElement("div",{className:"_2pie"},i._("Utiliza el men\u00fa anterior para seleccionar un segmento. Te mostrar\u00e1 m\u00e1s detalles sobre un grupo espec\u00edfico de personas que usan tu aplicaci\u00f3n."))}else if(p)t=p;else{q&&r!==null&&r!==undefined||j(0);t=i._("{number of users} usuarios",[i.param("number of users",c("InsightsNumUtils").prettyShortInt(r))]);var v=i._("{percent number} \u0025 de un total de {total users} usuarios",[i.param("percent number",Math.round(r/q*100)),i.param("total users",c("InsightsNumUtils").prettyShortInt(q))]);u=c("React").createElement("div",null,c("React").createElement("div",{className:"_529k _2pie"},i._("PORCENTAJE DEL SEGMENTO")),c("React").createElement("div",{className:"_26va"},v))}return c("React").createElement("div",{className:"_2w-s"},c("React").createElement("div",{className:"_529k"},s?i._("TOTAL"):i._("TOTAL DEL SEGMENTO")),c("React").createElement("div",{className:"_26va"},t),u)};function n(){k.apply(this,arguments)}n.propTypes={errorMessage:m.string,totalUsers:m.number,segmentTotalUsers:m.number,allUsersSegment:m.bool};f.exports=n}),null);
__d("GriffinSegmentReachAndConditionsCard",["cx","fbt","BonsaiColors","GriffinPieChart","GriffinSegmentConditions","GriffinSegmentReachChart","React","InsightsNumUtils","immutable","CandelaConstants","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").Map,m=c("React").PropTypes,n=c("CandelaConstants").ScaleType,o=c("CandelaStackScaleBuilder").stack;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props,r=q.chartSize,s=q.segmentEntity,t=q.showConditions,u=q.showTitle,v=q.note,w=this.props.totalUsers||0,x=this.props.segmentTotalUsers||0,y=s.is_all_user,z=null;if(!y&&t)z=c("React").createElement("div",{className:"_uin _3-9d"},c("React").createElement(c("GriffinSegmentConditions"),{segmentEntity:s}));var A=[],B={},C={},D={segmentTotal:c("BonsaiColors").ANALYTICS_BLUE,totalRemainder:"#E9EAEC"};if(x){A.push("segmentTotal");B.segmentTotal=x;C.segmentTotal={type:n.NUMBER}}var E=w;if(x<w){A.push("totalRemainder");B.totalRemainder=w-x;C.totalRemainder={type:n.NUMBER}}else E=x;var F=void 0;if(E===0)F=[c("React").createElement("div",{key:"errorMessage"},i._("No hay usuarios en el per\u00edodo seleccionado"))];else{var G=c("InsightsNumUtils").prettyPercent(x/E,2);F=[c("React").createElement("div",{key:"pieChart",className:this.props.pieChartStyle},c("React").createElement("div",{className:"_cbn",style:{lineHeight:r+"px",fontSize:r/6}},G),c("React").createElement(c("GriffinPieChart"),{autoColors:l(D),data:[B],schema:C,plotAngle:o.apply(this,A).from(0),height:r,width:r,innerRadiusRatio:.75})),c("React").createElement(c("GriffinSegmentReachChart"),babelHelpers["extends"]({key:"segmentReachChart"},this.props,{allUsersSegment:s.is_all_user}))]}var H=t?i._("ALCANCE Y CONDICIONES DEL SEGMENTO"):i._("ALCANCE DEL SEGMENTO");return c("React").createElement("div",null,c("React").createElement("div",{className:"_529k _2piq"},u&&H),c("React").createElement("div",{className:"_4jip"},F,z),v)};function p(){j.apply(this,arguments)}p.propTypes={chartSize:m.number.isRequired,errorMessage:m.string,note:m.node,segmentEntity:m.object.isRequired,segmentTotalUsers:m.number,showConditions:m.bool.isRequired,showTitle:m.bool.isRequired,totalUsers:m.number};p.defaultProps={chartSize:120,pieChartStyle:"_cbm _3-93",showTitle:true};f.exports=p}),null);
__d("GriffinSegmentEditorCard",["cx","fbt","AnalyticsErrorBoundary","AnalyticsSegmentSizeQueryRenderer","FalcorLoadingCard","GriffinContextualSegmentEditorDialog","GriffinLightweightSegmentSelector","GriffinSegmentReachAndConditionsCard","InsightsNumUtils","React","SUIAnalyticsGriffinTheme","SUIBusinessTheme","SUIButton.react","SUICard.react","SUICardBody.react","SUICardHeader.react","SUICardTitle.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){var j,k,l,m,n="editButton";j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={isEditorOpen:false},this.$GriffinSegmentEditorCard1=function(){this.setState({isEditorOpen:!this.state.isEditorOpen})}.bind(this),this.$GriffinSegmentEditorCard4=function(v){this.props.onChange(v.getAuxiliaryData())}.bind(this),this.$GriffinSegmentEditorCard2=function(v){this.props.onChange(v);this.setState({isEditorOpen:false})}.bind(this),this.$GriffinSegmentEditorCard3=function(){this.setState({isEditorOpen:false})}.bind(this),r}o.prototype.render=function(){"use strict";var q=this.props,r=q.error,s=q.isLoading,t=q.segment,u=q.segmentTotal,v=q.totalUsers,w=q.onCreateNew,x=i._("Segmentos"),y=i._("Editar"),z=s?c("React").createElement(c("FalcorLoadingCard"),{height:100,showCard:false,onlySpinner:true}):c("React").createElement(c("GriffinSegmentReachAndConditionsCard"),{chartSize:75,errorMessage:r,pieChartStyle:"_cbm _3-8v",segmentEntity:t,segmentTotalUsers:u||0,showConditions:true,showTitle:false,totalUsers:v||0}),A=c("React").createElement(c("SUIButton.react"),{disabled:this.props.disabled,roundedCorners:["topRight","bottomRight"],key:"edit_button",ref:n,label:y,onClick:this.$GriffinSegmentEditorCard1,theme:c("SUIAnalyticsGriffinTheme")}),B=!this.state.isEditorOpen?null:c("React").createElement(c("GriffinContextualSegmentEditorDialog"),{anchor:this.refs[n],dateRange:this.props.dateRange,description:null,segment:this.props.segment,onChangeSegment:this.$GriffinSegmentEditorCard2,onClose:this.$GriffinSegmentEditorCard3}),C=c("InsightsNumUtils").prettyPercentQuotient({numerator:u,denominator:v,precision:2});return c("React").createElement("div",{className:"_s5x"},c("React").createElement(c("SUICard.react"),{cardClassName:"_gtl",theme:c("SUIBusinessTheme")},c("React").createElement(c("SUICardHeader.react"),null,c("React").createElement(c("SUICardTitle.react"),null,x)),c("React").createElement(c("SUICardBody.react"),null,c("React").createElement("div",{className:"_24bz"},c("React").createElement("div",{className:"_24b-"},c("React").createElement("div",{className:"_24b_"},i._("Aplicar segmento")),c("React").createElement("div",null,c("React").createElement(c("GriffinLightweightSegmentSelector"),{activeSegment:t,buttonBorderedSides:["bottom","left","top"],deleteDisabled:true,dropdownWidth:300,isDisabled:this.props.disabled,onChange:this.$GriffinSegmentEditorCard4,onCreateNew:w,percentage:C,segmentActions:{fetchSegmentTotal:c("emptyFunction")},showAllUsersOption:true,showCreateNewOption:false,theme:c("SUIAnalyticsGriffinTheme"),width:"auto"}),A)),c("React").createElement("div",{className:"_24b-"},c("React").createElement(c("AnalyticsErrorBoundary"),null,z))))),B)};l=babelHelpers.inherits(p,c("React").PureComponent);m=l&&l.prototype;function p(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.$GriffinSegmentEditorCardQueryRenderer1=function(v,w,x,y){return c("React").createElement(o,babelHelpers["extends"]({isLoading:v,error:w,segmentTotal:x,totalUsers:y},this.props))}.bind(this),r}p.prototype.render=function(){"use strict";var q=this.props,r=q.dateRange,s=q.segment;return c("React").createElement(c("AnalyticsSegmentSizeQueryRenderer"),{dateRange:r,segment:s,render:this.$GriffinSegmentEditorCardQueryRenderer1})};f.exports=p}),null);
__d("GriffinToggleableLegend.react",["cx","fbt","immutable","AnalyticsActionType","AnalyticsDispatcher","ContextualLayerAutoFlip","InsightsEventLogger","InsightsItems","React","ReactDOM","BUIInsightsToggleableLegend.react","XUIContextualDialog.react","guid","idx","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").Map,m=c("immutable").OrderedSet,n=c("InsightsItems").BaseItem;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$GriffinToggleableLegend4=function(q){var r,s,t=(r=q)!=null?(r=r.action)!=null?r.type:r:r,u=(s=q)!=null?(s=s.action)!=null?(s=s.data)!=null?s.id:s:s:s;if(t===c("AnalyticsActionType").DASHBOARDS.CHART_RESIZE&&u===this.$GriffinToggleableLegend2)this.$GriffinToggleableLegend3()}.bind(this);this.$GriffinToggleableLegend3=function(){var q=this.$GriffinToggleableLegend5(),r=this.state.showLegendOverflow&&!q.isEmpty();this.setState({overflowItems:q,showLegendOverflow:r})}.bind(this);this.$GriffinToggleableLegend6=function(){var q=!this.state.showLegendOverflow;c("InsightsEventLogger").logEvent({eventName:"dashboard_chart_toggle_see_all",chartID:this.props.chartID,showSeeAll:q});this.setState({showLegendOverflow:q})}.bind(this);this.$GriffinToggleableLegend7=function(){c("InsightsEventLogger").logEvent({eventName:"dashboard_chart_see_all_blur",chartID:this.props.chartID});this.setState({showLegendOverflow:false})}.bind(this);this.$GriffinToggleableLegend1=l();this.$GriffinToggleableLegend2=p.chartID||c("guid")();this.state={showLegendOverflow:false,overflowItems:m()};c("AnalyticsDispatcher").explicitlyRegisterStore({getDispatchToken:function(){return this.$GriffinToggleableLegend2}.bind(this)});window.addEventListener("resize",this.$GriffinToggleableLegend3)}o.prototype.componentDidMount=function(){c("AnalyticsDispatcher").register(this.$GriffinToggleableLegend4,this.$GriffinToggleableLegend2);this.$GriffinToggleableLegend3()};o.prototype.componentWillUnmount=function(){c("AnalyticsDispatcher").unregister(this.$GriffinToggleableLegend2);window.removeEventListener("resize",this.$GriffinToggleableLegend3)};o.prototype.render=function(){var p=this.props,q=p.className,r=p.disabledKeys,s=p.items,t=p.title,u=babelHelpers.objectWithoutProperties(p,["className","disabledKeys","items","title"]),v=this.state,w=v.showLegendOverflow,x=v.overflowItems,y=s.map(function(D){if(D instanceof n)return D;return babelHelpers["extends"]({},D,{ref:function(E){if(E)this.$GriffinToggleableLegend1=this.$GriffinToggleableLegend1.set(D.key,E)}.bind(this)})}.bind(this)),z=s.reduce(function(D,E){return D+(r.has(E.key)?0:1)},0),A=x.reduce(function(D,E){return D+(r.has(E.key)?0:1)},0),B=z-A,C=t?c("React").createElement("div",{className:"_47pw"},t):null;return c("React").createElement("div",{className:!this.props.hideMargins?"_3n4w":""},C,c("React").createElement("div",{className:"_246e"},c("React").createElement(c("BUIInsightsToggleableLegend.react"),babelHelpers["extends"]({},u,{canDisableAllItems:A>0,disabledKeys:r,items:y,minItemWidthPercentage:1})),c("React").createElement("div",{className:"_246f"+(x.isEmpty()?" hidden_elem":""),onClick:this.$GriffinToggleableLegend6,ref:"seeAll",role:"button",tabIndex:"0"},i._("Ver todo")),c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip")},contextRef:function(){return this.refs.seeAll}.bind(this),alignment:"center",onBlur:this.$GriffinToggleableLegend7,position:"above",shown:w},c("React").createElement(c("BUIInsightsToggleableLegend.react"),babelHelpers["extends"]({},u,{canDisableAllItems:B>0,className:c("joinClasses")("_246g",q),disabledKeys:r,items:x,display:"inline",listLayout:"vertical"})))))};o.prototype.$GriffinToggleableLegend5=function(){return this.props.items.filter(function(p){var q=this.$GriffinToggleableLegend1.get(p.key);if(!q)return false;var r=c("ReactDOM").findDOMNode(q);return r instanceof HTMLElement&&r.offsetTop>0}.bind(this))};f.exports=o}),null);
__d("AnalyticsAggregationChartInputForm",["cx","fbt","ix","AnalyticsQEUniverses","AnalyticsQEUtils","Timezone","AppEventQueryAggregationPeriod","AnalyticsBarChart","AnalyticsChartSize","AnalyticsChartType","AnalyticsDateRangeStore","AnalyticsDateRangeType","AnalyticsDateUtils","AnalyticsGKs","AnalyticsGKNames","AnalyticsMetricConfigs","AnalyticsQueryBreakdownUtils","AnalyticsQueryMetric","AnalyticsSegmentUtils","AnalyticsTimeSeriesChart","AppCustomEventType","BonsaiApiBreakdown","DatePickerRestraints","DateTime","GriffinGoalLineNUX","GriffinCardHeaderControl","GriffinDashboardGoalCard","GriffinDatePicker","GriffinMetricSelector","GriffinMultiEventSelectorCard","GriffinSegmentEditorCard","GriffinSegmentUtils","GriffinTimeIntervalSelector","GriffinTimeSeriesBreakdownSelector","Image.react","InsightsContext","InsightsEventLogger","LeftRight.react","React","SUIAnalyticsGriffinTheme","SUIBusinessTheme","SUIButton.react","SUICard.react","SUICardBody.react","SUICardDEPRECATED.react","SUICardHeader.react","SUICardTitle.react","SUIGlyphIcon.react","SUITabGroup.react","SUIToggleButtonGroup.react","fbglyph","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n=c("Timezone").UTC,o=c("AnalyticsDateUtils").DateRangeTypes,p={aggregation_period:"DAY",breakdowns:[],date_range:{type:c("AnalyticsDateRangeType").LAST_7_DAYS,since:null,until:null},event_name:c("AppCustomEventType").FB_BASE_EVENT,ordering_columns:[],ordering_type:"DESCENDING",limit:0,metric:c("AnalyticsQueryMetric").UNIQUE_USERS,segment:{id:null,name:null,rules:c("AnalyticsSegmentUtils").ALL_USERS}},q=[c("AnalyticsQueryMetric").COUNT,c("AnalyticsQueryMetric").UNIQUE_USERS,c("AnalyticsQueryMetric").STICKINESS,c("AnalyticsQueryMetric").COUNT_PER_USER,c("AnalyticsQueryMetric").VALUE],r=[c("AnalyticsQueryMetric").MEDIAN_VALUE,c("AnalyticsQueryMetric").MEDIAN_VALUE_PER_USER],s=[c("AnalyticsQueryMetric").VALUE_PER_EVENT,c("AnalyticsQueryMetric").VALUE_PER_USER],t=c("AnalyticsQueryBreakdownUtils").demoBreakdowns,u=c("AnalyticsQueryBreakdownUtils").demoBreakdownsString,v=10,w=[{label:i._("Eventos"),value:"events"},{label:i._("Mi objetivo"),value:"goal"}];l=babelHelpers.inherits(x,c("React").PureComponent);m=l&&l.prototype;function x(){var y,z;for(var A=arguments.length,B=Array(A),C=0;C<A;C++)B[C]=arguments[C];return z=(y=m.constructor).call.apply(y,[this].concat(B)),this.state={applyGoalline:((k=this.props)!=null?(k=k.chartConfig)!=null?k.goal:k:k)!=null,selectedChartType:this.props.chartConfig.chart_type,tabValue:"events"},this.$AnalyticsAggregationChartInputForm18=function(event){var D=this.props.chartConfig,E=D.chart_type,F=D.queries;this.$AnalyticsAggregationChartInputForm4("dashboard_chart_add_event",{event_name:event});var G=E===c("AnalyticsChartType").TIME_SERIES&&F.length===1&&F[0].breakdowns.length>0,H=F[0]||p,I={aggregation_period:H.aggregation_period,breakdowns:H.breakdowns.slice(),date_range:babelHelpers["extends"]({},H.date_range),event_name:event,ordering_columns:H.ordering_columns.slice(),ordering_type:H.ordering_type,metric:H.metric,segment:H.segment},J=[].concat(F,[I]),K=J[0].metric,L=J.map(function(O){return O.event_name}),M=this.$AnalyticsAggregationChartInputForm26(K,L);J=J.map(function(O){return babelHelpers["extends"]({},O,{breakdowns:G?[]:O.breakdowns,metric:M})});var N=babelHelpers["extends"]({},D,{queries:J});this.props.onChartConfigChange(N)}.bind(this),this.$AnalyticsAggregationChartInputForm17=function(D){var E=D===u?t:[D];this.$AnalyticsAggregationChartInputForm4("dashboard_chart_breakdown_change",{breakdown:E});var F=this.props.chartConfig,G=F.queries,H=D===c("BonsaiApiBreakdown").NONE?[]:E,I=G.map(function(K){return babelHelpers["extends"]({},K,{breakdowns:H})}),J=babelHelpers["extends"]({},F,{queries:I});this.props.onChartConfigChange(J)}.bind(this),this.$AnalyticsAggregationChartInputForm13=function(D,E,F){var G=c("AnalyticsDateUtils").getDaysInRange({since:E.toDate(),until:F.toDate()});this.$AnalyticsAggregationChartInputForm4("dashboard_chart_dateRange_change",{dateRangeType:D,daysInRange:G});var H=this.props.chartConfig,I=H.queries,J=D===o.DATE_RANGE,K={type:D,since:J?E:null,until:J?F:null},L=I.map(function(N){return babelHelpers["extends"]({},N,{date_range:K})}),M=babelHelpers["extends"]({},H,{queries:L});this.props.onChartConfigChange(M)}.bind(this),this.$AnalyticsAggregationChartInputForm15=function(D){var E=this.props.chartConfig,F=E.queries;if(F.length===0)return;this.$AnalyticsAggregationChartInputForm4("dashboard_chart_metric_change",{metric:D});var G=F[0].aggregation_period,H=F[0].breakdowns,I=c("AnalyticsMetricConfigs").metricSupportsIntervalSelection(D)?G:p.aggregation_period,J=c("AnalyticsMetricConfigs").metricSupportsBreakdowns(D)?H:[],K=F.map(function(M){return babelHelpers["extends"]({},M,{metric:D,aggregation_period:I,breakdowns:J})}),L=babelHelpers["extends"]({},E,{queries:K});this.props.onChartConfigChange(L)}.bind(this),this.$AnalyticsAggregationChartInputForm20=function(D){var E=this.props.chartConfig,F=babelHelpers["extends"]({},E,{goal:D});this.setState({applyGoalline:true});this.props.onChartConfigChange(F)}.bind(this),this.$AnalyticsAggregationChartInputForm21=function(){var D=this.props.chartConfig,E=babelHelpers["extends"]({},D,{goal:null});this.setState({applyGoalline:false});this.props.onChartConfigChange(E)}.bind(this),this.$AnalyticsAggregationChartInputForm19=function(event){var D,E=this;this.$AnalyticsAggregationChartInputForm4("dashboard_chart_remove_event",{event_name:event});var F=this.props.chartConfig,G=F.queries,H=G.filter(function(J){return J.event_name!==event});if(H.length>0)(function(){var J=G[0].metric,K=H.map(function(M){return M.event_name}),L=E.$AnalyticsAggregationChartInputForm26(J,K);H=H.map(function(M){return babelHelpers["extends"]({},M,{metric:L})})})();var I=babelHelpers["extends"]({},F,{queries:H});this.props.onChartConfigChange(I)}.bind(this),this.$AnalyticsAggregationChartInputForm23=function(D){this.$AnalyticsAggregationChartInputForm4("dashboard_chart_segment_update",{segmentID:D.id});this.$AnalyticsAggregationChartInputForm24(D)}.bind(this),this.$AnalyticsAggregationChartInputForm12=function(D){this.$AnalyticsAggregationChartInputForm4("dashboard_chart_type_change",{chartType:D});this.setState({selectedChartType:D});var E=this.props.chartConfig.queries,F=E[0].breakdowns,G=F;if(D===c("AnalyticsChartType").TIME_SERIES)if(F.length===2)G=[F[0]];else if(E.length>1)G=[];var H=D===c("AnalyticsChartType").BAR_CHART?c("AppEventQueryAggregationPeriod").RANGE:c("AppEventQueryAggregationPeriod").DAY,I=this.props.chartConfig.queries.map(function(K){return babelHelpers["extends"]({},K,{aggregation_period:this.$AnalyticsAggregationChartInputForm28(H),breakdowns:G})}.bind(this)),J=babelHelpers["extends"]({},this.props.chartConfig,{chart_type:D,queries:I.slice(0,v)});this.props.onChartConfigChange(J)}.bind(this),this.$AnalyticsAggregationChartInputForm16=function(D){this.$AnalyticsAggregationChartInputForm4("dashboard_chart_timeInterval_change",{timeInterval:D});var E=this.props.chartConfig,F=E.queries,G=this.$AnalyticsAggregationChartInputForm28(D),H=F.map(function(J){return babelHelpers["extends"]({},J,{aggregation_period:G})}),I=babelHelpers["extends"]({},E,{queries:H});this.props.onChartConfigChange(I)}.bind(this),this.$AnalyticsAggregationChartInputForm22=function(D){if(this.state.tabValue==="events"&&D==="goal")c("InsightsEventLogger").logEvent({eventName:"dashboard_goal_tab_clicked"});this.setState({tabValue:D})}.bind(this),z}x.prototype.render=function(){return c("React").createElement("div",{className:"_1v72"},c("React").createElement("div",{className:"_1v78"},c("React").createElement("div",{className:"_1v79 _60_9"},this.$AnalyticsAggregationChartInputForm1()),c("React").createElement("div",{className:"_1v79 _1v7a"},this.$AnalyticsAggregationChartInputForm2())),c("React").createElement("div",{className:"_1v78"},c("React").createElement("div",{className:"_1v79 _1v7b"},this.$AnalyticsAggregationChartInputForm3())))};x.prototype.$AnalyticsAggregationChartInputForm4=function(y,z){c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:y,dashboardID:this.props.dashboardID,chartID:this.props.chartID},z))};x.prototype.$AnalyticsAggregationChartInputForm3=function(){var y=this.props,z=y.analyticsEntityID,A=y.chartConfig,B=y.chartID,C=y.inheritedDateRange,D=y.inheritedDateRangeType,E=y.timezoneID,F=this.state.selectedChartType,G=A.queries,H=A.goal,I=void 0;if(G.length===0)I=this.$AnalyticsAggregationChartInputForm5();else{var J={analyticsEntityID:z,chartSize:c("AnalyticsChartSize").LARGE,inheritedDateRange:C,inheritedDateRangeType:D,inheritedSegment:c("AnalyticsSegmentUtils").ALL_USERS,timezoneID:E},K={id:B,inherit_segment:false,name:"",goal:H,queries:G};switch(F){case c("AnalyticsChartType").TIME_SERIES:I=c("React").createElement(c("AnalyticsTimeSeriesChart"),babelHelpers["extends"]({},J,{chart:babelHelpers["extends"]({},K,{chart_type:"TIME_SERIES"})}));break;case c("AnalyticsChartType").BAR_CHART:I=c("React").createElement(c("AnalyticsBarChart"),babelHelpers["extends"]({},J,{chart:babelHelpers["extends"]({},K,{chart_type:"BAR_CHART"})}));break;default:I=null}}return c("React").createElement(c("SUICardDEPRECATED.react"),{header:this.$AnalyticsAggregationChartInputForm6(),type:"fullbleed",theme:c("SUIBusinessTheme")},I)};x.prototype.$AnalyticsAggregationChartInputForm5=function(){return c("React").createElement("div",{className:"_1v7c"},c("React").createElement(c("Image.react"),{src:j("292690")}),c("React").createElement("div",null,c("GriffinMultiEventSelectorCard").TEXT_CHOOSE_EVENT))};x.prototype.$AnalyticsAggregationChartInputForm6=function(){var y=this.props.chartConfig.queries,z=y.length>0?y[0]:p;return c("React").createElement(c("LeftRight.react"),{className:"_1v7d"},this.$AnalyticsAggregationChartInputForm7(z),c("React").createElement("div",{className:"_1v7e"},this.$AnalyticsAggregationChartInputForm8(),this.$AnalyticsAggregationChartInputForm9(z),this.$AnalyticsAggregationChartInputForm10(z),this.$AnalyticsAggregationChartInputForm11(z)))};x.prototype.$AnalyticsAggregationChartInputForm8=function(){if(!c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_BAR_CHART))return null;var y=c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:j("142396")}),z=c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:j("141632")});return c("React").createElement(c("GriffinCardHeaderControl"),null,c("React").createElement(c("SUIToggleButtonGroup.react"),{className:"_629k",onChange:this.$AnalyticsAggregationChartInputForm12,theme:c("SUIAnalyticsGriffinTheme"),value:this.state.selectedChartType},c("React").createElement(c("SUIButton.react"),{icon:y,key:c("AnalyticsChartType").TIME_SERIES,label:"",tooltip:i._("Gr\u00e1fico de l\u00edneas"),value:c("AnalyticsChartType").TIME_SERIES,width:40}),c("React").createElement(c("SUIButton.react"),{icon:z,key:c("AnalyticsChartType").BAR_CHART,label:"",tooltip:i._("Gr\u00e1fico de barras"),value:c("AnalyticsChartType").BAR_CHART,width:40})))};x.prototype.$AnalyticsAggregationChartInputForm7=function(y){var z=y.date_range,A=z.type,B=z.since,C=z.until,D=this.props.chartConfig.queries,E=c("AnalyticsDateRangeStore").getTimezoneID(),F=B&&C?{since:B.toDate(),until:C.toDate()}:c("AnalyticsDateUtils").getDateRange(A,E),G=[c("DatePickerRestraints").enforceDateIsNoEarlierThan(c("InsightsContext").getTwoYearDateRange().since),c("DatePickerRestraints").enforceDateIsNoLaterThan(c("AnalyticsDateUtils").getTodayStartInTimezoneUTCDate(E).toDate())],H=i._("Intervalo de fechas");return c("React").createElement(c("GriffinCardHeaderControl"),{label:H},c("React").createElement(c("GriffinDatePicker"),{dateRangeType:A,dateRestraints:G,disabled:D.length===0,onChange:this.$AnalyticsAggregationChartInputForm13,visibleDateRange:F}))};x.prototype.$AnalyticsAggregationChartInputForm9=function(y){var z=this.props.chartConfig.queries,A=y.metric,B=y.breakdowns[0],C=z.map(function(D){return D.event_name});return c("React").createElement(c("GriffinMetricSelector"),{allMetrics:this.$AnalyticsAggregationChartInputForm14(),activeMetric:A,disabled:z.length===0,eventNames:C,onChange:this.$AnalyticsAggregationChartInputForm15,onOpen:function(){return this.$AnalyticsAggregationChartInputForm4("dashboard_chart_metric_selector_open",{})}.bind(this),selectedBreakdown:B})};x.prototype.$AnalyticsAggregationChartInputForm10=function(y){var z=y.metric,A=this.props.chartConfig.queries,B=this.state.selectedChartType,C=false,D=void 0;if(B===c("AnalyticsChartType").BAR_CHART){C=true;D=i._("El intervalo de tiempo no se puede aplicar a este tipo de gr\u00e1fico.")}else if(A.length===0)C=true;var E=c("AppEventQueryAggregationPeriod")[y.aggregation_period];return c("React").createElement(c("GriffinTimeIntervalSelector"),{disabled:C,onChange:this.$AnalyticsAggregationChartInputForm16,onOpen:function(){return this.$AnalyticsAggregationChartInputForm4("dashboard_chart_time_selector_open",{})}.bind(this),selectedMetric:z,timeInterval:E,disabledTooltip:D})};x.prototype.$AnalyticsAggregationChartInputForm11=function(y){var z=y.metric,A=y.breakdowns,B=A.length===2?u:A[0],C=y.event_name,D=this.props.chartConfig,E=D.chart_type,F=D.queries,G=false,H=null;if(E===c("AnalyticsChartType").TIME_SERIES&&F.length!==1){G=true;H="more_than_one_event"}else if(!c("AnalyticsMetricConfigs").metricSupportsBreakdowns(z)){G=true;H="wrong_metric"}var I=E===c("AnalyticsChartType").BAR_CHART&&F.length<=1&&c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_DASHBOARD_BAR_CHART);return c("React").createElement(c("GriffinTimeSeriesBreakdownSelector"),{breakdown:B,eventName:C,isDisabled:G,disabledMessage:H,onChange:this.$AnalyticsAggregationChartInputForm17,onOpened:function(){return this.$AnalyticsAggregationChartInputForm4("dashboard_chart_breakdown_selector_open",{})}.bind(this),showDemoBreakdowns:I})};x.prototype.$AnalyticsAggregationChartInputForm1=function(){var y=this.state,z=y.applyGoalline,A=y.tabValue,B=this.props.chartConfig,C=B.chart_type,D=B.queries,E=B.goal,F=D.map(function(J){return J.event_name}),G=true;if(C===c("AnalyticsChartType").BAR_CHART&&D.length>=v)G=false;var H=c("React").createElement(c("GriffinMultiEventSelectorCard"),{canAddEvent:G,events:F,onAddEvent:this.$AnalyticsAggregationChartInputForm18,onRemoveEvent:this.$AnalyticsAggregationChartInputForm19});if(c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_GOAL_LINE)){var I=A==="events"?H:c("React").createElement(c("GriffinDashboardGoalCard"),{applyGoalline:z,goal:E,onApplyGoal:this.$AnalyticsAggregationChartInputForm20,onDeleteGoal:this.$AnalyticsAggregationChartInputForm21,canApply:D.length!==0});return c("React").createElement(c("SUICard.react"),{cardClassName:"_2ssu",theme:c("SUIBusinessTheme")},c("React").createElement(c("SUICardHeader.react"),{hasVerticalPadding:false},c("React").createElement(c("SUITabGroup.react"),{onChange:this.$AnalyticsAggregationChartInputForm22,tabs:w,value:A,ref:"tab"}),c("React").createElement(c("GriffinGoalLineNUX"),{contextRef:"tab",clickedGoalTab:A==="goal"})),c("React").createElement(c("SUICardBody.react"),null,I))}else return c("React").createElement(c("SUICard.react"),{cardClassName:"_2ssu",theme:c("SUIBusinessTheme")},c("React").createElement(c("SUICardHeader.react"),null,c("React").createElement(c("SUICardTitle.react"),null,w[0].label)),c("React").createElement(c("SUICardBody.react"),null,H))};x.prototype.$AnalyticsAggregationChartInputForm2=function(){var y=this.props,z=y.chartConfig,A=y.inheritedDateRange,B=y.inheritedDateRangeType,C=y.timezoneID,D=z.queries,E=D[0]||p,F=E.date_range,G=c("AnalyticsDateUtils").getFixedDateRangeWithInheritanceCheck({type:B,since:c("DateTime").fromDate(A.since,n),until:c("DateTime").fromDate(A.until,n)},F,C);return c("React").createElement(c("GriffinSegmentEditorCard"),{dateRange:G,disabled:D.length===0,onChange:this.$AnalyticsAggregationChartInputForm23,onCreateNew:function(){return this.$AnalyticsAggregationChartInputForm24(null)}.bind(this),segment:c("GriffinSegmentUtils").parseSerializedFilterFromGraphQL(c("AnalyticsSegmentUtils").serializeFilter(E.segment.rules),E.segment.id,E.segment.name)})};x.prototype.$AnalyticsAggregationChartInputForm25=function(y){return y.every(function(event){return event===c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP})};x.prototype.$AnalyticsAggregationChartInputForm14=function(){var y=this.props.chartConfig.queries,z=y.map(function(C){return C.event_name}),A=this.$AnalyticsAggregationChartInputForm25(z),B=q;if(!A)B=B.concat(s);else B=B.concat(r);if(z.length===1)B.unshift(c("AnalyticsQueryMetric").MAU_WAU_DAU);return B};x.prototype.$AnalyticsAggregationChartInputForm26=function(y,z){var A=r.some(function(D){return D===y}),B=s.some(function(D){return D===y}),C=this.$AnalyticsAggregationChartInputForm25(z);if(!C&&A)return c("AnalyticsQueryMetric").UNIQUE_USERS;else if(C&&B)return c("AnalyticsQueryMetric").MEDIAN_VALUE;else if(z.length>1&&y===c("AnalyticsQueryMetric").MAU_WAU_DAU)return c("AnalyticsQueryMetric").UNIQUE_USERS;else return y};x.prototype.$AnalyticsAggregationChartInputForm27=function(y){var z=this.props.chartConfig,A=babelHelpers["extends"]({},z,{name:y});this.props.onChartConfigChange(A)};x.prototype.$AnalyticsAggregationChartInputForm28=function(y){switch(y){case"hour":return"HOUR";case"day":return"DAY";case"week":return"WEEK";case"month":return"MONTH";case"range":return"RANGE";default:y;return"DAY"}};x.prototype.$AnalyticsAggregationChartInputForm24=function(y){var z,A=this.props.chartConfig,B=A.queries,C=(z=y)!=null?z.id:z,D=B.map(function(F){var G;return babelHelpers["extends"]({},F,{segment:{id:C?C.toString():null,name:(G=y)!=null?G.name:G,rules:y?c("AnalyticsSegmentUtils").toSegment(y):c("AnalyticsSegmentUtils").ALL_USERS}})}),E=babelHelpers["extends"]({},A,{queries:D});this.props.onChartConfigChange(E)};f.exports=x}),null);
__d("FalcorDeveloperValueCard",["fbt","AnalyticsGKNames","AnalyticsGKs","BonsaiApiBreakdown","MetricBreakdownSectionMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorDeveloperValueCard",mixins:[c("MetricBreakdownSectionMixin")],_title:function j(){return h._("Referencias y descargas")},_getMetrics:function j(){return{app_total_referrals:"total_referrals",mobile_referral_installs:"mobile_referral_installs"}},_getBreakdowns:function j(){var k={app_total_referrals:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE],mobile_referral_installs:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE]};if(c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_ANALYTICS_CONTENT_TYPE)){k.app_total_referrals.push(c("BonsaiApiBreakdown").CONTENT_TYPE);k.mobile_referral_installs.push(c("BonsaiApiBreakdown").CONTENT_TYPE)}return k},_getHelptextMap:function j(){return{app_total_referrals:"ReferralsTotal",mobile_referral_installs:"MobileReferralInstalls"}},_getKeyToLabel:function j(){return{app_total_referrals:h._("Referencias desde publicaciones"),mobile_referral_installs:h._("Descargas de la aplicaci\u00f3n desde publicaciones")}},getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("app_total_referrals"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})}});f.exports=i}),null);
__d("FalcorPublishingCard",["fbt","AnalyticsGKNames","AnalyticsGKs","BonsaiApiBreakdown","BonsaiText","MetricBreakdownSectionMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorPublishingCard",mixins:[c("MetricBreakdownSectionMixin")],_title:function j(){return h._("Publicaci\u00f3n")},_getMetrics:function j(){return{publishes:"story_publishes"}},_getBreakdowns:function j(){var k={publishes:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT]};if(c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_ANALYTICS_CONTENT_TYPE))k.publishes.push(c("BonsaiApiBreakdown").CONTENT_TYPE);return k},_getHelptextMap:function j(){return{publishes:"StoryLifecyclePublishes"}},_getKeyToLabel:function j(){return{publishes:c("BonsaiText").publishes}},getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("publishes"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})}});f.exports=i}),null);
__d("BonsaiDemoDataProcessMixin",["AppEventsCombinedBreakdowns","AppEventsReservedBreakdownValues","BonsaiApiBreakdown","BonsaiApiError","BonsaiApiPromise","BonsaiText","FalcorBreakdownsTextUtils"],(function a(b,c,d,e,f,g){var h=.01,i={processGeoLocaleData:function j(k){var l=void 0,m=void 0;l={};m=[c("BonsaiApiBreakdown").COUNTRY,c("BonsaiApiBreakdown").LOCALE];m.forEach(function(n){var o=void 0,p=void 0,q=void 0;l[n]=[];o=k?k[n]:this.getData(n);if(o instanceof c("BonsaiApiError")||o instanceof c("BonsaiApiPromise"))l[n]=o;else if(o){p=[];q=o.groupBy(c("BonsaiApiBreakdown")[n.toUpperCase()]);Object.keys(q).sort(function(r,s){return q[s].getLatestTotal()-q[r].getLatestTotal()}).forEach(function(r){var s={};s.header=c("BonsaiText").getBucketLabel(r,n);s.body=q[r].getData();s.oldest=q[r].getOldestTotal();s.latest=q[r].getLatestTotal();p.push(s)});l[n]=p}}.bind(this),this);return l},processFalcorGenderAgeDataFullDateRange:function j(k){return this._processFalcorGenderAgeDataImpl(k,true)},processFalcorGenderAgeData:function j(k){return this._processFalcorGenderAgeDataImpl(k,false)},_isValidAgeGroup:function j(k){return k!=="UNKNOWN"&&k!=="REDACTED"&&k!=="u"},_processFalcorGenderAgeDataImpl:function j(k,l){if(k instanceof c("BonsaiApiError")||k instanceof c("BonsaiApiPromise"))return k;var m=this.processGenderAgeData(k,l),n=m.chart,o=Object.keys(n).sort(),p=o.filter(function(y){return this._isValidAgeGroup(y)&&(n[y].F||n[y].M)}.bind(this)),q=p.map(function(y){return n[y].F||0}),r=p.map(function(y){return n[y].M||0}),s=[q,r],t=[c("BonsaiText").breakdown.gender.F.toString(),c("BonsaiText").breakdown.gender.M.toString()],u=null;if(n.REDACTED&&n.REDACTED.REDACTED){var v=n.REDACTED.REDACTED;if(v>=h){var w=c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(c("AppEventsCombinedBreakdowns").AGE_GENDER,c("AppEventsReservedBreakdownValues").REDACTED);u={};u[w]=v}}var x=o.reduce(function(y,z){var A=Object.keys(n[z]),B=A.reduce(function(C,D){return C+n[z][D]},0);return y+B},0);return{ages:p,chartData:s,legend:t,"export":m["export"],extraLegendData:u,totalCount:x}},flattenGenderAgeData:function j(k,l){if(k instanceof c("BonsaiApiError"))return k;else if(k instanceof c("BonsaiApiPromise"))return k;var m=l?k:k.getLatest();m=m.groupBy(c("BonsaiApiBreakdown").AGE);return Object.keys(m).filter(function(n){return this._isValidAgeGroup(n)}.bind(this)).sort().map(function(n){var o={age:n},p=m[n].groupBy(c("BonsaiApiBreakdown").GENDER);Object.keys(p).forEach(function(q){o[q]=p[q].getTotal()},this);return o}.bind(this),this)},processGenderAgeData:function j(k,l){var m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0;if(k instanceof c("BonsaiApiError"))return k;else if(k instanceof c("BonsaiApiPromise"))return k;m=l?k:k.getLatest();m=m.groupBy(c("BonsaiApiBreakdown").AGE);n={};Object.keys(m).forEach(function(s){var t=m[s].groupBy(c("BonsaiApiBreakdown").GENDER);n[s]={};Object.keys(t).forEach(function(u){n[s][u]=t[u].getTotal()},this)}.bind(this),this);k=k.filterBy("age","!=","REDACTED");o=k.groupBy(c("BonsaiApiBreakdown").AGE);p={};q=false;Object.keys(o).forEach(function(s){var t=o[s].groupBy(c("BonsaiApiBreakdown").GENDER);p[s]={};Object.keys(t).forEach(function(u){var v=void 0,w=void 0;if(t[u].hasBreakdown(c("BonsaiApiBreakdown").CLIENT)||t[u].hasBreakdown(c("BonsaiApiBreakdown").ACTION_TYPE)){q=true;p[s][u]={};if(t[u].hasBreakdown(c("BonsaiApiBreakdown").CLIENT)){v=t[u].groupBy(c("BonsaiApiBreakdown").CLIENT);Object.keys(v).forEach(function(x){p[s][u][x]=v[x].getData()})}else{w=t[u].groupBy(c("BonsaiApiBreakdown").ACTION_TYPE);Object.keys(w).forEach(function(x){var y=c("BonsaiText").getBucketLabel(x,c("BonsaiApiBreakdown").ACTION_TYPE);p[s][u][y]=w[x].getData()})}}else p[s][u]=t[u].getData()})});r=[];Object.keys(p).sort().forEach(function(s){Object.keys(p[s]).sort().forEach(function(t){var u={};if(q)Object.keys(p[s][t]).sort().forEach(function(v){u.header=s+" ("+t+") ("+v+")";u.body=p[s][t][v]});else{u.header=s+" ("+t+")";u.body=p[s][t]}r.push(u)})});return{chart:n,"export":r}}};f.exports=i}),null);
__d("BonsaiApiPeriod",[],(function a(b,c,d,e,f,g){var h={HOURLY:"hourly",DAILY:"daily",RANGE:"range"};f.exports=h}),null);
__d("BonsaiSectionDataLoaderMixin",["ApiClient","AnalyticsQueryApi","AppEventQueryError","AppEventQueryResult","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiPeriod","BonsaiApiPromise","InsightsContext","InsightsGraphAPI","InsightsUtils","InsightsGraphAPIErrorUtils","cachedGraphAPI","immutable"],(function a(b,c,d,e,f,g){var h=c("InsightsGraphAPIErrorUtils").handleSessionExpired,i=c("immutable").Set;function j(){return{apiData:null,requestCount:0,completeCount:0}}var k=i(["fb_ad_network_click","fb_ad_network_imp","fb_ad_network_request","fb_ad_network_ctr_score"]),l={_completed:0,_requested:0,addMetric:function m(n,o,p,q,r,s,t,u){this._requested++;if(this.isMounted())this.setState({requestCount:this._requested});if(!t)t=c("InsightsContext").getObjID();var v=c("InsightsGraphAPI").app(t+""),w=o==="adnetworkanalytics"?"":o||n;if(p&&typeof p==="object"&&"event_name"in p&&k.has(p.event_name)){if(!("filters"in p))p.filters={};if(!("event_rules"in p.filters))p.filters.event_rules=[];var x=this._getStandardFilter(p.event_name),y=false;for(var z=p.filters.event_rules,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C;if(this._isSameFilter(D,x)){y=true;break}}if(!y)p.filters.event_rules.push(x)}var E=this._getParams(p);if(!c("ApiClient").getAccessToken()){var F=c("InsightsContext").getBonsaiApiAccess().accessToken;E.access_token=E.access_token||F}if(u){E.since=Math.floor(u.since.getTime()/1e3);E.until=Math.floor(u.until.getTime()/1e3)}s=typeof s==="string"?s:"app_insights";var G=this._constructWrapperCallback(n,w,E,function(J){var K=null,L=false;if(J instanceof c("AppEventQueryResult")){L=!E.event_name.startsWith("fb_ad_network");K=J.formatResultsForBonsaiApiDataAdapter_DEPRECATED()}else K=J;K=q?q(K):new(c("BonsaiApiDataAdapter"))(K,null,L);if(K instanceof c("BonsaiApiDataAdapter"))K.setApiParams(t,o,p);this._completed++;if(this.isMounted())this.setState({completeCount:this._completed});return K}.bind(this)),H=this._constructWrapperCallback(n,w,E,function(J){var K=null;if(J instanceof c("AppEventQueryError"))K={error:J.getError()};else K=J;return r?r(K):new(c("BonsaiApiError"))(K,p?p.event_name:null)}),I=w==="app_event"&&E.event_name||c("InsightsContext").getOptionalAppEvents()!==undefined&&c("InsightsContext").shouldAddAppEvent("adnw","bidding_bid_requests");if(I){c("AnalyticsQueryApi").queryAppEventData_DEPRECATED(t,c("ApiClient").getAccessToken()||c("InsightsContext").getBonsaiApiAccess().accessToken,[babelHelpers["extends"]({},E,{callback:G,error_callback:H})]);return}h(c("cachedGraphAPI")(v.edge(s+"/"+w)).get(E)).then(function(J){return setTimeout(function(){return G(J)},0)},function(J){return setTimeout(function(){return H({error:J})},0)}).done()},addMetricWithCustomDates:function m(n,o,p,q,r,s){this.addMetric(n,o,p,s,null,q,null,r)},addMetricWithEcosystem:function m(n,o,p){this.addMetric(n,o,p);this.addMetric(["ecosystem"].concat(this._makeArray(n)),o||n,babelHelpers["extends"]({ecosystem:c("InsightsContext").getEcosystem()},p))},addRangeMetric:function m(n,o,p,q,r,s,t){q=q||this.props.visibleDateRange||this.state.visibleDateRange;p=p||{};p.since=c("InsightsUtils").utcTimeToPacificDay(q.since);p.until=c("InsightsUtils").utcTimeToPacificDay(q.until);p.period=c("BonsaiApiPeriod").RANGE;p.intervals_to_aggregate=0;this.addMetric(n,o,p,t,null,r,s)},fetchMetrics:function m(){},getRawData:function m(n){return this._getData(n,this.state.apiData,true)},getData:function m(n){return this._getData(n,this.state.apiData)},getDataWithEcosystem:function m(n){return this._getDataWithEcosystem(n,this.state.apiData)},getFullRangeData:function m(n){return this._getApiData(n)},resetMetrics:function m(){if(this.isMounted())this.setState(j())},getInitialState:j,_constructWrapperCallback:function m(n,o,p,q){return function(r){if(!this.isMounted())return;var s=babelHelpers["extends"]({},this.state.apiData),t=this._makeArray(n),u=s,v=t.length-1,w=null;t.forEach(function(x,y){if(y<v){if(u[x]===undefined)u[x]={};u=u[x]}w=x},this);u[w]=q(r);this.setState({apiData:s})}.bind(this)},_getApiData:function m(n,o){var p=this._makeArray(n),q=o;p.forEach(function(r){if(q===undefined)return undefined;q=q[r]});return q},_getData:function m(n,o,p){if(o===null)return new(c("BonsaiApiPromise"))();var q=this._getApiData(n,o);if(q===null)return null;if(typeof q==="undefined")return new(c("BonsaiApiPromise"))();if(q instanceof c("BonsaiApiError"))return q;else if(p)return q;else{var r=q.getApiParams(),s=this.props.visibleDateRange||this.state.visibleDateRange;if(r.params&&r.params.intervals_to_aggregate===0)return q;else return q.selectBetween(s.since,s.until)}},_getDataWithEcosystem:function m(n,o){var p=this._getData(["ecosystem"].concat(this._makeArray(n)),o),q=this._getData(n,o);if(q instanceof c("BonsaiApiDataAdapter"))q.setEcosystemData(p);return q},_getParams:function m(n){var o=void 0;if(this.shouldOnlyFetchVisibleDateRange)o=this.state.visibleDateRange||this.props.visibleDateRange;else o=this.props.fullDateRange;return this._formatParam(babelHelpers["extends"]({since:c("InsightsUtils").utcTimeToPacificDay(o.since),until:c("InsightsUtils").utcTimeToPacificDay(o.until),summary:true},n||{}))},_formatParam:function m(n){var o=babelHelpers["extends"]({},n);o.date_format="U";if(n.since)o.since=Math.floor(n.since.getTime()/1e3);if(n.until)o.until=Math.floor(n.until.getTime()/1e3);return o},_makeArray:function m(n){var o=n;if(!Array.isArray(n))o=[n];return o},_getStandardFilter:function m(n){if(k.has(n)){var o=[{parameter_name:"reserved7",operator:"eq",values:["0"]}];return{event_rule:{event_name:n,parameters:o}}}return{}},_isSameFilter:function m(n,o){for(var p=Object.entries(n.event_rule),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];if(!(u in o.event_rule))return false;if(typeof v==="object"){if(v.parameter_name!=o.event_rule.parameter_name)return false}else if(v!==o.event_rule[u])return false}return true}};f.exports=l}),null);
__d("FalcorVerticalBarChart",["fbt","AppEventsCombinedBreakdowns","AppEventsAggregatingColumn","FalcorBreakdownsTextUtils","CandelaCategoryScale","CandelaNumberScale","FalcorDataTooltip","FalcorInsightsHoverCardChart","InsightsFormatterFactories","InsightsFormatters","InsightsThemeableChartMixin","InsightsVerticalBarChart.react","React","ReactComponentWithPureRenderMixin","CandelaConstants","immutable","GriffinCandelaTheme"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CandelaConstants").Alignment,j=c("CandelaConstants").ScaleType,k=c("CandelaConstants").ShapeType,l=c("immutable").OrderedSet,m=c("React").PropTypes,n=10,o=c("React").createClass({displayName:"FalcorVerticalBarChart",mixins:[c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")}),c("ReactComponentWithPureRenderMixin")],propTypes:{hoverCardPosition:c("FalcorDataTooltip").hoverCardPositionPropType,breakdownType:m.string,xAxisLabelLength:m.number,truncateLabels:m.bool},statics:{getComponentTheming:function p(){return{styleSheet:{"bar:muted":{opacity:.4},'axis[alignment="top"]':{visibility:"hidden"}}}}},getDefaultProps:function p(){return{hoverCardPosition:c("FalcorDataTooltip").TooltipPositions.ABOVE,xAxisLabelLength:n,truncateLabels:false}},getInitialState:function p(){return{bucket:"",title:""}},_filterCategoryKey:function p(q){return q!==this._getCategoryKey()},_getCategoryKey:function p(){var q=this.props.schema;return Object.keys(q).find(function(r){return q[r].type===j.CATEGORY})},truncateLabels:function p(){var q=this.props.data,r=typeof this.props.xAxisLabelLength=="number"?this.props.xAxisLabelLength:n,s=this.props.plotX.getSeriesNames();if(s.length!==1)return;var t=s[0],u={};for(var v=0;v<q.length;v++){var w=q[v][t];if(!w||w.length<=r)continue;var x=r-3,y=w.substr(0,x).concat("...");while(u[y]){x--;y=w.substr(0,x).concat("...")}u[y]=w;q[v][t]=y}this.setState({truncatedLabelMap:u,hasTruncatedLabels:true})},componentWillMount:function p(){if(this.props.truncateLabels)this.truncateLabels()},_formatter:function p(q,r){var s=this.props.barLabelFormatterFactory;if(q instanceof c("CandelaCategoryScale"))return c("InsightsFormatters").defaultFormatter;if(q instanceof c("CandelaNumberScale")&&s)return s(q,r);else return c("InsightsFormatterFactories").legendFormatterFactory(q)},_onMouseEnter:function p(q){var r=q.target,s=this.props.breakdownType,t={};if(r.shapeType===k.BAR_GROUP){var u=q.data[this._getCategoryKey()].value;t.title=s?c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(s,u):u;if(s===c("AppEventsCombinedBreakdowns").AGE_GENDER)t.title=h._("Edad: {age_bucket}",[h.param("age_bucket",t.title)]);if(this.state.hasTruncatedLabels)if(this.state.truncatedLabelMap[u])t.title=this.state.truncatedLabelMap[u]}if(r.shapeType===k.BAR)t.bucket=Object.keys(q.data).filter(this._filterCategoryKey)[0];if(Object.keys(t).length>0)this.setState(t)},render:function p(){var q=this.props,r=q.data,s=q.unitLabel,t=q.schema,u=this.state,v=u.bucket,w=u.title,x=l(Object.keys(r[0]).filter(this._filterCategoryKey).map(function(D){return{key:D,value:r[0][D],label:s}})),y={},z=this.props.breakdownType===c("AppEventsCombinedBreakdowns").AGE_GENDER?c("AppEventsAggregatingColumn").GENDER:this.props.breakdownType;if(z){var A=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(z),B=t[v]?t[v].label:null;y={label:A,value:B}}var C=l([babelHelpers["extends"]({},y,{key:"bucket",bucket:v}),{key:"title",value:w}]);return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:C,hoverCardPosition:this.props.hoverCardPosition,items:x,titleKey:this._getCategoryKey(),formatterFactory:this._formatter},c("React").createElement(c("InsightsVerticalBarChart.react"),babelHelpers["extends"]({},this.props,{alignment:i.BOTTOM,theme:this.state.theme,highlights:this.state.highlights,onMouseEnter:this._onMouseEnter})))}});f.exports=o}),null);
__d("FalcorSideBySideColumnsChart",["cx","fbt","BonsaiStyle","SpectrumChart","FalcorDataTooltip","FalcorVerticalBarChart","GriffinCandelaTheme","InsightsLegend_DEPRECATED.react","InsightsLegendAreaKey.react","LeftRight.react","d3/scale/ordinal","React","ReactDOM","CandelaConstants","SpectrumSideBySideColumns","SpectrumXAxis","getObjectValues","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("CandelaConstants").ScaleType,m=c("CandelaGroupScaleBuilder").group,n=c("CandelaStackScaleBuilder").stack,o=c("React").PropTypes,p=200,q=0;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={chartWidth:700},this.$FalcorSideBySideColumnsChart1=null,this.$FalcorSideBySideColumnsChart2=function(){var x=this.$FalcorSideBySideColumnsChart1?this.$FalcorSideBySideColumnsChart1.offsetWidth:this.state.chartWidth;x-=p+q;this.setState({chartWidth:x})}.bind(this),this.$FalcorSideBySideColumnsChart5=function(x,y){return this.props.chartData[y].some(function(z){return!!z})}.bind(this),this.getExportData=function(){return this.props.exportData}.bind(this),t}r.prototype.componentDidMount=function(){"use strict";this.$FalcorSideBySideColumnsChart1=c("ReactDOM").findDOMNode(this);this.$FalcorSideBySideColumnsChart2();window.addEventListener("resize",this.$FalcorSideBySideColumnsChart2)};r.prototype.componentWillUnmount=function(){"use strict";window.removeEventListener("resize",this.$FalcorSideBySideColumnsChart2)};r.prototype.render=function(){"use strict";var s=this.$FalcorSideBySideColumnsChart3(),t=this.$FalcorSideBySideColumnsChart4();return c("React").createElement(c("LeftRight.react"),null,s,t)};r.prototype.$FalcorSideBySideColumnsChart4=function(){"use strict";var s=this.props,t=s.chartData,u=s.totalCount,v=s.legendValues,w=this.props.extraLegendData;v=v.slice();var x=0;t=t.filter(this.$FalcorSideBySideColumnsChart5);v=v.filter(this.$FalcorSideBySideColumnsChart5);var y=v.map(function(C,D){var E=t[D]?t[D].reduce(function(F,G){return F+G}):0;return Math.round(E/u*100)});if(w){x+=Object.keys(w).length;Object.keys(w).forEach(function(C){y.push(Math.round(w[C]/u*100));v.push(C)})}var z=y.reduce(function(C,D){return C+D},0);if(z<100){v.push(i._("Desconocido"));y.push(100-z);x++}var A=0;y=y.filter(function(C,D){if(C===0){v.splice(D+A++,1);x--;return false}return true});var B=this.$FalcorSideBySideColumnsChart6().slice(0,v.length-x);return c("React").createElement("div",{width:p},this.props.selectors,c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{className:"_47tf",layout:c("InsightsLegend_DEPRECATED.react").layout.STACKED},v.map(function(C,D){return c("React").createElement("div",{key:D,className:"_3-95"},c("React").createElement(c("InsightsLegendAreaKey.react"),{color:B[D],size:"medium"},i._("{legend value} ({percentage value} \u0025)",[i.param("legend value",C),i.param("percentage value",y[D])])))})))};r.prototype.$FalcorSideBySideColumnsChart7=function(){"use strict";var s=this.props,t=s.chartData,u=s.totalCount,v=s.legendValues,w=s.xAxisValues;t=t.filter(this.$FalcorSideBySideColumnsChart5);var x=v.filter(this.$FalcorSideBySideColumnsChart5),y=[];x.forEach(function(z,A){z=z.toString();w.forEach(function(B,C){if(A===0)y[C]={xAxisGroup:B};var D=t[A],E=D?D[C]:0;y[C][z]=E})});return y};r.prototype.$FalcorSideBySideColumnsChart8=function(){"use strict";var s=this.props.legendValues,t={xAxisGroup:{label:"xAxisGroup",type:l.CATEGORY}};s.forEach(function(u,v){t[u]={label:u.toString(),type:l.NUMBER}});return t};r.prototype.$FalcorSideBySideColumnsChart3=function(){"use strict";var s=this.props,t=s.totalCount,u=s.unitLabel,v=s.chartData,w=s.legendValues;w=w.filter(this.$FalcorSideBySideColumnsChart5).map(function(y){return y.toString()});v=v.filter(this.$FalcorSideBySideColumnsChart5);var x=c("FalcorDataTooltip").valueWithPercentFormatterFactoryFactory(t,u);return v.length?c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:x,breakdownType:this.props.breakdownType,schema:this.$FalcorSideBySideColumnsChart8(),data:this.$FalcorSideBySideColumnsChart7(),width:this.state.chartWidth,height:300,plotX:m("xAxisGroup"),plotY:[n.apply(this,w).from(0).niceStepOnly()]}):null};r.prototype.$FalcorSideBySideColumnsChart6=function(){"use strict";return c("getObjectValues")(c("GriffinCandelaTheme").colors.toJS())};r.propTypes={breakdownType:o.string,unitLabel:o.node,xAxisValues:o.array.isRequired,legendValues:o.array.isRequired,chartData:o.array.isRequired,totalCount:o.number.isRequired,selectors:o.object,exportData:o.array,extraLegendData:o.object};r.defaultProps={breakdownType:"GENDER",unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE};f.exports=r}),null);
__d("FalcorSharingDemographicsCard",["cx","fbt","BonsaiApiBreakdown","BonsaiApiError","BonsaiApiPromise","BonsaiConstants","BonsaiDemoDataProcessMixin","BonsaiErrorNotice","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorLegendSelectorMixin","FalcorLoadingCard","FalcorLogCardViewMixin","FalcorSideBySideColumnsChart","MenuSeparator.react","PopoverMenu.react","React","ReactXUIMenu","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=c("React").createClass({displayName:"FalcorSharingDemographicsCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("BonsaiDemoDataProcessMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],_metrics:{clicks:"story_clicks",installs:"mobile_referral_installs",impressions:"story_impressions",publishes:"story_publishes",positive_engagement:"story_positive_engagement"},_breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE],getInitialState:function l(){return babelHelpers["extends"]({},this._getInitialCardState("publishes"),{bucket:c("BonsaiConstants").ALL,breakdown:c("BonsaiApiBreakdown").CLIENT})},componentWillMount:function l(){Object.keys(this._metrics).forEach(function(m){this._breakdowns.map(function(n){this.addMetric([m+n,"age_gender"],this._metrics[m],{breakdowns:[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER,n]})}.bind(this))}.bind(this));this.fetchMetrics()},_title:function l(){return c("BonsaiText").demo},_getHelptextMap:function l(){return{clicks:"StoriesClicksGenderAndAge",impressions:"StoriesImpressionsGenderAndAge",publishes:"StoriesPublishesGenderAndAge"}},_sectionTitles:{clicks:i._("Personas que han hecho clic"),installs:i._("Personas que han instalado una aplicaci\u00f3n"),impressions:i._("Personas que la han visto"),publishes:i._("Personas que comparten contenido"),positive_engagement:i._("Personas con una interacci\u00f3n positiva en Facebook")},_onBucketSelected:function l(m){return function(n,o){var p=o.item.getValue();if(this.state.breakdown===m&&this.state.bucket===p)return;this.setState({bucket:p,breakdown:m})}.bind(this)},_selectorText:function l(m){switch(m){case c("BonsaiApiBreakdown").CLIENT:return i._("INCLUIR");default:return null}},_renderSelector:function l(m,n){var o=this.getData([m+n,"age_gender"]).groupBy(n);if(!o||o instanceof c("BonsaiApiError"))return null;var p=[];if(this.state.bucket!==c("BonsaiConstants").ALL){p.push(c("React").createElement(j,{key:c("BonsaiConstants").ALL,value:c("BonsaiConstants").ALL},c("BonsaiText").getBucketLabel(c("BonsaiConstants").ALL,n)));p.push(c("React").createElement(c("MenuSeparator.react"),{key:"SEPARATOR"}))}var q=Object.keys(o).sort();q.map(function(u){p.push(c("React").createElement(j,{key:u,value:u},c("BonsaiText").getBucketLabel(u,n)))});var r=c("React").createElement(c("ReactXUIMenu"),{onItemClick:this._onBucketSelected(n)},p),s=void 0,t=this._selectorText(n);if(t)s=c("React").createElement("div",{className:"mbs"},t);return c("React").createElement("div",{className:"_5tj4 pts",key:m+n},s,c("React").createElement(c("PopoverMenu.react"),{align:"right",menu:r},c("React").createElement(c("XUIPopoverButton.react"),{depressed:this.state.breakdown===n,haschevron:true,label:this.state.breakdown===n?c("BonsaiText").getBucketLabel(this.state.bucket,n):c("BonsaiText").getBucketLabel(c("BonsaiConstants").ALL,n)})))},_getKeyToLabel:function l(){return{clicks:this._sectionTitles.clicks,installs:this._sectionTitles.installs,impressions:this._sectionTitles.impressions,publishes:this._sectionTitles.publishes,positive_engagement:this._sectionTitles.positive_engagement}},_getKeyToSection:function l(){var m={};Object.keys(this._metrics).forEach(function(n){var o=this.getData([n+this.state.breakdown,"age_gender"]),p=void 0;if(this.state.bucket===c("BonsaiConstants").ALL)p=this.processFalcorGenderAgeData(o,false);else{p=o.groupBy(this.state.breakdown)[this.state.bucket];if(p)p=this.processFalcorGenderAgeData(p,false);else p=new(c("BonsaiApiError"))({error:{code:"no_data"}})}var q=this._breakdowns.map(function(s){return this._renderSelector(n,s)}.bind(this));if(p instanceof c("BonsaiApiPromise"))m[n]=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else if(p instanceof c("BonsaiApiError"))m[n]=c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8j",message:p.getMessage()});else{var r=c("React").createElement("div",{className:"_5tj3 _3-98"},q);m[n]=c("React").createElement(c("FalcorSideBySideColumnsChart"),{ref:n,xAxisValues:p.ages,legendValues:p.legend,chartData:p.chartData,exportData:p["export"],totalCount:1,selectors:r})}}.bind(this));return m},_renderCandela:function l(){return this._getKeyToSection()[this.state.activeSection]},_getExtraCardProps:function l(){return{className:"_1iq4"}},_supportsProgressiveDataLoading:function l(){return false},_getParamsToLog:function l(){return{card_breakdown:this.state.breakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase(),card_bucket:this.state.bucket.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function l(m,n){return this.state.activeSection!==n.activeSection||this.state.breakdown!==n.breakdown||this.state.bucket!==n.bucket}});f.exports=k}),null);
__d("FalcorStoriesEngagmentCard",["fbt","AnalyticsGKNames","AnalyticsGKs","BonsaiApiBreakdown","BonsaiText","MetricBreakdownSectionMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorStoriesEngagmentCard",mixins:[c("MetricBreakdownSectionMixin")],_title:function j(){return h._("Actividad de la publicaci\u00f3n")},_getMetrics:function j(){return{impressions:"story_impressions",likes:"story_likes",comments:"story_comments",spam_rate:"story_spam_rate",blocks:"app_blocks"}},_getBreakdowns:function j(){var k={impressions:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE],likes:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT],comments:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT],spam_rate:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").ACTION_TYPE],blocks:[c("BonsaiApiBreakdown").NONE]};if(c("AnalyticsGKs").get(c("AnalyticsGKNames").SHARING_ANALYTICS_CONTENT_TYPE)){k.likes.push(c("BonsaiApiBreakdown").CONTENT_TYPE);k.comments.push(c("BonsaiApiBreakdown").CONTENT_TYPE)}return k},_getHelptextMap:function j(){return{impressions:"StoryLifecycleImpressions",likes:"StoriesLikes",comments:"StoriesComments",spam_rate:"StoriesSpamRates",blocks:"StoriesAppBlocks"}},_getKeyToLabel:function j(){return{impressions:c("BonsaiText").views,likes:c("BonsaiText").likes,comments:c("BonsaiText").comments,spam_rate:c("BonsaiText").spam,blocks:c("BonsaiText").users_blocks}},getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("impressions"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})}});f.exports=i}),null);
__d("GriffinFiftyFiftySectionController",["FalcorDeveloperValueCard","GriffinDefaultSectionController","GriffinSections","OverviewSharingBar","FalcorPublishingCard","React","FalcorSharingDemographicsCard","FalcorStoriesEngagmentCard"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").createClass({displayName:"GriffinFiftyFiftySectionController",statics:{getKey:function i(){return c("GriffinSections").FIFTY_FIFTY}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewSharingBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange;return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("FalcorDeveloperValueCard"),{cardKey:"developer_value",key:"developer_value"}),c("React").createElement(c("FalcorStoriesEngagmentCard"),{cardKey:"stories_engagement",key:"stories_engagement"}),c("React").createElement(c("FalcorPublishingCard"),{cardKey:"publishing",key:"publishing"}),c("React").createElement(c("FalcorSharingDemographicsCard"),{cardKey:"sharing_demographics",key:"sharing_demographics"}))}});f.exports=h}),null);
__d("BonsaiApiExamplesDialog",["cx","fbt","BonsaiConfig","InsightsCodeSnippet","React","ShimButton.react","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$BonsaiApiExamplesDialog1=function(){var r=this.props.apiURIs.map(function(s){var t=s.getPath().split("/").pop();return c("React").createElement("li",null,c("React").createElement("span",{className:"_50f4 pbs"},t),":",c("React").createElement(c("InsightsCodeSnippet"),{code:s.toString()}))});return c("React").createElement("div",{className:"_53iv"},c("React").createElement("div",{className:"mbs _50f4 _50f7"},i._("Ejemplos de API utilizada en este gr\u00e1fico")),c("React").createElement("div",null,c("React").createElement("ul",null,r)),c("React").createElement("div",{className:"mbs mtm _50f3"},i._("Debe a\u00f1adirse el par\u00e1metro \"access_token\" para solicitar una cadena de consulta con un valor correcto para poder recuperar datos. Esto requiere que se concedan permisos ampliados a \"read_insights\" en la aplicaci\u00f3n que se utilizar\u00e1 para llamar a la API. Consulta la documentaci\u00f3n de API de estad\u00edsticas y prueba el {Graph API Explorer}.",[i.param("Graph API Explorer",c("React").createElement("a",{href:c("BonsaiConfig").devToolExplorerURI},"Graph API Explorer"))])))}.bind(this),this.showDialog=function(){c("SimpleXUIDialog").show(this.$BonsaiApiExamplesDialog1())}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{"aria-haspopup":true,inline:true,onClick:this.showDialog},i._("Ejemplos de API"))};f.exports=l}),null);
__d("BonsaiCopyLinkDialog",["fbt","InsightsCodeSnippet","React","ShimButton.react","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$BonsaiCopyLinkDialog1=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"fsl fwb mtm"},h._("Compartir gr\u00e1fico con esta URL")),c("React").createElement("div",{className:"ptm"},c("React").createElement(c("InsightsCodeSnippet"),{code:this.props.link.toString()})))}.bind(this),this.showDialog=function(){c("SimpleXUIDialog").show(this.$BonsaiCopyLinkDialog1())}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{"aria-haspopup":true,inline:true,onClick:this.showDialog},h._("Obtener enlace de gr\u00e1fico"))};l.propTypes={link:k.object.isRequired};f.exports=l}),null);
__d("BonsaiChartLinkMixin",["BonsaiCopyLinkDialog","InsightsContext","React","URI"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i={propTypes:{currentCard:c("InsightsContext").isDevsite()?h.string:h.string.isRequired},_getChartLink:function j(){var k=void 0,l=void 0,m=void 0;k=this.props.currentCard;l={section:c("InsightsContext").getActiveSectionName(),card:k,tab:c("InsightsContext").getCardState(k).tab,breakdown:c("InsightsContext").getCardState(k).breakdown,event_name:c("InsightsContext").getActiveCustomEventName(),filters:c("InsightsContext").getCardState(k).filters};m=new(c("URI"))(window.location.href).addQueryData(l);return c("React").createElement(c("BonsaiCopyLinkDialog"),{link:m})}};f.exports=i}),null);
__d("BonsaiDevsiteStyle",[],(function a(b,c,d,e,f,g){var h={CHART_WIDTH:660,BREAKDOWN_WIDTH:550,TIME_SELECTOR_WIDTH:560,LEGEND:{width:130,height:240}};f.exports=h}),null);
__d("BonsaiDataDownloader",["fbt","React","BlobFactory","InsightsInfoTip.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$BonsaiDataDownloader2=function(q){var r=c("BlobFactory").getBlob(this.props.data,{type:this.props.type});if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,this.props.filename);else{var s=b.URL||b.webkitURL;if(!this.$BonsaiDataDownloader1){this.$BonsaiDataDownloader1=document.createElement("a");document.body.appendChild(this.$BonsaiDataDownloader1)}this.$BonsaiDataDownloader1.href=s.createObjectURL(r);this.$BonsaiDataDownloader1.download=this.props.filename;this.$BonsaiDataDownloader1.click()}}.bind(this),m}k.prototype.componentWillUnmount=function(){"use strict";var l=this.$BonsaiDataDownloader1;if(l){var m=b.URL||b.webkitURL,n=l.href;if(n)m.revokeObjectURL(n)}};k.prototype.render=function(){"use strict";var l=b.URL||b.webkitURL,m=window.navigator&&window.navigator.msSaveBlob;if(!c("BlobFactory").isSupported()||!(l&&l.createObjectURL||m)){var n=h._("Este navegador no es compatible. Cambia a la \u00faltima versi\u00f3n de Chrome, Firefox o Internet Explorer.");return c("React").createElement(c("InsightsInfoTip.react"),{tip:n},c("React").createElement("span",{style:{color:"grey"}},this.props.children))}return c("React").createElement("div",{onClick:this.$BonsaiDataDownloader2,role:"presentation",width:"100%"},this.props.children)};f.exports=k}),null);
__d("BonsaiDownloadMixin",["fbt","BonsaiDataDownloader","React","formatDate"],(function a(b,c,d,e,f,g,h){var i={_getExportLink:function j(k,l){var m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;m=k.data===undefined?this._getExportData(k):k;n=[m.data];o=m.times.reduce(function(o,t){o.max=t>o.max?t:o.max;o.min=t<o.min?t:o.min;return o},{max:Number.MIN_VALUE,min:Number.MAX_VALUE});p=[o.min/1e3,o.max/1e3].map(function(t){return c("formatDate")(t,"jMY",{utc:true,skipPatternLocalization:true})}).join("_");q=[l,p].join("+")+".csv";r="text/csv";s=h._("Exportar");return c("React").createElement(c("BonsaiDataDownloader"),{data:n,type:r,filename:q},s)},_getExportData:function j(k){var l=void 0,m=void 0,n=void 0,o=void 0;l=[];m={};n=[];k.forEach(function(p){var q={};l.push(p.header);p.body.forEach(function(r){var s=r.time.getTime();m[s]=1;q[s]=q[s]?q[s]+r.value:r.value});n.push(q)});m=Object.keys(m).sort();n=m.map(function(p){var q=void 0,r=void 0;q=n.map(function(s){return s[p]});r=new Date();r.setTime(p);q.unshift(c("formatDate")(r,"m/d/Y",{utc:true}));return q});o=l.slice(0);o.unshift("Date");n.unshift(o);n=this._createCSVString(n);return{data:n,times:m}},_createCSVString:function j(k){return k.map(function(l){return l.map(function(m){return m?m.toString():"-"}).map(function(m){return m.indexOf(",")===-1?m:'"'+m+'"'}).join(",")}).join("\n")}};f.exports=i}),null);
__d("BonsaiDropdownButton",["ix","Image.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},this.props,{image:c("React").createElement(c("Image.react"),{src:h("101318")}),imageRight:c("React").createElement(c("Image.react"),{src:h("101305")}),label:" ",use:"default"}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("BonsaiPopoverMenu",["cx","BonsaiDropdownButton","PopoverMenu.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=void 0,n=void 0;m=c("React").createElement(c("BonsaiDropdownButton"),null);if(this.props.buttonSize||this.props.buttonClass){n={};if(this.props.buttonSize)n.size=this.props.buttonSize;if(this.props.buttonClass)n.className=c("joinClasses")(m.props.className,this.props.buttonClass);m=c("React").cloneElement(m,n)}return c("React").createElement(c("PopoverMenu.react"),babelHelpers["extends"]({},this.props,{align:"left",className:c("joinClasses")(this.props.className,"_5ogx"),menu:this.props.menu}),m)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={menu:k.object,buttonClass:k.string,buttonSize:k.string};f.exports=l}),null);
__d("BonsaiSelectorPanel",["cx","InsightsContext","LeftRight.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.children,n=m[1],o=m[0],p="_1hxd",q="_5tj5 mbl";if(c("InsightsContext").isDevsite()){p="_4vqj";q="_4vqk mbl"}if(this.props.divider)q=c("joinClasses")(q,"_40zm");return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:p},o),c("React").createElement("div",{className:q},n))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={divider:k.bool};l.defaultProps={divider:true};f.exports=l}),null);
__d("BonsaiTimeSeriesChart",["cx","fbt","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiExamplesDialog","BonsaiApiPeriod","BonsaiApiPromise","BonsaiChartLinkMixin","BonsaiColors","BonsaiConfig","BonsaiContextualHelp","BonsaiDownloadMixin","BonsaiDevsiteStyle","BonsaiErrorNotice","BonsaiLayerModalMixin","BonsaiPopoverMenu","BonsaiSelectorPanel","BonsaiStyle","BonsaiText","SpectrumBrush","SpectrumChart","SpectrumComparableColumns","SpectrumCurrencyScale","SpectrumFloatScale","InsightsBackgroundBar.react","InsightsContext","InsightsDateRange.react","InsightsLegend_DEPRECATED.react","InsightsLegendAreaKey.react","InsightsLegendLineKey.react","InsightsLegendCheckboxKey.react","InsightsLegendScrollableVert.react","InsightsLoadingIndicator.react","InsightsMarker_DEPRECATED.react","InsightsTable.react","InsightsTimeUtils","InsightsUtils","SpectrumIntegerScale","LeftRight.react","SpectrumLines","SpectrumMarkers","d3/scale/ordinal","SpectrumPercentageScale","SpectrumPlotBand.react","PrettyNum","React","ShimButton.react","SpectrumStackedAreas","SpectrumTimeScale","SpectrumTooltipMenu","SpectrumXAxis","ReactXUIMenu","SpectrumYAxis","ex","formatDate","mapObject","sumOfArray","d3/time/day","d3/core/max","d3/core/min","SpectrumConstants"],(function a(b,c,d,e,f,g,h,i){var j=c("ReactXUIMenu").Item,k=c("SpectrumConstants").plotBands.LabelPosition,l=c("React").PropTypes,m=c("React").createClass({displayName:"BonsaiTimeSeriesChart",mixins:[c("BonsaiLayerModalMixin"),c("BonsaiDownloadMixin"),c("BonsaiChartLinkMixin")],propTypes:{areaOffsets:l.array,base:l.string,configs:l.array.isRequired,height:l.number,helptext:l.string,disableCheckboxes:l.bool,disableEcosystem:l.bool,disableRangeSelection:l.bool,categories:l.array,currency:l.string,"float":l.bool,percentage:l.bool,seconds:l.bool,period:l.oneOf([c("BonsaiApiPeriod").DAILY,c("BonsaiApiPeriod").HOURLY]),ratio:l.bool,reverseLegend:l.bool,threshold:l.string,width:l.number,formatHourly:l.func,legendPosition:l.oneOf(["top","right"]),rightColumnControl:l.object},getDefaultProps:function n(){return{period:c("BonsaiApiPeriod").DAILY,legendPosition:"right",formatHourly:function o(p){return c("InsightsUtils").pacificSecondsToUTCDate(p)}}},componentWillReceiveProps:function n(o){var p=this._getStateFromProps(o);this.setState(p)},_getStateFromProps:function n(o){var p=false,q=[],r=[],s={},t=false,u=[];o.configs.forEach(function(w){if(w.data instanceof c("BonsaiApiError")){r.push(w.data.getMessage());return}if(w.data instanceof c("BonsaiApiPromise")){t=true;return}if(w.data instanceof c("BonsaiApiDataAdapter"))w.data.getMessages().forEach(function(D){r.push(D)});if(w.data instanceof c("BonsaiApiDataAdapter"))w.data.setHourlyFormatter(this.props.formatHourly);var x=w.series||[];if(x.length===0&&w.data)x=w.data.getTimeSeries(null,o.period===c("BonsaiApiPeriod").DAILY);if(x.length<2)return;var y={color:w.color,isEcosystemMetric:false,series:x,title:w.title,type:w.type};if(w.unselect)u.push(w.title);q.push(y);var z=null;if(w.data instanceof c("BonsaiApiDataAdapter")){z=w.data.getApiURI();if(z&&!s[z.toString()])s[z.toString()]=z}var A=null;if(!o.disableEcosystem&&w.data instanceof c("BonsaiApiDataAdapter")){var B=w.data.getEcosystemData();if(B&&B instanceof c("BonsaiApiDataAdapter")){A={color:w.ecosystem_color,isEcosystemMetric:true,type:"lines"};p=true;if(o.percentage||o.ratio)A.series=B.getTimeSeries();else A.series=B.getTrendingTimeSeries(x[0][1]);var C=c("BonsaiText").otherApps;if(c("InsightsContext").isGame())C=c("BonsaiText").otherGames;A.title=w.title+": "+C;q.push(A);y.hasCorrespondingEcosystemMetric=true}}},this);var v=this.state&&Array.isArray(this.state.hiddenMetricTitles)?this.state.hiddenMetricTitles:u;return{error_notices:r,hasEcosystemData:p,hasMetricsThatAreLoading:t,hiddenMetricTitles:v,metrics:q,apiURIs:Object.keys(s).map(function(w){return s[w]}),showEcosystem:this.state&&this.state.showEcosystem!==undefined?this.state.showEcosystem:false}},getInitialState:function n(){return this._getStateFromProps(this.props)},_isEcosystemDisabled:function n(){return this.props.disableEcosystem!==undefined&&this.props.disableEcosystem},range:{max:-Infinity,min:Infinity},legendDimensions:{width:150,height:240},getErrorMessages:function n(){var o=[];if(!this.state.metrics.length)if(this.state.error_notices.length)this.state.error_notices.forEach(function(p){return o.push(p)});else o.push(c("BonsaiText").errors.unavailable);return o},getLegend:function n(o,p){var q=[],r=o.disableCheckboxes||p.metrics.filter(function(w){return!w.isEcosystemMetric||p.showEcosystem}).length<=1;p.metrics.forEach(function(w){var x=null,y=p.hiddenMetricTitles.indexOf(w.title)===-1,z=o.legendPosition==="right"?"medium":"small",A=w.title,B=w.color;if(!w.isEcosystemMetric){if(p.showEcosystem&&!w.hasCorrespondingEcosystemMetric)return;var C=w.title;if(r)if(o.legendPosition!=="right"&&w.type==="lines")x=c("React").createElement(c("InsightsLegendLineKey.react"),{className:"_83g",color:B,key:A},C);else x=c("React").createElement(c("InsightsLegendAreaKey.react"),{className:"_83g",color:B,key:A},C);else x=c("React").createElement(c("InsightsLegendCheckboxKey.react"),{checked:y,color:B,isInline:o.legendPosition!=="right",key:A,size:z,onChange:this.onLegendCheckboxChange.bind(this,w.title)},C);q.push(x)}else if(p.showEcosystem)q.push(c("React").createElement(c("InsightsLegendCheckboxKey.react"),{color:B,checked:y,isInline:o.legendPosition!=="right",key:A,size:z,onChange:this.onLegendCheckboxChange.bind(this,w.title)},w.title))},this);if(o.reverseLegend)q.reverse();var s=c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{className:"pls pbm"},q);if(o.legendPosition==="right"){var t=c("InsightsContext").isDevsite()?c("BonsaiDevsiteStyle").LEGEND:this.legendDimensions,u=t.width,v=t.height;s=c("React").createElement(c("InsightsLegendScrollableVert.react"),{className:"_47tf",height:v,width:u},q)}return s},getTimeSeriesChart:function n(){if(this.state.hasMetricsThatAreLoading)return c("React").createElement(c("InsightsLoadingIndicator.react"),null);var o={areas:[],columns:[],lines:[]},p={areas:[],columns:[],lines:[]},q=[],r={areas:{colors:[]},columns:{colors:[]},lines:{colors:[],markers:false},rangeBands:{outerPadding:.15,padding:.15}};if(!this.state.metrics.length){if(this.state.error_notices.length){this.state.error_notices.forEach(function(G){q.push(c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t",message:G}))});return c("React").createElement("div",null," ",q," ")}return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t",message:c("BonsaiText").errors.unavailable})}this.state.metrics.forEach(function(G){var H=this.state.hiddenMetricTitles.indexOf(G.title)==-1;if(!H)return;if(!G.isEcosystemMetric){if(this.state.showEcosystem&&!G.hasCorrespondingEcosystemMetric)return;var I=this.state.showEcosystem?"lines":G.type;o[I].push(G.series);p[I].push(G.title);r[I].colors.push(G.color)}else if(this.state.showEcosystem){o[G.type].push(G.series);p[G.type].push(G.title);r[G.type].colors.push(G.color)}},this);this.series=o;this.titles=p;var s=0,t=c("mapObject")(o,function(G,H){if(!G.length)return null;G.forEach(function(I){s=Math.max(s,I.length)});this.range.max=c("d3/core/max")(G,function(I){return c("d3/core/max")(I,function(J){return c("d3/time/day").utc.offset(J[0],1)})});this.range.min=c("d3/core/min")(G,function(I){return c("d3/core/min")(I,function(J){return J[0]})});return this._getChart(G,p[H],H)},this),u=new Date(this.range.min),v=new Date(this.range.max),w=void 0,x=void 0;if(this.props.disableRangeSelection||this.props.percentage||this.props.ratio)w=c("React").createElement(c("SpectrumBrush"),null);else{w=c("React").createElement(c("SpectrumBrush"),{onSelection:this.onRangeSelection});x=i._("Haz clic o arrastra para seleccionar")}var y=this.props.ratio||this.props["float"]?c("SpectrumFloatScale")(3):c("SpectrumIntegerScale")();if(this.props.currency)y=c("SpectrumCurrencyScale")(this.props.currency);else if(this.props.seconds)y=c("InsightsTimeUtils").ySecondsScale(y);var z=this.props.period===c("BonsaiApiPeriod").DAILY,A=c("SpectrumTimeScale")().domain([u,v]).clamp(true).interval(z?c("SpectrumTimeScale").Intervals.Day:c("SpectrumTimeScale").Intervals.Hour);A.tooltipFormat=function(){return function(G){return c("formatDate")(G,z?"l, M j, Y":"l, M j, Y g:ia",{utc:true})}};var B=this.props.showPercentTotal&&this.props.data.length>1,C=c("BonsaiConfig").chartThresholds[this.props.threshold],D=[];if(C)if(C.higherIsBetter)D.push(c("React").createElement(c("SpectrumPlotBand.react"),{key:"higherIsBetter",color:c("BonsaiColors").RED50,from:0,to:C.value,label:{color:c("BonsaiColors").GREY90,position:k.TOP_RIGHT,text:C.text}}));else D.push(c("React").createElement(c("SpectrumPlotBand.react"),{key:"lowerIsBetter",color:c("BonsaiColors").RED50,from:C.value,label:{color:c("BonsaiColors").GREY80,position:k.BOTTOM_RIGHT,text:C.text}}));var E=c("React").createElement(c("SpectrumChart"),{height:this.props.height||c("BonsaiStyle").CHART_HEIGHT,scaleX:A,scaleY:this.props.percentage?c("SpectrumPercentageScale")():y,theme:r,width:this.props.width||(c("InsightsContext").isDevsite()?c("BonsaiDevsiteStyle").CHART_WIDTH:c("BonsaiStyle").CHART_WIDTH)},t.areas,t.columns,t.lines,this._buildEventLabels(),c("React").createElement(c("SpectrumXAxis"),{ticks:s,secondaryTicks:2}),c("React").createElement(c("SpectrumYAxis"),null),c("React").createElement(c("SpectrumTooltipMenu"),{actionContent:x,showPercentTotal:B}),w,D),F=this.getLegend(this.props,this.state);if(this.props.rightColumnControl)F=c("React").createElement("div",null,this.props.rightColumnControl,c("React").createElement("div",{className:"_2pig _2pis"},F));if(this.props.legendPosition==="right")return c("React").createElement("div",{className:"_2pig"},c("React").createElement("div",null,q),c("React").createElement(c("BonsaiSelectorPanel"),{divider:false},E,F));return c("React").createElement("div",null,c("React").createElement("div",null,q),c("React").createElement(c("LeftRight.react"),{direction:"right"},F,this.getFeaturesDropdown()),E)},render:function n(){this._initExportData();return c("React").createElement("div",null,c("React").createElement("div",{className:"_5r8_ pdm"},this.getTimeSeriesChart()),c("React").createElement("div",{className:"_5x4g"},this.getChartHelpText()))},getChartHelpText:function n(){if(this.props.helptext)return c("React").createElement(c("BonsaiContextualHelp"),{helpKey:this.props.helptext});else return c("React").createElement("div",null)},getExportData:function n(){return this._exportData},getFeaturesDropdown:function n(){var o=void 0,p=void 0,q=void 0;o=[];p=this.state.apiURIs.map(function(r){var s=r.getPath().split("/");s=s[s.length-1];var t=r.getQueryData()||{},u=t.breakdowns;u=u?Object.keys(u).map(function(v){return u[v]}).join("-"):"";return[s,u].join("-")}).join("+");o.push(this._getExportLink(this._exportData,p));this._initExportData();if(!c("InsightsContext").isDevsite())o.push(this._getChartLink());if(this.state.hasEcosystemData&&!this._isEcosystemDisabled())o.push(this.getEcosystemLink());if(this.state.apiURIs.length>0)o.push(this.getApiDialogLink());if(o.length===0)return null;q=c("React").createElement(c("ReactXUIMenu"),null,o.filter(function(r){return!!r}).map(function(r,s){return c("React").createElement(j,{key:"feature-"+s},r)}));return c("React").createElement(c("BonsaiPopoverMenu"),{className:"_2pik",menu:q})},getApiDialogLink:function n(){return c("React").createElement(c("BonsaiApiExamplesDialog"),{apiURIs:this.state.apiURIs})},getEcosystemLink:function n(){var o=null;if(this.state.showEcosystem)o=c("BonsaiText").stop_compare;else if(c("InsightsContext").isGame())o=c("BonsaiText").compareGames;else o=c("BonsaiText").compareApps;return c("React").createElement(c("ShimButton.react"),{inline:true,onClick:this._toggleEcosystem},o)},_toggleEcosystem:function n(){this.setEcosystemVisibility(!this.state.showEcosystem)},hasEcosystem:function n(){return this.state.hasEcosystemData&&!this._isEcosystemDisabled()},setEcosystemVisibility:function n(o){this.setState({showEcosystem:o,hiddenMetricTitles:[]})},_processAreaSeries:function n(o){var p={},q=[];q=o.map(function(s){var t={};s.forEach(function(u){p[u[0].getTime()]=u[0];t[u[0].getTime()]=u[1]});return t});var r=Object.keys(p).sort();return q.map(function(s){var t=[];r.forEach(function(u){if(s[u])t.push([p[u],s[u]]);else t.push([p[u],0])});return t})},_getChart:function n(o,p,q){var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0;r=c("InsightsContext").isRealtimeDebug();var w={data:o,titles:p,valueX:function y(z,A){return z[0]},valueY:function y(z,A){return z[1]}};if(r)t=c("InsightsContext").getFullDateRange().until.valueOf();switch(q){case"areas":w.data=this._processAreaSeries(o);s=r?c("React").createElement(c("SpectrumStackedAreas"),babelHelpers["extends"]({},w,{base:this.props.base,offset:this.props.areaOffsets,partialValue:function y(z,v){return z[0].valueOf()==t}})):c("React").createElement(c("SpectrumStackedAreas"),babelHelpers["extends"]({},w,{base:this.props.base,offset:this.props.areaOffsets}));break;case"columns":s=c("React").createElement(c("SpectrumComparableColumns"),w);break;case"lines":if(r)s=c("React").createElement(c("SpectrumLines"),babelHelpers["extends"]({},w,{partialValue:function y(z,v){return z[0].valueOf()==t}}));else s=c("React").createElement(c("SpectrumLines"),w);break;default:return null}u=[];for(var x=0;x<o.length&&x<p.length;x++)u.push({header:p[x],body:o[x].map(function(y){return{time:y[0],value:y[1]}})});this._addExportData(u);return s},_exportData:[],_initExportData:function n(){this._exportData=[]},_addExportData:function n(o){this._exportData=this._exportData.concat(o)},_buildEventLabels:function n(){var o=c("InsightsContext").getEventLabels(),p=this.props.categories||[];p.push(c("InsightsContext").getActiveSectionName());p.push(this.props.helptext);o=o.filter(function(q){var r=c("InsightsUtils").pacificSecondsToUTCDate(q.time);return r>=this.range.min&&r<=this.range.max},this);o=o.filter(function(q){for(var r=0,s=q.categories.length;r<s;++r)if(p.indexOf(q.categories[r])!==-1)return true;return false},this);o=o.map(function(q){return c("React").createElement(c("InsightsMarker_DEPRECATED.react"),{content:q.label,key:q.label,x:c("InsightsUtils").pacificSecondsToUTCDate(q.time)})});return c("React").createElement(c("SpectrumMarkers"),null,o)},onRangeSelection:function n(o){this.setState({showModal:true,selectedRange:o})},onLegendCheckboxChange:function n(o,p){var q,r=this,s=this.state.hiddenMetricTitles.indexOf(o),t=this.state.hiddenMetricTitles;if(p&&s>-1)t=this.state.hiddenMetricTitles.filter(function(u){return u!=this.state.hiddenMetricTitles[s]},this);else(function(){var u=0;r.state.metrics.forEach(function(v){if(!v.isEcosystemMetric&&this.state.showEcosystem&&!v.hasCorrespondingEcosystemMetric)return;if(!this.state.showEcosystem&&v.isEcosystemMetric)return;u++},r);if(!p&&s==-1&&r.state.hiddenMetricTitles.length!=u-1)t=r.state.hiddenMetricTitles.concat(o)})();this.setState({hiddenMetricTitles:t})},getModalObject:function n(){var o=this.state.selectedRange,p=c("React").createElement("span",null,c("BonsaiText").summary,":"," ",c("React").createElement(c("InsightsDateRange.react"),{from:o[0],to:o[1],utc:true,includeTime:this.props.period!==c("BonsaiApiPeriod").DAILY})),q=this.series.areas.map(this._filterAndSum(o)),r=c("SpectrumIntegerScale")().domain([0,Math.max.apply(null,q)]),s=c("sumOfArray")(q),t=this.titles.areas.map(function(A,B){return[A,c("React").createElement(c("InsightsBackgroundBar.react"),{values:[q[B]],scale:r,colors:c("d3/scale/ordinal")().range(["#9DACCB"])}),new(c("PrettyNum"))(q[B]/s).toPrettyPercentage()]},this),u=t.length,v=this.series.lines.map(this._filterAndSum(o));t=t.concat(this.titles.lines.map(function(A,B){var C=[A,new(c("PrettyNum"))(v[B]).enableLongForm().toPretty()];if(u)C.push(c("React").createElement("noscript",null));return C}));var w=t.length,x=this.series.columns.map(this._filterAndSum(o));t=t.concat(this.titles.columns.map(function(A,B){var C=[A,new(c("PrettyNum"))(x[B]).toPretty()];if(w)C.push(c("React").createElement("noscript",null));return C}));var y=[c("BonsaiText").title,c("BonsaiText").value];if(u)y.push(c("BonsaiText").percentage);var z=c("React").createElement(c("InsightsTable.react"),{header:y,rows:t,width:"100%"});return{title:p,content:z}},_filterAndSum:function n(o){return function(p){return c("sumOfArray")(p.map(function(q){if(this.props.period==c("BonsaiApiPeriod").DAILY){if(q[0]>c("d3/time/day").offset(o[0],-1)&&q[0]<=c("d3/time/day").offset(o[1],-1))return q[1]}else if(q[0]>=o[0].getTime()&&q[0]<o[1].getTime())return q[1];return 0},this))}.bind(this)}});f.exports=m}),null);
__d("BonsaiTimeSeriesChartMixin",["mergeHelpers","BonsaiColors","InsightsContext","BonsaiStyle","BonsaiTimeSeriesChart","React","mergeDeep"],(function a(b,c,d,e,f,g){var h=c("mergeHelpers").ArrayStrategies,i=c("React").PropTypes,j={propTypes:{areaOffsets:i.array,base:i.string,currentCard:c("InsightsContext").isDevsite()?i.string:i.string.isRequired,data:i.array.isRequired,height:i.number,percentage:i.bool,ratio:i.bool,disableEcosystem:i.bool,theme:i.object,titles:i.array.isRequired,totalData:i.object,width:i.number,unselectTitles:i.array,showPercentTotal:i.bool},_buildSeriesConfigs:function k(l){var m=[],n=l[this._chartType].colors,o=0;for(;o<this.props.data.length;++o)m.push({data:this.props.data[o],title:this.props.titles[o],type:this._chartType,color:n[o%n.length],ecosystem_color:n[(o+2)%n.length],unselect:this.props.unselectTitles&&this.props.unselectTitles.indexOf(this.props.titles[o])!=-1});if(this.processTotal&&this.props.totalData){var p=this.processTotal(this.props.totalData,c("BonsaiColors").GRAY30,n[(o+2)%n.length]);for(var q=0;q<p.length;++q)m.push(p[q])}return m},getErrorMessages:function k(){return this.refs.chart?this.refs.chart.getErrorMessages():[]},getExportData:function k(){return this.refs.chart.getExportData()},hasEcosystem:function k(){return this.refs.chart.hasEcosystem()},setEcosystemVisibility:function k(l){this.refs.chart.setEcosystemVisibility(l)},render:function k(){var l=c("mergeDeep")(c("BonsaiStyle").CHART_THEME,this.props.theme,h.Clobber);return c("React").createElement(c("BonsaiTimeSeriesChart"),babelHelpers["extends"]({},this.props,{ref:"chart",configs:this._buildSeriesConfigs(l),theme:l}))}};f.exports=j}),null);
__d("BonsaiAreasTimeSeriesChart",["BonsaiTimeSeriesChartMixin","BonsaiText","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"BonsaiAreasTimeSeriesChart",_chartType:"areas",mixins:[c("BonsaiTimeSeriesChartMixin")],getDefaultProps:function i(){return{showPercentTotal:true}},processTotal:function i(j,k,l){return[{data:j,title:c("BonsaiText").total,type:"lines",color:k,ecosystem_color:l,unselect:this.props.unselectTitles&&this.props.unselectTitles.indexOf(c("BonsaiText").total)!=-1}]}});f.exports=h}),null);
__d("BonsaiLinesTimeSeriesChart",["BonsaiTimeSeriesChartMixin","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"BonsaiLinesTimeSeriesChart",_chartType:"lines",mixins:[c("BonsaiTimeSeriesChartMixin")]});f.exports=h}),null);
__d("BonsaiBreakdownChart",["cx","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiPromise","BonsaiAreasTimeSeriesChart","BonsaiConstants","BonsaiErrorNotice","BonsaiLinesTimeSeriesChart","BonsaiText","InsightsLoadingIndicator.react","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getErrorMessages=function(){return this.refs.chart?this.refs.chart.getErrorMessages():[]}.bind(this),this.getExportData=function(){return this.refs.chart.getExportData()}.bind(this),this.hasEcosystem=function(){return!!this.refs.chart&&this.refs.chart.hasEcosystem()}.bind(this),this.setEcosystemVisibility=function(r){this.refs.chart.setEcosystemVisibility(r)}.bind(this),n}l.prototype.render=function(){"use strict";if(this.props.data instanceof c("BonsaiApiError"))return c("React").createElement("div",{className:"_5r8_"},c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:this.props.data.getMessage()}));if(this.props.data instanceof c("BonsaiApiPromise"))return c("React").createElement("div",{className:"_5r8_"},c("React").createElement(c("InsightsLoadingIndicator.react"),null));var m=this.props.data,n=this.props.filters||{},o=Object.keys(n),p=this.props.breakdown,q=this.props.keyLabel||p,r=null;if(o.length)m=m.groupBy.apply(m,o);o.forEach(function(C){m=m[n[C]]});if(m)m=m.groupBy(p);else m={};if(p===c("BonsaiApiBreakdown").NONE){r=c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this.props,{ref:"chart",breakdown:p,data:[m],titles:[this.props.title]}));return r}function s(C){return[C,m[C]?m[C].getTotal():0]}function t(C){var D=new(c("BonsaiApiDataAdapter"))({data:m[C].getData()});return[C,m[C]?D.getTotal():0]}var u=Object.keys(m);if(this.props.sort==="bucket")u.sort();else{var v=this.props.sort==="numerator"?t:s;u=u.map(v,this);u.sort(function(C,D){return D[1]-C[1]})}var w=[],x=[],y=Math.min(c("BonsaiConstants").MAX_BREAKDOWN_BUCKETS,u.length);for(var z=0;z<y;++z){var A=u[z];if(this.props.sort!=="bucket")A=u[z][0];var B=c("BonsaiText").getBucketLabel(A,q);w.push(m[A]);x.push(B)}if(this.props.shouldStack)r=c("React").createElement(c("BonsaiAreasTimeSeriesChart"),babelHelpers["extends"]({},this.props,{ref:"chart",breakdown:p,totalData:o.length||!this.props.showTotal?null:this.props.data,data:w,titles:x}));else r=c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this.props,{ref:"chart",breakdown:p,data:w,titles:x}));return r};l.defaultProps={hasDropdown:true,percentage:false,ratio:false,shouldStack:true,showTotal:true,sort:"total"};l.propTypes={currency:k.string,data:k.object.isRequired,filters:k.object,hasDropdown:k.bool,helptext:k.string,percentage:k.bool,ratio:k.bool,shouldStack:k.bool,showTotal:k.bool,title:k.string,width:k.number,breakdown:k.oneOf(Object.keys(c("BonsaiApiBreakdown")).map(function(m){return c("BonsaiApiBreakdown")[m]})).isRequired,keyLabel:k.oneOf(Object.keys(c("BonsaiApiBreakdown")).map(function(m){return c("BonsaiApiBreakdown")[m]})),sort:k.oneOf(["total","numerator","bucket"])};f.exports=l}),null);
__d("DeveloperInsightsLogger",["BanzaiLogger","InsightsContext"],(function a(b,c,d,e,f,g){var h={logAction:function i(j){c("BanzaiLogger").log("DeveloperInsightsLoggerConfig",{action:j,appid:parseInt(c("InsightsContext").getObjID(),10),section:c("InsightsContext").getActiveSectionName(),subsection:c("InsightsContext").getActiveCardName()+":"+c("InsightsContext").getActiveTabName(),custom_event_name:c("InsightsContext").getActiveCustomEventName(),breakdown:c("InsightsContext").getActiveBreakdownName()+":"+JSON.stringify(c("InsightsContext").getActiveFilters())})}};f.exports=h}),null);
__d("FalcorMenuSelector",["cx","React","ReactXUIMenu","PopoverMenu.react","XUIPopoverButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"FalcorMenuSelector",propTypes:{onItemChange:i.func,buttonClass:i.string,activeValue:i.string,maxwidth:i.number},getDefaultProps:function k(){return{maxwidth:0}},getInitialState:function k(){return this._getActiveState(this.props)},componentWillReceiveProps:function k(l){if(this.props.activeValue!==l.activeValue)this.setState(this._getActiveState(l))},_getActiveState:function k(l){var m=l.children[0].props.label,n=l.children[0].props.value;if(l.activeValue){n=l.activeValue;c("React").Children.forEach(l.children,function(o){if(o.props.value===n)m=o.props.label})}return{activeLabel:m,activeValue:n}},_onItemClick:function k(event,l){var m={activeLabel:l.item.getLabel(),activeValue:l.item.getValue()};if(this.props.onItemChange)this.props.onItemChange(m);if(this.isMounted())this.setState(m)},_renderMenu:function k(){var l=[];c("React").Children.forEach(this.props.children,function(m){var n=m.props.value===this.state.activeValue;l.push(c("React").cloneElement(m,{key:m.props.value,className:c("joinClasses")(m.props.className,n?"_2li6":"")}))}.bind(this));return c("React").createElement(c("ReactXUIMenu"),{className:"_2li4",onItemClick:this._onItemClick},l)},render:function k(){return c("React").createElement(c("PopoverMenu.react"),{className:this.props.className,menu:this._renderMenu(),alignh:"right"},c("React").createElement(c("XUIPopoverButton.react"),{className:c("joinClasses")(this.props.buttonClass,"_5g1q"),label:this.state.activeLabel,haschevron:true,maxwidth:this.props.maxwidth}))}});f.exports=j}),null);
__d("FalcorBreakdownChartSwitcher",["cx","fbt","BonsaiApiBreakdown","InsightsContext","BonsaiStyle","BonsaiText","BonsaiTooltip","DeveloperInsightsLogger","FalcorErrorNotice","FalcorMenuSelector","React","ReactXUIMenu","XUIGrayText.react","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=c("React").PropTypes,l=c("React").createClass({displayName:"FalcorBreakdownChartSwitcher",ALL:"@ALL@",propTypes:{customBreakdowns:k.object,currentCard:c("InsightsContext").isDevsite()?k.string:k.string.isRequired,defaultBreakdown:k.oneOf(c("getObjectValues")(c("BonsaiApiBreakdown"))),categories:k.arrayOf(k.string),onBreakdownChange:k.func,showBreakdownSelector:k.bool,selectorTitle:k.string},getDefaultProps:function m(){return{defaultBreakdown:c("BonsaiApiBreakdown").NONE,showBreakdownSelector:true}},componentWillReceiveProps:function m(n){this.setState({shouldRefresh:true})},onBreakdownChangeTo:function m(n){var o=n.activeValue,p=this.getValidFiltersForData(this.findChildByKey(o).props.data);if(o===this.props.defaultBreakdown&&this.findChildByKey(this.props.defaultBreakdown))delete p[c("BonsaiApiBreakdown").CLIENT];c("InsightsContext").setActiveCardName(this.props.currentCard);c("InsightsContext").setActiveBreakdownName(o);c("InsightsContext").addCardState(this.props.currentCard,{breakdown:o});c("DeveloperInsightsLogger").logAction("breakdown_transition");if(this.props.onBreakdownChange)this.props.onBreakdownChange(o);if(this.isMounted())this.setState({active:o,filters:p,shouldRefresh:true})},getInitialState:function m(){var n=this.getChildren(),o=null,p=null;if(c("InsightsContext").getActiveCardName()==this.props.currentCard){o=c("InsightsContext").getActiveBreakdownName();p=c("InsightsContext").getActiveFilters()}return{active:o||this.props.active||n[0].key,filters:p||{},legend:null,shouldRefresh:false}},setLegendState:function m(n){this.setState({legend:n,shouldRefresh:false})},setRefreshState:function m(){this.setState({shouldRefresh:true})},buildSelector:function m(){var n=this.getChildren(),o=[],p=null;n.filter(function(r){return!!r}).forEach(function(r){var s=r.key,t=!this.props.customBreakdowns?c("BonsaiText").getBreakdownName(s):this.props.customBreakdowns[s],u=false;if(this.state.active===s){u=true;p=s}var v=c("BonsaiText").getBreakdownTooltip(s,u);o.push(c("React").createElement(j,{className:"_2li5",key:s,value:s,label:t},c("React").createElement("div",null,t,v?c("React").createElement(c("BonsaiTooltip"),{tooltip:v}):null)))}.bind(this));var q=this.props.selectorTitle||i._("MOSTRAR POR");if(!Array.isArray(o)||o.length<1)return null;return this.props.showBreakdownSelector?c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_2pis",shade:"light",size:"small",display:"block",weight:"bold"},q),c("React").createElement(c("FalcorMenuSelector"),{className:"_5gr9",buttonClass:"_3-8x _3-9a",activeValue:p,onItemChange:this.onBreakdownChangeTo},o)):null},getValidFiltersForData:function m(n){var o={};Object.keys(this.state.filters).filter(function(p){return n.hasBreakdown(p)}).forEach(function(p){o[p]=this.state.filters[p]}.bind(this));return o},getChildren:function m(){return Array.isArray(this.props.children)?this.props.children:[this.props.children]},findChildByKey:function m(n){var o=this.getChildren(),p=null;o.forEach(function(q){if(q!==null&&q.key===n)p=q});return p},getErrorMessage:function m(){var n=Object.keys(this.refs);if(!n.length)return null;var o=[];n.forEach(function(p){o=o.concat(this.refs[p].getErrorMessages())}.bind(this));return o[0]},getExportData:function m(){return this.refs[this.state.active].getExportData()},hasEcosystem:function m(){return this.refs[this.state.active].hasEcosystem()},setEcosystemVisibility:function m(n){this.refs[this.state.active].setEcosystemVisibility(n)},render:function m(){var n=this.getErrorMessage();if(n)return c("React").createElement(c("FalcorErrorNotice"),{message:n});var o=this.getChildren();if(o.length===1){var p=o[0];if(!p.props.threshold||!p.props.categories){var q={threshold:p.props.threshold||this.props.threshold,categories:p.props.categories||this.props.categories};p=c("React").cloneElement(p,q)}return p}var r=this.findChildByKey(this.state.active);if(!r)r=o[0];var s={filters:this.state.filters,width:c("BonsaiStyle").FALCOR_WIDTH,setLegend:this.setLegendState,refreshLegend:!this.state.shouldRefresh?this.setRefreshState:null,ref:this.state.active};if(!r.props.threshold)s.threshold=this.props.threshold;if(!r.props.categories)s.categories=this.props.categories;s.rightColumnControl=this.buildSelector();return c("React").cloneElement(r,s)}});f.exports=l}),null);
__d("MetricBreakdownSectionMixin",["BonsaiApiBreakdown","BonsaiBreakdownChart","BonsaiSectionDataLoaderMixin","FalcorBreakdownChartSwitcher","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g){"use strict";var h={mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],componentWillMount:function i(){Object.keys(this._getMetrics()).forEach(function(j){this._getBreakdowns()[j].forEach(function(k){var l={};if(k!==c("BonsaiApiBreakdown").NONE)l.breakdowns=[k];this.addMetric([j,k],this._getMetrics()[j],l)}.bind(this))}.bind(this));this.fetchMetrics()},_getKeyToSection:function i(){var j={},k=this._getKeyToLabel();Object.keys(this._getMetrics()).forEach(function(l){var m=[];this._getBreakdowns()[l].forEach(function(n){m.push(c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:n,currentCard:this.props.cardKey,data:this.getData([l,n]),key:n,title:k[l]}))}.bind(this));j[l]=c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:l,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,categories:[this._getHelptextMap()[l]]},m)}.bind(this));return j},_renderCandela:function i(){var j=this.state.activeSection,k=this.getData([j,this.state.activeBreakdown]),l={data:k,title:this._getKeyToLabel()[j],key:j};this.setExportInfo([l],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:this.state.activeBreakdown,allBreakdowns:this._getBreakdowns()[this.state.activeSection],currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},_onBreakdownChange:function i(j){this.setState({activeBreakdown:j})},_getParamsToLog:function i(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function i(j,k){return this.state.activeSection!==k.activeSection||this.state.activeBreakdown!==k.activeBreakdown}};f.exports=h}),null);
__d("BonsaiSectionDateRangeMixin",["cx","fbt","InsightsContext","GriffinSections","BonsaiStyle","BonsaiDevsiteStyle","InsightsTimeSelector.react","InsightsUtils","Link.react","React","formatDate","d3/time/day","d3/scale/linear"],(function a(b,c,d,e,f,g,h,i){var j=4,k={getInitialState:function l(){var m=c("InsightsContext").getActiveSectionName(),n=m!==c("GriffinSections").OVERVIEW&&m!==c("GriffinSections").WATCH;return{showTimeSlider:n}},applyDateRangeToCard:function l(m){if(!m)return null;return c("React").cloneElement(m,{key:m.key,fullDateRange:this.props.fullDateRange,visibleDateRange:this.props.visibleDateRange})},onRangeClick:function l(){this.setState({showTimeSlider:!this.state.showTimeSlider})},renderTimeSelector:function l(){var m=[c("InsightsUtils").fillArray(100,.4)],n=[this.props.fullDateRange.since,this.props.fullDateRange.until],o={since:this.props.visibleDateRange.since,until:c("d3/time/day").utc.offset(this.props.visibleDateRange.until,1)},p=function p(s){var w={since:s.since,until:c("d3/time/day").utc.offset(s.until,-1)};this.props.onDateRangeChange(w)},q={7:i._("1 semana"),28:i._("4 semanas"),90:i._("90 d\u00edas")};if(c("InsightsContext").getDaysToLoad()>180)q["180"]=i._("180 d\u00edas");if(c("InsightsContext").getDaysToLoad()>365)q["365"]=i._("1 a\u00f1o");var r=c("InsightsContext").isDevsite()?c("BonsaiDevsiteStyle").TIME_SELECTOR_WIDTH:c("BonsaiStyle").TIME_SELECTOR_WIDTH,s=this.props.visibleDateRange,t=i._("Mostrando datos del {from} al {to}",[i.param("from",c("formatDate")(s.since,"m/d/Y",{utc:true})),i.param("to",c("formatDate")(s.until,"m/d/Y",{utc:true}))]),u=null;if(c("InsightsContext").getActiveSectionName()===c("GriffinSections").OVERVIEW)u=c("React").createElement("div",{className:"_w4l"},c("React").createElement(c("Link.react"),{onClick:this.onRangeClick,className:"_w4m"},t));if(c("InsightsContext").getActiveSectionName()===c("GriffinSections").WATCH)u=c("React").createElement("div",{className:"_3en6"},c("React").createElement("div",{className:"_w4m"},t));if(this.state.showTimeSlider){var v=this.props.minDaysDateRangeSelector===undefined?j:this.props.minDaysDateRangeSelector;u=c("React").createElement(c("InsightsTimeSelector.react"),{className:"_5tjx",areas:m,brushHeight:c("BonsaiStyle").TIME_SELECTOR_HEIGHT,brushWidth:r,domain:n,earliestTime:n[0],mostRecentTime:n[1],onRangeChange:p.bind(this),periodShortcuts:q,scaleY:c("d3/scale/linear")().domain([0,1]).clamp(true),scaleYHasDomain:true,selectedDateRange:o,minDays:v,timeZoneDisclaimer:t})}return c("React").createElement("div",null,u)}};f.exports=k}),null);
__d("OverviewSharingBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"OverviewSharingBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").FIFTY_FIFTY},getTitle:function j(){return h._("Historias y referencias")},getMetrics:function j(){return["story_publishes","total_referrals","mobile_referral_installs"]},getChartLocations:function j(){return[{card:"stories_funnel",tab:"publishes"},{card:"developer_value",tab:"app_total_referrals"},{card:"developer_value",tab:"mobile_referral_installs"}]},getLabels:function j(){return[h._("Historias publicadas"),h._("Referencias"),h._("Instalaciones")]}});f.exports=i}),null);
__d("GriffinTimeConstraintPicker",["cx","fbt","InsightsTimeUtils","React","SUIBusinessTheme","SUIButton.react","SUIHorizontalLayout.react","SUIText.react","SUITextInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m={DAYS:"days",HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"},n=(l={},l[m.DAYS]={label:i._("D\u00edas"),placeholder:i._("De 0 a 90 d\u00edas"),errorMessage:i._("Los d\u00edas deben ser un n\u00famero entre 0 y 90."),dateRangeErrorMessage:i._("El n\u00famero de d\u00edas debe estar dentro del intervalo de fechas general.")},l[m.HOURS]={label:i._("Horas"),placeholder:i._("De 0 a 23 horas"),errorMessage:i._("Las horas deben ser un n\u00famero entre 0 y 23.")},l[m.MINUTES]={label:i._("Minutos"),placeholder:i._("De 0 a 59 minutos"),errorMessage:i._("Los minutos deben ser un n\u00famero entre 0 y 59.")},l[m.SECONDS]={label:i._("Segundos"),placeholder:i._("De 0 a 59 segundos"),errorMessage:i._("Los segundos deben ser un n\u00famero entre 0 y 59.")},l);j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$GriffinTimeConstraintPicker2=function(r){var s=this.props.daysInRange;if(this.$GriffinTimeConstraintPicker1(r)){var t=Number(r);if(t>=0&&t<=90){if(t<=s)this.setState({days:{value:r,hasError:false},hasDateRangeError:false});else this.setState({days:{value:r,hasError:true},hasDateRangeError:true});return}}this.setState({days:{value:r,hasError:true},hasDateRangeError:false})}.bind(this);this.$GriffinTimeConstraintPicker3=function(r){if(this.$GriffinTimeConstraintPicker1(r)){var s=Number(r);if(s>=0&&s<=23){this.setState({hours:{value:r,hasError:false}});return}}this.setState({hours:{value:r,hasError:true}})}.bind(this);this.$GriffinTimeConstraintPicker4=function(r){if(this.$GriffinTimeConstraintPicker1(r)){var s=Number(r);if(s>=0&&s<=59){this.setState({minutes:{value:r,hasError:false}});return}}this.setState({minutes:{value:r,hasError:true}})}.bind(this);this.$GriffinTimeConstraintPicker5=function(r){if(this.$GriffinTimeConstraintPicker1(r)){var s=Number(r);if(s>=0&&s<=59){this.setState({seconds:{value:r,hasError:false}});return}}this.setState({seconds:{value:r,hasError:true}})}.bind(this);this.$GriffinTimeConstraintPicker6=function(){if(this.$GriffinTimeConstraintPicker7()){var r={days:Number(this.state.days.value),hours:Number(this.state.hours.value),minutes:Number(this.state.minutes.value),seconds:Number(this.state.seconds.value)};this.props.onApply(r)}}.bind(this);var q=c("InsightsTimeUtils").secondsToDetailedFields(p.timeConstraintInSeconds,3);this.state={days:{value:q[0].toString(),hasError:false},hours:{value:q[1].toString(),hasError:false},minutes:{value:q[2].toString(),hasError:false},seconds:{value:q[3].toString(),hasError:false},hasDateRangeError:q[0]>p.daysInRange}}o.prototype.componentWillReceiveProps=function(p){if(p.timeConstraintInSeconds!==this.props.timeConstraintInSeconds){var q=c("InsightsTimeUtils").secondsToDetailedFields(p.timeConstraintInSeconds,3);this.setState({days:{value:q[0].toString(),hasError:false},hours:{value:q[1].toString(),hasError:false},minutes:{value:q[2].toString(),hasError:false},seconds:{value:q[3].toString(),hasError:false},hasDateRangeError:q[0]>p.daysInRange})}};o.prototype.$GriffinTimeConstraintPicker1=function(p){return p===""||String(parseInt(p,10))===p};o.prototype.$GriffinTimeConstraintPicker7=function(){if(this.state.hasDateRangeError)return false;return!Object.keys(m).some(function(p){var q=m[p];return this.state[q].hasError}.bind(this))};o.prototype.render=function(){var p=Object.keys(m).map(function(q){var r=m[q],s=n[r],t=this.state[r].value,u=this.state[r].hasError,v=void 0;if(r===m.DAYS&&this.state.hasDateRangeError)v=n[m.DAYS].dateRangeErrorMessage;else v=u?s.errorMessage:null;var w=void 0;switch(r){case m.DAYS:w=this.$GriffinTimeConstraintPicker2;break;case m.HOURS:w=this.$GriffinTimeConstraintPicker3;break;case m.MINUTES:w=this.$GriffinTimeConstraintPicker4;break;case m.SECONDS:w=this.$GriffinTimeConstraintPicker5;break}return c("React").createElement("div",{className:"_4fo_",key:r},c("React").createElement(c("SUIHorizontalLayout.react"),{theme:c("SUIBusinessTheme"),display:"block"},c("React").createElement(c("SUIText.react"),{variant:"bold"},s.label),c("React").createElement(c("SUITextInput.react"),{style:{width:100},placeholder:s.placeholder,value:t,onChange:w,errorMessage:v,errorTooltipPosition:u?"right":undefined})))}.bind(this));return c("React").createElement("div",{className:"_4fp0"},p,c("React").createElement("div",{className:"_4fp5"},c("React").createElement(c("SUIButton.react"),{theme:c("SUIBusinessTheme"),label:i._("Aplicar"),onClick:this.$GriffinTimeConstraintPicker6,style:{marginLeft:"4px"},use:"confirm"}),c("React").createElement(c("SUIButton.react"),{theme:c("SUIBusinessTheme"),label:i._("Cancelar"),onClick:this.props.onCancel,style:{marginLeft:"4px"},use:"default"})))};o.defaultProps={onCancel:c("emptyFunction"),onApply:c("emptyFunction"),timeConstraintInSeconds:0};f.exports=o}),null);
__d("GriffinTimeConstraintSelector",["cx","fbt","AnalyticsDateUtils","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","GriffinSelectorOption","GriffinTimeConstraintPicker","InsightsTimeUtils","LayerHideOnBlur","React","SUIBusinessTheme","SUIHelpMessage.react","SUISelector.react","SUISelectorButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=86400,n=3600,o=60,p={TIME_DEFAULT:"time_default",TIME_5MIN:"time_5min",TIME_1H:"time_1h",TIME_1D:"time_1d",TIME_CUSTOM:"time_custom"},q=(l={},l[p.TIME_DEFAULT]={label:i._("Predeterminado"),value:0},l[p.TIME_5MIN]={label:i._("5 minutos"),value:o*5},l[p.TIME_1H]={label:i._("1 hora"),value:n},l[p.TIME_1D]={label:i._("1 d\u00eda"),value:m},l[p.TIME_CUSTOM]={label:i._("Personalizar"),value:-1},l);j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.$GriffinTimeConstraintSelector3=function(t){if(t!==p.TIME_CUSTOM)this.props.onTimeConstraintChange(q[t].value);this.setState({isLayerVisible:t===p.TIME_CUSTOM})}.bind(this);this.$GriffinTimeConstraintSelector7=function(){this.setState({isLayerVisible:false})}.bind(this);this.$GriffinTimeConstraintSelector8=function(t){this.setState({isLayerVisible:t})}.bind(this);this.$GriffinTimeConstraintSelector9=function(t){this.setState({isLayerVisible:false});var u=t.days*m+t.hours*n+t.minutes*o+t.seconds;this.props.onTimeConstraintChange(u)}.bind(this);this.state={daysInRange:this.props.daysInRange,timeConstraintInSeconds:this.props.timeConstraintInSeconds,isLayerVisible:false}}r.prototype.componentWillReceiveProps=function(s){if(s.daysInRange!==this.props.daysInRange||s.timeConstraintInSeconds!==this.props.timeConstraintInSeconds)this.setState({daysInRange:s.daysInRange,timeConstraintInSeconds:s.timeConstraintInSeconds})};r.prototype.$GriffinTimeConstraintSelector2=function(){var s=i._("Incluye \u00fanicamente a los usuarios que han completado todos los pasos del embudo en este periodo de tiempo. Por ejemplo, si quieres ver el n\u00famero de usuarios que han realizado conversiones en menos de una hora en los \u00faltimos siete d\u00edas, puedes seleccionar este intervalo de tiempo y establecer el periodo de tiempo en una hora. En la vista predeterminada, se muestra la informaci\u00f3n de los \u00faltimos siete d\u00edas para cualquier periodo de tiempo.");return c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:s})};r.prototype.$GriffinTimeConstraintSelector4=function(s){var t=this.state.daysInRange;switch(s){case 0:return p.TIME_DEFAULT;case o*5:return p.TIME_5MIN;case n:return p.TIME_1H;case m:return p.TIME_1D;default:return c("AnalyticsDateUtils").isWithinDateRange(s,t)?p.TIME_CUSTOM:p.TIME_DEFAULT}};r.prototype.$GriffinTimeConstraintSelector5=function(s){var t=this.state.daysInRange;switch(s){case 0:return q[p.TIME_DEFAULT].label;default:return c("AnalyticsDateUtils").isWithinDateRange(s,t)?this.$GriffinTimeConstraintSelector6(s):q[p.TIME_DEFAULT].label}};r.prototype.render=function(){var s=this.state.timeConstraintInSeconds,t=this.$GriffinTimeConstraintSelector2(),u=Object.keys(p).map(function(v){var w=p[v],x=q[w];return c("React").createElement(c("GriffinSelectorOption"),{key:w,value:w},x.label)});return c("React").createElement("div",null,c("React").createElement("span",{className:"_629y"},i._("Tiempo para completar el embudo")),c("React").createElement("span",{className:"_629z"},t),c("React").createElement(c("SUISelector.react"),{button:c("React").createElement(c("SUISelectorButton.react"),{label:this.$GriffinTimeConstraintSelector5(s)}),theme:c("SUIBusinessTheme"),onChange:this.$GriffinTimeConstraintSelector3,ref:"time_selector",value:this.$GriffinTimeConstraintSelector4(s)},u),c("React").createElement(c("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.time_selector}.bind(this),onToggle:this.$GriffinTimeConstraintSelector8,position:"below",shown:this.state.isLayerVisible},c("React").createElement(c("GriffinTimeConstraintPicker"),{daysInRange:this.state.daysInRange,onCancel:this.$GriffinTimeConstraintSelector7,onApply:this.$GriffinTimeConstraintSelector9,timeConstraintInSeconds:s})))};r.prototype.$GriffinTimeConstraintSelector6=function(s){var t=c("InsightsTimeUtils").secondsToDetailedFields(s,3);return c("React").createElement("div",null,t[0]>0&&c("React").createElement("span",{className:"_62a0"},i._({"*":"{number of days} d\u00edas","_1":"{number of days} d\u00eda"},[i.param("number of days",t[0]),i.plural(t[0])])),t[1]>0&&c("React").createElement("span",{className:"_62a0"},i._({"*":"{number of hours} horas","_1":"{number of hours} hora"},[i.param("number of hours",t[1]),i.plural(t[1])])),t[2]>0&&c("React").createElement("span",{className:"_62a0"},i._({"*":"{number of minutes} minutos","_1":"{number of minutes} minuto"},[i.param("number of minutes",t[2]),i.plural(t[2])])),t[3]>0&&c("React").createElement("span",null,i._({"*":"{number of seconds} segundos","_1":"{number of seconds} segundos"},[i.param("number of seconds",t[3]),i.plural(t[3])])))};r.defaultProps={onTimeConstraintChange:c("emptyFunction"),timeConstraintInSeconds:0};f.exports=r}),null);
__d("GriffinAdHocFunnelBuilder",["ix","cx","fbt","invariant","FalcorAnalyticsFeatureUtils","GriffinButton","GriffinContextualDrawer","GriffinEditFeatureDialog","GriffinFunnelCallout","GriffinFunnelStageList","GriffinSelector","GriffinSelectorOption","GriffinTimeConstraintSelector","Image.react","InsightsContext","InsightsEventLogger","React","SearchableEntry","SUIBusinessTheme","SUILink.react","immutable","emptyFunction","fbglyph","uuid"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n,o=c("immutable").List,p={SAVE:"save",SAVE_AS:"save_as",SAVE_INTERNAL:"save_internal",DELETE:"delete"},q=(n={},n[p.SAVE]={descriptionText:j._("\u00bfQuieres guardar tu embudo con este nombre?"),showTextInput:true,title:j._("Guardar"),loadingText:j._("Guardando embudo"),hidden:function u(v){return!c("FalcorAnalyticsFeatureUtils").canUpdateObject(v.isInternal||false)}},n[p.SAVE_AS]={descriptionText:j._("Asigna un nombre al nuevo embudo que est\u00e1s creando."),showTextInput:true,title:j._("Guardar como"),loadingText:j._("Creando nuevo embudo"),hidden:function u(v){return!c("FalcorAnalyticsFeatureUtils").canCreateObject()||v.isNewFunnel}},n[p.SAVE_INTERNAL]={descriptionText:j._("\u00bfQuieres guardar tu embudo con este nombre?"),showTextInput:true,title:j._("Guardar como interno"),loadingText:j._("Guardando embudo interno"),hidden:function u(){return!c("FalcorAnalyticsFeatureUtils").canCreateInternalObject()}},n[p.DELETE]={descriptionText:j._("\u00bfSeguro que quieres eliminar este embudo?"),showTextInput:false,title:j._("Eliminar"),loadingText:j._("Eliminando embudo"),hidden:function u(v){return!c("FalcorAnalyticsFeatureUtils").canDeleteObject(v.isInternal||false)||v.isNewFunnel}},n),r=24;l=babelHelpers.inherits(s,c("React").Component);m=l&&l.prototype;function s(u){m.constructor.call(this,u);t.call(this);var v=u.initialStages,w=u.funnelName,x=u.timeConstraintInSeconds,y=u.daysInRange;this.state={daysInRange:y,dismissedUpsell:false,dialogType:null,isDragging:false,selectedStage:null,stages:v,showDialog:false,showTimeConstraint:false,funnelName:w,timeConstraintInSeconds:x||0}}s.prototype.componentWillReceiveProps=function(u){var v=this.state.selectedStage,w=u.initialStages.some(function(x){return x.key===v})?v:null;if(u.initialStages!==this.props.initialStages||this.props.funnelName!==u.funnelName||v!==w||u.daysInRange!==this.props.daysInRange||u.timeConstraintInSeconds!==this.props.timeConstraintInSeconds)this.setState({daysInRange:u.daysInRange,timeConstraintInSeconds:u.timeConstraintInSeconds||0,stages:u.initialStages,funnelName:u.funnelName,selectedStage:w})};s.prototype.$GriffinAdHocFunnelBuilder10=function(){var u=this.props,v=u.onDelete,w=u.onSave,x=u.onSaveAs,y=u.onSaveInternal,z=u.isNewFunnel,A=this.state,B=A.dialogType,C=A.funnelName,D=A.stages,E=A.timeConstraintInSeconds;B||k(0);var F=q[B],G=void 0;switch(B){case p.SAVE:if(z)G=function G(){return x(C,D,E)};else G=function G(){return w(C,D,E)};break;case p.SAVE_AS:G=function G(){return x(C,D,E)};break;case p.SAVE_INTERNAL:G=function G(){return y(C,D,E)};break;case p.DELETE:G=v;break}return c("React").createElement(c("GriffinEditFeatureDialog"),{descriptionText:F.descriptionText,isLoading:false,loadingText:F.loadingText,name:C,onButtonClick:function(){G();this.$GriffinAdHocFunnelBuilder8()}.bind(this),onClose:this.$GriffinAdHocFunnelBuilder8,onNameChange:this.$GriffinAdHocFunnelBuilder9,title:F.title,showTextInput:F.showTextInput})};s.prototype.$GriffinAdHocFunnelBuilder11=function(){var u,v=this,w=this.state.stages,x=!w.count(),y=j._("M\u00e1s acciones"),z=Object.keys(p).filter(function(B){var C=p[B];if(q[C].hidden(this.props))return false;if(x)return C==="DELETE";return true}.bind(this));if(z.length===0)return null;else if(z.length===1){var u=function(){var B=z[0],C=p[B],D=q[C];return{v:c("React").createElement(c("GriffinButton"),{onClick:function(){return this.$GriffinAdHocFunnelBuilder7(C)}.bind(v),label:D.title,disabled:x})}}();if(typeof u==="object")return u.v}else{var A=z.map(function(B){var C=p[B],D=q[C];return c("React").createElement(c("GriffinSelectorOption"),{key:C,value:C},D.title)});return c("React").createElement(c("GriffinSelector"),{onChange:this.$GriffinAdHocFunnelBuilder7,placeholder:y},A)}};s.prototype.render=function(){var u=this.props,v=u.anchor,w=u.onApply,x=this.state,y=x.daysInRange,z=x.dismissedUpsell,A=x.selectedStage,B=x.stages,C=x.showDialog,D=x.showTimeConstraint,E=x.isDragging,F=x.timeConstraintInSeconds,G=D?h("141842"):h("141812"),H=c("React").createElement("span",{className:"_gcj"},c("React").createElement(c("GriffinFunnelCallout"),{contextRef:"funnel_upsell",dismissedUpsell:z})),I=c("React").createElement("div",{className:"_20xh"},c("React").createElement("span",{ref:"funnel_upsell"},c("React").createElement(c("SUILink.react"),{theme:c("SUIBusinessTheme"),onClick:this.$GriffinAdHocFunnelBuilder13},c("React").createElement(c("Image.react"),{className:"_20xi",src:G,width:r,height:r}),j._("tiempo establecido para completar el embudo"))),H),J=D?c("React").createElement(c("GriffinTimeConstraintSelector"),{daysInRange:y,timeConstraintInSeconds:F,onTimeConstraintChange:this.$GriffinAdHocFunnelBuilder12}):null,K=j._("Aplicar"),L=c("React").createElement(c("GriffinButton"),{label:K,onClick:function P(){return w(B,F)},style:{marginRight:"8px"},use:"confirm",disabled:!B.count()}),M=this.$GriffinAdHocFunnelBuilder11(),N=C?this.$GriffinAdHocFunnelBuilder10():null,O=c("React").createElement("div",{className:"_138w"},j._("Pasos del embudo"));return c("React").createElement(c("GriffinContextualDrawer"),{anchor:v,cardKey:"funnel_builder"},O,c("React").createElement(c("GriffinFunnelStageList"),{items:B,onRemove:this.$GriffinAdHocFunnelBuilder1,onClick:this.$GriffinAdHocFunnelBuilder2,onChange:this.$GriffinAdHocFunnelBuilder4,onDrop:this.$GriffinAdHocFunnelBuilder5,onDragStart:this.$GriffinAdHocFunnelBuilder3,onSelectEvent:this.$GriffinAdHocFunnelBuilder6,selectedStage:E?null:A}),I,J,c("React").createElement("div",{className:"_3gbb"},L,M,N))};s.defaultProps={initialStages:o(),onApply:c("emptyFunction"),onSave:c("emptyFunction"),onSaveAs:c("emptyFunction"),onSaveInternal:c("emptyFunction"),onDelete:c("emptyFunction")};var t=function t(){this.$GriffinAdHocFunnelBuilder1=function(u,v){var w=this.props.funnelID,x=this.state,y=x.selectedStage,z=x.stages;c("InsightsEventLogger").logEvent({eventName:"funnels_builder_remove_rule",feature_id:w,ad_hoc:true});var A=z.remove(v),B=u.key===y?null:y;this.setState({selectedStage:B,stages:A})}.bind(this);this.$GriffinAdHocFunnelBuilder2=function(u){var v=this.props.funnelID,w=this.state.selectedStage===u.key,x=w?null:u.key;this.setState({selectedStage:x});c("InsightsEventLogger").logEvent({eventName:"funnels_builder_toggle_rule",feature_id:v,shown:!w,ad_hoc:true})}.bind(this);this.$GriffinAdHocFunnelBuilder3=function(){this.setState({isDragging:true})}.bind(this);this.$GriffinAdHocFunnelBuilder4=function(u,v){var w=this.state.stages;this.setState({stages:w.set(v,u)})}.bind(this);this.$GriffinAdHocFunnelBuilder5=function(u,v){var w=this.props.funnelID;c("InsightsEventLogger").logEvent({eventName:"funnels_builder_move_rule",feature_id:w,ad_hoc:true});this.setState({stages:u,isDragging:false})}.bind(this);this.$GriffinAdHocFunnelBuilder6=function(u){var v=this.props.funnelID,event=u.getUniqueID(),w=event+c("uuid")(),x=this.state.stages.push({rule:{event_rules:[{event_rule:{application:c("InsightsContext").getObjID(),event_name:event,parameters:[]},negate_rule:false}],event_info_rules:[],percentile_rules:[],user_property_rules:[],web_param_rules:[]},key:w,value:u.getTitle()});this.setState({stages:x});c("InsightsEventLogger").logEvent({eventName:"funnels_builder_add_rule",feature_id:v,ad_hoc:true})}.bind(this);this.$GriffinAdHocFunnelBuilder7=function(u){this.setState({showDialog:true,dialogType:u})}.bind(this);this.$GriffinAdHocFunnelBuilder8=function(){this.setState({showDialog:false,dialogType:null})}.bind(this);this.$GriffinAdHocFunnelBuilder9=function(u){this.setState({funnelName:u})}.bind(this);this.$GriffinAdHocFunnelBuilder12=function(u){c("InsightsEventLogger").logEvent({eventName:"funnels_time_constraint_change",time_constraint:u});this.setState({timeConstraintInSeconds:u})}.bind(this);this.$GriffinAdHocFunnelBuilder13=function(){this.setState({dismissedUpsell:true,showTimeConstraint:!this.state.showTimeConstraint})}.bind(this)};f.exports=s}),null);
__d("FalcorFunnelChart",["fbt","AnalyticsFunnelAggregationMethod","FalcorBreakdownsTextUtils","CandelaCategoryScale","FalcorDataTooltip","FalcorInsightsHoverCardChart","InsightsFormatterFactories","HighlightChartSeriesOnHoverMixin","InsightsFormatters","InsightsFunnelChart.react","InsightsFunnelData","InsightsThemeableChartMixin","React","ReactComponentWithPureRenderMixin","CandelaConstants","immutable","idx","GriffinCandelaTheme"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CandelaConstants").Alignment,j=c("CandelaConstants").ScaleType,k=c("CandelaConstants").ShapeType,l=c("immutable").OrderedSet,m=c("React").PropTypes,n=c("React").createClass({displayName:"FalcorFunnelChart",mixins:[c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")}),c("ReactComponentWithPureRenderMixin"),c("HighlightChartSeriesOnHoverMixin")],propTypes:{funnelData:m.instanceOf(c("InsightsFunnelData")).isRequired,breakdownType:m.string,hoverCardPosition:c("FalcorDataTooltip").hoverCardPositionPropType},getDefaultProps:function o(){return{hoverCardPosition:"above"}},getInitialState:function o(){return{step:0,bucket:"bucket_0"}},statics:{getComponentTheming:function o(){return{styleSheet:{'axis[orientation="horizontal"]':{height:40},'axis[orientation="vertical"][alignment="right"]':{visibility:"hidden"},bararea:{fill:"auto",opacity:.4},"bararea:highlighted":{opacity:.8},"bararea:muted":{opacity:.1},bararealabel:{visibility:"hidden",color:"#fff",fill:"#515664",height:24,paddingBottom:5,width:44},"bararea:highlighted>bararealabel":{visibility:"visible"},"bararea:muted>bararealabel":{visibility:"hidden"},"bar:muted":{opacity:.2}}}}},_getCategoryKey:function o(){var p=this.props.schema;return Object.keys(p).find(function(q){return p[q].type===j.CATEGORY})},_filterCategoryKey:function o(p){return p!==this._getCategoryKey()},_getStepDisplayName:function o(p){var q=this.props.funnelData.getEventDisplayNames();return h._("{stage index} - {stage event name}",[h.param("stage index",p+1),h.param("stage event name",q[p])])},_formatter:function o(p){if(p instanceof c("CandelaCategoryScale"))return function(q){return h._("Paso {step}",[h.param("step",c("InsightsFormatters").defaultFormatter(this._getStepDisplayName(q)))])}.bind(this);else return c("InsightsFormatterFactories").legendFormatterFactory(p)},_axisformatter:function o(p,q,r){if(p instanceof c("CandelaCategoryScale"))return function(s){return this._getStepDisplayName(s)}.bind(this);else return c("InsightsFormatterFactories").axisMarkFormatterFactory(p,q,r)},_onMouseEnterBar:function o(p){var q=p.target;if(q.shapeType===k.BAR_GROUP||q.shapeType===k.BAR){var r=p.data.step.value,s=Object.keys(p.data).filter(this._filterCategoryKey)[0];this.setState({step:r,bucket:s})}this._onMouseEnter(p)},_labelGetter:function o(p){return h._({"*":"Personas","_1":"Persona"},[h.plural(parseInt(p,10))])},_getCompletionTimeData:function o(){var p=this.props.funnelData,q=p.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME),r=[];q.forEach(function(s,t){s.forEach(function(u,v){if(!r[v])r[v]={};r[v]["bucket_"+t]=u})});return r},_getStepCompleteTimeData:function o(p){var q=this.state.bucket;return p&&p[this.state.step][q]?{top25:p[this.state.step][q][0],top50:p[this.state.step][q][1],top75:p[this.state.step][q][2]}:undefined},render:function o(){var p=this.props,q=p.data,r=p.schema,s=this.state.bucket,t=h._("Personas"),u=l(Object.keys(q[0]).filter(this._filterCategoryKey).map(function(A){return{key:A,value:q[0][A],label:t}})),v={};if(this.props.breakdownType){var w=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(this.props.breakdownType);v={label:w,value:r[s].label}}var x=this._getCompletionTimeData(),y=this._getStepCompleteTimeData(x),z=l([babelHelpers["extends"]({},v,{stepCompleteTimeData:y,key:"bucket",bucket:s})]);return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:z,hoverCardPosition:this.props.hoverCardPosition,items:u,titleKey:this._getCategoryKey(),formatterFactory:this._formatter,labelGetter:this._labelGetter,chartType:"FUNNEL"},c("React").createElement(c("InsightsFunnelChart.react"),babelHelpers["extends"]({},this.props,{axisMarkFormatterFactory:this._axisformatter,alignment:i.BOTTOM,theme:this.state.theme,highlights:this.state.highlights,onMouseEnter:this._onMouseEnterBar,onMouseLeave:this._onMouseLeave})))}});f.exports=n}),null);
__d("GriffinAdHocFunnelChart",["fbt","AnalyticsFunnelAggregationMethod","AppEventsAggregatingColumn","BonsaiText","FalcorBreakdownsTextUtils","FalcorFunnelChart","GriffinChartContainer","GriffinSelector","GriffinSelectorOption","InsightsEventLogger","InsightsFunnelData","React","CandelaConstants","emptyFunction","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("CandelaConstants").ScaleType,l=c("CandelaGroupScaleBuilder").group,m=c("CandelaStackScaleBuilder").stack,n=c("React").PropTypes,o=h._("General"),p=[c("AppEventsAggregatingColumn").AGE,c("AppEventsAggregatingColumn").GENDER,c("AppEventsAggregatingColumn").COUNTRY,c("AppEventsAggregatingColumn").LOCALE,c("AppEventsAggregatingColumn").APP_VERSION,c("AppEventsAggregatingColumn").DEVICE_OS_TYPE,c("AppEventsAggregatingColumn").OS_VERSION,c("AppEventsAggregatingColumn").DEVICE_MODEL,c("AppEventsAggregatingColumn").USING_FB_LOGIN,c("AppEventsAggregatingColumn").ACQUISITION_SOURCE,c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L1,c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L2,c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L3,c("AppEventsAggregatingColumn").PLATFORM],q=h._("MOSTRAR POR");i=babelHelpers.inherits(r,c("React").Component);j=i&&i.prototype;r.prototype.$GriffinAdHocFunnelChart1=function(){var s=this.props,t=s.funnelData,u=s.selectedBreakdown;if(u&&t)return t.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES).map(function(v){return c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(u,v)});return[]};r.prototype.$GriffinAdHocFunnelChart2=function(){var s=this.props.funnelData,t=this.$GriffinAdHocFunnelChart1(),u=s.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES),v={step:{type:k.CATEGORY}};u.forEach(function(w,x){v["bucket_"+x]={type:k.NUMBER,label:t[x]||c("BonsaiText").all}});return v};r.prototype.$GriffinAdHocFunnelChart3=function(){var s=this.props.funnelData,t=s.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES),u=[];t.forEach(function(v,w){v.forEach(function(x,y){if(!u[y])u[y]={step:y};u[y]["bucket_"+w]=x})});return u};r.prototype.$GriffinAdHocFunnelChart4=function(){var s=this.props.selectedBreakdown,t=p.map(function(u){var v=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(u);return c("React").createElement(c("GriffinSelectorOption"),{key:u,value:u},v)});t.unshift(c("React").createElement(c("GriffinSelectorOption"),{key:"_none",value:null},o));return c("React").createElement(c("GriffinSelector"),{onChange:function(s){this.props.onBreakdownChange(s);c("InsightsEventLogger").logEvent({eventName:"funnel_chart_breakdown_change",breakdown:s})}.bind(this),onOpen:function u(){return c("InsightsEventLogger").logEvent({eventName:"funnel_chart_breakdown_selector_open"})},value:s,width:150},t)};r.prototype.render=function(){var s=this.props,t=s.selectedBreakdown,u=s.maxBreakdowns,v=s.funnelData,w=this.$GriffinAdHocFunnelChart3(),x=this.$GriffinAdHocFunnelChart2(),y=x.step,z=babelHelpers.objectWithoutProperties(x,["step"]),A=t?"hidden":"visible";return c("React").createElement(c("GriffinChartContainer"),{chartKey:"funnel","data-testid":"funnel_chart",dependentScaleName:"plotY",hideLegend:!t,initNumSelectedSeries:u,maxNumSelectedSeries:u,selector:this.$GriffinAdHocFunnelChart4(),selectorLabel:q},c("React").createElement(c("FalcorFunnelChart"),{funnelData:v,styles:{bararealabel:{visibility:A}},breakdownType:t,data:w,height:320,plotX:l("step"),plotY:m.apply(null,Object.keys(z)).from(0).niceStepOnly(),schema:x}))};function r(){i.apply(this,arguments)}r.propTypes={funnelData:n.instanceOf(c("InsightsFunnelData")).isRequired,selectedBreakdown:n.string,onBreakdownChange:n.func.isRequired,maxBreakdowns:n.number.isRequired};r.defaultProps={onBreakdownChange:c("emptyFunction"),maxBreakdowns:5};f.exports=r}),null);
__d("GriffinFunnelDetailView",["fbt","AnalyticsDateUtils","AnalyticsSegmentUtils","GriffinFunnelSectionController","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("immutable").List,l=h._("Embudo sin t\u00edtulo").toString();i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.state={adhocStages:this.$GriffinFunnelDetailView1(n)}}m.prototype.componentWillReceiveProps=function(n){if(this.props.funnelToEdit!==n.funnelToEdit)this.setState({adhocStages:this.$GriffinFunnelDetailView1(n)})};m.prototype.render=function(){var n=this.props,o=n.analyticsEntityID,p=n.appliedSegment,q=n.funnelToEdit,r=n.visibleDateRange,s=q?q.id:undefined,t=q?q.name:l,u=q?q.is_internal:false,v=q?q.time_constraint:undefined;return c("React").createElement(c("GriffinFunnelSectionController"),{appID:o,appliedSegment:p,endTime:c("AnalyticsDateUtils").getTimestampForQueryAPI(r.until),funnelID:s,funnelName:t,isInternal:u,stages:this.state.adhocStages,startTime:c("AnalyticsDateUtils").getTimestampForQueryAPI(r.since),timeConstraint:v})};m.prototype.$GriffinFunnelDetailView1=function(n){var o=n.funnelToEdit,p=o?o.stages.map(function(q){return c("AnalyticsSegmentUtils").toGraphAPISegment(c("AnalyticsSegmentUtils").assertSegment(JSON.parse(q)))}):[];return k(p)};f.exports=m}),null);
__d("GriffinFunnelSection",["fbt","AnalyticsNavigationUtils","CustomEventStore","FalcorCommonViews","FalcorLoadingCard","GriffinButton","GriffinDefaultSectionController","GriffinFunnelDetailView","GriffinHeaderActions","GriffinSections","InsightsEventLogger","InsightsFunnelListCardController","React","RelayModern","intlList","nullthrows","GriffinFunnelSection_funnels.graphql"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("RelayModern").createFragmentContainer,l=c("RelayModern").graphql;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(n){j.constructor.call(this,n);var o=this.$GriffinFunnelSection1(this.props.funnels);this.state={typeSafeFunnels:o};this.$GriffinFunnelSection2(this.props.funnelID,o)}m.prototype.componentWillReceiveProps=function(n){if(this.props.funnels!==n.funnels||this.props.funnelID!==n.funnelID){var o=this.props.funnels!==n.funnels?this.$GriffinFunnelSection1(n.funnels):this.state.typeSafeFunnels;this.setState({typeSafeFunnels:o});this.$GriffinFunnelSection2(n.funnelID,o)}};m.prototype.componentWillUnmount=function(){c("GriffinHeaderActions").updateFeatureAndList()};m.prototype.render=function(){var n=this.props.view==="LIST",o=n?this.$GriffinFunnelSection3():this.$GriffinFunnelSection4();return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{buttons:this.$GriffinFunnelSection5(),showCompare:false,showDatePicker:!n,showSegments:!n}),o)};m.prototype.$GriffinFunnelSection5=function(){return this.props.view==="CREATE"?[]:[this.$GriffinFunnelSection6()]};m.prototype.$GriffinFunnelSection6=function(){return c("React").createElement(c("GriffinButton"),{label:h._("Crear embudo"),onClick:function(){c("InsightsEventLogger").logEvent({eventName:c("GriffinSections").FUNNELS.toLowerCase()+"_create_click",view:this.props.view.toLowerCase()});c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS,null,c("FalcorCommonViews").CREATE).go()}.bind(this),use:"confirm"})};m.prototype.$GriffinFunnelSection7=function(n){if(!n)return[];return n.map(function(o){return{id:o.id,displayName:o.name,url:c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS,o.id,c("FalcorCommonViews").DETAILS).toString()}})};m.prototype.$GriffinFunnelSection1=function(n){if(!n)return null;return n.nodes.map(function(o){var p=c("intlList")(o.stages.map(function(r){return c("CustomEventStore").getAppEventDisplayName(c("nullthrows")(r.event_rule_name))}),c("intlList").CONJUNCTIONS.NONE),q=o.time_constraint;return{description:p,id:c("nullthrows")(o.id),is_internal:c("nullthrows")(o.is_internal),name:c("nullthrows")(o.name),stages:o.stages.map(function(r){return c("nullthrows")(r.serialized_filter)}),time_last_seen:new Date(c("nullthrows")(o.time_last_seen)*1e3),time_constraint:q}})};m.prototype.$GriffinFunnelSection4=function(){var n=this.state.typeSafeFunnels?this.state.typeSafeFunnels.find(function(o){return o.id===this.props.funnelID}.bind(this)):null;if(this.props.funnelID&&!n)return c("React").createElement(c("FalcorLoadingCard"),null);return c("React").createElement(c("GriffinFunnelDetailView"),{analyticsEntityID:this.props.analyticsEntityID,appliedSegment:this.props.appliedSegment,funnelToEdit:n,visibleDateRange:this.props.visibleDateRange})};m.prototype.$GriffinFunnelSection3=function(){return c("React").createElement(c("InsightsFunnelListCardController"),{funnelList:this.state.typeSafeFunnels})};m.prototype.$GriffinFunnelSection2=function(n,o){var p=o?o.find(function(q){return q.id===n}):null;c("GriffinHeaderActions").updateFeatureAndList(p&&p.id,this.$GriffinFunnelSection7(o))};f.exports=k(m,{funnels:function n(){return c("GriffinFunnelSection_funnels.graphql")}})}),null);
__d("AnalyticsFunnelCreateMutation",["CurrentUser","RelayFBEnvironment","RelayModern","idx","nullthrows","AnalyticsFunnelCreateMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsFunnelCreateMutation.graphql")};function k(m,n){var o;if(!n)return;var p=c("nullthrows")((o=m)!=null?(o=o.analytics_funnel_create)!=null?(o=o.funnel)!=null?o.id:o:o:o);n(p)}function l(m,n){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("CurrentUser").getAccountID(),analytics_entity_id:m.analytics_entity_id,is_internal:m.is_internal,name:m.name,stages:m.stages.map(function(o){return JSON.stringify(o)}),time_constraint:m.time_constraint}},onCompleted:function o(p){var q;return k(p,(q=n)!=null?q.onCompleted:q)},onError:n&&n.onError})}f.exports={commit:l}}),null);
__d("AnalyticsFunnelDeleteMutation",["CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsFunnelDeleteMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsFunnelDeleteMutation.graphql")};function k(l,m){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:babelHelpers["extends"]({actor_id:c("CurrentUser").getAccountID()},l)},onCompleted:m&&m.onCompleted,onError:m&&m.onError})}f.exports={commit:k}}),null);
__d("AnalyticsFunnelEditMutation",["CurrentUser","RelayFBEnvironment","RelayModern","idx","nullthrows","AnalyticsFunnelEditMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsFunnelEditMutation.graphql")};function k(m,n){var o;if(!n)return;var p=c("nullthrows")((o=m)!=null?(o=o.analytics_funnel_edit)!=null?(o=o.funnel)!=null?o.id:o:o:o);n(p)}function l(m,n){var o=m.stages?m.stages.map(function(p){return JSON.stringify(p)}):undefined;return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("CurrentUser").getAccountID(),funnel_id:m.funnel_id,name:m.name,stages:o,time_constraint:m.time_constraint}},onCompleted:function p(q){var r;return k(q,(r=n)!=null?r.onCompleted:r)},onError:n&&n.onError})}f.exports={commit:l}}),null);
__d("AnalyticsFunnelGraphQLUtils",["AnalyticsFunnelCreateMutation","AnalyticsFunnelDeleteMutation","AnalyticsFunnelEditMutation","AnalyticsNavigationUtils","AnalyticsSegmentUtils","FalcorCommonViews","GriffinSections","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i={create:function j(k,l,m,n,o){c("AnalyticsFunnelCreateMutation").commit({analytics_entity_id:k,is_internal:m,name:l,stages:i._toGraphQLFormat(n),time_constraint:o},{onCompleted:function p(q){return c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS,q,c("FalcorCommonViews").DETAILS).go()}})},"delete":function j(k){c("AnalyticsFunnelDeleteMutation").commit({funnel_id:k},{onCompleted:function l(){return c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS,null,c("FalcorCommonViews").LIST).go()}})},update:function j(k,l,m,n){c("AnalyticsFunnelEditMutation").commit({funnel_id:k,name:l,stages:i._toGraphQLFormat(m),time_constraint:n},{onCompleted:function o(){return c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").FUNNELS,k,c("FalcorCommonViews").DETAILS).go()}})},updateTimeLastSeen:function j(k){c("AnalyticsFunnelEditMutation").commit({funnel_id:k})},_toGraphQLFormat:function j(k){return k.toJS().map(function(l){return c("AnalyticsSegmentUtils").toSegment(l.rule)})}};f.exports=i}),null);
__d("FalcorAppEventRuleDataUtils",["GriffinSections","InsightsFunnelConstants"],(function a(b,c,d,e,f,g){"use strict";var h=[],i={validateAppEventRule:function j(k){if(!k||!k.event_name)return"Invalid App Event Rule - rule is undefined";var l=Object.keys(k);for(var m=0;m<l.length;m++){var n=l[m];if(n!=="application"&&n!=="event_name"&&n!=="parameters")return"Invalid App Event Rule - unknown property: "+n}if(!k.application)return"Invalid App Event Rule - missing property: application";var o=k.parameters;if(!Array.isArray(o))return"Invalid App Event Rule - invalid event parameters";var p=void 0;for(var q=0;q<o.length;q++){p=this.validateAppEventRuleParameter(o[q]);if(p)return p}return null},validateAppEventRuleParameter:function j(k){if(!k||!k.parameter_name)return"Invalid App Event Parameter - parameter is undefined";var l=Object.keys(k);for(var m=0;m<l.length;m++){var n=l[m];if(n!=="parameter_name"&&n!=="operator"&&n!=="values"&&n!=="ruleType")return"Invalid App Event Parameter - unknown property: "+n}if(!k.operator)return"Invalid App Event Parameter - missing parameter operator";if(!k.values||k.values.length===0)return"Invalid App Event Parameter - missing parameter values";return null},validateAppEventRuleData:function j(k,l){var m=h.indexOf(l)>=0,n=Object.keys(k);for(var o=0;o<n.length;o++){var p=n[o];if(p!=="event_rule"&&p!=="name"&&p!=="negate_rule")return"Invalid Rule Data - unknown property: "+p}if(m&&!k.name)return"Invalid Rule Data - Empty rule name";if(k.negate_rule!==true&&k.negate_rule!==false)return"Invalid Rule Data - Unspecified negation option";return this.validateAppEventRule(k.event_rule)},validateAppEventRuleDataList:function j(k,l){if(l===c("GriffinSections").FUNNELS&&(k.length<1||k.length>c("InsightsFunnelConstants").MAX_NUM_STAGES))return"Only 1 - "+c("InsightsFunnelConstants").MAX_NUM_STAGES+" Funnel Stages are allowed";var m=void 0;for(var n=0;n<k.length;n++){m=this.validateAppEventRuleData(k[n],l);if(m)return m}return null},isAppEventRuleValid:function j(k){return!this.validateAppEventRule(k)},isAppEventRuleParameterValid:function j(k){return!this.validateAppEventRuleParameter(k)},isAppEventRuleDataValid:function j(k,l){return!this.validateAppEventRuleData(k,l)},isAppEventRuleDataListValid:function j(k,l){return!this.validateAppEventRuleDataList(k,l)}};f.exports=i}),null);
__d("GriffinFunnelSectionController",["cx","fbt","ix","AnalyticsAcquisitionSourceNames","AnalyticsCard","AnalyticsChartType","AnalyticsDateRangeStore","AnalyticsDateRangeType","AnalyticsDateUtils","AnalyticsFunnelGraphQLUtils","AppEventsAggregatingColumn","AnalyticsFunnelAggregationMethod","InternalAnalyticsFunnelsQueryBuilder","AnalyticsQueryApi","AnalyticsSegmentUtils","CustomEventStore","DateTime","FalcorAnalyticsFeatureUtils","FalcorAppEventRuleDataUtils","FalcorCommonViews","FalcorErrorNotice","FalcorLoadingCard","FluxContainer","GriffinAdHocFunnelBuilder","GriffinAdHocFunnelChart","GriffinButton","GriffinButtonGroup","GriffinDashboardFunnelChartPinModal.react","GriffinFunnelPinButton","Image.react","InsightsEventLogger","InsightsFunnelBreakdownTable","InsightsFunnelCountsTable","InsightsFunnelData","InsightsTimeUtils","LightweightSegmentStore","React","Timezone","areEqual","idx","immutable","nullthrows","uuid"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("Timezone").UTC,n=c("immutable").List,o=c("React").PropTypes,p=true,q=false,r=86400,s=5,t=i._("Tu embudo"),u=i._("Editar");k=babelHelpers.inherits(v,c("React").Component);l=k&&k.prototype;function v(){var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=l.constructor).call.apply(w,[this].concat(z)),this.state={acquisitionSourceNamesLoaded:false,asyncResponse:null,dateRange:null,error:null,segmentID:null,selectedBreakdown:null,showBuilder:false,showPinModal:false,stages:this.$GriffinFunnelSectionController1(this.props)},this.$GriffinFunnelSectionController2=null,this.$GriffinFunnelSectionController10=function(){this.setState({showPinModal:false})}.bind(this),this.$GriffinFunnelSectionController7=function(){var B=this.props.funnelID;c("InsightsEventLogger").logEvent({eventName:"funnels_toggle_builder",feature_id:B,view:c("FalcorCommonViews").DETAILS,shown:!this.state.showBuilder,ad_hoc:true});this.setState({showBuilder:!this.state.showBuilder})}.bind(this),this.$GriffinFunnelSectionController17=function(B){var C=this.props.funnelID;this.setState({error:B});c("InsightsEventLogger").logEvent({eventName:"funnels_async_task_error",feature_id:C,view:c("FalcorCommonViews").DETAILS,ad_hoc:true})}.bind(this),this.$GriffinFunnelSectionController16=function(B){var C=this.props.funnelID;this.setState({asyncResponse:B});c("InsightsEventLogger").logEvent({eventName:"funnels_async_task_completed",feature_id:C,ad_hoc:true})}.bind(this),this.$GriffinFunnelSectionController19=function(B){var C=this.props,D=C.appliedSegment,E=C.startTime,F=C.endTime,G=C.timeConstraint;this.setState({selectedBreakdown:B,acquisitionSourceNamesLoaded:false},this.$GriffinFunnelSectionController20);this.$GriffinFunnelSectionController4(D,E,F,G,B)}.bind(this),this.$GriffinFunnelSectionController20=function(){var B=this.state.selectedBreakdown,C=this.$GriffinFunnelSectionController18();if(!(B===c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L1||B===c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L2||B===c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L3)||!C)return;c("AnalyticsAcquisitionSourceNames").addIDstoLoad(C.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES));c("AnalyticsAcquisitionSourceNames").loadNames(function(){this.setState({acquisitionSourceNamesLoaded:true})}.bind(this))}.bind(this),this.$GriffinFunnelSectionController26=function(B,C){var D=this.props,E=D.startTime,F=D.endTime,G=D.funnelID,H=this.state.selectedBreakdown,I=this.props.appliedSegment;this.setState({stages:B,selectedBreakdown:c("areEqual")(this.state.stages,B)?H:null},function(){return this.$GriffinFunnelSectionController4(I,E,F,C,this.state.selectedBreakdown)}.bind(this));c("InsightsEventLogger").logEvent({eventName:"funnels_apply_click",feature_id:G,num_stages:B.count(),ad_hoc:true,time_constraint:C})}.bind(this),this.$GriffinFunnelSectionController27=function(B,C,D){var E=this.props,F=E.funnelID,G=E.startTime,H=E.endTime,I=this.$GriffinFunnelSectionController3(D,G,H);c("InsightsEventLogger").logEvent({eventName:"funnels_save_click",feature_id:F,view:c("FalcorCommonViews").DETAILS,num_stages:C.count(),ad_hoc:true,time_constraint:I?I:0});c("AnalyticsFunnelGraphQLUtils").update(c("nullthrows")(F),B,C,I);this.$GriffinFunnelSectionController26(C,I)}.bind(this),this.$GriffinFunnelSectionController28=function(B,C,D){this.$GriffinFunnelSectionController29(B,C,p,D)}.bind(this),this.$GriffinFunnelSectionController30=function(B,C,D){this.$GriffinFunnelSectionController29(B,C,q,D)}.bind(this),this.$GriffinFunnelSectionController31=function(){var B=this.props.funnelID;c("InsightsEventLogger").logEvent({eventName:"funnels_delete_click",feature_id:B,ad_hoc:true});c("AnalyticsFunnelGraphQLUtils")["delete"](c("nullthrows")(B))}.bind(this),x}v.getStores=function(){return[c("AnalyticsDateRangeStore"),c("LightweightSegmentStore")]};v.calculateState=function(w){var x=c("AnalyticsDateRangeStore").getVisibleDateRange(),y=c("AnalyticsDateRangeStore").getDateRangeType(),z=y===c("AnalyticsDateRangeType").DATE_RANGE,A={type:y,since:z?c("DateTime").fromDate(x.since,m):null,until:z?c("DateTime").fromDate(x.until,m):null},B=c("LightweightSegmentStore").getActiveSegmentID();return babelHelpers["extends"]({},w||{},{dateRange:A,segmentID:B})};v.prototype.$GriffinFunnelSectionController1=function(w){return n(w.stages).map(function(x){var y=x.event_rules[0].event_rule.event_name;return{rule:x,key:y+c("uuid")(),value:c("CustomEventStore").getAppEventDisplayName(y)}})};v.prototype.componentDidMount=function(){this.setState({showBuilder:true})};v.prototype.componentWillMount=function(){var w=this.props,x=w.appliedSegment,y=w.startTime,z=w.endTime,A=w.funnelID,B=w.timeConstraint,C=this.state,D=C.stages,E=C.selectedBreakdown,F=this.$GriffinFunnelSectionController3(B,y,z);this.$GriffinFunnelSectionController4(x,y,z,F,E);c("InsightsEventLogger").logEvent({eventName:"funnels_card_view",feature_id:A,view:c("FalcorCommonViews").DETAILS,num_stages:D.count(),ad_hoc:true});this.$GriffinFunnelSectionController5(this.props)};v.prototype.componentWillReceiveProps=function(w){var x=w.appliedSegment,y=this.props.funnelID&&this.props.stages.count()===0,z=this.props.funnelID!==w.funnelID||!c("areEqual")(this.props.stages,w.stages),A=this.props.appliedSegment!==x,B=this.props.startTime!==w.startTime||this.props.endTime!==w.endTime,C=w.startTime,D=w.endTime,E=w.timeConstraint,F=this.state.selectedBreakdown,G=this.$GriffinFunnelSectionController3(E,C,D);if(y||z)this.setState({stages:this.$GriffinFunnelSectionController1(w),selectedBreakdown:null},function(){return this.$GriffinFunnelSectionController4(x,C,D,G,null)}.bind(this));else if(A||B)this.setState({stages:this.$GriffinFunnelSectionController1(w)},function(){return this.$GriffinFunnelSectionController4(x,C,D,G,F)}.bind(this));if(this.props.funnelID!==w.funnelID)this.$GriffinFunnelSectionController5(w);if(this.props.funnelID!==w.funnelID)c("InsightsEventLogger").logEvent({eventName:"funnels_card_view",feature_id:w.funnelID,view:c("FalcorCommonViews").DETAILS,num_stages:w.stages.count(),ad_hoc:true})};v.prototype.$GriffinFunnelSectionController3=function(w,x,y){var z=c("AnalyticsDateUtils").getDaysInRangeByTime(x,y);if(w)return w/r<=z?w:0;return w};v.prototype.$GriffinFunnelSectionController6=function(){var w=this.state.showBuilder,x=w?"default":"confirm",y=c("React").createElement(c("GriffinButton"),{label:u,onClick:this.$GriffinFunnelSectionController7,ref:"editButton",use:x}),z=c("React").createElement(c("GriffinFunnelPinButton"),{isSavable:this.$GriffinFunnelSectionController8(),onClick:function(){return this.$GriffinFunnelSectionController9()}.bind(this)});return c("React").createElement(c("GriffinButtonGroup"),null,z,y)};v.prototype.$GriffinFunnelSectionController8=function(){return this.state.stages.count()>0};v.prototype.$GriffinFunnelSectionController9=function(){this.setState({showPinModal:true})};v.prototype.$GriffinFunnelSectionController4=function(w,x,y,z,A){var B=this.props.funnelID,C=this.$GriffinFunnelSectionController11().length===0;if(C)return;c("InsightsEventLogger").logEvent({eventName:"funnels_async_task_started",feature_id:B,view:c("FalcorCommonViews").DETAILS,ad_hoc:true});this.setState({asyncResponse:null,error:null});if(this.$GriffinFunnelSectionController2)this.$GriffinFunnelSectionController2.cancelQuery();this.$GriffinFunnelSectionController2=this.$GriffinFunnelSectionController12(w,x,y,z,A);c("AnalyticsQueryApi").queryFunnelsData([this.$GriffinFunnelSectionController2])};v.prototype.$GriffinFunnelSectionController11=function(){return this.state.stages.map(function(w){return w.rule}).toArray()};v.prototype.$GriffinFunnelSectionController13=function(){return this.state.stages.map(function(w){var x;return c("nullthrows")((x=w)!=null?(x=x.rule)!=null?(x=x.event_rules)!=null?x[0]:x:x:x)}).toArray()};v.prototype.$GriffinFunnelSectionController14=function(){var w=this.$GriffinFunnelSectionController13();w.forEach(function(x){var y=x.event_rule.parameters.filter(function(z){return c("FalcorAppEventRuleDataUtils").isAppEventRuleParameterValid(z)});x.event_rule.parameters=y})};v.prototype.$GriffinFunnelSectionController15=function(){var w=this.$GriffinFunnelSectionController11();w.forEach(function(x){var y=x.event_info_rules;if(y!=null){var z=y.filter(function(E){return c("FalcorAppEventRuleDataUtils").isAppEventRuleParameterValid(E)});x.event_info_rules=z}var A=x.web_param_rules;if(A!=null){var B=A.filter(function(E){return c("FalcorAppEventRuleDataUtils").isAppEventRuleParameterValid(E)});x.web_param_rules=B}var C=x.user_property_rules;if(C!=null){var D=C.filter(function(E){return c("FalcorAppEventRuleDataUtils").isAppEventRuleParameterValid(E)});x.user_property_rules=D}})};v.prototype.$GriffinFunnelSectionController12=function(w,x,y,z,A){var B=this.context.analyticsEntityID;this.$GriffinFunnelSectionController14();this.$GriffinFunnelSectionController15();var C=w?{event_rules:w.event_rules,event_info_rules:w.event_info_rules,user_property_rules:w.user_property_rules,percentile_rules:w.percentile_rules,web_param_rules:w.web_param_rules}:null;return new(c("InternalAnalyticsFunnelsQueryBuilder"))().setAnalyticsEntityID(B).setFunnelStages(this.$GriffinFunnelSectionController11()).setSince(x).setUntil(y).setFilters(C).setSecondsConstraint(z).setOnSuccess(this.$GriffinFunnelSectionController16).setOnError(this.$GriffinFunnelSectionController17).setBreakdowns(A==null?[]:[A]).setTag("funnel_"+this.props.funnelName).getQuery()};v.prototype.$GriffinFunnelSectionController18=function(){var w=this.state,x=w.asyncResponse,y=w.selectedBreakdown,z=w.stages;if(!x)return null;var A=new(c("InsightsFunnelData"))(x.event_counts,x.breakdown_counts,z.map(function(B){return B.rule}));A.setBreakdownType(y);return A};v.prototype.$GriffinFunnelSectionController21=function(w){var x=this.state,y=x.asyncResponse,z=x.error,A=x.selectedBreakdown,B=x.stages;if(z)return c("React").createElement(c("FalcorErrorNotice"),{message:z.getMessage()});else if(B.count()===0)return c("React").createElement(c("AnalyticsCard"),{className:"_4rtv"},c("React").createElement(c("Image.react"),{src:j("82531")}),c("React").createElement("div",{className:"_4rtw"},i._("A\u00f1ade pasos al embudo para medir la conversi\u00f3n")));else if(y&&w){w.setMaxBreakdowns(s);return c("React").createElement(c("GriffinAdHocFunnelChart"),{funnelData:w,maxBreakdowns:s,onBreakdownChange:this.$GriffinFunnelSectionController19,selectedBreakdown:A})}else{var C=i._("Cargando");return c("React").createElement(c("FalcorLoadingCard"),{showCard:false,text:C})}};v.prototype.$GriffinFunnelSectionController22=function(w,x){var y=this.state,z=y.selectedBreakdown,A=y.asyncResponse,B=y.stages,C=this.props,D=C.funnel,E=C.funnelName,F=C.startTime,G=C.endTime;if(!A||B.count()===0)return null;return z?c("React").createElement(c("InsightsFunnelBreakdownTable"),{breakdownType:z,endTime:G,funnelData:w,funnelName:E,maxBreakdowns:s,samplingRate:A.sampling_rate,showCard:false,showLine:true,startTime:F,tableType:x}):c("React").createElement(c("InsightsFunnelCountsTable"),{endTime:G,funnel:D,funnelData:w,funnelName:E,samplingRate:A.sampling_rate,showCard:false,showLine:true,startTime:F,tableType:x})};v.prototype.$GriffinFunnelSectionController23=function(w){if(!w)return 0;var x=w.getSummedCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES),y=x[0];if(y===0)return 0;else return Math.round(1e4*x.pop()/y)/100};v.prototype.$GriffinFunnelSectionController24=function(w){var x=i._("--");if(!w)return x;var y=w.getMedianTotalCompletionTime();if(y==null)return x;return c("InsightsTimeUtils").secondsToDisplay(y,false)};v.prototype.$GriffinFunnelSectionController25=function(w){var x=this.state.asyncResponse;if(!x||this.state.stages.count()===0)return null;var y=c("React").createElement("div",{className:"_miw"},c("React").createElement("div",{className:"_mix"},i._("{\u0025 conversion rate w\/o \u0025 sign} \u0025",[i.param("% conversion rate w/o % sign",this.$GriffinFunnelSectionController23(w))])),c("React").createElement("div",{className:"_miy"},i._("Tasa de conversi\u00f3n general"))),z=this.$GriffinFunnelSectionController24(w);return c("React").createElement("div",null,y,c("React").createElement("div",{className:"_miw"},c("React").createElement("div",{className:"_mix"},i._("{median overall completion time}",[i.param("median overall completion time",z)])),c("React").createElement("div",{className:"_miy"},i._("Mediana del tiempo de finalizaci\u00f3n"))))};v.prototype.$GriffinFunnelSectionController29=function(w,x,y,z){var A=this.props,B=A.appID,C=A.funnelID,D=A.startTime,E=A.endTime,F=C?c("FalcorCommonViews").DETAILS:c("FalcorCommonViews").CREATE,G=this.$GriffinFunnelSectionController3(z,D,E);if(y)c("InsightsEventLogger").logEvent({eventName:"funnels_save_internal",original_feature_id:C,view:F,num_stages:x.count(),ad_hoc:true,time_constraint:G?G:0});else c("InsightsEventLogger").logEvent({eventName:"funnels_save_as_click",original_feature_id:C,view:F,num_stages:x.count(),ad_hoc:true,time_constraint:G?G:0});c("AnalyticsFunnelGraphQLUtils").create(B,w,y,x,G);this.$GriffinFunnelSectionController26(x,G)};v.prototype.$GriffinFunnelSectionController5=function(w){var x=w.funnelID,y=w.isInternal;if(!x||!c("FalcorAnalyticsFeatureUtils").canUpdateObject(y||false))return;c("AnalyticsFunnelGraphQLUtils").updateTimeLastSeen(x)};v.prototype.render=function(){var w=this.props,x=w.funnelID,y=w.funnelName,z=w.isInternal,A=w.startTime,B=w.endTime,C=this.state,D=C.error,E=C.showBuilder,F=C.stages,G=this.props.stages,H=c("AnalyticsDateUtils").getDaysInRangeByTime(A,B),I=this.$GriffinFunnelSectionController3(this.props.timeConstraint,A,B),J=!x||G.count();if(!J)return null;var K=y||t,L=c("React").createElement("div",{hidden:!E},c("React").createElement(c("GriffinAdHocFunnelBuilder"),{anchor:this.refs.editButton,daysInRange:H,funnelID:x,funnelName:y,initialStages:F,timeConstraintInSeconds:I,isInternal:z,isNewFunnel:!x,onApply:this.$GriffinFunnelSectionController26,onDelete:this.$GriffinFunnelSectionController31,onSave:this.$GriffinFunnelSectionController27,onSaveAs:this.$GriffinFunnelSectionController30,onSaveInternal:this.$GriffinFunnelSectionController28})),M=this.$GriffinFunnelSectionController18(),N=this.$GriffinFunnelSectionController25(M),O=this.$GriffinFunnelSectionController21(M),P=null;if(!D)P=this.$GriffinFunnelSectionController22(M,"data");var Q=null;if(!D)Q=this.$GriffinFunnelSectionController22(M,"timeData");var R=this.props.appliedSegment?c("AnalyticsSegmentUtils").toSegment(this.props.appliedSegment):null,S=this.state.showPinModal?c("React").createElement(c("GriffinDashboardFunnelChartPinModal.react"),{breakdown:this.state.selectedBreakdown,chartType:c("AnalyticsChartType").FUNNEL,dateRange:c("nullthrows")(this.state.dateRange),onClose:this.$GriffinFunnelSectionController10,placeholderChartName:this.props.funnelName,segment:R,segmentID:this.state.segmentID,stages:this.state.stages.toJS().map(function(T){return c("AnalyticsSegmentUtils").toSegment(T.rule)})}):null;return c("React").createElement(c("AnalyticsCard"),{buttons:this.$GriffinFunnelSectionController6(),showLine:!E,title:K},L,N,O,P,Q,S)};v.contextTypes={analyticsEntityID:o.string.isRequired};f.exports=c("FluxContainer").create(v)}),null);
__d("GriffinFunnelSectionQueryRenderer",["AnalyticsCard","BonsaiText","FalcorCommonViews","FalcorErrorNotice","GriffinFunnelSection","React","RelayFBEnvironment","RelayModern","idx","GriffinFunnelSectionQueryRendererQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").graphql,k=c("RelayModern").QueryRenderer,l=function l(){return c("GriffinFunnelSectionQueryRendererQuery.graphql")};h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.prototype.render=function(){var n=this.props.analyticsEntityID;return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:l,variables:{entityID:n},render:function(o){return this.$GriffinFunnelSectionQueryRenderer1(o)}.bind(this)})};m.prototype.$GriffinFunnelSectionQueryRenderer2=function(){switch(this.props.view){case c("FalcorCommonViews").CREATE:return c("FalcorCommonViews").CREATE;case c("FalcorCommonViews").EDIT:case c("FalcorCommonViews").DETAILS:return c("FalcorCommonViews").DETAILS;default:return c("FalcorCommonViews").LIST}};m.prototype.$GriffinFunnelSectionQueryRenderer1=function(n){var o,p=n.error,q=n.props,r=(o=q)!=null?(o=o.analytics_entity)!=null?o.funnels:o:o,s=q&&!r;if(p||s)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errorMessageByErrorCode[1]}));var t=this.$GriffinFunnelSectionQueryRenderer2(),u=this.props,v=u.analyticsEntityID,w=u.appliedSegment,x=u.featureID,y=u.dateRangeType,z=u.fullDateRange,A=u.visibleDateRange;return c("React").createElement(c("GriffinFunnelSection"),{analyticsEntityID:v,appliedSegment:w,funnelID:x,visibleDateRange:A,funnels:r,dateRangeType:y,fullDateRange:z,view:t})};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("GriffinOrderableList.react",["cx","React","immutable"],(function a(b,c,d,e,f,g,h){var i,j,k=c("immutable").List,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={draggedItemKey:null,previewItems:null},this.$GriffinOrderableList1=0,this.$GriffinOrderableList5=function(event){event.preventDefault();event.dataTransfer.dropEffect="move";this.$GriffinOrderableList1=event.pageX}.bind(this),this.$GriffinOrderableList4=function(event){var s=event.currentTarget;if(typeof s.getAttribute!=="function")return;var t=s.getAttribute("data-key"),u=this.state,v=u.previewItems,w=u.draggedItemKey;if(t==null||w==null||w===t||v==null)return;var x=v.findIndex(function(B){return B.key===w}),y=v.get(x);v=v.splice(x,1);var z=v.findIndex(function(B){return B.key===t}),A=event.pageX>=this.$GriffinOrderableList1?1:0;v=v.splice(z+A,0,y);this.setState({previewItems:v})}.bind(this),this.$GriffinOrderableList2=function(event){var s=event.target;if(typeof s.getAttribute!=="function")return;var t=s.getAttribute("data-key");event.persist();event.dataTransfer.effectAllowed="move";event.dataTransfer.setData("Text",t);this.props.onDragStart(event);setTimeout(function(){this.setState({draggedItemKey:t,previewItems:this.props.items})}.bind(this))}.bind(this),this.$GriffinOrderableList3=function(event){var s=this.state.previewItems;this.setState({draggedItemKey:null,previewItems:null});this.props.onDrop(s,this.props.items)}.bind(this),this.$GriffinOrderableList6=function(event){event.preventDefault()},o}m.prototype.render=function(){"use strict";var n=this.state,o=n.draggedItemKey,p=n.previewItems,q=this.props,r=q.auxiliaryItems,s=q.items,t=q.renderAuxiliaryItem,u=q.renderItem,v=q.renderPlaceholder;s=p||s;var w=s.map(function(y,z,s){return c("React").createElement("div",{className:"_4a0o",onDragStart:this.$GriffinOrderableList2,onDragEnd:this.$GriffinOrderableList3,onDragEnter:this.$GriffinOrderableList4,draggable:true,"data-key":y.key,key:y.key},y.key===o?v(y,z,s):u(y,z,s))}.bind(this)),x=r.map(function(y){return t(y)});return c("React").createElement("div",{className:"_15cd",onDragOver:this.$GriffinOrderableList5,onDrop:this.$GriffinOrderableList6},w,x)};m.propTypes={auxiliaryItems:l.instanceOf(k).isRequired,items:l.instanceOf(k).isRequired,onDrop:l.func.isRequired,onDragStart:l.func.isRequired,renderItem:l.func.isRequired,renderPlaceholder:l.func.isRequired,renderAuxiliaryItem:l.func.isRequired};m.defaultProps={auxiliaryItems:k()};f.exports=m}),null);
__d("GriffinFunnelStageList",["cx","fbt","AnalyticsGKNames","AnalyticsGKs","FalcorAppEventSelector","GriffinEventRefinementSegmentBuilderDrawer","GriffinEventToken","InsightsEventLogger","GriffinOrderableList.react","React","ReactDOM","immutable","InsightsFunnelConstants","GriffinSegmentRules","emptyFunction","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").List,m=c("immutable").Set,n=c("InsightsFunnelConstants").MAX_NUM_STAGES,o=c("GriffinSegmentRules").Types,p=c("React").PropTypes,q="divider",r="event_selector",s=c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_FUNNEL_STAGE_MORE_RULE_TYPES)?m([o.APP_EVENT,o.TECHNOLOGY,o.DEMOGRAPHIC,o.WEB_PARAMS,o.USER_PROPERTY]):m([o.APP_EVENT,o.TECHNOLOGY]);j=babelHelpers.inherits(t,c("React").Component);k=j&&j.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=k.constructor).call.apply(u,[this].concat(x)),this.state={builderHeight:0,builderOffsetTop:0,parameterBuilderAnchor:null},this.$GriffinFunnelStageList1=function(){this.$GriffinFunnelStageList2(this.props.selectedStage)}.bind(this),this.$GriffinFunnelStageList7=function(z,A){var B=this.props,C=B.selectedStage,D=B.onClick,E=z.key===C,F=E?this.state.builderHeight+42:null,G=function(I){this.$GriffinFunnelStageList5(I,z,A)}.bind(this),H=c("React").createElement("div",{style:{height:F}},c("React").createElement(c("GriffinEventToken"),{eventName:z.rule.event_rules[0].event_rule.event_name,isSelected:E,key:z.key,label:z.value,onClick:function(I){function D(){return I.apply(this,arguments)}D.toString=function(){return I.toString()};return D}(function(){return D(z)}),onRemove:function(){return this.$GriffinFunnelStageList6(z,A)}.bind(this),onEventChange:G,ref:z.key,draggable:true,removable:true}));return H}.bind(this),this.$GriffinFunnelStageList9=function(z){var A=this.props.items;if(A.count()>=n)return null;switch(z.key){case r:var B=i._("A\u00f1adir paso de embudo"),C=A.count()?c("React").createElement("span",{key:q,className:"_3nbt"}):null;return c("React").createElement("span",{className:"_3nbu",key:r},C,c("React").createElement(c("FalcorAppEventSelector"),{onOpen:function D(){return c("InsightsEventLogger").logEvent({eventName:"funnel_builder_add_step_selector_open"})},onSelect:this.props.onSelectEvent,placeholder:B}));default:return null}}.bind(this),this.$GriffinFunnelStageList10=function(z){this.setState({builderHeight:z})}.bind(this),this.$GriffinFunnelStageList11=function(z){var A=this.props,B=A.items,C=A.onChange,D=A.selectedStage,E=B.findIndex(function(H){return H.key===D}),F=B.get(E),G=babelHelpers["extends"]({},F,{rule:{event_rules:[z],event_info_rules:[],percentile_rules:[],user_property_rules:[],web_param_rules:[]}});C(G,E)}.bind(this),this.$GriffinFunnelStageList12=function(z){var A=this.props,B=A.items,C=A.onChange,D=A.selectedStage,E=B.findIndex(function(H){return H.key===D});if(E===-1)return;var F=B.get(E),G=babelHelpers["extends"]({},F,{rule:z});C(G,E)}.bind(this),this.$GriffinFunnelStageList13=function(){this.setState({parameterBuilderAnchor:null});this.props.onDragStart()}.bind(this),v}t.prototype.componentDidMount=function(){window.addEventListener("resize",this.$GriffinFunnelStageList1);this.$GriffinFunnelStageList2(this.props.selectedStage)};t.prototype.componentDidUpdate=function(u,v){if(u.selectedStage!==this.props.selectedStage||!u.items.equals(this.props.items))this.$GriffinFunnelStageList2(this.props.selectedStage)};t.prototype.componentWillReceiveProps=function(u){if(this.props.selectedStage!==u.selectedStage)this.setState({parameterBuilderAnchor:null})};t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$GriffinFunnelStageList1)};t.prototype.$GriffinFunnelStageList2=function(u){var v=this.refs.tokenList;if(!u||!v)return;var w=v.refs[u];if(!w)return;var x=w.refs.refine,y=c("ReactDOM").findDOMNode(x);if(!y)return;var z=this.$GriffinFunnelStageList3(y);this.setState({builderOffsetTop:z,parameterBuilderAnchor:x})};t.prototype.$GriffinFunnelStageList4=function(){var u=this.props.selectedStage,v=this.refs.tokenList;if(!u||!v)return null;var w=v.refs[u];if(!w)return null;return w.refs.refine};t.prototype.$GriffinFunnelStageList5=function(u,v,w){var x,y=v.rule.event_rules[0].event_rule.event_name;if(u===y)return;var z=c("update")(v,{rule:{event_rules:(x={},x[0]={event_rule:{event_name:{$set:u},parameters:{$set:[]}}},x),event_info_rules:{$set:[]},user_property_rules:{$set:[]},percentile_rules:{$set:[]}}});this.props.onChange(z,w)};t.prototype.$GriffinFunnelStageList6=function(u,v){var w=this.props,x=w.selectedStage,y=w.onRemove,z=u.key===x;if(z)this.setState({parameterBuilderAnchor:null});y(u,v)};t.prototype.$GriffinFunnelStageList3=function(u){var v=u.offsetTop,w=u.offsetHeight,x=11;return v+w+x};t.prototype.$GriffinFunnelStageList8=function(u){return c("React").createElement(c("GriffinEventToken"),{key:u.key,label:u.value,eventName:u.rule.event_rules[0].event_rule.event_name,isPlaceholder:true,draggable:true,removable:true})};t.prototype.render=function(){var u=this.props,v=u.items,w=u.selectedStage,x=u.onDrop,y=this.state,z=y.builderOffsetTop,A=y.parameterBuilderAnchor,B=l([{key:r}]),C=v.findIndex(function(F){return F.key===w}),D=null;if(w){var E=v.get(C);D=c("React").createElement(c("GriffinEventRefinementSegmentBuilderDrawer"),{anchor:A,className:"_335i",onChangeHeight:this.$GriffinFunnelStageList10,style:{top:z},segment:E.rule,enabledRuleTypes:s,stageKey:E.key+w,key:w,onChangeSegment:this.$GriffinFunnelStageList12})}return c("React").createElement("div",null,c("React").createElement(c("GriffinOrderableList.react"),{ref:"tokenList",auxiliaryItems:B,items:v,renderItem:this.$GriffinFunnelStageList7,renderPlaceholder:this.$GriffinFunnelStageList8,renderAuxiliaryItem:this.$GriffinFunnelStageList9,onDrop:x,onDragStart:this.$GriffinFunnelStageList13}),D)};t.propTypes={builderHeight:p.number.isRequired,items:p.instanceOf(l).isRequired,onClick:p.func.isRequired,onDrop:p.func.isRequired,onRemove:p.func.isRequired,onChange:p.func.isRequired,onSelectEvent:p.func.isRequired,onDragStart:p.func.isRequired,selectedStage:p.string};t.defaultProps={builderHeight:0,items:l(),onClick:c("emptyFunction"),onDrop:c("emptyFunction"),onRemove:c("emptyFunction"),onSelectEvent:c("emptyFunction"),selectedStage:null};f.exports=t}),null);
__d("GriffinFunnelCallout",["fbt","AnalyticsUserConfigSetFlagMutation","ContextualLayerUpdateOnScroll","InsightsEventLogger","GriffinNUX","React","RelayFBEnvironment","RelayModern","idx","GriffinFunnelCalloutQuery.graphql"],(function a(b,c,d,e,f,g,h){var i,j,k=c("RelayModern").QueryRenderer,l=c("RelayModern").graphql,m=function m(){return c("GriffinFunnelCalloutQuery.graphql")};i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.componentWillReceiveProps=function(o){"use strict";if(!this.props.dismissedUpsell&&o.dismissedUpsell)this.$GriffinFunnelCallout1()};n.prototype.render=function(){"use strict";return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:m,render:function(o){return this.$GriffinFunnelCallout2(o)}.bind(this),variables:{}})};n.prototype.$GriffinFunnelCallout2=function(o){var p;"use strict";var q=o.props,r=this.props.contextRef,s=(p=q)!=null?(p=p.viewer)!=null?(p=p.analytics_user_config)!=null?p.has_dismissed_funnel_upsell:p:p:p;return c("React").createElement(c("GriffinNUX"),{behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:r,onDismiss:function(){return this.$GriffinFunnelCallout3()}.bind(this),position:"right",canShow:!s,subtitle:h._("Ahora puedes especificar un l\u00edmite en el tiempo de finalizaci\u00f3n del embudo.")})};n.prototype.$GriffinFunnelCallout3=function(){"use strict";c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_FUNNEL_UPSELL",value:true});c("InsightsEventLogger").logEvent({eventName:"dismiss_funnel_time_constraint_upsell"})};n.prototype.$GriffinFunnelCallout1=function(){"use strict";c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_FUNNEL_UPSELL",value:true});c("InsightsEventLogger").logEvent({eventName:"funnel_set_time_constraint_toggle"})};function n(){"use strict";i.apply(this,arguments)}f.exports=n}),null);
__d("AnalyticsOverlapChart",["fbt","AnalyticsQueryAggregationMethod","BUIInsightsHoverCardChart.react","CandelaConstants","formatNumber","GriffinResizableChart","GriffinNUX","GriffinSections","immutable","InsightsEventLogger","InsightsNumUtils","isEmpty","SimpleNUXMessage","BUIInsightsVerticalBarChart.react","CandelaGroupScaleBuilder","React","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("CandelaGroupScaleBuilder").group,l=c("CandelaConstants").Alignment,m=c("CandelaConstants").ShapeType,n=c("immutable").OrderedSet,o=c("immutable").Set,p=300,q=5,r=10,s=c("SimpleNUXMessageTypes").ANALYTICS_OVERLAP_IN_OVERVIEW,t={overlap:{label:c("AnalyticsQueryAggregationMethod").OVERLAP.toLowerCase(),type:"category"},value:{label:"value",type:"number"}},u=n([{key:"value",label:h._("Usuarios \u00fanicos")}]),v={'axis[orientation="vertical"]':{visibility:"hidden",width:75},'axis[orientation="horizontal"]':{visibility:"hidden"},axistitle:{visibility:"hidden"}},w=o([m.BAR_GROUP]);i=babelHelpers.inherits(x,c("React").Component);j=i&&i.prototype;function x(){var y,z;for(var A=arguments.length,B=Array(A),C=0;C<A;C++)B[C]=arguments[C];return z=(y=j.constructor).call.apply(y,[this].concat(B)),this.state={auxiliaryItems:n()},this.$AnalyticsOverlapChart3=function(event){if(!c("isEmpty")(event.data)&&event.target.shapeType==m.BAR_GROUP){var D=this.props.total,E=event.data.value.value!==0&&D!==0&&event.data.value.value/D<.01?h._("{less than} 0,01 \u0025",[h.param("less than","<")]):c("InsightsNumUtils").prettyPercentQuotient({numerator:event.data.value.value,denominator:D,precision:2});c("InsightsEventLogger").logEvent({eventName:"overlap_chart_hover_card_mouse_enter"});this.setState({auxiliaryItems:n([{key:"users",label:h._("de usuarios totales"),value:E}])})}}.bind(this),z}x.prototype.render=function(){var y=this.props,z=y.height,A=y.meta,B=y.total,C=y.selections,D=y.section,E=this.$AnalyticsOverlapChart1(C,B),F=z||p,G=function G(K,L){return K!==0&&B!==0&&K/B<.01?h._("{less than} 0,01 \u0025",[h.param("less than","<")]):c("InsightsNumUtils").prettyPercentQuotient({numerator:K,denominator:B,precision:2})},H=function H(K,L){return c("formatNumber").withThousandDelimiters(Math.round(K))},I=D===c("GriffinSections").OVERVIEW&&!c("SimpleNUXMessage").hasUserSeenMessage(s),J=this.$AnalyticsOverlapChart2(E,A,C,I,B);return c("React").createElement(c("GriffinNUX"),{contextRef:"overlap_report_in_overview_nux",key:"overlap_report_in_overview_nux",position:"above",offsetX:30,offsetY:10,canShow:I,width:"normal",nuxKey:s,title:J},c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("BUIInsightsHoverCardChart.react"),{auxiliaryItems:this.state.auxiliaryItems,formatterFactory:function K(){return H},hoverCardPosition:"above",isHoverCardActionable:true,items:u,targetShapeTypes:w},c("React").createElement(c("BUIInsightsVerticalBarChart.react"),{alignment:l.BOTTOM,barLabelFormatterFactory:function K(){return G},data:E,height:F,onMouseEnter:this.$AnalyticsOverlapChart3,plotX:k(c("AnalyticsQueryAggregationMethod").OVERLAP.toLowerCase()),plotY:[k("value").extendInput(0,.25).roundInput()],schema:t,styles:v}))))};x.prototype.$AnalyticsOverlapChart2=function(y,z,A,B,C){if(!B)return"";var D=C===0?0:c("InsightsNumUtils").prettyPercentQuotient({numerator:y[0].value,denominator:C,precision:2}),E=z.filter(function(H,I){return A[0][I]===1}),F=E.length,G=E.map(function(H,I){return c("React").createElement("li",{key:I},h._("{channel}",[h.param("channel",H)]))});return h._("El {percentage} de los usuarios est\u00e1n activos en {number} canales: {channels}",[h.param("percentage",D),h.param("number",F),h.param("channels",G)])};x.prototype.$AnalyticsOverlapChart1=function(y,z){var A=[];for(var B=0;B<q;B++)if(y[B])A.push({overlap:"Overlap"+B,value:y[B][r]});return A};f.exports=x}),null);
__d("AnalyticsOverlapSectionController",["AnalyticsOverlapViewContainer","AnalyticsBuiltInBreakdowns","AnalyticsDateUtils","AnalyticsSessionDurationLogger","AppCustomEventType","CustomEventStore","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSections","InsightsContext","LightweightSegmentStore","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getKey=function(){return c("GriffinSections").OVERLAP};j.prototype.getOverlapParams=function(){var k=this.props.eventName,l=this.props.breakdown;if(k===null&&l===null)if(c("InsightsContext").isPixel()){k=c("AppCustomEventType").FB_BASE_EVENT;l=c("AnalyticsBuiltInBreakdowns").DEVICE_TYPE}else if(c("InsightsContext").isApp()||c("InsightsContext").isEventSourceGroup()){k=c("AppCustomEventType").FB_BASE_EVENT;l=c("AnalyticsBuiltInBreakdowns").PLATFORM}return{eventName:k,breakdown:l}};j.prototype.render=function(){var k=this.getOverlapParams(),l=c("AnalyticsSessionDurationLogger").createSession({days_range:c("AnalyticsDateUtils").getDaysInRange(this.props.visibleDateRange),section:c("GriffinSections").OVERLAP,segment_applied:c("LightweightSegmentStore").getIsSegmentApplied().toString()}),m=c("CustomEventStore").hasEvents()?c("React").createElement(c("AnalyticsOverlapViewContainer"),babelHelpers["extends"]({},this.props,{eventName:k.eventName,breakdown:k.breakdown,widgetKey:"OverlapWidget",sessionLoggerID:l})):c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:"Overlap"});return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showCompare:false,showDatePicker:true,showSegments:true}),m)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AnalyticsOverlapView",["cx","fbt","AnalyticsOverlapChart","AnalyticsOverlapUtils","AnalyticsQueryBreakdownUtils","CustomEventStore","FalcorErrorNotice","GriffinSections","InsightsEventLogger","React","SUICheckboxInput.react","SUIBusinessTheme"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=1,m=0,n="u",o={bucketLabel:"_3z6k",checkbox:"_3z6v",chart:"_1b86",root:"_3wnl",selectionRow:"_60y3",selectionTable:"_3z6w"},p={bucketLabel:"_ecj",checkbox:"_eck",chart:"_ecl",root:"_ecm",selectionRow:"_ecn",selectionTable:"_ecs",title:"_ecu"};j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.state=this.$AnalyticsOverlapView1(r)}q.prototype.componentwillreceiveprops=function(r){if(this.props.apiData!==r.apiData)this.setState(this.$AnalyticsOverlapView1(r))};q.prototype.render=function(){var r=this.props,s=r.breakdown,t=r.eventName,u=r.section,v=this.state,w=v.meta,x=v.selections,y=v.totalUniqueUsers,z=u===c("GriffinSections").DASHBOARD?p:o;if(this.props.apiData.length===0||w===n||w.length===0||x.length===0||y===0)return c("React").createElement("div",{className:z.root},c("React").createElement(c("FalcorErrorNotice"),{message:i._("Sin datos")},i._("No hay datos para mostrar para esta superposici\u00f3n. Edita el intervalo de fechas, las condiciones del segmento o los tipos de superposici\u00f3n para incluir m\u00e1s datos.")));var A=c("React").createElement("table",{className:z.selectionTable},c("React").createElement("tbody",null,w.map(function(F,G){return c("React").createElement("tr",{className:z.selectionRow,key:G},c("React").createElement("td",{className:z.bucketLabel},F),x.map(function(H,I){return c("React").createElement("td",{className:z.checkbox,key:I},c("React").createElement(c("SUICheckboxInput.react"),{onChange:function(J){return this.$AnalyticsOverlapView2(G,I,J)}.bind(this),value:H[G]===l,theme:c("SUIBusinessTheme")}))}.bind(this)))}.bind(this)))),B=c("React").createElement(c("AnalyticsOverlapChart"),{selections:x,total:y,height:this.props.height,meta:w,section:this.props.section}),C=c("CustomEventStore").getAppEventDisplayName(t),D=c("AnalyticsQueryBreakdownUtils").getDisplayString(s,t),E=u===c("GriffinSections").DASHBOARD?c("React").createElement("div",{className:p.title},i._("{event}{separator} Mostrar por {parameter}",[i.param("event",C),i.param("separator",":"),i.param("parameter",D)])):null;c("InsightsEventLogger").logEvent({eventName:"overlap_chart_displayed",event:t,breakdown:s,source:this.props.section});return c("React").createElement("div",{className:z.root},E,c("React").createElement("div",{className:z.chart},B),c("React").createElement("div",null,A))};q.prototype.$AnalyticsOverlapView1=function(r){var s=r.apiData,t=r.eventName,u=r.breakdown,v=r.bucketsLimit,w=void 0,x=void 0,y=void 0,z=void 0;if(r.apiData.length===0){w=[];x=[[]];y=[[]];z=0}else{w=c("AnalyticsOverlapUtils").getMeta(s,t,u,v);x=c("AnalyticsOverlapUtils").getRawResult(s);y=c("AnalyticsOverlapUtils").getFilterResult(x);z=c("AnalyticsOverlapUtils").getTotalCount(x)}return{meta:w,rawResult:x,selections:y,totalUniqueUsers:z}};q.prototype.$AnalyticsOverlapView2=function(r,s,t){var u=this.state.selections.slice(),v=u[s].slice();v[r]=t?l:m;u[s]=this.$AnalyticsOverlapView3(v.slice(0,c("AnalyticsOverlapUtils").OVERLAP_LIMIT));this.setState({selections:u})};q.prototype.$AnalyticsOverlapView3=function(r){var s=this.state,t=s.meta,u=s.rawResult,v=c("AnalyticsOverlapUtils").OVERLAP_LIMIT,w=u.filter(function(x){return this.$AnalyticsOverlapView4(x.slice(0,v),r)}.bind(this)).filter(function(x){return!x.slice(0,v).every(function(y){return y===0})});if(w.length===0)r.push(0);else return w[0];c("InsightsEventLogger").logEvent({eventName:"overlap_checkbox_onChange",buckets_list:t,selection:r});return r};q.prototype.$AnalyticsOverlapView4=function(r,s){if(r===s)return true;if(r.length!=s.length)return false;for(var t=0;t<r.length;t++)if(r[t]!=s[t])return false;return true};f.exports=q}),null);
__d("AnalyticsOverlapViewContainer",["cx","fbt","AnalyticsBuiltInBreakdowns","AnalyticsCard","AnalyticsChartType","AnalyticsDashboardQueryUtils","AnalyticsGKs","AnalyticsGKNames","AnalyticsOverlapView","AnalyticsOverlapUtils","AnalyticsQueryAggregationMethod","AnalyticsSessionDurationLogger","InternalAnalyticsQueryBuilder","AppEventQueryError","CustomEventStore","FalcorAppEventSelector","FalcorLoadingCard","GriffinBreakdownSearchableSelector","GriffinDashboardAggregationChartPinModal.react","GriffinErrorCard","GriffinSections","GriffinPinButton","InsightsEventLogger","InsightsUtils","Link.react","React","URI","Set"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l={createHeader:"_60v7",createOverlapLabel:"_13k_",createOverlapTitle:"_13k-",breakdownDropDown:"_1ejw",editCardDropdown:"_2jdx",eventDropDown:"_1ejz"},m={key:"breakdownsDropdown",placeholder:i._("Selecciona un par\u00e1metro")},n="Overlap: ",o=new(c("Set"))([c("AnalyticsBuiltInBreakdowns").AGE,c("AnalyticsBuiltInBreakdowns").CITY_CODE,c("AnalyticsBuiltInBreakdowns").COUNTRY,c("AnalyticsBuiltInBreakdowns").GENDER,c("AnalyticsBuiltInBreakdowns").LOCALE,c("AnalyticsBuiltInBreakdowns").REGION_CODE,c("AnalyticsBuiltInBreakdowns").TIMEZONE]),p=i._("Descubre cu\u00e1ntas personas interact\u00faan con tu empresa en m\u00e1s de un canal o par\u00e1metro. Por ejemplo, puede que tengas clientes que realicen compras desde varios dispositivos. Con este gr\u00e1fico, puedes ver cu\u00e1ntos son y qu\u00e9 dispositivos usan. Selecciona un evento y un par\u00e1metro para empezar.");j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(s){k.constructor.call(this,s);r.call(this);var t=this.props,u=t.eventName,v=t.breakdown;c("InsightsEventLogger").logEvent({eventName:"overlap_chart_load",event:u,breakdown:v,source:this.props.section});this.state={eventName:u,breakdown:v,apiData:null,apiError:null,cancellablePromise:null,showPinModal:false}}q.prototype.componentDidMount=function(){var s=this.props,t=s.eventName,u=s.breakdown;if(t&&u)this.$AnalyticsOverlapViewContainer1(this.props,t,u)};q.prototype.componentWillReceiveProps=function(s){if(this.$AnalyticsOverlapViewContainer2(s)){var t=this.state,u=t.eventName,v=t.breakdown;this.$AnalyticsOverlapViewContainer1(s,u,v)}};q.prototype.componentWillUnmount=function(){var s=this.state.cancellablePromise;s&&s.cancel()};q.prototype.render=function(){var s=this.props,t=s.bucketsLimit,u=s.height,v=s.section,w=s.url,x=this.state,y=x.eventName,z=x.breakdown,A=x.apiData,B=x.apiError;if(this.$AnalyticsOverlapViewContainer3())return null;var C=null,D=null;if(!y||!z)C=c("React").createElement("div",{className:l.createHeader},c("React").createElement("div",{className:l.createOverlapTitle},i._("Configura tu gr\u00e1fico")),c("React").createElement("div",{className:l.createOverlapLabel},i._("Una vez que selecciones un evento y un par\u00e1metro, ver\u00e1s un informe de superposiciones aqu\u00ed.")));else if(B)C=c("React").createElement(c("GriffinErrorCard"),{error:B});else if(!A)C=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else{C=c("React").createElement(c("AnalyticsOverlapView"),{apiData:A,eventName:y,breakdown:z,bucketsLimit:t,height:u});var E=c("CustomEventStore").getAppEventDisplayName(y),F=n+E;D=this.state.showPinModal?c("React").createElement(c("GriffinDashboardAggregationChartPinModal.react"),{chartType:c("AnalyticsChartType").OVERLAP_CHART,placeholderChartName:F,onClose:function(){return this.$AnalyticsOverlapViewContainer4()}.bind(this),queryConfigs:this.$AnalyticsOverlapViewContainer5(y,z)}):null}var G=i._("Superposici\u00f3n"),H=v===c("GriffinSections").OVERVIEW?i._("Consulta los usuarios activos en los diferentes canales."):i._("Consulta los usuarios que realizan acciones en los diferentes canales y otros par\u00e1metros."),I=c("React").createElement("div",null,c("React").createElement("div",{className:l.eventDropDown},this.$AnalyticsOverlapViewContainer6()),c("React").createElement("div",{className:l.breakdownDropDown},this.$AnalyticsOverlapViewContainer7())),J=v===c("GriffinSections").OVERVIEW?null:p,K=this.$AnalyticsOverlapViewContainer8();return c("React").createElement(c("AnalyticsCard"),{buttons:I,pinButton:K,subtitle:H,title:G,tooltip:J,url:w},C,D)};q.prototype.$AnalyticsOverlapViewContainer5=function(s,t){var u=this.props,v=u.appliedSegment,w=u.visibleDateRange;return c("AnalyticsDashboardQueryUtils").getChartQueryConfigs("RANGE",[t],w,s,"OVERLAP",v)};q.prototype.$AnalyticsOverlapViewContainer2=function(s){var t=this.state,u=t.eventName,v=t.breakdown;return this.props.appliedSegment!==s.appliedSegment||this.props.visibleDateRange!==s.visibleDateRange&&u!==null&&v!==null};q.prototype.$AnalyticsOverlapViewContainer1=function(s,t,u){var v=s.analyticsEntityID,w=s.appliedSegment,x=s.visibleDateRange,y=this.state.cancellablePromise;y&&y.cancel();this.setState({apiData:null,apiError:null,cancellablePromise:null});if(!t||!u)return;this.$AnalyticsOverlapViewContainer9();var z=c("InsightsUtils").utcTimeToPacificTime(x.since).getTime()/1e3,A=c("InsightsUtils").utcTimeToPacificTime(x.until).getTime()/1e3,B=w?{event_rules:w.event_rules,event_info_rules:w.event_info_rules,user_property_rules:w.user_property_rules,percentile_rules:w.percentile_rules,web_param_rules:w.web_param_rules}:null,C=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(v).setEventName(t).setBreakdowns([u]).setAggregations([c("AnalyticsQueryAggregationMethod").OVERLAP]).setIntervalsToAggregate(0).setFilters(B).setSince(z).setUntil(A).getQueryAsPromise();C.promise.done(function(D){var E=D.getResultAsRows().toJS();this.setState({apiData:E});this.$AnalyticsOverlapViewContainer10()}.bind(this),function(D){this.setState({apiError:D});this.$AnalyticsOverlapViewContainer11()}.bind(this));this.setState({cancellablePromise:C})};q.prototype.$AnalyticsOverlapViewContainer6=function(){if(this.props.hideControls)return null;var s=this.state.eventName;return c("React").createElement(c("FalcorAppEventSelector"),{className:l.editCardDropdown,onOpen:function t(){return c("InsightsEventLogger").logEvent({eventName:"overlap_event_selector_open"})},onSelect:this.$AnalyticsOverlapViewContainer12,placeholder:s,value:s})};q.prototype.$AnalyticsOverlapViewContainer7=function(){if(this.props.hideControls)return null;var s=this.state.eventName,t=this.state.breakdown||m.placeholder;return c("React").createElement(c("GriffinBreakdownSearchableSelector"),{className:l.editCardDropdown,disabledEntryIDs:o,event:s,isDisabled:!s,hasDisabledTooltip:true,header:c("React").createElement(c("Link.react"),{onClick:function(){return this.$AnalyticsOverlapViewContainer13()}.bind(this)},i._("borrar")),onChange:function(u){return this.$AnalyticsOverlapViewContainer14(u)}.bind(this),onOpened:function u(){return c("InsightsEventLogger").logEvent({eventName:"overlap_breakdown_selector_open"})},placeholder:t,selectedBreakdown:this.state.breakdown,width:"auto"})};q.prototype.$AnalyticsOverlapViewContainer8=function(){var s=c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_OVERLAP_REPORT_DASHBOARD);if(!s||this.props.section===c("GriffinSections").OVERVIEW)return null;var t=!this.state.breakdown;return c("React").createElement(c("GriffinPinButton"),{chartKey:"overlap",disabled:t,key:"pin",onClick:function(){return this.$AnalyticsOverlapViewContainer15()}.bind(this)})};q.prototype.$AnalyticsOverlapViewContainer15=function(){this.setState({showPinModal:true})};q.prototype.$AnalyticsOverlapViewContainer4=function(){this.setState({showPinModal:false})};q.prototype.$AnalyticsOverlapViewContainer14=function(s){var t=this.state.eventName,u=s.getUniqueID();this.setState({breakdown:u});this.$AnalyticsOverlapViewContainer1(this.props,t,u);c("InsightsEventLogger").logEvent({eventName:"overlap_breakdown_select",event:t,breakdown:u})};q.prototype.$AnalyticsOverlapViewContainer13=function(){this.setState({breakdown:null})};q.prototype.$AnalyticsOverlapViewContainer3=function(){var s=this.props.hideIfMetConditions,t=this.state,u=t.apiData,v=t.apiError;if(v||u&&u.length===0)return Boolean(s);if(u)return Boolean(s)&&(c("AnalyticsOverlapUtils").isSingleBucket(u)||c("AnalyticsOverlapUtils").isLowValue(u));return false};q.prototype.$AnalyticsOverlapViewContainer9=function(){if(this.props.sessionLoggerID&&this.props.widgetKey)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)};q.prototype.$AnalyticsOverlapViewContainer10=function(){if(this.props.sessionLoggerID&&this.props.widgetKey)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)};q.prototype.$AnalyticsOverlapViewContainer11=function(){if(this.props.sessionLoggerID&&this.props.widgetKey)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)};var r=function r(){this.$AnalyticsOverlapViewContainer12=function(s){var t=s.getUniqueID(),u=this.state.eventName===t?this.state.breakdown:null;c("InsightsEventLogger").logEvent({eventName:"overlap_event_select",event:t});this.setState({eventName:t,breakdown:u})}.bind(this)};f.exports=q}),null);
__d("FalcorInsightsOverviewStyle",["CandelaStyleSheet"],(function a(b,c,d,e,f,g){"use strict";var h=c("CandelaStyleSheet").fromJS({"axis[orientation=vertical]":{visibility:"hidden"},gridline:{visibility:"hidden"},bargroup:{margin:6}});f.exports=h}),null);
__d("GriffinOverviewBreakdownWidget",["cx","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppEventsSegmentShape","BonsaiApiBreakdown","BonsaiErrorNotice","BonsaiText","FalcorDataTooltip","FalcorInsightsOverviewStyle","FalcorLoadingCard","FalcorVerticalBarChart","GriffinOverviewCard","InsightsContext","InsightsUtils","React","URI","GriffinConstants","CandelaConstants","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("GriffinConstants").BreakdownsToAppearAtBottom,j=c("CandelaConstants").ScaleType,k=c("CandelaGroupScaleBuilder").group,l=c("React").PropTypes,m=c("React").createClass({displayName:"GriffinOverviewBreakdownWidget",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{aggregation:l.string.isRequired,breakdown:l.string.isRequired,eventName:l.string.isRequired,filters:c("AppEventsSegmentShape"),maxBreakdowns:l.number.isRequired,url:l.instanceOf(c("URI")).isRequired,visibleDateRange:l.object.isRequired,sessionLoggerID:l.string,widgetKey:l.string.isRequired,height:l.number,width:l.number},getInitialState:function n(){return{result:null,totalResult:null,error:null}},componentWillMount:function n(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function n(o){if(this._shouldFetchData(this.props,o)){this.setState(this.getInitialState());this._fetchData(o)}if(o.sessionLoggerID&&o.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(o.sessionLoggerID,o.widgetKey)},_getQueries:function n(o){var p=c("InsightsUtils").utcTimeToPacificDay(o.visibleDateRange.since),q=c("InsightsUtils").utcTimeToPacificDay(o.visibleDateRange.until),r=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setAggregations([o.aggregation]).setBreakdowns([o.breakdown]).setFilters(o.filters).setEventName(o.eventName).setIntervalsToAggregate(0).setLimit(o.maxBreakdowns+2).setOrderingColumns([o.aggregation]).setOrderingType("DESCENDING").setSince(p.getTime()/1e3).setUntil(q.getTime()/1e3).setTag("breakdown_"+o.breakdown),s=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setAggregations([o.aggregation]).setFilters(o.filters).setEventName(o.eventName).setIntervalsToAggregate(0).setSince(p.getTime()/1e3).setUntil(q.getTime()/1e3).setTag("breakdown_total_"+o.breakdown);return[{query:r,onQueryData:function(t){this.setState({result:t});this._onQueryData()}.bind(this),onQueryError:function(t){this.setState({error:t});this._onQueryError()}.bind(this)},{query:s,onQueryData:function(t){this.setState({totalResult:t});this._onQueryData()}.bind(this),onQueryError:function(t){this.setState({error:t});this._onQueryError()}.bind(this)}]},_onQueryData:function n(){var o=this.state,p=o.result,q=o.totalResult;if(this.props.sessionLoggerID&&p&&q)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)},_onQueryError:function n(){if(this.props.sessionLoggerID&&this.state.error)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)},renderCandelaChart:function n(){var o=this.state.result,p=this.state.totalResult,q=this.state.error;if(q)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:q.getMessage()});else if(!o||!p)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var r=o.getResultAsRows().toJS(),s=o.getColumnNames().toJS(),t=s.indexOf(this.props.breakdown),u=s.indexOf(this.props.aggregation),v=p.getColumnNames().toJS().indexOf(this.props.aggregation.toLowerCase()),w=p.getResultAsRows().getIn([0,v],0);if(w===0)return null;r=r.map(function(B){var C=B[t],D=C;if(this.props.breakdown!==c("BonsaiApiBreakdown").COUNTRY||C==="u"||C==="REDACTED")D=c("BonsaiText").getBucketLabel(C,this.props.breakdown);return{bucket:D,value:Number(B[u])}}.bind(this)).sort(function(B,C){if(i.has(B.bucket))return 1;else if(i.has(C.bucket))return-1;return C.value-B.value});var x=r.length-this.props.maxBreakdowns;if(x>0)r.splice(-x,x);var y={bucket:{type:j.CATEGORY},value:{type:j.NUMBER}},z=c("FalcorDataTooltip").UnitLabels.PEOPLE,A=c("FalcorDataTooltip").valueWithPercentFormatterFactoryFactory(w,z);return c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:A,breakdownType:this.props.breakdown,data:r,height:this.props.height,plotX:k("bucket"),plotY:[k("value").from(0).extendInput(0,.25)],schema:y,styleSheet:c("FalcorInsightsOverviewStyle")})},render:function n(){return c("React").createElement(c("GriffinOverviewCard"),this.props,this.renderCandelaChart())}});f.exports=m}),null);
__d("GriffinOverviewCard",["cx","fbt","invariant","AnalyticsErrorBoundary","GriffinResizableChart","XUINotice.react","InsightsEventLogger","React","SUIHelpMessage.react","SUIBusinessTheme","XUICard.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$GriffinOverviewCard1=function(){c("InsightsEventLogger").logEvent({eventName:"overview_widget_click",widget:this.props.widgetKey})}.bind(this),o}m.prototype.render=function(){var n=this.props,o=n.children,p=n.className,q=n.legend,r=n.title,s=n.url,t=n.widgetKey,u=n.width,v=c("React").Children.count(o);v>=0&&v<=1||j(0);var w=v===0?c("React").createElement(c("XUINotice.react"),null,i._("No hay suficientes datos para mostrar para el intervalo de fechas o segmento")):c("React").createElement(c("GriffinResizableChart"),{initialWidth:u},c("React").Children.only(o)),x=q?c("React").createElement("span",{className:"_1hok"}," / "):null,y=this.props.tooltip?c("React").createElement(c("SUIHelpMessage.react"),{position:"below",theme:c("SUIBusinessTheme"),value:this.props.tooltip}):null,z=r?c("React").createElement("div",{className:"_1hol"},c("React").createElement("span",{className:"_5h3_ _2u47"},r),x,c("React").createElement("span",{className:"_52va"},q),c("React").createElement("span",{className:"_5_-t"},y)):null,A=s?c("React").createElement("a",{className:"_4wcn",href:s},z,w):c("React").createElement("div",null,z,w);return c("React").createElement("div",{className:c("joinClasses")(p,"_4z75")},c("React").createElement(c("XUICard.react"),{className:"_1ssp",onClick:this.$GriffinOverviewCard1},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:t},A)))};f.exports=m}),null);
__d("GriffinOverviewDemoWidget",["cx","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppEventsSegmentShape","AppEventsCombinedBreakdowns","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiDemoDataProcessMixin","BonsaiErrorNotice","BonsaiStyle","BonsaiText","FalcorDataTooltip","FalcorInsightsOverviewStyle","GriffinCandelaTheme","FalcorLoadingCard","FalcorVerticalBarChart","GriffinOverviewCard","InsightsContext","InsightsLegend_DEPRECATED.react","InsightsLegendAreaKey.react","InsightsUtils","React","CandelaConstants","URI","getObjectValues","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h){var i=c("CandelaConstants").ScaleType,j=c("CandelaGroupScaleBuilder").group,k=c("CandelaStackScaleBuilder").stack,l=c("React").PropTypes,m=["USERS"],n=[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER],o=c("React").createClass({displayName:"GriffinOverviewDemoWidget",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("BonsaiDemoDataProcessMixin")],propTypes:{eventName:l.string.isRequired,title:l.node,filters:c("AppEventsSegmentShape"),sessionLoggerID:l.string,height:l.number,width:l.number,widgetKey:l.string.isRequired},getInitialState:function p(){return{data:null,error:null}},componentWillMount:function p(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function p(q){if(this._shouldFetchData(this.props,q)){this.setState({data:null,error:null});this._fetchData(q)}if(q.sessionLoggerID&&q.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(q.sessionLoggerID,q.widgetKey)},_getQueries:function p(q){var r=q.visibleDateRange,s=c("InsightsUtils").utcTimeToPacificDay(r.since).getTime()/1e3,t=c("InsightsUtils").utcTimeToPacificDay(r.until).getTime()/1e3,u=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q.eventName).setAggregations(m).setBreakdowns(n).setFilters(q.filters).setIntervalsToAggregate(0).setSince(s).setUntil(t).setTag("breakdown_"+n.join("_"));return[{query:u,onQueryData:function(v){var w=new(c("BonsaiApiDataAdapter"))(v.getResult(m).formatResultsForBonsaiApiDataAdapter_DEPRECATED());this.setState({data:w,error:null});if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)}.bind(this),onQueryError:function(v){this.setState({data:null,error:v});if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)}.bind(this)}]},_isLoading:function p(){return this.state.data===null&&this.state.error===null},_getColors:function p(){return c("getObjectValues")(c("GriffinCandelaTheme").colors.toJS()).slice(0,2)},renderLegend:function p(){var q=[c("BonsaiText").breakdown.gender.F,c("BonsaiText").breakdown.gender.M];return c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{layout:c("InsightsLegend_DEPRECATED.react").layout.FLOATED},q.map(function(r,s){return c("React").createElement(c("InsightsLegendAreaKey.react"),{color:this._getColors()[s],key:"legend_"+s.toString()},c("React").createElement("span",{className:"_5qvg"},r))}.bind(this)))},renderCandelaChart:function p(){if(this._isLoading())return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.error!=null)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:this.state.error.getMessage()});var q=this.state.data,r=this.processFalcorGenderAgeData(q);if(!r.chartData[0]||r.chartData[0].length===0)return null;r=r.ages.map(function(u,v){return{age:u,F:r.chartData[0][v],M:r.chartData[1][v]}});var s={age:{type:i.CATEGORY},F:{type:i.NUMBER,label:c("BonsaiText").breakdown.gender.F},M:{type:i.NUMBER,label:c("BonsaiText").breakdown.gender.M}},t=c("FalcorDataTooltip").valueWithPercentFormatterFactoryFactory(q.getTotal(),c("FalcorDataTooltip").UnitLabels.PEOPLE);return c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:t,breakdownType:c("AppEventsCombinedBreakdowns").AGE_GENDER,data:r,height:this.props.height,plotX:j("age"),plotY:[k("F","M").from(0).extendInput(0,.25)],schema:s,styleSheet:c("FalcorInsightsOverviewStyle")})},render:function p(){var q=new(c("URI"))(window.location.href);q.addQueryData(babelHelpers["extends"]({since:this.props.visibleDateRange.since.getTime(),until:this.props.visibleDateRange.until.getTime()},this.props.chartLocations));return c("React").createElement(c("GriffinOverviewCard"),babelHelpers["extends"]({url:q,legend:this.renderLegend()},this.props),this.renderCandelaChart())}});f.exports=o}),null);
__d("GriffinOverviewDonutBar",["cx","AnalyticsQueryAggregationMethod","AnalyticsCard","AnalyticsNavigationUtils","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppCustomEventType","AppEventsSegmentShape","BonsaiApiBreakdown","CustomEventStore","FalcorErrorNotice","FalcorLoadingCard","GriffinOverviewDonutChart","GriffinSections","InsightsContext","InsightsUtils","React","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").List,j=c("React").PropTypes,k=5,l=100,m=[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER,c("BonsaiApiBreakdown").COUNTRY,c("BonsaiApiBreakdown").PLATFORM,c("BonsaiApiBreakdown").APP_VERSION],n=c("React").createClass({displayName:"GriffinOverviewDonutBar",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{filters:c("AppEventsSegmentShape"),visibleDateRange:j.shape({since:j.instanceOf(Date).isRequired,until:j.instanceOf(Date).isRequired}).isRequired,sessionLoggerID:j.string.isRequired,widgetKey:j.string.isRequired},getInitialState:function o(){return{metricData:i(),metricErrors:i(),hasActivateAppEvent:true,uniqueUserData:null,uniqueUserError:null}},componentWillMount:function o(){c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},_getQueries:function o(p){if(!c("CustomEventStore").hasBaseEvent())return[];var q=p.visibleDateRange,r=c("InsightsUtils").utcTimeToPacificDay(q.since).getTime()/1e3,s=c("InsightsUtils").utcTimeToPacificDay(q.until).getTime()/1e3,t=m.map(function(w,x){var y=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([w]).setFilters(p.filters).setIntervalsToAggregate(0).setLimit(k).setOrderingColumns([c("AnalyticsQueryAggregationMethod").USERS]).setOrderingType("DESCENDING").setSince(r).setUntil(s).setTag("breakdown_"+w);return{query:y,onQueryData:function(z){this.setState({metricData:this.state.metricData.set(x,z),metricErrors:this.state.metricErrors.set(x,null)});this._onQueryData()}.bind(this),onQueryError:function(z){this.setState({metricData:this.state.metricData.set(x,null),metricErrors:this.state.metricErrors.set(x,z)});this._onQueryError()}.bind(this)}}.bind(this)),u=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([]).setFilters(p.filters).setIntervalsToAggregate(0).setOrderingColumns([c("AnalyticsQueryAggregationMethod").USERS]).setOrderingType("DESCENDING").setSince(r).setUntil(s).setTag("unique_users"),v={query:u,onQueryData:function(w){this.setState({uniqueUserData:w,uniqueUserError:null});this._onQueryData()}.bind(this),onQueryError:function(w){this.setState({uniqueUserData:null,uniqueUserError:w});this._onQueryError()}.bind(this)};t.push(v);return t},_onQueryData:function o(){if(this.state.metricData.count()===m.length&&this.state.uniqueUserData!==null)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)},_onQueryError:function o(){c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function o(p){if(this._shouldFetchData(this.props,p)){this.setState(this.getInitialState());this._fetchData(p)}if(p.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(p.sessionLoggerID,p.widgetKey)},render:function o(){var p=this.state,q=p.metricData,r=p.metricErrors,s=p.uniqueUserData,t=p.uniqueUserError;if(!c("CustomEventStore").hasBaseEvent())return null;var u=q.count()?q.map(function(w,x){var y=r.get(x);if(y||t)return c("React").createElement(c("FalcorErrorNotice"),{key:"error"+x,message:y.getMessage()});if(w&&w.getResultAsRows().count()===0||!s)return null;return c("React").createElement(c("GriffinOverviewDonutChart"),{key:"donut"+x,breakdownType:m[x],result:w,totalUsers:s.getUniquesTotalDangerously(),height:l,width:l,innerRadiusRatio:.67})}).toJS().filter(function(w){return!!w}):[c("React").createElement(c("FalcorLoadingCard"),{key:"loading",showCard:false})];if(u.length===0)return null;var v=c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").PEOPLE_OVERVIEW);return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement("a",{className:"_2x94",href:v},u))}});f.exports=n}),null);
__d("GriffinOverviewDonutIconConfig",["ix","BonsaiApiBreakdown","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i,j=(i={},i[c("BonsaiApiBreakdown").AGE]={"default":h("125712")},i[c("BonsaiApiBreakdown").GENDER]={M:h("126194"),F:h("126218"),other_values:h("126198")},i[c("BonsaiApiBreakdown").COUNTRY]={"default":h("126595")},i[c("BonsaiApiBreakdown").PLATFORM]={ios_native:h("125430"),android_native:h("125427"),other_native:h("126476"),games_on_fb:h("126227"),web:h("126349"),messenger_bot:h("125462"),offline:h("125993"),page:h("126106"),instant_games:h("126227"),gameroom:h("126227"),other_values:h("125830")},i[c("BonsaiApiBreakdown").APP_VERSION]={"default":h("126473")},i.getIcon=function k(l,m){return this[l][m]||this[l]["default"]},i);f.exports=j}),null);
__d("GriffinOverviewDonutChart",["cx","fbt","AnalyticsQueryAggregationMethod","AnalyticsPredefinedBreakdownValues","AppEventsAggregatingColumn","BonsaiText","GriffinPieChart","GriffinOverviewDonutIconConfig","Image.react","InsightsEventLogger","InsightsNumUtils","React","immutable","CandelaConstants","joinClasses","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").Set,m=c("CandelaConstants").ShapeType,n=c("CandelaStackScaleBuilder").stack,o="other_values",p=i._("Otros valores");j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={hoveredSeries:null},this.$GriffinOverviewDonutChart1=function(w){if(w.target.shapeType!==m.WEDGE)return;var x=Object.keys(w.data).pop();this.setState({hoveredSeries:x})}.bind(this),this.$GriffinOverviewDonutChart2=function(w){if(w.target.shapeType!==m.WEDGE)return;this.setState({hoveredSeries:null})}.bind(this),this.$GriffinOverviewDonutChart3=function(w){var x=w&&w.data&&Object.keys(w.data).length>0&&Object.keys(w.data)[0]||undefined,y=this.props.breakdownType;c("InsightsEventLogger").logEvent({eventName:"overview_widget_click",widgetType:"donut_chart",breakdown:y,bucket:x})}.bind(this),s}q.prototype.render=function(){var r=this.props,s=r.result,t=r.breakdownType,u=r.width,v=r.height,w=r.innerRadiusRatio,x=r.className,y=r.totalUsers,z=r.uri,A=this.state.hoveredSeries;if(!s)return null;var B=s.getBreakdownUniqueValues(t),C={};B.forEach(function(V){C[V]={type:"number"}});var D=s.getColumnNames(),E=D.findIndex(function(V){return V===t}),F=D.findIndex(function(V){return V===c("AnalyticsQueryAggregationMethod").USERS}),G={},H=[],I=0;s.getResultAsRows().forEach(function(V){if(V.get(E,"").toLowerCase()==="u")return;var W=Number(V.get(F));G[V.get(E)]=W;H.push(V.get(E));I+=W});var J=H[0];if(!J)return null;var K=A||J,L=Object.keys(c("AnalyticsPredefinedBreakdownValues").OTHER).find(function(V){return V===K})==undefined;if(L){var M=y-I;if(M>0&&M>y*.05){C[o]={type:"number"};G[o]=M;H.push(o)}}var N=!K||K==="unknown"||!L,O=t===c("AppEventsAggregatingColumn").COUNTRY&&!N,P=this.$GriffinOverviewDonutChart4(G,y,t,K,A,N),Q=void 0;if(K===o)Q=p;else Q=O?K:c("BonsaiText").getBucketLabel(K,t);var R=A?l([{dependentSeriesName:A}]):null,S=c("joinClasses")("_20mi",x),T=c("BonsaiText").getBreakdownName(t),U=z?c("React").createElement("a",{href:z,className:"_h1_"},T):T;return c("React").createElement("div",{className:S},c("React").createElement("div",{className:"_20mj"},P,c("React").createElement(c("GriffinPieChart"),{data:[G],schema:C,plotAngle:n.apply(this,H).from(0),height:v,width:u,innerRadiusRatio:w,onMouseEnter:this.$GriffinOverviewDonutChart1,onMouseLeave:this.$GriffinOverviewDonutChart2,onClick:this.$GriffinOverviewDonutChart3,highlights:R})),c("React").createElement("div",{className:"_20mn _20m_"},U),c("React").createElement("div",{className:"_20n0"+(N?" _20n1":"")},Q))};q.prototype.$GriffinOverviewDonutChart4=function(r,s,t,u,v,w){var x=null;if(v){if(u!=="REDACTED"){var y=r[v],z=c("InsightsNumUtils").prettyShortInt(y),A=y/s,B=c("InsightsNumUtils").prettyPercent(A,1);x=c("React").createElement("div",{className:"_4yjd"},c("React").createElement("div",{className:"_4yje"},B),c("React").createElement("div",{className:"_4yjf"},z))}}else{var C=c("GriffinOverviewDonutIconConfig").getIcon(t,u);x=c("React").createElement("div",{className:"_20mk"},c("React").createElement(c("Image.react"),{className:"_20ml"+(w?" hidden_elem":""),width:24,height:24,src:C}))}return x};f.exports=q}),null);
__d("GriffinGrid",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$GriffinGrid1=function(r){var s=this.props.columns,t=[];for(var u=0;u<r.length;u+=s){var v=r.slice(u,u+s);if(v.length<s){var w=v.length;for(var x=0;x<s-w;x++){var y=c("React").createElement("div",{className:"_4o6h",key:"filler_"+x});v.push(y)}}t.push(c("React").createElement("div",{key:u,className:"_4o6i"},v))}return t}.bind(this),this.$GriffinGrid2=function(){return c("React").Children.map(this.props.children,function(r){return c("React").createElement("div",{key:r.props.widgetKey,className:"_4o6h"},r)})}.bind(this),n}l.prototype.render=function(){var m=this.$GriffinGrid2(),n=this.$GriffinGrid1(m);return c("React").createElement("div",null,n)};l.propTypes={columns:k.number.isRequired};f.exports=l}),null);
__d("GriffinResponsiveGrid",["GriffinGrid","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$GriffinResponsiveGrid2=function(){this.$GriffinResponsiveGrid1=window.innerWidth;var l=this.props.breakpoints,m=this.$GriffinResponsiveGrid3();this.setState({columns:l[m]})}.bind(this);this.state={columns:k.breakpoints["default"]}}j.prototype.componentDidMount=function(){window.addEventListener("resize",this.$GriffinResponsiveGrid2);this.$GriffinResponsiveGrid1=window.innerWidth};j.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$GriffinResponsiveGrid2)};j.prototype.$GriffinResponsiveGrid3=function(){var k=this.props.breakpoints,l=window.innerWidth,m=Object.keys(k).sort().find(function(m){return Number.parseInt(m,10)>l})||"default";return m};j.prototype.render=function(){return c("React").createElement(c("GriffinGrid"),{columns:this.state.columns},this.props.children)};f.exports=j}),null);
__d("GriffinOverviewSectionController",["cssVar","cx","fbt","AnalyticsAdHocBreakdownTableContainer","AnalyticsOverlapUtils","AnalyticsQEUniverses","AnalyticsQEUtils","AnalyticsBuiltInBreakdowns","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsErrorBoundary","AnalyticsEventLoggerStore","AnalyticsGKNames","AnalyticsGKs","AnalyticsInsightsCarousel","AnalyticsNavigationUtils","AnalyticsOverlapViewContainer","AnalyticsQueryBreakdownUtils","AnalyticsSegmentUtils","AnalyticsSessionDurationLogger","AnalyticsTimeSeriesChart","AppCustomEventType","AnalyticsEntityType","AppEventMetricText","BonsaiApiBreakdown","CustomEventStore","FalcorCommonViews","FalcorOverviewSparklineWidget","GriffinCustomEventsMauWauDauCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinResponsiveGrid","GriffinOverviewBreakdownWidget","GriffinOverviewDemoWidget","GriffinOverviewDonutBar","GriffinOverviewSparklineWidget","GriffinOverviewSummaryWidget","GriffinSamplingDisclosureController","GriffinSections","InsightsContext","InsightsNumUtils","InsightsTimeUtils","InsightsUtils","LightweightSegmentStore","React","SUIBusinessTheme","SUICardDEPRECATED.react","URI","immutable","UniversalCustomEventField"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l=c("immutable").OrderedSet,m=250,n=138,o=5,p=200,q={PURCHASES:"purchases",STICKINESS:"sticky",APP_TIME:"app_time",SESSION:"session",INSTALL:"install",DEMO:"demo",COUNTRY:"country",CLIENT:"client",REFERRALS:"referrals",STORIES:"stories",FACEBOOK_LOGIN:"login",PAGE_POST_REACTIONS:"page_post_reactions",PAGE_POST_SHARES:"page_post_shares",PAGE_POST_COMMENTS:"page_post_comments",PAGE_MESSAGES_SENT:"page_messages_sent",PAGE_MESSAGES_RECEIVED:"page_messages_received",PIXEL_TRAFFIC_SOURCES:"pixel_traffic_sources",PIXEL_REFERER_DOMAINS:"pixel_referer_domains",PIXEL_URLS:"pixel_urls",PIXEL_SEARCH_SOURCES:"pixel_search_sources",PIXEL_SOCIAL_SOURCES:"pixel_social_sources",PAGE_TOP_REACTED_POSTS:"page_top_reacted_posts",PAGE_TOP_SHARED_POSTS:"page_top_shared_posts",PAGE_TOP_COMMENTED_POSTS:"page_top_commented_posts",INSTANT_GAMES_ENTRYPOINTS:"instant_games_entrypoints",INSTANT_GAMES_CONTEXT_SIZE:"instant_games_context_size",INSTANT_GAMES_CONTEXT_TYPE:"instant_games_context_type",INSTANT_GAMES_UPDATE_SENDS:"instant_games_update_sends",INSTANT_GAMES_UPDATE_CLICKS:"instant_games_update_clicks"},r={UNIQUE_USERS:"unique_users",APP_INSTALLS:"app_installs",NEW_USERS:"new_users",REVENUE:"revenue",REGISTRATIONS:"registrations",APP_LAUNCHES:"app_launches",PAGE_VIEWS:"page_views",ACTIVE_CONVERSATIONS:"active_conversations",NEW_CONVERSATIONS:"new_conversations"},s=(k={},k[r.UNIQUE_USERS]={aggregateBy:"USERS",event_name:c("AppCustomEventType").FB_BASE_EVENT,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").ACTIVE_USERS)},k[r.APP_INSTALLS]={aggregateBy:"COUNT",event_name:c("AppCustomEventType").FB_MOBILE_INSTALL,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_MOBILE_INSTALL,view:c("FalcorCommonViews").DETAILS})},k[r.NEW_USERS]={aggregateBy:"USERS",event_name:c("AppCustomEventType").FB_NEW_USER,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_NEW_USER,view:c("FalcorCommonViews").DETAILS})},k[r.REVENUE]={aggregateBy:"USD_SUM",event_name:c("AppCustomEventType").FB_PURCHASE,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").REVENUE)},k[r.REGISTRATIONS]={aggregateBy:"COUNT",event_name:c("AppCustomEventType").FB_MOBILE_COMPLETE_REGISTRATION,title:j._("Registros"),url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_MOBILE_COMPLETE_REGISTRATION,view:c("FalcorCommonViews").DETAILS})},k[r.APP_LAUNCHES]={aggregateBy:"COUNT",event_name:c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP,view:c("FalcorCommonViews").DETAILS})},k[r.PAGE_VIEWS]={aggregateBy:"COUNT",event_name:c("AppCustomEventType").FB_PAGE_VIEW,url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_PAGE_VIEW,view:c("FalcorCommonViews").DETAILS})},k[r.ACTIVE_CONVERSATIONS]={aggregateBy:"USERS",event_name:c("AppCustomEventType").FB_PAGE_MESSAGING_ACTIVE_CONVERSATION,title:j._("Conversaciones activas")},k[r.NEW_CONVERSATIONS]={aggregateBy:"USERS",event_name:c("AppCustomEventType").FB_PAGES_MESSAGING_NEW_CONVERSATION,title:j._("Conversaciones nuevas"),url:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").CUSTOM_EVENTS,{event_name:c("AppCustomEventType").FB_PAGES_MESSAGING_NEW_CONVERSATION,view:c("FalcorCommonViews").DETAILS})},k),t=c("React").createClass({displayName:"GriffinOverviewSectionController",_sessionLoggerID:"",statics:{getKey:function u(){return c("GriffinSections").OVERVIEW}},getInitialState:function u(){return{smallWidgets:l()}},componentWillMount:function u(){this.setState({smallWidgets:this._getSmallWidgets()})},_getSmallWidgets:function u(){var v=this.props.platformMetricsConfig,w=c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PURCHASE),x=[q.APP_TIME,q.INSTALL,w?q.PURCHASES:q.STICKINESS,q.PAGE_POST_REACTIONS,q.PAGE_POST_SHARES,q.PAGE_POST_COMMENTS,q.PAGE_MESSAGES_SENT,q.PAGE_MESSAGES_RECEIVED,q.DEMO,q.COUNTRY,q.CLIENT,q.REFERRALS,q.STORIES,q.FACEBOOK_LOGIN,q.INSTANT_GAMES_ENTRYPOINTS,q.INSTANT_GAMES_CONTEXT_SIZE,q.INSTANT_GAMES_CONTEXT_TYPE,q.INSTANT_GAMES_UPDATE_SENDS,q.INSTANT_GAMES_UPDATE_CLICKS];return l(x.filter(function(y){switch(y){case q.APP_TIME:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP);case q.STICKINESS:case q.CLIENT:return c("CustomEventStore").hasBaseEvent()&&!c("InsightsContext").isPage();case q.DEMO:case q.COUNTRY:return c("CustomEventStore").hasBaseEvent();case q.INSTALL:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_INSTALL);case q.PURCHASES:return w;case q.REFERRALS:return v.hasReferrals;case q.STORIES:return v.hasStories;case q.FACEBOOK_LOGIN:return v.hasFBLogin;case q.PAGE_POST_REACTIONS:return c("InsightsContext").isPage()&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_POST_REACTION);case q.PAGE_POST_SHARES:return c("InsightsContext").isPage()&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_POST_SHARE);case q.PAGE_POST_COMMENTS:return c("InsightsContext").isPage()&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_POST_COMMENT);case q.PAGE_MESSAGES_SENT:case q.PAGE_MESSAGES_RECEIVED:return c("InsightsContext").isPage()&&(c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_SENT)||c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_RECEIVED));case q.INSTANT_GAMES_ENTRYPOINTS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_LAUNCH)&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_PLATFORM_EVENT)&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_INSTANT_GAMES);case q.INSTANT_GAMES_CONTEXT_SIZE:case q.INSTANT_GAMES_CONTEXT_TYPE:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_LAUNCH)&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_SESSION_PLAY)&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_INSTANT_GAMES);case q.INSTANT_GAMES_UPDATE_SENDS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_LAUNCH)&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_SENT)&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_INSTANT_GAMES);case q.INSTANT_GAMES_UPDATE_CLICKS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_LAUNCH)&&c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK)&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_INSTANT_GAMES);default:return true}}))},render:function u(){return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showCompare:false,showDatePicker:true,showSegments:true}),c("React").createElement("div",{className:"_3ry5 _5g_4"},c("React").createElement(c("AnalyticsInsightsCarousel"),{section:c("GriffinSections").OVERVIEW}),c("React").createElement(c("GriffinSamplingDisclosureController"),null),this._getOverviewWidgets()))},_getOverviewWidgets:function u(){var v,w;this._sessionLoggerID=c("AnalyticsSessionDurationLogger").createSession({days_range:c("AnalyticsDateUtils").getDaysInRange(this.props.visibleDateRange),section:c("GriffinSections").OVERVIEW,segment_applied:c("LightweightSegmentStore").getIsSegmentApplied().toString()});var x=[];if(!c("CustomEventStore").hasBaseEvent())if(c("InsightsContext").isPage())x.push(c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"OverviewForPages"}));else x.push(c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Overview"}));if(x.length===0)x=[this._renderUsersWidget(),this._renderSummaryWidget(),this._renderOverlapWidget(),this._renderDonutBarWidget()];var y=(v={},v[q.APP_TIME]=this._renderAppTimeWidget,v[q.INSTALL]=this._renderInstallWidget,v[q.PURCHASES]=this._renderPurchasesWidget,v[q.STICKINESS]=this._renderStickinessWidget,v[q.DEMO]=this._renderDemoWidget,v[q.COUNTRY]=this._renderCountryWidget,v[q.CLIENT]=this._renderClientWidget,v[q.REFERRALS]=this._renderReferralsWidget,v[q.STORIES]=this._renderStoriesWidget,v[q.FACEBOOK_LOGIN]=this._renderFacebookLoginWidget,v[q.PAGE_POST_REACTIONS]=this._renderPagePostReactionsWidget,v[q.PAGE_POST_SHARES]=this._renderPagePostSharesWidget,v[q.PAGE_POST_COMMENTS]=this._renderPagePostCommentsWidget,v[q.PAGE_MESSAGES_SENT]=this._renderPageMessagesSentWidget,v[q.PAGE_MESSAGES_RECEIVED]=this._renderPageMessagesReceivedWidget,v[q.INSTANT_GAMES_ENTRYPOINTS]=this._renderInstantGamesEntrypointsWidget,v[q.INSTANT_GAMES_CONTEXT_SIZE]=this._renderInstantGamesContextSizeWidget,v[q.INSTANT_GAMES_CONTEXT_TYPE]=this._renderInstantGamesContextTypeWidget,v[q.INSTANT_GAMES_UPDATE_SENDS]=this._renderInstantGamesUpdateSendsWidget,v[q.INSTANT_GAMES_UPDATE_CLICKS]=this._renderInstantGamesUpdateClicksWidget,v),z=this.state.smallWidgets.toArray().map(function(C){return y[C]()}),A=this._renderPixelBreakdownWidgets(),B=this._renderPageBreakdownWidgets();return[c("React").createElement("div",{key:"overviewWidgets"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"overview_widgets"},x,c("React").createElement(c("GriffinResponsiveGrid"),{breakpoints:(w={"default":3},w["1200"]=2,w)},A,B,z)))]},_renderUsersWidget:function u(){var v=[c("AppEventMetricText").monthly_users["default"],c("AppEventMetricText").weekly_users["default"],c("AppEventMetricText").daily_users["default"]],w=this.props.visibleDateRange,x=null;switch(c("InsightsContext").getAnalyticsEntityType()){case c("AnalyticsEntityType").PAGE:x=j._("Actividad de la p\u00e1gina y Messenger");break;default:x=j._("Usuarios activos")}var y=this._getChartLocationURI({card:"trends",event_name:c("AppCustomEventType").FB_BASE_EVENT,section:c("GriffinSections").ACTIVE_USERS});return c("React").createElement(c("GriffinCustomEventsMauWauDauCard"),{className:"_5g_5",eventName:c("AppCustomEventType").FB_BASE_EVENT,filters:this._getSegmentFilters(),height:230,key:"_UsersWidget",legendValues:v,sessionLoggerID:this._sessionLoggerID,showAxisLines:true,showEmptyStateIfNoData:!c("LightweightSegmentStore").getIsSegmentApplied(),title:x,tooltipTitle:j._("N\u00famero de usuarios activos"),unitLabel:j._("Usuarios"),url:y,visibleDateRange:w,widgetKey:"users",width:750})},_renderOverlapWidget:function u(){var v=c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").OVERLAP_REPORT),w=c("InsightsContext").getAnalyticsEntityType();if(!v||w===c("AnalyticsEntityType").ADS_PIXEL||w===c("AnalyticsEntityType").OFFLINE_CONVERSION_DATA_SET||w===c("AnalyticsEntityType").PAGE||(c("AnalyticsEventLoggerStore").getMAU()||0)<c("AnalyticsOverlapUtils").OVERLAP_MAU_THRESHOLD)return null;var x=c("LightweightSegmentStore").getAppliedSegment(),y=this.props,z=y.analyticsEntityID,A=y.visibleDateRange,B=c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").OVERLAP,{event_name:c("AppCustomEventType").FB_BASE_EVENT,breakdown:c("AnalyticsBuiltInBreakdowns").PLATFORM});return c("React").createElement(c("AnalyticsOverlapViewContainer"),{analyticsEntityID:z,appliedSegment:x,bucketsLimit:o,hideControls:true,hideIfMetConditions:true,height:p,eventName:c("AppCustomEventType").FB_BASE_EVENT,breakdown:c("AnalyticsBuiltInBreakdowns").PLATFORM,key:"OverlapWidget",widgetKey:"OverlapWidget",sessionLoggerID:this._sessionLoggerID,section:c("GriffinSections").OVERVIEW,url:B,visibleDateRange:A})},_renderPixelBreakdownWidgets:function u(){if(!c("InsightsContext").isPixel())return[];return[c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGE_VIEW,breakdown:c("BonsaiApiBreakdown").WEB_TRAFFIC_SOURCE,visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PIXEL_TRAFFIC_SOURCES,widgetKey:q.PIXEL_TRAFFIC_SOURCES,title:j._("ORIGEN DEL TR\u00c1FICO"),tooltip:j._("Muestra el origen de las visitas a tu sitio web basadas en categor\u00edas de alto nivel, como B\u00fasqueda, Social, etc.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGE_VIEW,breakdown:c("BonsaiApiBreakdown").REFERER_DOMAIN,visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PIXEL_REFERER_DOMAINS,widgetKey:q.PIXEL_REFERER_DOMAINS,title:j._("PRINCIPALES DOMINIOS DE REFERENCIA"),tooltip:j._("Muestra el origen de las visitas a tu sitio web procedentes de otros dominios.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGE_VIEW,breakdown:c("BonsaiApiBreakdown").WEB_URL,visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PIXEL_URLS,widgetKey:q.PIXEL_URLS,title:j._("PRINCIPALES URL"),tooltip:j._("Muestra las URL m\u00e1s visitadas en tu sitio web.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGE_VIEW,breakdown:c("BonsaiApiBreakdown").WEB_TRAFFIC_SEARCH_SOURCE,visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PIXEL_SEARCH_SOURCES,widgetKey:q.PIXEL_SEARCH_SOURCES,title:j._("BUSCAR OR\u00cdGENES"),tooltip:j._("Muestra el origen de las visitas a tu sitio web procedentes de motores de b\u00fasqueda importantes.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGE_VIEW,breakdown:c("BonsaiApiBreakdown").WEB_TRAFFIC_SOCIAL_SOURCE,visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PIXEL_SOCIAL_SOURCES,widgetKey:q.PIXEL_SOCIAL_SOURCES,title:j._("FUENTES SOCIALES"),tooltip:j._("Muestra el origen de las visitas a tu sitio web procedentes de redes sociales importantes.")})]},_renderPageBreakdownWidgets:function u(){if(!c("InsightsContext").isPage())return[];return[c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGES_POST_REACTION,breakdown:c("AnalyticsQueryBreakdownUtils").getCustomParam(c("UniversalCustomEventField").FB_PAGE_POST_ID),visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PAGE_TOP_REACTED_POSTS,widgetKey:q.PAGE_TOP_REACTED_POSTS,title:j._("PUBLICACIONES CON M\u00c1S REACCIONES"),tooltip:j._("Muestra las publicaciones de p\u00e1ginas con m\u00e1s reacciones.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGES_POST_SHARE,breakdown:c("AnalyticsQueryBreakdownUtils").getCustomParam(c("UniversalCustomEventField").FB_PAGE_POST_ID),visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PAGE_TOP_SHARED_POSTS,widgetKey:q.PAGE_TOP_SHARED_POSTS,title:j._("PUBLICACIONES QUE SE HAN COMPARTIDO M\u00c1S VECES"),tooltip:j._("Muestra las publicaciones de p\u00e1ginas que se han compartido m\u00e1s veces.")}),c("React").createElement(c("AnalyticsAdHocBreakdownTableContainer"),{eventName:c("AppCustomEventType").FB_PAGES_POST_COMMENT,breakdown:c("AnalyticsQueryBreakdownUtils").getCustomParam(c("UniversalCustomEventField").FB_PAGE_POST_ID),visibleDateRange:this.props.visibleDateRange,fullDateRange:this.props.fullDateRange,key:q.PAGE_TOP_COMMENTED_POSTS,widgetKey:q.PAGE_TOP_COMMENTED_POSTS,title:j._("PUBLICACIONES CON M\u00c1S COMENTARIOS"),tooltip:j._("Muestra las publicaciones de p\u00e1ginas con m\u00e1s comentarios.")})]},_renderStickinessWidget:function u(){var v=[{aggregation:"USERS",eventName:c("AppCustomEventType").FB_BASE_EVENT,intervalsToAggregate:1},{aggregation:"USERS",eventName:c("AppCustomEventType").FB_BASE_EVENT,intervalsToAggregate:28}];return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{section:c("GriffinSections").ACTIVE_USERS,card:"trends",tab:"STICKINESS"},filters:this._getSegmentFilters(),"float":true,formatValue:function w(x){return c("InsightsNumUtils").prettyPercent(x,1)},height:n,key:q.STICKINESS,metrics:v,postProcessData:function w(x){return[x[0].divideBy(x[1])]},sessionLoggerID:this._sessionLoggerID,title:j._("CONTINUIDAD"),tooltipTitle:j._("Continuidad"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.STICKINESS,width:m})},_renderInstallWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_MOBILE_INSTALL,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),height:n,key:q.INSTALL,metrics:[{eventName:c("AppCustomEventType").FB_MOBILE_INSTALL,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("INSTALACIONES"),tooltipTitle:j._("N\u00famero de instalaciones"),unitLabel:j._("Usuarios"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTALL,width:m})},_renderPurchasesWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{section:c("GriffinSections").REVENUE},filters:this._getSegmentFilters(),formatValue:function v(w){return c("InsightsNumUtils").prettyShortCurrency("USD",w)},height:n,key:q.PURCHASES,metrics:[{eventName:c("AppCustomEventType").FB_PURCHASE,aggregation:"USD_SUM"}],title:j._("INGRESOS"),sessionLoggerID:this._sessionLoggerID,tooltipTitle:c("AppEventMetricText").value.fb_mobile_purchase,unitLabel:j._("USD"),valueType:"USD",visibleDateRange:this.props.visibleDateRange,widgetKey:q.PURCHASES,width:m})},_renderAppTimeWidget:function u(){var v=[{aggregation:"MEDIAN_VALUE",eventName:c("AppCustomEventType").FB_MOBILE_DEACTIVATE_APP}],w=c("AnalyticsGKs").get(c("AnalyticsGKNames").WEB_SESSION),x=w?j._("MEDIANA DE LA DURACI\u00d3N DE LA SESI\u00d3N"):j._("MEDIANA DE LA DURACI\u00d3N DE LA SESI\u00d3N DE LA APLICACI\u00d3N"),y=w?j._("Mediana de la duraci\u00f3n de la sesi\u00f3n"):j._("Mediana de la duraci\u00f3n de la sesi\u00f3n de la aplicaci\u00f3n");return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{section:c("GriffinSections").ACTIVE_USERS,card:"timeSpent"},filters:this._getSegmentFilters(),key:q.APP_TIME,formatValue:c("InsightsTimeUtils").minutesToDisplay,metrics:v,sessionLoggerID:this._sessionLoggerID,title:x,tooltipTitle:y,valueType:"seconds",visibleDateRange:this.props.visibleDateRange,widgetKey:q.APP_TIME,width:m,height:n})},_renderSummaryWidget:function u(){var v=[r.UNIQUE_USERS,r.APP_INSTALLS,r.NEW_USERS,r.REVENUE,r.REGISTRATIONS,r.APP_LAUNCHES,r.PAGE_VIEWS,r.ACTIVE_CONVERSATIONS,r.NEW_CONVERSATIONS],w=v.filter(function(C){switch(C){case r.UNIQUE_USERS:return c("CustomEventStore").hasBaseEvent();case r.APP_INSTALLS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_INSTALL);case r.NEW_USERS:return c("CustomEventStore").hasNewUserEvent();case r.REVENUE:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PURCHASE);case r.REGISTRATIONS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_COMPLETE_REGISTRATION);case r.APP_LAUNCHES:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP);case r.PAGE_VIEWS:return c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGE_VIEW);case r.ACTIVE_CONVERSATIONS:case r.NEW_CONVERSATIONS:return c("InsightsContext").isPage()&&(c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_MESSAGING_THREAD_READ)||c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_RECEIVED)||c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_PAGES_MESSAGING_NEW_CONVERSATION));default:return true}}),x=w.map(function(C){return babelHelpers["extends"]({},s[C],{filter:this._getSegmentFilters()})}.bind(this)),y=this.props,z=y.fullDateRange,A=y.visibleDateRange,B=c("AnalyticsDateUtils").getPopDateRange(z,A);return c("React").createElement(c("GriffinOverviewSummaryWidget"),{filters:this._getSegmentFilters(),hasHeader:false,key:"_SummaryWidget",metrics:x,popDateRange:B,sessionLoggerID:this._sessionLoggerID,visibleDateRange:A,widgetKey:"summary"})},_renderDonutBarWidget:function u(){return c("React").createElement(c("GriffinOverviewDonutBar"),{filters:this._getSegmentFilters(),key:"_DonutWidget",sessionLoggerID:this._sessionLoggerID,visibleDateRange:this.props.visibleDateRange,widgetKey:"donuts"})},_getPacificUntilDate:function u(v){return c("InsightsUtils").utcTimeToPacificDay(v)},_renderDemoWidget:function u(){var v=this.props.visibleDateRange,w=c("AnalyticsDateUtils").getRangeLength(v),x=this._getPacificUntilDate(v.until);return c("React").createElement(c("GriffinOverviewDemoWidget"),{chartLocations:{section:c("GriffinSections").PEOPLE_DEMOGRAPHICS},eventName:c("AppCustomEventType").FB_BASE_EVENT,filters:this._getSegmentFilters(),hasLegend:true,key:q.DEMO,metrics:[{aggregateBy:"USERS",event_name:c("AppCustomEventType").FB_BASE_EVENT,intervals_to_aggregate:w+1,breakdowns:[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER],since:x,until:x}],sessionLoggerID:this._sessionLoggerID,title:j._("EDAD Y SEXO"),tooltipTitle:j._("Edad y sexo"),visibleDateRange:v,widgetKey:q.DEMO,width:m,height:n})},_renderCountryWidget:function u(){var v=this._getChartLocationURI({section:c("GriffinSections").PEOPLE_DEMOGRAPHICS});return c("React").createElement(c("GriffinOverviewBreakdownWidget"),{aggregation:"USERS",breakdown:c("BonsaiApiBreakdown").COUNTRY,eventName:c("AppCustomEventType").FB_BASE_EVENT,filters:this._getSegmentFilters(),height:n,key:q.COUNTRY,maxBreakdowns:5,sessionLoggerID:this._sessionLoggerID,title:j._("PA\u00cdS"),tooltipTitle:j._("Pa\u00eds"),url:v,visibleDateRange:this.props.visibleDateRange,widgetKey:q.COUNTRY,width:m})},_renderClientWidget:function u(){var v=this._getChartLocationURI({section:c("GriffinSections").TECHNOLOGY});return c("React").createElement(c("GriffinOverviewBreakdownWidget"),{aggregation:"USERS",breakdown:c("BonsaiApiBreakdown").CLIENT,eventName:c("AppCustomEventType").FB_BASE_EVENT,filters:this._getSegmentFilters(),height:n,key:q.CLIENT,maxBreakdowns:5,sessionLoggerID:this._sessionLoggerID,title:j._("SO DEL DISPOSITIVO"),tooltipTitle:j._("SO del dispositivo"),url:v,visibleDateRange:this.props.visibleDateRange,widgetKey:q.CLIENT,width:m})},_renderReferralsWidget:function u(){var v=this.props,w=v.fullDateRange,x=v.visibleDateRange;return c("React").createElement(c("FalcorOverviewSparklineWidget"),{chartLocations:{card:"referrals_opens",tab:"app_total_referrals"},filtered:c("LightweightSegmentStore").getIsSegmentApplied(),fullDateRange:w,key:q.REFERRALS,metrics:["total_referrals"],section:c("GriffinSections").REFERRALS,sessionLoggerID:this._sessionLoggerID,title:j._("REFERENCIAS DE FACEBOOK"),tooltipTitle:j._("Referencias de Facebook"),unitLabel:j._("Usuarios"),visibleDateRange:x,widgetKey:q.REFERRALS})},_renderStoriesWidget:function u(){var v=this.props,w=v.fullDateRange,x=v.visibleDateRange;return c("React").createElement(c("FalcorOverviewSparklineWidget"),{chartLocations:{card:"stories_funnel",tab:"publishes"},filtered:c("LightweightSegmentStore").getIsSegmentApplied(),fullDateRange:w,key:q.STORIES,metrics:["story_publishes"],section:c("GriffinSections").STORIES,sessionLoggerID:this._sessionLoggerID,title:j._("HISTORIAS PUBLICADAS EN FACEBOOK"),tooltipTitle:j._("Historias publicadas en Facebook"),unitLabel:j._("Historias"),visibleDateRange:x,widgetKey:q.STORIES})},_renderFacebookLoginWidget:function u(){var v=this.props,w=v.fullDateRange,x=v.visibleDateRange;return c("React").createElement(c("FalcorOverviewSparklineWidget"),{chartLocations:{card:"users_trend",tab:"newLogin"},filtered:c("LightweightSegmentStore").getIsSegmentApplied(),fullDateRange:w,key:q.FACEBOOK_LOGIN,metrics:["initial_permission_grants"],section:c("GriffinSections").LOGIN,sessionLoggerID:this._sessionLoggerID,title:j._("NUEVOS INICIOS DE SESI\u00d3N CON FACEBOOK"),tooltipTitle:j._("Nuevos inicios de sesi\u00f3n con Facebook"),unitLabel:j._("Inicios de sesi\u00f3n"),visibleDateRange:x,widgetKey:q.FACEBOOK_LOGIN})},_renderPagePostReactionsWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_PAGES_POST_REACTION,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.PAGE_POST_REACTIONS,metrics:[{eventName:c("AppCustomEventType").FB_PAGES_POST_REACTION,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("REACCIONES A LA PUBLICACI\u00d3N"),tooltipTitle:j._("N\u00famero de reacciones a la publicaci\u00f3n"),unitLabel:j._("Reacciones"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.PAGE_POST_REACTIONS,width:m,height:n})},_renderPagePostSharesWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_PAGES_POST_SHARE,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.PAGE_POST_SHARES,metrics:[{eventName:c("AppCustomEventType").FB_PAGES_POST_SHARE,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("VECES QUE SE HA COMPARTIDO LA PUBLICACI\u00d3N"),tooltipTitle:j._("N\u00famero de veces que se ha compartido la publicaci\u00f3n"),unitLabel:j._("Veces compartido"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.PAGE_POST_SHARES,width:m,height:n})},_renderPagePostCommentsWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_PAGES_POST_COMMENT,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.PAGE_POST_COMMENTS,metrics:[{eventName:c("AppCustomEventType").FB_PAGES_POST_COMMENT,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("COMENTARIOS DE LA PUBLICACI\u00d3N"),tooltipTitle:j._("N\u00famero de comentarios de la publicaci\u00f3n"),unitLabel:j._("Comentarios"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.PAGE_POST_COMMENTS,width:m,height:n})},_renderPageMessagesSentWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_SENT,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.PAGE_MESSAGES_SENT,metrics:[{eventName:c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_SENT,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("MENSAJES ENVIADOS"),tooltipTitle:j._("N\u00famero de mensajes enviados por p\u00e1gina"),unitLabel:j._("Mensajes"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.PAGE_MESSAGES_SENT,width:m,height:n})},_renderPageMessagesReceivedWidget:function u(){return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{event_name:c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_RECEIVED,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.PAGE_MESSAGES_RECEIVED,metrics:[{eventName:c("AppCustomEventType").FB_PAGES_MESSAGING_MESSAGE_RECEIVED,aggregation:"COUNT"}],sessionLoggerID:this._sessionLoggerID,title:j._("MENSAJES RECIBIDOS"),tooltipTitle:j._("N\u00famero de mensajes recibidos por p\u00e1gina"),unitLabel:j._("Mensajes"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.PAGE_MESSAGES_RECEIVED,width:m,height:n})},_renderInstantGamesEntrypointsWidget:function u(){var v=this._getChartLocationURI({breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_ENTRY_POINT,event_name:c("AppCustomEventType").FB_INSTANT_GAMES_PLATFORM_EVENT,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"USERS"});return c("React").createElement(c("GriffinOverviewBreakdownWidget"),{aggregation:"USERS",breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_ENTRY_POINT,eventName:c("AppCustomEventType").FB_INSTANT_GAMES_PLATFORM_EVENT,filters:this._getSegmentFilters(),height:n,key:q.INSTANT_GAMES_ENTRYPOINTS,maxBreakdowns:5,sessionLoggerID:this._sessionLoggerID,title:j._("PUNTOS DE ACCESO DEL JUEGO INSTANT\u00c1NEO"),tooltipTitle:j._("Usuarios \u00fanicos que entran en el juego instant\u00e1neo desde cada punto de acceso"),unitLabel:j._("Usuarios"),url:v,visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTANT_GAMES_ENTRYPOINTS,width:m})},_renderInstantGamesContextSizeWidget:function u(){var v=this._getChartLocationURI({breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_CONTEXT_PLAYERS,event_name:c("AppCustomEventType").FB_INSTANT_GAMES_SESSION_PLAY,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"});return c("React").createElement(c("GriffinOverviewBreakdownWidget"),{aggregation:"COUNT",breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_CONTEXT_PLAYERS,eventName:c("AppCustomEventType").FB_INSTANT_GAMES_SESSION_PLAY,filters:this._getSegmentFilters(),height:n,key:q.INSTANT_GAMES_CONTEXT_SIZE,maxBreakdowns:5,sessionLoggerID:this._sessionLoggerID,title:j._("SESIONES POR TAMA\u00d1O DE CONTEXTO"),tooltipTitle:j._("N\u00famero de sesiones jugadas en cada tama\u00f1o de contexto"),unitLabel:j._("Jugadores activos"),url:v,visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTANT_GAMES_CONTEXT_SIZE,width:m})},_renderInstantGamesContextTypeWidget:function u(){var v=this._getChartLocationURI({breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_CONTEXT_TYPE,event_name:c("AppCustomEventType").FB_INSTANT_GAMES_SESSION_PLAY,card:"trends",section:c("GriffinSections").CUSTOM_EVENTS,tab:"COUNT"});return c("React").createElement(c("GriffinOverviewBreakdownWidget"),{aggregation:"COUNT",breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_CONTEXT_TYPE,eventName:c("AppCustomEventType").FB_INSTANT_GAMES_SESSION_PLAY,filters:this._getSegmentFilters(),height:n,key:q.INSTANT_GAMES_CONTEXT_TYPE,maxBreakdowns:5,sessionLoggerID:this._sessionLoggerID,title:j._("SESIONES POR TIPO DE CONTEXTO"),tooltipTitle:j._("N\u00famero de sesiones jugadas en cada tipo de contexto de juegos instant\u00e1neos"),unitLabel:j._("Tipo de contexto"),url:v,visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTANT_GAMES_CONTEXT_TYPE,width:m})},_renderInstantGamesUpdateSendsWidget:function u(){var v=[{aggregation:"SUM",eventName:c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_SENT}];return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_TEMPLATE_NAME,event_name:c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_SENT,section:c("GriffinSections").CUSTOM_EVENTS,card:"trends",tab:"SUM"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.INSTANT_GAMES_UPDATE_SENDS,metrics:v,sessionLoggerID:this._sessionLoggerID,title:j._("INSTANT GAME UPDATES SENT"),tooltipTitle:j._("Total messages sent to players"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTANT_GAMES_UPDATE_SENDS,width:m,height:n})},_renderInstantGamesUpdateClicksWidget:function u(){var v=[{aggregation:"COUNT",eventName:c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK}];return c("React").createElement(c("GriffinOverviewSparklineWidget"),{chartLocations:{breakdown:c("UniversalCustomEventField").FB_INSTANT_GAMES_TEMPLATE_NAME,event_name:c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK,section:c("GriffinSections").CUSTOM_EVENTS,card:"trends",tab:"COUNT"},filters:this._getSegmentFilters(),formatValue:c("InsightsNumUtils").prettyShortInt.bind(c("InsightsNumUtils")),key:q.INSTANT_GAMES_UPDATE_CLICKS,metrics:v,sessionLoggerID:this._sessionLoggerID,title:j._("INSTANT GAME UPDATE CLICKS"),tooltipTitle:j._("Total Instant Game update clicks by players"),visibleDateRange:this.props.visibleDateRange,widgetKey:q.INSTANT_GAMES_UPDATE_CLICKS,width:m,height:n})},_getChartLocationURI:function u(v){var w=new(c("URI"))(window.location.href),x=this.props.visibleDateRange,y=babelHelpers["extends"]({},v,{since:x.since.getTime(),until:x.until.getTime()});w.addQueryData(y);return w},_getSegmentFilters:function u(){var v=c("LightweightSegmentStore").getAppliedSegment()||{};return{event_rules:v.event_rules,event_info_rules:v.event_info_rules,user_property_rules:v.user_property_rules,percentile_rules:v.percentile_rules,web_param_rules:v.web_param_rules}}});f.exports=t}),null);
__d("GriffinOverviewSparklineWidget",["cx","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppEventsSegmentShape","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiColors","BonsaiErrorNotice","CandelaStyleSheet","FalcorLoadingAndErrorChart","FalcorLoadingCard","GriffinOverviewCard","InsightsContext","InsightsUtils","React","URI","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").List,j=c("React").PropTypes,k=c("CandelaStyleSheet").fromJS({'gridline[orientation="horizontal"]':{visibility:"hidden"}}),l=c("React").createClass({displayName:"GriffinOverviewSparklineWidget",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{metrics:j.array.isRequired,visibleDateRange:j.object.isRequired,widgetKey:j.string.isRequired,legendValues:j.arrayOf(j.node),showLine:j.bool,unitLabel:j.node,showEmptyStateIfNoData:j.bool,filters:c("AppEventsSegmentShape"),postProcessData:j.func,sessionLoggerID:j.string.isRequired,height:j.number,width:j.number,tooltipTitle:j.node,formatValue:j.func,chartLocations:j.object},getInitialState:function m(){return{metricData:i(),metricErrors:i()}},componentWillMount:function m(){c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function m(n){if(this._shouldFetchData(this.props,n)){this.setState(this.getInitialState());this._fetchData(n)}if(n.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(n.sessionLoggerID,n.widgetKey)},_getQueries:function m(n){var o=n.visibleDateRange,p=c("InsightsUtils").utcTimeToPacificDay(o.since).getTime()/1e3,q=c("InsightsUtils").utcTimeToPacificDay(o.until).getTime()/1e3;return n.metrics.map(function(r,s){var t=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(r.eventName).setAggregations([r.aggregation]).setFilters(n.filters).setSince(p).setUntil(q).setTag(r.eventName);if(r.intervalsToAggregate)t.setIntervalsToAggregate(r.intervalsToAggregate);return{query:t,onQueryData:function(u){var v=new(c("BonsaiApiDataAdapter"))(u.getResult([r.aggregation]).formatResultsForBonsaiApiDataAdapter_DEPRECATED());this.setState({metricData:this.state.metricData.set(s,v),metricErrors:this.state.metricErrors.set(s,null)});this._onQueryData()}.bind(this),onQueryError:function(u){this.setState({metricData:this.state.metricData.set(s,null),metricErrors:this.state.metricErrors.set(s,u)});this._onQueryError()}.bind(this)}}.bind(this))},_onQueryData:function m(){var n=this.props,o=n.metrics,p=n.sessionLoggerID,q=n.widgetKey,r=this.state.metricData;if(r.size!==o.length)return;c("AnalyticsSessionDurationLogger").markComponentLoaded(p,q)},_onQueryError:function m(){var n=this.props,o=n.sessionLoggerID,p=n.widgetKey;if(this.state.error)c("AnalyticsSessionDurationLogger").unregisterComponent(o,p)},_isLoading:function m(){var n=this.state.metricData.some(function(o){return!o});return n||this.state.metricData.size<this.props.metrics.length},_getError:function m(){return this.state.metricErrors.find(function(n){return n!=null})},renderCandelaChart:function m(){var n=this._getError();if(n)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:n.getMessage()});if(this._isLoading())return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var o=this.state.metricData.toArray(),p=[],q=[],r=o.some(function(w){return w instanceof c("BonsaiApiDataAdapter")&&w.getRawData().length>0&&w.getTotal()!==0});if(!r)return null;if(this.props.postProcessData)o=this.props.postProcessData(o);for(var s=0;s<o.length;s++)if(o[s]instanceof c("BonsaiApiDataAdapter")){var t={data:o[s],color:c("BonsaiColors").OVERVIEW_LINE_COLORS[s]},u={data:o[s],key:"bucket_"+s};if(this.props.legendValues){t.legendValue=this.props.legendValues[s];u.title=this.props.legendValues[s]}else u.title=this.props.tooltipTitle;p[s]=t;q.push(u)}var v=c("InsightsContext").isDevsite()?this.props.width:this.state.chartWidth;return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:q,activeBreakdown:c("BonsaiApiBreakdown").NONE,chartKey:this.props.widgetKey,currentCard:"overview",formatValue:this.props.formatValue,height:this.props.height,width:v,hideLegend:!this.props.legendValues,showBreakdownSelector:false,styleSheet:this.props.legendValues?null:k,isSeconds:this.props.widgetKey==="app_time",unitLabel:this.props.unitLabel})},render:function m(){var n=new(c("URI"))(window.location.href);n.addQueryData(babelHelpers["extends"]({since:this.props.visibleDateRange.since.getTime(),until:this.props.visibleDateRange.until.getTime()},this.props.chartLocations));return c("React").createElement(c("GriffinOverviewCard"),babelHelpers["extends"]({url:n},this.props),this.renderCandelaChart())}});f.exports=l}),null);
__d("GriffinOverviewSummaryWidget",["cx","AnalyticsQueryAggregationMethod","AnalyticsCard","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AnalyticsSessionDurationLogger","AppEventMetricText","AppEventsSegmentShape","CustomEventStore","FalcorLoadingCard","AnalyticsKPIChartCell","InsightsContext","InsightsEventLogger","InsightsUtils","React","URI","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").List,j=c("React").PropTypes,k=c("React").createClass({displayName:"GriffinOverviewSummaryWidget",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{metrics:j.arrayOf(j.shape({event_name:j.string.isRequired,aggregateBy:j.string.isRequired,url:j.oneOfType([j.string,j.instanceOf(c("URI"))]),filter:c("AppEventsSegmentShape")})),visibleDateRange:j.shape({since:j.instanceOf(Date).isRequired,until:j.instanceOf(Date).isRequired}).isRequired,popDateRange:j.oneOfType([j.shape({since:j.instanceOf(Date).isRequired,until:j.instanceOf(Date).isRequired}),j.oneOf([null,undefined])]),widgetKey:j.string.isRequired,sessionLoggerID:j.string},getInitialState:function l(){return{metricData:i(),popMetricData:i(),metricErrors:i(),popMetricErrors:i()}},componentWillMount:function l(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey)},componentWillReceiveProps:function l(m){if(this._shouldFetchData(this.props,m)){this.setState(this.getInitialState());this._fetchData(m)}if(m.sessionLoggerID&&m.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(m.sessionLoggerID,m.widgetKey)},_getQueries:function l(m){var n=m.metrics,o=m.visibleDateRange,p=m.popDateRange,q=[];n.forEach(function(r,s){var t=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(r.event_name).setAggregations([r.aggregateBy]).setIntervalsToAggregate(0).setFilters(r.filter).setSince(c("InsightsUtils").utcTimeToPacificDay(o.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(o.until).getTime()/1e3).setTag(r.event_name);q.push({query:t,onQueryData:function(v){this.setState({metricData:this.state.metricData.set(s,v),metricErrors:this.state.metricErrors.set(s,null)});this._onQueryData()}.bind(this),onQueryError:function(v){this.setState({metricData:this.state.metricData.set(s,null),metricErrors:this.state.metricErrors.set(s,v)})}.bind(this)});if(p){var u=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setFilters(r.filter).setEventName(r.event_name).setAggregations([r.aggregateBy]).setIntervalsToAggregate(0).setDateRangeUTC(p).setTag(r.event_name);q.push({query:u,onQueryData:function(v){this.setState({popMetricData:this.state.popMetricData.set(s,v),popMetricErrors:this.state.popMetricErrors.set(s,null)});this._onQueryData()}.bind(this),onQueryError:function(v){this.setState({popMetricData:this.state.popMetricData.set(s,null),popMetricErrors:this.state.popMetricErrors.set(s,v)})}.bind(this)})}}.bind(this));return q},_onQueryData:function l(){var m=this.props,n=m.metrics,o=m.popDateRange,p=m.sessionLoggerID,q=m.widgetKey,r=this.state,s=r.metricData,t=r.popMetricData;if(!p)return;if(n&&s.size!==n.length)return;if(n&&o&&t.size!==n.length)return;c("AnalyticsSessionDurationLogger").markComponentLoaded(p,q)},_onQueryError:function l(){var m=this.props,n=m.sessionLoggerID,o=m.widgetKey;if(!n)return;if(this.state.error)c("AnalyticsSessionDurationLogger").unregisterComponent(n,o)},_getTotal:function l(m,n){if(!n)return null;var o=n.getTotals();switch(m.aggregateBy){case c("AnalyticsQueryAggregationMethod").USERS:return n.getUniquesTotalDangerously();case c("AnalyticsQueryAggregationMethod").USD_SUM:return o.usdSumTotal;case c("AnalyticsQueryAggregationMethod").SUM:return o.sumTotal;case c("AnalyticsQueryAggregationMethod").COUNT:return o.countTotal;default:return null}},_getVisibleTotal:function l(m,n){return this._getTotal(m,this.state.metricData.get(n))||0},_getPoPTotal:function l(m,n){return this._getTotal(m,this.state.popMetricData.get(n))||0},_renderItem:function l(m,n){var o=m.event_name,p=m.aggregateBy,q=m.title;if(!q)switch(p){case"USERS":q=c("AppEventMetricText").unique_users[o]||c("AppEventMetricText").unique_users["default"];break;case"USD_SUM":case"SUM":q=c("AppEventMetricText").value[o]||c("AppEventMetricText").value["default"];break;case"COUNT":default:q=c("CustomEventStore").getAppEventDisplayName(o)}var r=p==="USD_SUM"?"USD":"",s=this._getVisibleTotal(m,n),t=this._getPoPTotal(m,n),u=this.props.visibleDateRange,v=u.since,w=u.until,x=c("InsightsUtils").millisecondsToDays(w-v),y=x===1?x:x+1,z=this.state.metricErrors.get(n);return c("React").createElement(c("AnalyticsKPIChartCell"),{key:m.event_name+m.aggregateBy+q.toString(),visibleDataTotal:s,popDataTotal:t,title:q,currencyCode:r,onClick:m.url?this._onClick:undefined,url:m.url,numDaysInPeriod:y,error:z})},render:function l(){var m=[],n=!this.state.metricData.some(function(o){return o});if(n)m=[c("React").createElement(c("FalcorLoadingCard"),{showCard:false,key:"loadingCard"})];else if(this.props.metrics){m=this.props.metrics.map(this._renderItem).filter(function(o){return!!o});if(m.length===0&&this.props.metrics&&this.state.metricData.size===this.props.metrics.length)return null}return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement("div",{className:"_1umk"},m))},_onClick:function l(){c("InsightsEventLogger").logEvent({eventName:"overview_widget_click",widget:this.props.widgetKey})}});f.exports=k}),null);
__d("AnalyticsOverviewChartCard",["cx","invariant","AnalyticsChartActionType","AnalyticsChartActionUtils","AnalyticsErrorBoundary","InsightsEventLogger","React","RelayModern","SUIBusinessTheme","SUICard.react","SUICardBody.react","SUICardFooter.react","SUICardHeader.react","SUICardTitle.react","SUIHelpMessage.react","idx","AnalyticsOverviewChartCard_chart.graphql"],(function a(b,c,d,e,f,g,h,i){var j,k,l,m,n=c("RelayModern").createFragmentContainer,o=c("RelayModern").graphql;j=babelHelpers.inherits(p,c("React").PureComponent);k=j&&j.prototype;p.prototype.render=function(){"use strict";return this.props.renderBody()};function p(){"use strict";j.apply(this,arguments)}l=babelHelpers.inherits(q,c("React").PureComponent);m=l&&l.prototype;function q(){var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.$AnalyticsOverviewChartCard7=function(){var w,x;c("InsightsEventLogger").logEvent({eventName:"overview_chart_link_click",chart_type:(w=this.props)!=null?(w=w.chart)!=null?w.chart_type:w:w,key:(x=this.props)!=null?(x=x.chart)!=null?x.id:x:x})}.bind(this),s}q.prototype.render=function(){"use strict";return c("React").createElement(c("SUICard.react"),{theme:c("SUIBusinessTheme")},this.$AnalyticsOverviewChartCard1(),c("React").createElement(c("SUICardBody.react"),null,c("React").createElement("div",{className:"_1diw"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"overview-"+this.$AnalyticsOverviewChartCard2()},c("React").createElement(p,{renderBody:this.props.renderBody})))),this.$AnalyticsOverviewChartCard3())};q.prototype.$AnalyticsOverviewChartCard2=function(){var r;"use strict";return String((r=this.props)!=null?(r=r.chart)!=null?r.id:r:r)};q.prototype.$AnalyticsOverviewChartCard1=function(){var r;"use strict";return c("React").createElement(c("SUICardHeader.react"),null,c("React").createElement("div",{className:"_1dix"},c("React").createElement(c("SUICardTitle.react"),null,c("React").createElement("span",null,(r=this.props)!=null?(r=r.chart)!=null?r.name:r:r,this.$AnalyticsOverviewChartCard4()))))};q.prototype.$AnalyticsOverviewChartCard4=function(){var r;"use strict";var s=(r=this.props)!=null?(r=r.chart)!=null?r.description:r:r;if(!s)return null;return c("React").createElement(c("SUIHelpMessage.react"),{position:"above",theme:c("SUIBusinessTheme"),value:s})};q.prototype.$AnalyticsOverviewChartCard3=function(){"use strict";var r=this.props.footerNotice,s=this.$AnalyticsOverviewChartCard5();if(r==null&&s==null)return null;return c("React").createElement(c("SUICardFooter.react"),{rightContent:s},r)};q.prototype.$AnalyticsOverviewChartCard5=function(){"use strict";var r=this.$AnalyticsOverviewChartCard6();if(r.length===0)return null;r.length===1||i(0);var s=r[0];if(s.type!==c("AnalyticsChartActionType").INTERNAL_LINK)throw new Error("Unsupported chart action type "+s.type);return c("React").createElement("a",{className:"_3fbu",href:c("AnalyticsChartActionUtils").getInternalLinkURI(s.section,s.serialized_query_data),onClick:this.$AnalyticsOverviewChartCard7},s.text)};q.prototype.$AnalyticsOverviewChartCard6=function(){var r;"use strict";var s=this.props,t=s.chart,u=s.chartActionsOverride,v=(r=t)!=null?r.actions:r,w=v==null?[]:v.map(c("AnalyticsChartActionUtils").assertAction);return u==null?w:u(w)};f.exports=n(q,{chart:function r(){return c("AnalyticsOverviewChartCard_chart.graphql")}})}),null);
__d("AnalyticsOverviewDashboard",["fbt","AnalyticsChartSize","AnalyticsDateUtils","AnalyticsErrorBoundary","AnalyticsInsightsCarousel","AnalyticsOverviewChartUniform","AnalyticsSegmentUtils","AnalyticsReadonlyResponsiveChartLayout","AnalyticsSessionDurationLogger","FalcorErrorNotice","FalcorLoadingCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSections","GriffinSegmentUtils","InsightsContext","React","areEqual"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l=6,m=(k={},k[c("AnalyticsChartSize").LARGE]=6,k[c("AnalyticsChartSize").MEDIUM]=3,k[c("AnalyticsChartSize").SMALL]=2,k);function n(p){return c("AnalyticsSessionDurationLogger").createSession({days_range:c("AnalyticsDateUtils").getDaysInRange(p.visibleDateRange),section:c("GriffinSections").OVERVIEW,segment_applied:String(!c("GriffinSegmentUtils").isEmpty(p.appliedSegment))})}i=babelHelpers.inherits(o,c("React").PureComponent);j=i&&i.prototype;function o(p){j.constructor.call(this);this.state={sessionLoggerID:n(p)}}o.prototype.componentWillReceiveProps=function(p){if(!c("areEqual")([this.props.appliedSegment,this.props.visibleDateRange],[p.appliedSegment,p.visibleDateRange]))this.setState({sessionLoggerID:n(p)})};o.prototype.$AnalyticsOverviewDashboard1=function(){};o.prototype.render=function(){return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:this.props.dateRangeType,fullDateRange:this.props.fullDateRange,showDatePicker:true,showCompare:false,showSamplingDisclosureInHeader:true,showSegments:true,visibleDateRange:this.props.visibleDateRange},this.$AnalyticsOverviewDashboard2())};o.prototype.$AnalyticsOverviewDashboard2=function(){return c("React").createElement("div",null,c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"insights",hideOnError:true},c("React").createElement(c("AnalyticsInsightsCarousel"),{section:c("GriffinSections").OVERVIEW})),this.$AnalyticsOverviewDashboard3())};o.prototype.$AnalyticsOverviewDashboard3=function(){var p=this.props,q=p.chartPlacements,r=p.isLoading,s=p.error;if(r)return c("React").createElement(c("FalcorLoadingCard"),null);else if(s)return c("React").createElement(c("FalcorErrorNotice"),{message:s.message});else if(q==null)return c("React").createElement(c("FalcorErrorNotice"),{message:h._("Error al cargar los gr\u00e1ficos")});else if(q.length===0)if(c("InsightsContext").isPage())return c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"OverviewForPages"});else return c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Overview"});else return c("React").createElement(c("AnalyticsReadonlyResponsiveChartLayout"),{chartPlacements:q,chartSizeWeights:m,inheritedSegment:this.$AnalyticsOverviewDashboard4(),numColumns:l,sessionLoggerID:this.state.sessionLoggerID,uniform:c("AnalyticsOverviewChartUniform")})};o.prototype.$AnalyticsOverviewDashboard4=function(){var p=this.props.appliedSegment;return p==null?c("AnalyticsSegmentUtils").ALL_USERS:c("AnalyticsSegmentUtils").toSegment(p)};f.exports=o}),null);
__d("AnalyticsOverviewDashboardQueryRenderer",["AnalyticsOverviewDashboard","React","RelayFBEnvironment","RelayModern","idx","AnalyticsOverviewDashboardQueryRendererQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").graphql,k=c("RelayModern").QueryRenderer,l=function l(){return c("AnalyticsOverviewDashboardQueryRendererQuery.graphql")};h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;m.prototype.render=function(){var n=this.props.analyticsEntityID;return c("React").createElement(k,{environment:c("RelayFBEnvironment"),query:l,variables:{analyticsEntityID:n},render:function(o){return this.$AnalyticsOverviewDashboardQueryRenderer1(o)}.bind(this)})};m.prototype.$AnalyticsOverviewDashboardQueryRenderer1=function(n){var o,p=n.error,q=n.props,r=(o=q)!=null?(o=o.analytics_entity)!=null?o.overview_layout:o:o,s=this.props,t=s.analyticsEntityID,u=s.appliedSegment,v=s.dateRangeType,w=s.fullDateRange,x=s.visibleDateRange;return c("React").createElement(c("AnalyticsOverviewDashboard"),{analyticsEntityID:t,appliedSegment:u,chartPlacements:r,dateRangeType:v,error:p,fullDateRange:w,isLoading:!q&&!p,visibleDateRange:x})};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("AnalyticsOverviewDashboardSectionController",["fbt","AnalyticsOverviewDashboardQueryRenderer","FalcorErrorNotice","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.analyticsEntityID,n=l.appliedSegment,o=l.dateRangeType,p=l.fullDateRange,q=l.visibleDateRange;if(m==null)return c("React").createElement(c("FalcorErrorNotice"),{message:h._("No se ha seleccionado ninguna entidad de Analytics")});return c("React").createElement(c("AnalyticsOverviewDashboardQueryRenderer"),{analyticsEntityID:m,appliedSegment:n,dateRangeType:o,fullDateRange:p,visibleDateRange:q})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsOverviewSectionController",["AnalyticsOverviewDashboardSectionController","AnalyticsQEUtils","AnalyticsQEUniverses","GriffinOverviewSectionController","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){if(c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_OVERVIEW_DASHBOARD))return c("React").createElement(c("AnalyticsOverviewDashboardSectionController"),this.props);else return c("React").createElement(c("GriffinOverviewSectionController"),this.props)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("GriffinAbstractPeopleSectionController",["InsightsEventLogger","InternalAnalyticsQueryBuilder","AppCustomEventType","CustomEventStore","FalcorLoadingCard","FluxContainer","GriffinDefaultSectionController","GriffinEmptyStateCard","LightweightSegmentStore","PeopleStore","React","SegmentListStore","AnalyticsDateUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("AnalyticsDateUtils").DateRangeTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.getStores=function(){return[c("LightweightSegmentStore"),c("SegmentListStore")]};k.calculateState=function(l){var m=c("LightweightSegmentStore").getPeopleSegment();if(m)c("PeopleStore").setSegmentEntity(m);var n=c("LightweightSegmentStore").getAppliedSegment();return{segmentID:n&&n.id?String(n.id):null,segment:m}};k.prototype.getInitialState=function(){return{segmentID:this.props.featureID,totalUsers:null}};k.prototype.componentWillMount=function(){if(c("CustomEventStore").appNeedsMoreEventsToCreateFeature(this.props.sectionKey))return;var l=c("PeopleStore").getLast28Days(),m=l.startTime,n=l.endTime;this.$GriffinAbstractPeopleSectionController1=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("nullthrows")(this.props.analyticsEntityID)).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setSince(m).setUntil(n).setTag("overview_demo").getTopUniquesInDateRangeQueryAsPromise();this.$GriffinAbstractPeopleSectionController1.promise.done(function(o){this.setState({totalUsers:o.getUniquesTotalDangerously()})}.bind(this),function(o){})};k.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView(this.props.sectionKey.toLowerCase(),{segment_id:this.state.segmentID})};k.prototype.componentDidUpdate=function(l,m){if(m.segmentID!==this.state.segmentID)c("InsightsEventLogger").logCardView(this.props.sectionKey.toLowerCase(),{segment_id:this.state.segmentID})};k.prototype.componentWillUnmount=function(){if(this.$GriffinAbstractPeopleSectionController1)this.$GriffinAbstractPeopleSectionController1.cancel()};k.prototype.showSegmentDialog=function(){this.refs.selector.showSegmentDialog()};k.prototype.render=function(){return c("React").createElement(c("GriffinDefaultSectionController"),{datePickerDisabled:true,dateRangeType:j.LAST_28_DAYS,fullDateRange:this.props.fullDateRange,showCompare:false,showDatePicker:true,showSegments:true,visibleDateRange:this.props.visibleDateRange},this.$GriffinAbstractPeopleSectionController2())};k.prototype.$GriffinAbstractPeopleSectionController2=function(){var l=c("CustomEventStore").appNeedsMoreEventsToCreateFeature(this.props.sectionKey);if(!l&&this.state.totalUsers===null)return c("React").createElement(c("FalcorLoadingCard"),null);else if(l||this.state.totalUsers===0)return c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:this.props.sectionKey});else return this.props.children};function k(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("AnalyticsQueryJobStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({JOB_SCHEDULED:"job_scheduled",NOT_LAUNCHED:"job_not_launched",STARTED:"job_started",PROGRESS_NOTICE:"job_progress",COMPLETED:"job_completed",FAILED:"job_failed"})}),null);
__d("PeopleInsightsStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({API_ERROR:"api_error",COMPLETE:"complete",PARTIAL:"partial",TOO_FEW_USERS:"too_few_users",ERROR:"error",LOADING:"loading",NOT_STARTED:"not_started",AUDIENCE_LOADING:"audience_loading",QUERY_TOO_SPECIFIC:"query_too_specific"})}),null);
__d("PeopleText",["fbt","GriffinSections","KeplerTabsText","PeopleInsightsStatus","React","KeplerConstants"],(function a(b,c,d,e,f,g,h){var i=c("KeplerConstants").CategoryDescriptions,j=c("React").createElement("a",{href:"https://www.facebook.com/help/analytics/943982785717811",target:"_blank"},h._("Obt\u00e9n m\u00e1s informaci\u00f3n sobre los datos que veas")),k=c("React").createElement("a",{href:"https://www.facebook.com/help/analytics/1679424332331522",target:"_blank"},h._("Obt\u00e9n m\u00e1s informaci\u00f3n sobre los datos que veas")),l=c("React").createElement("a",{href:"https://www.facebook.com/help/analytics/1553730968289933",target:"_blank"},h._("Obt\u00e9n m\u00e1s informaci\u00f3n sobre los datos que veas")),m={ratio_titles:{purchase_behavior:h._("Comportamiento de compra"),spending_methods:h._("M\u00e9todos de gasto"),education_level:h._("Nivel de formaci\u00f3n"),home_ownership:h._("Vivienda en propiedad"),household_income:h._("Ingresos del hogar"),household_size:h._("Tama\u00f1o del hogar"),job_titles:h._("Cargos"),lifestyles:h._("Estilos de vida"),online_spending_behaviors:h._("Compras en internet"),payment_preferences:h._("M\u00e9todos de gasto"),relationship:h._("Situaci\u00f3n sentimental"),retail_spend:h._("Gasto al por menor")},descriptions:{purchase_behavior:h._("Comportamiento de los consumidores de EE. UU. seg\u00fan sus actividades de compra. Fuente: Oracle Data Cloud, Epsilon y Acxiom"),spending_methods:c("KeplerTabsText").SPENDING_METHODS_DESC,education_level:c("KeplerTabsText").EDUCATION_LEVEL_DESC,home_market_value:c("KeplerTabsText").HOME_MARKET_VALUE_DESC,home_ownership:c("KeplerTabsText").HOME_OWNERSHIP_DESC,household_income:c("KeplerTabsText").HOUSEHOLD_INCOME_DESC,household_size:c("KeplerTabsText").HOUSEHOLD_SIZE_DESC,job_titles:c("KeplerTabsText").JOB_TITLE_DESC,lifestyles:h._("Datos demogr\u00e1ficos y de intereses de EE. UU. seg\u00fan el comportamiento de compra, la afinidad con la marca y otras actividades. Fuente: Acxiom (Personicx)"),online_spending_behaviors:c("KeplerTabsText").ONLINE_PURCHASES_DESC,relationship:c("KeplerTabsText").RELATIONSHIP_STATUS_DESC,retail_spend:c("KeplerTabsText").RETAIL_SPENDING_DESC},bucket_descriptions:{"Apple Pie Families":i["6006371272932"],"Outward Bound":i["6006371277132"],"Acred Couples":i["6006371274332"],"Career Building":i["6006371274532"],"Career Centered Singles":i["6006371262332"],"Cartoons and Carpools":i["6006371277732"],"Children First":i["6006371273932"],"City Mixers":i["6006371275932"],"Clubs and Causes":i["6006371274732"],"Collegiate Crowd":i["6006371282932"],"Corporate Clout":i["6006371278332"],"Country Comfort":i["6006371273332"],"Country Single":i["6006371272732"],"Country Ways":i["6006371272532"],"Dynamic Duos":i["6006371273732"],"Established Elite":i["6006371276132"],"Full Steaming":i["6006371325532"],"Fun & Games":i["6006371274132"],"Hard Chargers":i["6006371260332"],"Kids and Clout":i["6006371260532"],"Lavish Lifestyles":i["6006371325332"],"Married Sophisticates":i["6006371273132"],"Metro Mix":i["6006371276732"],"Mid Americana":i["6006371276532"],"Platinum Oldies":i["6006371325732"],"Raisin' GrandKids":i["6006371277532"],"Rural Parents":i["6006371280132"],"Savvy Singles":i["6006371275132"],"Shooting Stars":i["6006371324532"],"Sitting Pretty":i["6006371283732"],"Skyboxes and Suburbans":i["6006371280932"],"Soccer and SUVs":i["6006371275332"],"Solid Single Parents":i["6006371262132"],"Solo and Stable":i["6006371277332"],"Spouses and Houses":i["6006371276332"],"Suburban Seniors":i["6006371275532"],"Summit Estates":i["6006371273532"],"Tots and Toys":i["6006371260932"],"Truckin' & Stylin'":i["6006371278732"],"Urban Tenants":i["6006371276932"]},household_income:{"1. $30,000 - $40,000":"$30-40K","2. $40,000 - $50,000":"$40-50K","3. $50,000 - $75,000":"$50-75K","4. $75,000 - $100,000":"$75-100K","5. $100,000 - $125,000":"$100-125K","6. $125,000 - $150,000":"$125-150K","7. $150,000 - $250,000":"$150-250K","8. $250,000 - $350,000":"$250-350K","9. $350,000 - $500,000":"$350-500K","9. Over $500,000":"> $500K"},online_spending_behaviors:{"Spend on online purchases= Low":h._("Bajo"),"Spend on online purchases= Medium":h._("Medio"),"Spend on online purchases= High":h._("Alto"),"Spend on online purchases= No Activity":h._("Ninguno")},spending_methods:{"Any card type":c("KeplerTabsText").ANY_CARD_COLUMN,"Bank cards":c("KeplerTabsText").BANK_CARD_COLUMN,"Gas, department and retail store cards":c("KeplerTabsText").GAS_STORE_CARD_COLUMN,"High-end department store cards":c("KeplerTabsText").UPSCALE_DEPARTMENT_STORE_CARD_COLUMN,"Premium credit cards":c("KeplerTabsText").PREMIUM_CARD_COLUMN,"Travel and entertainment cards":c("KeplerTabsText").TRAVEL_AND_ENTERTAINMENT_CARD_COLUMN},education_level:{College:c("KeplerTabsText").COLLEGE_COLUMN,"High school":c("KeplerTabsText").HIGH_SCHOOL_COLUMN,"Graduate school":c("KeplerTabsText").GRAD_SCHOOL_COLUMN},home_owner:{Owner:c("KeplerTabsText").OWNER_COLUMN,Renter:c("KeplerTabsText").RENTER_COLUMN},relationship:{Unknown:h._("Desconocida"),Married:c("KeplerTabsText").MARRIED_COLUMN,Single:c("KeplerTabsText").SINGLE_COLUMN,"In a Relationship":c("KeplerTabsText").IN_A_RELATIONSHIP_COLUMN,Engaged:c("KeplerTabsText").ENGAGED_COLUMN},retail_spend:{Poor:c("KeplerTabsText").LOW_RETAIL_SPEND_COLUMN,"Above Average":c("KeplerTabsText").HIGH_RETAIL_SPEND_COLUMN},job_titles:{"Business and Financial Operations":h._("Operaciones empresariales y financieras"),Administrative:h._("Administrativo"),"Education and Library":h._("Educaci\u00f3n y bibliotecas"),Management:h._("Administraci\u00f3n"),Sales:h._("Ventas"),"IT and Technical":h._("Tecnolog\u00eda de la informaci\u00f3n y otras profesiones t\u00e9cnicas"),Legal:h._("\u00c1mbito legal"),Retail:h._("Venta al por menor"),"Temporary and Seasonal":h._("Temporal y estacional"),"Personal Care":h._("Cuidado personal"),"Arts, Entertainment, Sports and Media":h._("Artes, entretenimiento, deportes y medios"),Production:h._("Producci\u00f3n"),"Transportation and Moving":h._("Transporte y traslado"),"Architecture and Engineering":h._("Arquitectura e ingenier\u00eda"),"Food Preparation and Services":h._("Preparaci\u00f3n y servicios de alimentos"),"Construction and Extraction":h._("Construcci\u00f3n y extracci\u00f3n"),"Healthcare and Medical":h._("Asistencia m\u00e9dica y sanitaria"),"Installation and Repair":h._("Instalaci\u00f3n y reparaci\u00f3n"),"Life, Physical, and Social Science":h._("Biolog\u00eda, F\u00edsica o Ciencias sociales"),"Computer and Mathematics":h._("Inform\u00e1tica y matem\u00e1ticas"),"Community and Social Services":h._("Comunidad y servicios sociales"),"Protective Service":h._("Servicio de protecci\u00f3n"),"Farming, Fishing and Forestry":h._("Agricultura, pesca y silvicultura"),"Cleaning and Maintenance":h._("Limpieza y mantenimiento"),Military:h._("Ej\u00e9rcito"),"Veterans (US)":h._("Veteranos (EE. UU.)"),"Government Employees":h._("Funcionarios del gobierno"),Nurses:h._("Enfermeros")},loading:{title:h._("Procesando\u2026"),long_message:h._("Vamos a procesar las estad\u00edsticas de tu p\u00fablico. Vuelve m\u00e1s tarde para obtener informaci\u00f3n sobre los grupos de personas que usan tu aplicaci\u00f3n.")},audience_loading:{title:h._("Procesando\u2026"),long_message:h._("Estamos procesando tus estad\u00edsticas de p\u00fablico. Regresa en unos minutos para verlo y hacer los cambios que desees.")},not_us:{title:h._("No podemos mostrar estos datos"),long_message:h._("Para proteger la privacidad de las personas, estos datos demogr\u00e1ficos solo est\u00e1n disponibles para segmentos formados, como m\u00ednimo, por 100 personas que vivan en Estados Unidos y tengan m\u00e1s de 18 a\u00f1os. {link says Learn more about the data you\\'ll see} cuando tu segmento cumpla estos requisitos.",[h.param("link says Learn more about the data you\\'ll see",k)])},too_few_users:{title:h._("No podemos mostrar estos datos"),long_message:h._("Para proteger la privacidad de las personas, estos datos  solo est\u00e1n disponibles para segmentos formados, como m\u00ednimo, por 100 personas que tengan m\u00e1s de 18 a\u00f1os y hayan estado activos en Facebook durante los \u00faltimos 30 d\u00edas. {link says Learn more about the data you\\'ll see} cuando tu segmento cumpla estos requisitos.",[h.param("link says Learn more about the data you\\'ll see",j)])},no_data_demo:{title:h._("Estos datos no est\u00e1n disponibles"),long_message:h._("No hay demasiadas personas en tu segmento que hayan a\u00f1adido esta informaci\u00f3n demogr\u00e1fica en Facebook. {link says Learn more about the data you\\'ll see} cuando haya suficientes personas de tu segmento que la a\u00f1adan.",[h.param("link says Learn more about the data you\\'ll see",j)])},no_data_partner:{title:h._("Estos datos no est\u00e1n disponibles"),long_message:h._("No hay demasiadas personas en tu segmento que coincidan con los datos de la categor\u00eda de socios para que te podamos mostrar los datos demogr\u00e1ficos. {link says Learn more about the data you\\'ll see} cuando tu segmento cumpla estas condiciones.",[h.param("link says Learn more about the data you\\'ll see",k)])},no_data_page:{title:h._("Estos datos no est\u00e1n disponibles"),long_message:h._("No hay demasiadas personas en tu segmento que hayan indicado que les gustan las mismas p\u00e1ginas populares para mostrarte los datos. {link says Learn more about the data you\\'ll see} cuando haya suficientes personas de tu segmento a las que les gusten las mismas p\u00e1ginas.",[h.param("link says Learn more about the data you\\'ll see",l)])},unknown_error:{title:h._("Error desconocido. Prueba a actualizar la p\u00e1gina"),long_message:null},ad_hoc:{title:h._("Guarda este segmento para continuar"),long_message:h._("Comenzaremos a procesar las estad\u00edsticas de tu p\u00fablico cuando guardes este segmento.")},getRatioTitle:function n(o){var p=this.ratio_titles[o];return p||o},getBucketLabel:function n(o,p){if(!this[o])return p;return this[o][p]||p},getStatusErrorText:function n(o,p){switch(o){case c("PeopleInsightsStatus").ERROR:return p===c("GriffinSections").HOUSEHOLD_PURCHASE?this.no_data_partner:this.no_data_demo;case c("PeopleInsightsStatus").LOADING:return this.loading;case c("PeopleInsightsStatus").AUDIENCE_LOADING:return this.audience_loading;case c("PeopleInsightsStatus").TOO_FEW_USERS:return p===c("GriffinSections").HOUSEHOLD_PURCHASE?this.not_us:this.too_few_users;case c("PeopleInsightsStatus").API_ERROR:return this.unknown_error;case c("PeopleInsightsStatus").QUERY_TOO_SPECIFIC:return this.too_few_users;case"ad_hoc segment":return this.ad_hoc}return null}};f.exports=m}),null);
__d("GriffinAudienceInsightsBarChart",["cx","fbt","AnalyticsCard","AnalyticsQueryJobStatus","BonsaiText","FalcorLoadingCard","InsightsNumUtils","PeopleStore","PeopleText","React","ReactComponentWithPureRenderMixin"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"GriffinAudienceInsightsBarChart",mixins:[c("ReactComponentWithPureRenderMixin")],_listeners:[],propTypes:{metricKey:j.string.isRequired,chartType:j.func.isRequired},getInitialState:function l(){return{error:null,peopleData:null}},componentWillMount:function l(){this._listeners.push(c("PeopleStore").subscribe("people_insights",this.onPeopleDataLoad));c("PeopleStore").getPeopleData()},componentWillUnmount:function l(){this._listeners.forEach(function(m){m.remove()})},onPeopleDataLoad:function l(m){if(m){var n=m.people_insights_status,o=c("PeopleText").getStatusErrorText(n);if(o){this.setState({error:o});return}if(!m.ratios||!m.ratios[this.props.metricKey]){this.setState({error:c("BonsaiText").errors.unavailable});return}var p=m.ratios[this.props.metricKey];this.setState({peopleData:p,error:p.error?c("PeopleText").no_data_demo:null})}else if(m===null){this.setState({error:null,peopleData:null});c("PeopleStore").getPeopleData()}},_renderLoadingCard:function l(){var m=c("React").createElement("span",{className:"_529k _2aax"},c("PeopleText").getRatioTitle(this.props.metricKey));if(!this.state.peopleData)return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},m,c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}));return null},render:function l(){if(this.state.error)return null;var m=this._renderLoadingCard();if(m)return m;if(!this.state.peopleData||!this.state.peopleData.data)return null;var n=this.state.peopleData.overlap?c("React").createElement("span",{className:"_5f0i"},i._("{percent number} de personas coinciden",[i.param("percent number",c("InsightsNumUtils").prettyPercent(this.state.peopleData.overlap,1))])):null,o=this.state.peopleData.overlap?i._("{chart title}\/{percentage of audience matched}",[i.param("chart title",c("PeopleText").getRatioTitle(this.props.metricKey)),i.param("percentage of audience matched",n)]):c("PeopleText").getRatioTitle(this.props.metricKey),p=this.props.chartType,q=this.state.peopleData.data.map(function(r){return babelHelpers["extends"]({},r,{description:c("PeopleText").bucket_descriptions[r.title]})});return c("React").createElement(p,babelHelpers["extends"]({},this.props,{title:o,description:c("PeopleText").descriptions[this.props.metricKey],data:q}))}});f.exports=k}),null);
__d("GriffinPageLikesChart",["cx","AnalyticsCard","AnalyticsQueryJobStatus","FalcorErrorNotice","FalcorLoadingCard","PeopleStore","PeopleText","React","ReactComponentWithPureRenderMixin"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"GriffinPageLikesChart",mixins:[c("ReactComponentWithPureRenderMixin")],_listeners:[],propTypes:{chartType:i.func.isRequired},getInitialState:function k(){return{error:null,pageLikesData:null}},componentWillMount:function k(){this._listeners.push(c("PeopleStore").subscribe("people_insights",this.onPageLikeLoad));this._fetchPageLikesFromStore()},componentWillUnmount:function k(){this._listeners.forEach(function(l){l.remove()})},_fetchPageLikesFromStore:function k(){c("PeopleStore").getPeopleData()},onPageLikeLoad:function k(l){if(l){var m=l.people_insights_status,n=c("PeopleText").getStatusErrorText(m);if(n){this.setState({error:n});return}if(!l.pages){this.setState({error:c("PeopleText").no_data_page});return}var o=l.pages.top_categories;this.setState({pageLikesData:o})}else if(l===null){this.setState({pageLikesData:null,error:null});this._fetchPageLikesFromStore()}},renderLoadingOrErrorCard:function k(){if(this.state.error)return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},c("React").createElement(c("FalcorErrorNotice"),{message:this.state.error.title||this.state.error},this.state.error.long_message||null));if(!this.state.pageLikesData)return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}));return null},render:function k(){var l=this.renderLoadingOrErrorCard();if(l)return l;var m=this.props.chartType;return c("React").createElement(m,babelHelpers["extends"]({},this.props,{data:this.state.pageLikesData}))}});f.exports=j}),null);
__d("GriffinPeopleDataTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({title:h.string.isRequired,pages:h.arrayOf(h.shape({title:h.string.isRequired,rank:h.number.isRequired,ratio:h.number.isRequired,benchmark:h.number,url:h.string}))});f.exports={PageCategoryPropType:i}}),null);
__d("GriffinPageLikesTable",["cx","fbt","AnalyticsCard","FalcorPaginatedDataTable","InsightsContext","InsightsNumUtils","GriffinPeopleDataTypes","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("GriffinPeopleDataTypes").PageCategoryPropType,m=c("React").PropTypes,n=4;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(){k.constructor.call(this);this.getColumns=function(){return[{label:i._("P\u00e1ginas"),id:"pages",sortable:true,width:250},{label:i._("Relevancia"),id:"relevance",comparator:function p(q,r){return q.relevance-r.relevance},sortable:true},{cellRenderer:this.formatPercentage,label:i._("Tu p\u00fablico"),sortable:true,id:"audience"},{cellRenderer:this.formatSize,label:i._("Me gusta de Facebook"),sortable:true,id:"facebook"},{label:i._("Categor\u00eda"),sortable:true,id:"category",width:230}]}.bind(this);this.getRows=function(){var p=[],q=c("InsightsContext").isDemoApp();this.props.data.forEach(function(r){r.pages.forEach(function(s){if(q&&s.rank<=n)return;p.push({pages:s.title,relevance:q?s.rank-n:s.rank,audience:s.ratio,facebook:s.benchmark,category:r.title})})});return p}.bind(this);this.formatPercentage=function(p){return Math.round(p*1e3)/10+"%"};this.formatSize=function(p){return c("InsightsNumUtils").prettyShortInt(p)};this.$GriffinPageLikesTable1=function(p){this.setState({searchString:p.target.value});this.refs.pageLikesTable.onSearchChange(p)}.bind(this);this.state={searchString:""}}o.prototype.render=function(){return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6",title:i._("Me gusta de la p\u00e1gina"),showLine:false,searchString:this.state.searchString||"",onSearchChange:this.$GriffinPageLikesTable1},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"pageLikesTable",columns:this.getColumns(),columnToSortBy:"relevance",searchFieldName:"pages",rows:this.getRows(),pageSize:Infinity}))};o.propTypes={data:m.arrayOf(l).isRequired};f.exports=o}),null);
__d("GriffinPeopleBarChart",["AppEventsAggregatingColumn","GriffinAudienceInsightsBarChart","GriffinSegmentBarChart","GriffinPageLikesChart","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.checkIsSegmentMetric=function(){if(this.props.metricKey==="age,gender")return true;for(var q in c("AppEventsAggregatingColumn"))if(c("AppEventsAggregatingColumn")[q]===this.props.metricKey)return true;return false}.bind(this),m}k.prototype.render=function(){if(this.checkIsSegmentMetric())return c("React").createElement(c("GriffinSegmentBarChart"),this.props);if(this.props.metricKey==="page_likes")return c("React").createElement(c("GriffinPageLikesChart"),this.props);return c("React").createElement(c("GriffinAudienceInsightsBarChart"),this.props)};k.propTypes={metricKey:j.string.isRequired,chartType:j.func.isRequired,cardKey:j.string.isRequired};f.exports=k}),null);
__d("GriffinPeopleDemographicSectionController",["cx","AnalyticsCard","AppEventsAggregatingColumn","FalcorErrorNotice","FalcorLoadingCard","GriffinAbstractPeopleSectionController","GriffinPeopleHorizontalBarChart","GriffinPeopleBarChart","GriffinPeopleVerticalBarChart","GriffinSections","PeopleStore","PeopleText","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.getKey=function(){return c("GriffinSections").PEOPLE_DEMOGRAPHICS};function k(){j.constructor.call(this);this.state={loading:true,status:null,data:null};this.onPeopleDataLoad=function(l){if(l){var m=l.people_insights_status;this.setState({status:m,data:l.ratios,loading:false})}else this.setState({status:null,data:null,loading:true})}.bind(this);this.$GriffinPeopleDemographicSectionController1=[]}k.prototype.componentWillMount=function(){this.$GriffinPeopleDemographicSectionController1.push(c("PeopleStore").subscribe("people_insights",this.onPeopleDataLoad));c("PeopleStore").getPeopleData()};k.prototype.componentWillUnmount=function(){this.$GriffinPeopleDemographicSectionController1.forEach(function(l){l.remove()})};k.prototype.getContent=function(){if(this.state.loading)return c("React").createElement(c("FalcorLoadingCard"),null);var l=c("PeopleText").getStatusErrorText(this.state.status,c("GriffinSections").PEOPLE_DEMOGRAPHICS);if(!l){var m=["job_titles","education_level","relationship"],n=m.every(function(p){return this.state.data&&this.state.data[p]&&this.state.data[p].data}.bind(this));l=!n?c("PeopleText").no_data_demo:null}var o=l?c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},c("React").createElement(c("FalcorErrorNotice"),{className:"_1jgf",message:l.title},l.long_message)):null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"age,gender",cardKey:"age_gender",chartType:c("GriffinPeopleVerticalBarChart"),metricKey:"age,gender",size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"country",cardKey:"country",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").COUNTRY,size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"city",cardKey:"city",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").CITY_CODE,size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"language",cardKey:"language",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").LOCALE,size:"small"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"job_titles",cardKey:"job_titles",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"job_titles",size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"education_level",cardKey:"education_level",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"education_level",size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"relationship",cardKey:"relationship",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"relationship",size:"small"})),c("React").createElement("div",{className:"_4jip _4jiq"},o))};k.prototype.render=function(){return c("React").createElement(c("GriffinAbstractPeopleSectionController"),babelHelpers["extends"]({},this.props,{sectionKey:c("GriffinSections").PEOPLE_DEMOGRAPHICS}),this.getContent())};f.exports=k}),null);
__d("GriffinPeopleHorizontalBarChart",["CandelaGroupScaleBuilder","FalcorDataTooltip","FalcorChartFormatters","GriffinHorizontalBarChart","PeopleText","React","GriffinConstants","CandelaConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("GriffinConstants").BreakdownsToAppearAtBottom,i=c("CandelaGroupScaleBuilder").group,j=c("React").PropTypes,k=c("CandelaConstants").ScaleType,l=12,m=5,n=6,o=1e-4,p=c("React").createClass({displayName:"GriffinPeopleHorizontalBarChart",propTypes:{cardKey:j.string.isRequired,title:j.string.isRequired,data:j.arrayOf(j.object).isRequired,description:j.string,size:j.oneOf(["small","large"])},_sortData:function q(r){var s=r.sort(function(t,u){if(h.has(t.title))return 1;else if(h.has(u.title))return-1;var v=u.ratio-t.ratio;if(v===0)return u.title.localeCompare(t.title);return v});return s.filter(function(t){return t.ratio>o}).map(function(t){return{title:c("PeopleText").getBucketLabel(this.props.metricKey,t.title),ratio:t.ratio,description:t.description}}.bind(this))},render:function q(){var r=this.props.size==="large"?n:m,s=[i("ratio").from(0).to(1).niceStepOnly()],t=i("title"),u={title:{type:k.CATEGORY},ratio:{type:k.PERCENTAGE}};return c("React").createElement(c("GriffinHorizontalBarChart"),babelHelpers["extends"]({},this.props,{data:this._sortData(this.props.data),maxNumBuckets:r,unitLabel:c("FalcorDataTooltip").UnitLabels.OF_PEOPLE,plotX:s,plotY:t,schema:u,axisMarkFormatterFactory:c("FalcorChartFormatters").getEllipsisAxisFormatter(l)}))}});f.exports=p}),null);
__d("GriffinPeopleHouseholdPurchaseController",["cx","AnalyticsCard","FalcorErrorNotice","FalcorLoadingCard","GriffinAbstractPeopleSectionController","GriffinPeopleHorizontalBarChart","GriffinPeopleBarChart","GriffinPeopleVerticalBarChart","GriffinSections","PeopleStore","PeopleText","React","ReactComponentWithPureRenderMixin"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"GriffinPeopleHouseholdPurchaseController",mixins:[c("ReactComponentWithPureRenderMixin")],_listeners:[],statics:{getKey:function j(){return c("GriffinSections").HOUSEHOLD_PURCHASE}},getInitialState:function j(){return{loading:true,error:null}},componentWillMount:function j(){this._listeners.push(c("PeopleStore").subscribe("people_insights",this.onPeopleDataLoad));c("PeopleStore").getPeopleData()},componentWillUnmount:function j(){this._listeners.forEach(function(k){k.remove()})},showSegmentDialog:function j(){this.refs.controller.showSegmentDialog()},onPeopleDataLoad:function j(k){if(k){var l=k.people_insights_status;this.setState({status:l,data:k.ratios,loading:false})}else this.setState({status:null,data:null,loading:true})},_renderError:function j(){var k=c("PeopleText").getStatusErrorText(this.state.status,c("GriffinSections").HOUSEHOLD_PURCHASE);if(!k){var l=["purchase_behavior","household_income","retail_spend","online_spending_behaviors","household_size","spending_methods","home_ownership","lifestyles"],m=l.every(function(o){return this.state.data&&this.state.data[o]&&this.state.data[o].data}.bind(this));k=!m?c("PeopleText").no_data_partner:null}var n=k?c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},c("React").createElement(c("FalcorErrorNotice"),{className:"_1jgf",message:k.title},k.long_message)):null;return n},getContent:function j(){if(this.state.loading)return c("React").createElement(c("FalcorLoadingCard"),null);var k=this._renderError();return c("React").createElement("div",null,c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"household_income",cardKey:"household_income",chartType:c("GriffinPeopleVerticalBarChart"),metricKey:"household_income",size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"retail_spend",cardKey:"retail_spend",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"retail_spend",size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"online_spending_behaviors",cardKey:"online_spending_behaviors",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"online_spending_behaviors",size:"small"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"purchase_behavior",cardKey:"purchase_behavior",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"purchase_behavior",size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"household_size",cardKey:"household_size",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"household_size",size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"spending_methods",cardKey:"spending_methods",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"spending_methods",size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:"home_ownership",cardKey:"home_ownership",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"home_ownership",size:"small"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"lifestyles",cardKey:"lifestyles",chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:"lifestyles",size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},k))},render:function j(){return c("React").createElement(c("GriffinAbstractPeopleSectionController"),babelHelpers["extends"]({},this.props,{ref:"controller",sectionKey:c("GriffinSections").HOUSEHOLD_PURCHASE}),this.getContent())}});f.exports=i}),null);
__d("GriffinPeopleOverviewSectionController",["cx","AppEventsAggregatingColumn","AppCustomEventType","BonsaiConfig","CustomEventStore","FalcorLoadingCard","FluxContainer","GriffinAbstractPeopleSectionController","GriffinPeopleBarChart","GriffinPeopleSegmentUsersCard","GriffinPeopleHorizontalBarChart","GriffinSections","GriffinSegmentCreateAudienceCard","InsightsContext","LightweightSegmentStore","SegmentListStore","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={segment:null},m}k.getKey=function(){return c("GriffinSections").PEOPLE_OVERVIEW};k.getStores=function(){return[c("LightweightSegmentStore"),c("SegmentListStore")]};k.calculateState=function(){return{segment:c("LightweightSegmentStore").getPeopleSegment(),segmentList:c("SegmentListStore").getSegmentsList()}};k.prototype.$GriffinPeopleOverviewSectionController1=function(l){var m=l.map(function(n){return c("React").createElement(c("GriffinPeopleBarChart"),{key:n,cardKey:n,metricKey:n,chartType:c("GriffinPeopleHorizontalBarChart")})});return c("React").createElement("div",{className:"_4jip _4jiq",key:l.toString()},m)};k.prototype.renderReachAndMACA=function(){var l=this.state.segment;if(!l)return null;var m=c("InsightsContext").isApp()?c("React").createElement(c("GriffinSegmentCreateAudienceCard"),{segmentID:l.id}):null;return c("React").createElement("div",{className:"_4jip _4jiq",key:"reach_maca"},c("React").createElement(c("GriffinPeopleSegmentUsersCard"),{segmentEntity:l}),m)};k.prototype.render=function(){var l=null;if(!this.state.segment)l=c("React").createElement(c("FalcorLoadingCard"),null);else{var m=c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP),n=[c("AppEventsAggregatingColumn").COUNTRY,c("AppEventsAggregatingColumn").CITY_CODE],o=[c("AppEventsAggregatingColumn").PLATFORM,c("AppEventsAggregatingColumn").LOCALE];if(m)o.push(c("AppEventsAggregatingColumn").APP_VERSION);l=[this.renderReachAndMACA(),this.$GriffinPeopleOverviewSectionController1(["age,gender"]),this.$GriffinPeopleOverviewSectionController1(o),this.$GriffinPeopleOverviewSectionController1(n)]}return c("React").createElement(c("GriffinAbstractPeopleSectionController"),babelHelpers["extends"]({},this.props,{sectionKey:c("GriffinSections").PEOPLE_OVERVIEW}),l)};f.exports=c("FluxContainer").create(k)}),null);
__d("GriffinPeoplePageLikesController",["cx","GriffinAbstractPeopleSectionController","GriffinPageLikesTable","GriffinPeopleBarChart","GriffinSections","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.getKey=function(){return c("GriffinSections").PAGE_LIKES};k.prototype.render=function(){return c("React").createElement(c("GriffinAbstractPeopleSectionController"),babelHelpers["extends"]({},this.props,{sectionKey:c("GriffinSections").PAGE_LIKES}),this.$GriffinPeoplePageLikesController1())};k.prototype.$GriffinPeoplePageLikesController1=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:"page_likes",cardKey:"page_likes",chartType:c("GriffinPageLikesTable"),metricKey:"page_likes",size:"large"})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinPeopleSegmentUsersCard",["cx","invariant","AnalyticsCard","AppEventQueryError","AppEventQueryResult","FalcorLoadingCard","GriffinSegmentReachAndConditionsCard","PeopleStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"GriffinPeopleSegmentUsersCard",_listeners:[],propTypes:{segmentEntity:j.object.isRequired,showConditions:j.bool,useFlexBox:j.bool,note:j.node},getInitialState:function l(){return{error:null,segmentTotalUsers:null,totalUsers:null}},getDefaultProps:function l(){return{showConditions:true,useFlexBox:true}},componentWillMount:function l(){this._listeners.push(c("PeopleStore").subscribe("totalUsers",this.onDataLoad.bind(this,"totalUsers")));this._listeners.push(c("PeopleStore").subscribe("segmentTotalUsers",this.onDataLoad.bind(this,"segmentTotalUsers")));c("PeopleStore").getSegmentData("totalUsers");c("PeopleStore").getSegmentData("segmentTotalUsers")},componentWillUnmount:function l(){this._listeners.forEach(function(m){m.remove()})},onDataLoad:function l(m,n){if(n)if(n instanceof c("AppEventQueryError"))this.setState({error:n.getMessage()});else{var o;n instanceof c("AppEventQueryResult")||i(0);this.setState((o={},o[m]=n.getUniquesTotalDangerously(),o))}else{var p;this.setState((p={error:null},p[m]=null,p));c("PeopleStore").getSegmentData(m)}},renderLoadingCard:function l(){if(this.state.error)return null;if(this.state.totalUsers===null||this.state.segmentTotalUsers===null)return c("React").createElement(c("AnalyticsCard"),{className:(this.props.useFlexBox?"_4oi5":"")+(this.props.useFlexBox?" _4oi6":"")},c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}));return null},render:function l(){var m=this.state,n=m.totalUsers,o=m.segmentTotalUsers,p=m.error,q=this.renderLoadingCard();if(q)return q;return c("React").createElement(c("AnalyticsCard"),{className:(this.props.useFlexBox?"_4oi5":"")+(this.props.useFlexBox?" _4oi6":"")+" _2aax"},c("React").createElement(c("GriffinSegmentReachAndConditionsCard"),{totalUsers:n,segmentTotalUsers:o,errorMessage:p,segmentEntity:this.props.segmentEntity,showConditions:this.props.showConditions,note:this.props.note}))}});f.exports=k}),null);
__d("GriffinPeopleTechnologySectionController",["cx","fbt","AppEventsAggregatingColumn","FalcorLoadingCard","FluxContainer","GriffinAbstractPeopleSectionController","GriffinPeopleHorizontalBarChart","GriffinPeopleBarChart","GriffinSections","LightweightSegmentStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={loading:true},this.getContent=function(){if(this.state.loading)return c("React").createElement(c("FalcorLoadingCard"),null);return c("React").createElement("div",null,c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:c("AppEventsAggregatingColumn").OS_VERSION,cardKey:c("AppEventsAggregatingColumn").OS_VERSION,chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").OS_VERSION,size:"large"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:c("AppEventsAggregatingColumn").DEVICE_OS_TYPE,cardKey:c("AppEventsAggregatingColumn").DEVICE_OS_TYPE,chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").DEVICE_OS_TYPE,size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:c("AppEventsAggregatingColumn").APP_VERSION,cardKey:c("AppEventsAggregatingColumn").APP_VERSION,chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").APP_VERSION,size:"small"})),c("React").createElement("div",{className:"_4jip _4jiq"},c("React").createElement(c("GriffinPeopleBarChart"),{key:c("AppEventsAggregatingColumn").DEVICE_MODEL,cardKey:c("AppEventsAggregatingColumn").DEVICE_MODEL,chartType:c("GriffinPeopleHorizontalBarChart"),metricKey:c("AppEventsAggregatingColumn").DEVICE_MODEL,size:"small"}),c("React").createElement(c("GriffinPeopleBarChart"),{key:c("AppEventsAggregatingColumn").USING_FB_LOGIN,cardKey:c("AppEventsAggregatingColumn").USING_FB_LOGIN,chartType:c("GriffinPeopleHorizontalBarChart"),description:i._("Estos valores pueden a\u00f1adir hasta un valor superior al 100 \u0025. Puede que los usuarios hayan usado tu producto tanto al usar el inicio de sesi\u00f3n de Facebook como cuando no lo usaban en diferentes ocasiones durante el intervalo de fechas especificado."),metricKey:c("AppEventsAggregatingColumn").USING_FB_LOGIN,size:"small"})))}.bind(this),n}l.getKey=function(){return c("GriffinSections").TECHNOLOGY};l.getStores=function(){return[c("LightweightSegmentStore")]};l.calculateState=function(){return{loading:c("LightweightSegmentStore").isLoadingSegment()}};l.prototype.render=function(){return c("React").createElement(c("GriffinAbstractPeopleSectionController"),babelHelpers["extends"]({},this.props,{sectionKey:c("GriffinSections").TECHNOLOGY}),this.getContent())};f.exports=c("FluxContainer").create(l)}),null);
__d("FalcorResizableChartMixin",["invariant","ReactDOM"],(function a(b,c,d,e,f,g,h){"use strict";var i={componentDidMount:function j(){this._getCandelaWidth||h(0);this._onResize();window.addEventListener("resize",this._onResize)},componentWillUnmount:function j(){window.removeEventListener("resize",this._onResize)},_onResize:function j(){this._domNode=c("ReactDOM").findDOMNode(this);if(this._domNode)this.setState({chartWidth:this._getCandelaWidth()})}};f.exports=i}),null);
__d("GriffinPeopleVerticalBarChart",["cx","AnalyticsCard","BonsaiTooltip","CandelaGroupScaleBuilder","CandelaStyleSheet","FalcorDataTooltip","FalcorResizableChartMixin","FalcorVerticalBarChart","PeopleText","React","CandelaConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("CandelaGroupScaleBuilder").group,j=c("CandelaConstants").ScaleType,k=c("React").PropTypes,l=c("CandelaStyleSheet").fromJS({bargroup:{margin:10}}),m=c("React").createClass({displayName:"GriffinPeopleVerticalBarChart",_domNode:HTMLElement,mixins:[c("FalcorResizableChartMixin")],propTypes:{title:k.string.isRequired,data:k.arrayOf(k.object).isRequired,description:k.string},getInitialState:function n(){return{chartWidth:0}},_getCandelaWidth:function n(){var o=window.getComputedStyle(this._domNode).width;return parseFloat(o)},render:function n(){var o={title:{type:j.CATEGORY},ratio:{type:j.PERCENTAGE}},p=this.props.data.sort(function(r,s){return r.title.localeCompare(s.title,"kn",{numeric:true})});p=p.map(function(r){return{title:c("PeopleText").getBucketLabel(this.props.metricKey,r.title),ratio:r.ratio}}.bind(this));var q=this.props.title;if(this.props.description)q=c("React").createElement("div",null,this.props.title,c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:this.props.description}));return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6 _2aax",title:q},c("React").createElement(c("FalcorVerticalBarChart"),{data:p,height:300,width:this.state.chartWidth,plotX:i("title"),plotY:[i("ratio").from(0)],schema:o,styleSheet:l,unitLabel:c("FalcorDataTooltip").UnitLabels.OF_PEOPLE}))}});f.exports=m}),null);
__d("GriffinSegmentBarChart",["cx","fbt","invariant","AnalyticsCard","AppEventQueryError","AppEventQueryResult","BonsaiText","FalcorBreakdownsTextUtils","FalcorErrorNotice","FalcorLoadingCard","GriffinSegmentAgeGenderCard","PeopleStore","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=c("React").PropTypes,l=c("React").createClass({displayName:"GriffinSegmentBarChart",_listeners:[],propTypes:{metricKey:k.string.isRequired,chartType:k.func.isRequired},getInitialState:function m(){return{error:null,errorTotal:null,rawSegmentData:null,segmentTotal:null}},componentWillMount:function m(){this._listeners.push(c("PeopleStore").subscribe(this.props.metricKey,this.onDataLoad));this._listeners.push(c("PeopleStore").subscribe("segmentTotalUsers",this.onTotalLoaded));this._fetchTotalFromStore();this._fetchDataFromStore()},componentWillUnmount:function m(){this._listeners.forEach(function(n){n.remove()})},_fetchTotalFromStore:function m(){this.setState({errorTotal:null,segmentTotal:null});c("PeopleStore").getSegmentData("segmentTotalUsers")},_fetchDataFromStore:function m(){this.setState({error:null,rawSegmentData:null});c("PeopleStore").getSegmentData(this.props.metricKey)},onTotalLoaded:function m(n){if(n){var o=n instanceof c("AppEventQueryError")?n.getMessage():null,p=null;if(n instanceof c("AppEventQueryResult"))p=n.getUniquesTotalDangerously();this.setState({errorTotal:o,segmentTotal:p})}else this._fetchTotalFromStore()},onDataLoad:function m(n){if(n){var o=n instanceof c("AppEventQueryError")?n.getMessage():null,p=null;if(n instanceof c("AppEventQueryResult"))p=n;this.setState({error:o,rawSegmentData:p})}else this._fetchDataFromStore()},_formatSegmentData:function m(n,o){var p=this.props.metricKey,q=n.getResultAsRows(),r=n.getColumnNames().indexOf("USERS"),s=n.getColumnNames().indexOf(p);r>=0&&s>=0||j(0);var t=q.map(function(u){return parseInt(u.get(r),10)});return q.map(function(u,v){var w=u.get(s),x=t.get(v);w!==null&&x!==null&&x!==undefined||j(0);return{title:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(p,w).toString(),ratio:o===0?0:x/o}}).toJS()},_renderCardTitle:function m(){return c("React").createElement("span",{className:"_529k _2aax"},this.props.metricKey==="age,gender"?i._("Edad y sexo"):c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(this.props.metricKey))},_renderErrorCard:function m(n){return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},this._renderCardTitle(),c("React").createElement(c("FalcorErrorNotice"),{className:"_1jgf",message:n}))},_renderLoadingCard:function m(){return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},this._renderCardTitle(),c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}))},render:function m(){var n=this.props,o=n.chartType,p=n.metricKey,q=o,r=this.state,s=r.error,t=r.errorTotal,u=r.rawSegmentData,v=r.segmentTotal,w=s||t;if(w)return this._renderErrorCard(w);if(!u||v==null)return this._renderLoadingCard();if(p==="age,gender")return c("React").createElement(c("GriffinSegmentAgeGenderCard"),{className:"_4oi5 _4oi6 _2aax",data:u});var x=this._formatSegmentData(u,v);if(x.length===0)return this._renderErrorCard(c("BonsaiText").errors.unavailable);return c("React").createElement(q,babelHelpers["extends"]({},this.props,{title:c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(p),data:x}))}});f.exports=l}),null);
__d("CohortModel",["fbt","AnalyticsCohortChartType","CustomEventStore","GriffinSections","FalcorAppEventRuleDataUtils","intlList"],(function a(b,c,d,e,f,g,h){"use strict";var i={isValid:function k(){var k=this.name&&this.name.toString().trim();if(!k)return false;k=this.chart_type;if(!k)return false;k=this.first_event&&this.followup_event;if(!k)return false;return c("FalcorAppEventRuleDataUtils").isAppEventRuleDataListValid([this.first_event,this.followup_event],c("GriffinSections").COHORTS)},getDescription:function k(){var l=c("CustomEventStore").getAppEventDisplayName(this.first_event.event_rule.event_name),m=c("CustomEventStore").getAppEventDisplayName(this.followup_event.event_rule.event_name);return c("intlList")([l,m],c("intlList").CONJUNCTIONS.NONE)},getWireFormat:function k(){return{name:this.name.toString(),description:this.description,chart_type:this.chart_type,first_event:this.first_event,followup_event:this.followup_event}}};function j(k){var l=void 0;if(!k)l=babelHelpers["extends"]({},i,{name:h._("Grupo sin t\u00edtulo"),description:"",chart_type:c("AnalyticsCohortChartType").CUMULATIVE_USER_RETENTION,first_event:{name:"firstEvent",negate_rule:false},followup_event:{name:"followupEvent",negate_rule:false}});else l=babelHelpers["extends"]({},i,k);return l}f.exports=j}),null);
__d("CohortStore",["fbt","CohortModel","InsightsEntityStore","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=void 0;function j(){if(!i)i=new(c("InsightsEntityStore"))(c("InsightsGraphAPIConstants").COHORTS_EDGE,c("InsightsGraphAPIConstants").COHORTS_NODE,c("CohortModel"),h._("Grupo sin t\u00edtulo"));return i}f.exports=j()}),null);
__d("GriffinAdHocCohortBuilder",["cx","fbt","invariant","AnalyticsNavigationUtils","CohortStore","FalcorCommonViews","FalcorSegmentRuleUtils","GriffinButton","GriffinContextualDrawer","GriffinEditFeatureDialog","GriffinEventToken","GriffinParameterBuilderDrawer","GriffinSections","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n=true,o=false,p={FIRST:"first_event",FOLLOWUP:"followup_event"},q={SAVE:"save",SAVE_AS:"save_as",SAVE_INTERNAL:"save_internal",DELETE:"delete"},r=(m={},m[q.SAVE]={descriptionText:i._("\u00bfQuieres guardar tu grupo con este nombre?"),showTextInput:true,title:i._("Guardar"),loadingText:i._("Guardando grupo"),hidden:function u(){return c("InsightsContext").isReadOnly()}},m[q.SAVE_AS]={descriptionText:i._("Asigna un nombre al nuevo grupo que est\u00e1s creando."),showTextInput:true,title:i._("Guardar como"),loadingText:i._("Creando nuevo grupo"),hidden:function u(){return c("InsightsContext").isReadOnly()}},m[q.SAVE_INTERNAL]={descriptionText:i._("\u00bfQuieres guardar tu grupo con este nombre?"),showTextInput:true,title:i._("Guardar interno"),loadingText:i._("Guardando grupo interno"),hidden:function u(){return!c("InsightsContext").canUserCreateInternalObject()}},m[q.DELETE]={descriptionText:i._("\u00bfSeguro que quieres eliminar este grupo?"),showTextInput:false,title:i._("Eliminar"),loadingText:i._("Eliminando grupo"),hidden:function u(v){return c("InsightsContext").isReadOnly()&&!(c("InsightsContext").canUserCreateInternalObject()&&v.isInternal)}},m),s=i._("Aplicar");k=babelHelpers.inherits(t,c("React").PureComponent);l=k&&k.prototype;function t(u){l.constructor.call(this,u);this.$GriffinAdHocCohortBuilder1=function(){var v=this.props.cohortsID;c("InsightsEventLogger").logEvent({eventName:"cohort_save_click",feature_id:v,view:c("FalcorCommonViews").DETAILS});var w=this.$GriffinAdHocCohortBuilder2();c("CohortStore").setEntityConfiguration(w);c("CohortStore").saveEntity(function(){return c("CohortStore").loadEntityList()});this.$GriffinAdHocCohortBuilder3()}.bind(this);this.$GriffinAdHocCohortBuilder4=function(){this.$GriffinAdHocCohortBuilder5(n)}.bind(this);this.$GriffinAdHocCohortBuilder6=function(){this.$GriffinAdHocCohortBuilder5(o)}.bind(this);this.$GriffinAdHocCohortBuilder7=function(){c("CohortStore").deleteEntity(this.$GriffinAdHocCohortBuilder8)}.bind(this);this.$GriffinAdHocCohortBuilder8=function(){var v=this.props.cohortsID;c("InsightsEventLogger").logEvent({eventName:"cohort_delete_click",feature_id:v});var w=function w(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").COHORTS).go()};c("CohortStore").loadEntityList(w)}.bind(this);this.$GriffinAdHocCohortBuilder3=function(){var v=this.$GriffinAdHocCohortBuilder2();c("CohortStore").setEntityConfiguration(v)}.bind(this);this.$GriffinAdHocCohortBuilder11=function(v){var w=this.state.firstEvent,x=babelHelpers["extends"]({},w,{event_rule:babelHelpers["extends"]({},w.event_rule,{application:c("InsightsContext").getObjID(),event_name:v,parameters:[]})});this.$GriffinAdHocCohortBuilder12(x,p.FIRST)}.bind(this);this.$GriffinAdHocCohortBuilder13=function(v){var w=this.state.followupEvent,x=babelHelpers["extends"]({},w,{event_rule:babelHelpers["extends"]({},w.event_rule,{application:c("InsightsContext").getObjID(),event_name:v,parameters:[]})});this.$GriffinAdHocCohortBuilder14(x,p.FOLLOWUP)}.bind(this);this.$GriffinAdHocCohortBuilder15=function(v,w){if(w===p.FIRST)this.$GriffinAdHocCohortBuilder12(v);else this.$GriffinAdHocCohortBuilder14(v)}.bind(this);this.$GriffinAdHocCohortBuilder12=function(v){this.setState({firstEvent:v})}.bind(this);this.$GriffinAdHocCohortBuilder14=function(v){this.setState({followupEvent:v})}.bind(this);this.$GriffinAdHocCohortBuilder16=function(v){this.setState({showDialog:true,dialogType:v})}.bind(this);this.$GriffinAdHocCohortBuilder17=function(){this.setState({showDialog:false,dialogType:null})}.bind(this);this.$GriffinAdHocCohortBuilder18=function(v){this.setState({cohortName:v})}.bind(this);this.$GriffinAdHocCohortBuilder19=function(){var v=this.state,w=v.dialogType,x=v.cohortName;w||j(0);var y=r[w],z=void 0;switch(w){case q.SAVE:z=this.$GriffinAdHocCohortBuilder1;break;case q.SAVE_AS:z=this.$GriffinAdHocCohortBuilder6;break;case q.SAVE_INTERNAL:z=this.$GriffinAdHocCohortBuilder4;break;case q.DELETE:z=this.$GriffinAdHocCohortBuilder7;break}return c("React").createElement(c("GriffinEditFeatureDialog"),{descriptionText:y.descriptionText,isLoading:false,loadingText:y.loadingText,name:x,onButtonClick:function(){z();this.$GriffinAdHocCohortBuilder17()}.bind(this),onClose:this.$GriffinAdHocCohortBuilder17,onNameChange:this.$GriffinAdHocCohortBuilder18,title:y.title,showTextInput:y.showTextInput})}.bind(this);this.state={cohortName:u.cohortName,dialogType:null,firstEvent:u.firstEvent,followupEvent:u.followupEvent,selectedKey:null,showDialog:false}}t.prototype.componentWillReceiveProps=function(u){var v=u.cohortName,w=u.firstEvent,x=u.followupEvent,y=this.props.isLoading&&!u.isLoading;if(y)this.setState({cohortName:v,firstEvent:w,followupEvent:x});if(this.props.cohortsID&&!c("InsightsContext").isReadOnly())c("CohortStore").saveEntity()};t.prototype.$GriffinAdHocCohortBuilder5=function(u){var v=this.props.cohortsID,w=v?c("FalcorCommonViews").DETAILS:c("FalcorCommonViews").CREATE;if(u)c("InsightsEventLogger").logEvent({eventName:"cohort_save_internal",original_feature_id:v,view:w});else c("InsightsEventLogger").logEvent({eventName:"cohort_save_as_click",original_feature_id:v,view:w});var x=this.$GriffinAdHocCohortBuilder2(),y=function y(z){c("CohortStore").loadEntityList(function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").COHORTS,z.id,c("FalcorCommonViews").DETAILS).go()})};if(u)c("CohortStore").createInternalEntity(x,y);else c("CohortStore").createEntity(x,y);this.$GriffinAdHocCohortBuilder3()};t.prototype.$GriffinAdHocCohortBuilder9=function(u){var v=u===this.state.selectedKey?null:u;this.setState({selectedKey:v})};t.prototype.$GriffinAdHocCohortBuilder2=function(){var u=this.state,v=u.cohortName,w=u.firstEvent,x=u.followupEvent,y=this.$GriffinAdHocCohortBuilder10(w),z=this.$GriffinAdHocCohortBuilder10(x);return babelHelpers["extends"]({},c("CohortStore").getEntityConfiguration(),{first_event:y,followup_event:z,name:v})};t.prototype.$GriffinAdHocCohortBuilder10=function(u){var v=u.event_rule.parameters,w=v.filter(function(x){return c("FalcorSegmentRuleUtils").isValidParameter(x)});return babelHelpers["extends"]({},u,{event_rule:babelHelpers["extends"]({},u.event_rule,{parameters:w})})};t.prototype.$GriffinAdHocCohortBuilder20=function(){var u=this.state,v=u.firstEvent,w=u.followupEvent;return!v||!w||!v.event_rule||!w.event_rule};t.prototype.$GriffinAdHocCohortBuilder21=function(){var u=this.props.cohortsID,v=!u,w=this.$GriffinAdHocCohortBuilder20(),x=i._("M\u00e1s acciones");if(v){var y=r[q.SAVE];return c("React").createElement(c("GriffinButton"),{onClick:function(){return this.$GriffinAdHocCohortBuilder16(q.SAVE_AS)}.bind(this),label:y.title,disabled:w})}var z=Object.keys(q).filter(function(A){var B=q[A];if(r[B].hidden(this.props))return false;if(w)return B==="DELETE";return true}.bind(this)).map(function(A){var B=q[A],y=r[B];return c("React").createElement(c("GriffinSelectorOption"),{key:B,value:B},y.title)});if(z.length===0)return null;return c("React").createElement(c("GriffinSelector"),{onChange:this.$GriffinAdHocCohortBuilder16,placeholder:x},z)};t.prototype.render=function(){var u=this.props.anchor,v=this.state,w=v.firstEvent,x=v.followupEvent,y=v.selectedKey,z=v.showDialog,A=y===p.FIRST,B=y===p.FOLLOWUP,C=w&&w.event_rule?w.event_rule.event_name:null,D=x&&x.event_rule?x.event_rule.event_name:null,E=void 0;if(y){var F=A?w:x;E=c("React").createElement(c("GriffinParameterBuilderDrawer"),{className:"_36cu",anchor:this.refs[y].refs.refine,eventRule:F,onChangeEventRule:function(F){this.$GriffinAdHocCohortBuilder15(F,y)}.bind(this)})}var G=z?this.$GriffinAdHocCohortBuilder19():null,H=c("React").createElement(c("GriffinEventToken"),{isSelected:A,key:p.FIRST,eventName:C,onClick:function(){return this.$GriffinAdHocCohortBuilder9(p.FIRST)}.bind(this),onEventChange:this.$GriffinAdHocCohortBuilder11,ref:p.FIRST,draggable:false,removable:false}),I=c("React").createElement(c("GriffinEventToken"),{isSelected:B,key:p.FOLLOWUP,eventName:D,onClick:function(){return this.$GriffinAdHocCohortBuilder9(p.FOLLOWUP)}.bind(this),onEventChange:this.$GriffinAdHocCohortBuilder13,ref:p.FOLLOWUP,draggable:false,removable:false});return c("React").createElement(c("GriffinContextualDrawer"),{anchor:u,cardKey:"cohort_builder"},c("React").createElement("span",null,i._("{firstEventBuilder}{(padding)} y luego {(padding)}{followupEventBuilder}",[i.param("firstEventBuilder",H),i.param("(padding)",c("React").createElement("span",{className:"_3-8r"})),i.param("followupEventBuilder",I)])),E,c("React").createElement("div",{className:"_36cv"},c("React").createElement(c("GriffinButton"),{label:s,onClick:this.$GriffinAdHocCohortBuilder3,style:{marginRight:"8px"},use:"confirm"}),this.$GriffinAdHocCohortBuilder21(),G))};f.exports=t}),null);
__d("FalcorSamplingVariance",["fbt","BonsaiTooltip","InsightsNumUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={calculateVariance:function j(k,l){var m=l,n=k;return Math.round(.98*Math.sqrt(1/(n*m)-1/n)*n)},renderVarianceTooltip:function j(k,l){var m=this._getVarianceText(k,l,false);if(m===null)return null;return c("React").createElement(c("BonsaiTooltip"),{tooltip:m})},getSamplingTooltipSentence:function j(k){return k<=.99?h._("En funci\u00f3n de una frecuencia de muestreo del {sampling rate with \u0025}.",[h.param("sampling rate with %",c("InsightsNumUtils").prettyPercent(k,1))]):null},getVarianceSentence:function j(k,l){return this._getVarianceText(k,l,true)},getVarianceTooltipSentence:function j(k,l){return this._getVarianceText(k,l,false)},_getVarianceText:function j(k,l,m){if(l>.99)return null;var n=i.calculateVariance(k,l),o=void 0;if(k>0)o=h._("{total count}+\/- {percent variance} ({absolute variance}) seg\u00fan una frecuencia de muestreo de {sampling rate}.",[h.param("total count",m?c("InsightsNumUtils").prettyInt(k)+" users ":""),h.param("percent variance",c("InsightsNumUtils").prettyPercent(n/k,1)),h.param("absolute variance",c("InsightsNumUtils").prettyInt(n)),h.param("sampling rate",c("InsightsNumUtils").prettyPercent(l,1))]);else o=h._("Poblaci\u00f3n vac\u00eda basada en una frecuencia de muestreo de {sampling rate}.",[h.param("sampling rate",c("InsightsNumUtils").prettyPercent(l,1))]);return o}};f.exports=i}),null);
__d("GriffinCohortsView",["cx","fbt","invariant","AnalyticsAcquisitionSourceNames","AnalyticsBuiltInBreakdowns","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","FalcorSamplingVariance","InsightsCohortsAverageChartView","InsightsCohortsData","React","SearchableEntry"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=[c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L1,c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L2,c("AnalyticsBuiltInBreakdowns").ACQUISITION_SOURCE_L3];k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={acquisitionSourceNamesLoaded:false},p}n.prototype.componentDidMount=function(){this.$GriffinCohortsView1(this.props)};n.prototype.componentWillReceiveProps=function(o){if(this.props.breakdownData!==o.breakdownData)this.$GriffinCohortsView1(o)};n.prototype.$GriffinCohortsView1=function(o){var p=o.breakdownData,q=o.breakdown;if(!p||m.indexOf(q)<0)return;c("AnalyticsAcquisitionSourceNames").addIDstoLoad(Object.keys(p));this.setState({acquisitionSourceNamesLoaded:false});c("AnalyticsAcquisitionSourceNames").loadNames(function(){this.setState({acquisitionSourceNamesLoaded:true})}.bind(this))};n.prototype.render=function(){var o=this.props,p=o.allowedChartTypes,q=o.allowedCollationIntervals,r=o.breakdown,s=o.chartType,t=o.cohortName,u=o.cohortsID,v=o.collationInterval,w=o.error,x=o.firstEvent,y=o.followupEvent,z=o.isEmptyData,A=o.isLoading,B=o.onBreakdownChange,C=o.onChartTypeChange,D=o.onCollationIntervalChange,E=o.onPurchaserToggleChange,F=o.purchaserToggleValue,G=o.section,H=o.title;return c("React").createElement(c("InsightsCohortsAverageChartView"),{allowedChartTypes:p,allowedCollationIntervals:q,breakdown:r,breakdownData:this.$GriffinCohortsView2(),chartType:s,cohortData:this.$GriffinCohortsView3(),cohortName:t,cohortsID:u,collationInterval:v,error:w,firstEvent:x,followupEvent:y,helptext:this.$GriffinCohortsView4(),isEmptyData:z,isLoading:A,onBreakdownChange:B,onChartTypeChange:C,onCollationIntervalChange:D,onPurchaserToggleChange:E,purchaserToggleValue:F,section:G,title:H})};n.prototype.$GriffinCohortsView2=function(){var o=this.props,p=o.chartType,q=o.breakdownData;if(!q)return null;var r="Breakdown_cohorts",s={};Object.keys(q).forEach(function(t){s[t]=this.$GriffinCohortsView5(p,q[t],r)}.bind(this));return s};n.prototype.$GriffinCohortsView5=function(o,p,q){switch(o){case c("AnalyticsCohortChartType").USER_RETENTION:return p.getUserRetentionData(q);case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return p.getCumulativeCountData(q);case c("AnalyticsCohortChartType").LIFETIME_VALUE:return p.getCumulativeValueData(q);case c("AnalyticsCohortChartType").VALUE_RETENTION:return p.getValueRetentionData(q);default:j(0)}};n.prototype.$GriffinCohortsView3=function(){var o=this.props,p=o.chartType,q=o.cohortData,r=o.isEmptyData;if(!q||r)return null;var s="Retention";return this.$GriffinCohortsView5(p,q,s)};n.prototype.$GriffinCohortsView4=function(){var o=this.props.cohortData;if(!o)return null;var p=o.getSamplingRate(),q=o.getFirstEventUniquesCount(),r=o.getFollowupEventUniquesCount(),s=c("FalcorSamplingVariance").getVarianceSentence(q,p),t=null;if(s!==null)t=c("React").createElement("div",null,i._("Evento inicial: {first event's variance sentence}.",[i.param("first event's variance sentence",s)]));var u=c("FalcorSamplingVariance").getVarianceSentence(r,p),v=null;if(u!==null)v=c("React").createElement("div",null,i._("Evento de seguimiento: {followup event's variance sentence}.",[i.param("followup event's variance sentence",u)]));var w=null;if(!t&&!v)w=i._("Este informe se basa en datos sin muestrear");else w=i._("Este informe se basa en datos de muestra");return c("React").createElement("div",null,c("React").createElement("div",{className:"_13i9"},w),t,v)};f.exports=n}),null);
__d("GriffinLifetimeValueSectionController",["fbt","AnalyticsCard","CustomEventStore","FalcorErrorNotice","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinLifetimeValueViewContainer","GriffinSections","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=void 0;if(!c("CustomEventStore").hasEvents())l=c("React").createElement(c("GriffinEmptyStateCard"),{key:c("GriffinSections").LIFETIME_VALUE,cmsKey:c("GriffinSections").LIFETIME_VALUE});else if(!c("CustomEventStore").hasNewUserEvent()||!c("CustomEventStore").hasPurchaseEvent())l=c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:h._("Para ver los datos en tu gr\u00e1fico de valor total, registra eventos de compra en tu sitio web, aplicaci\u00f3n, p\u00e1gina u otro canal.")}));else l=c("React").createElement(c("GriffinLifetimeValueViewContainer"),this.props);return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showCompare:false,showDatePicker:true,showSegments:true}),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsMegaphone",["cx","Layout.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_fk1"},c("React").createElement(k,null,this.props.leftColumn),c("React").createElement(l,null,c("React").createElement("div",null,c("React").Children.only(this.props.children))),c("React").createElement(k,null,c("React").createElement("a",{className:"_1ib8",href:"#",onClick:this.props.onDismiss,role:"button",tabIndex:0})))};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("GriffinLifetimeValueSectionUpsell",["cx","fbt","AnalyticsErrorBoundary","AnalyticsMegaphone","AnalyticsNavigationUtils","AnalyticsUserConfigSetFlagMutation","CustomEventStore","GriffinButton","GriffinSections","InsightsEventLogger","React","RelayFBEnvironment","SUIBusinessTheme","SUIText.react","RelayModern","idx","GriffinLifetimeValueSectionUpsellQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql,n=function n(){return c("GriffinLifetimeValueSectionUpsellQuery.graphql")};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$GriffinLifetimeValueSectionUpsell1=function(u){var v,w=u.props,x=(v=w)!=null?(v=v.viewer)!=null?(v=v.analytics_user_config)!=null?v.has_dismissed_ltv_section_upsell:v:v:v;if(x!==false)return null;var y=c("React").createElement("div",{className:"_4sha _3-91"});return c("React").createElement(c("AnalyticsMegaphone"),{leftColumn:y,onDismiss:this.$GriffinLifetimeValueSectionUpsell2},c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_4sh9",display:"block",size:"large_DEPRECATED",theme:c("SUIBusinessTheme"),variant:"bold"},i._("Los informes del valor total ya est\u00e1n disponibles")),c("React").createElement(c("SUIText.react"),{display:"block",size:"medium_DEPRECATED",theme:c("SUIBusinessTheme")},i._("Comprende el valor total de tus clientes midiendo su comportamiento de compra en el tiempo y en varios grupos.")),c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("GriffinButton"),{href:c("AnalyticsNavigationUtils").getSectionURI(c("GriffinSections").LIFETIME_VALUE),label:i._("Ver valor total"),onClick:this.$GriffinLifetimeValueSectionUpsell3,style:{marginTop:"8px",backgroundColor:"#4080ff"},use:"confirm"}))))}.bind(this),q}o.prototype.render=function(){if(!c("CustomEventStore").hasPurchaseEvent())return null;return c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"ltv_upsell",hideOnError:true},c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:n,render:this.$GriffinLifetimeValueSectionUpsell1,variables:{}}))};o.prototype.$GriffinLifetimeValueSectionUpsell3=function(){c("InsightsEventLogger").logEvent({eventName:"ltv_upsell_clicked"});c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_LTV_SECTION_UPSELL",value:true})};o.prototype.$GriffinLifetimeValueSectionUpsell2=function(){c("InsightsEventLogger").logEvent({eventName:"ltv_upsell_dismissed"});c("AnalyticsUserConfigSetFlagMutation").commit({flag:"HAS_DISMISSED_LTV_SECTION_UPSELL",value:true})};f.exports=o}),null);
__d("GriffinLifetimeValueViewContainer",["fbt","AnalyticsCard","AnalyticsCohortsQuery","InternalAnalyticsCohortsQueryBuilder","AnalyticsDateUtils","AnalyticsPredefinedBreakdownValues","AnalyticsQueryApi","AppCustomEventType","AppEventQueryError","BonsaiApiBreakdown","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","FalcorErrorNotice","GriffinCohortsView","GriffinErrorCard","GriffinSections","InsightsCohortsData","InsightsCohortsUtils","InsightsEventLogger","React","SearchableEntry","URI","Link.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={allowedCollationIntervals:Object.keys(c("AnalyticsCohortCollationInterval")),breakdown:c("BonsaiApiBreakdown").NONE,breakdownData:null,cohortsData:null,error:null,isEmptyData:false,query:null,selectedCollationInterval:c("AnalyticsCohortCollationInterval").WEEKLY,purchaserToggleValue:"all_users"},this.$GriffinLifetimeValueViewContainer6=function(q){this.setState({purchaserToggleValue:q});this.$GriffinLifetimeValueViewContainer1(this.props,this.state.selectedCollationInterval,q,this.state.breakdown);c("InsightsEventLogger").logEvent({eventName:"lifetime_value_purchaser_toggle_click",value:q})}.bind(this),this.$GriffinLifetimeValueViewContainer4=function(q){var r=q.getUniqueID();this.setState({breakdown:r});this.$GriffinLifetimeValueViewContainer1(this.props,this.state.selectedCollationInterval,this.state.purchaserToggleValue,r);c("InsightsEventLogger").logEvent({eventName:"lifetime_value_breakdown_select",segment_id:this.props.segmentID,breakdown:r})}.bind(this),this.$GriffinLifetimeValueViewContainer5=function(q){this.setState({selectedCollationInterval:q});this.$GriffinLifetimeValueViewContainer1(this.props,q,this.state.purchaserToggleValue,this.state.breakdown);c("InsightsEventLogger").logEvent({eventName:"lifetime_value_collation_interval_select",segment_id:this.props.segmentID,collation_interval:q})}.bind(this),m}k.prototype.componentWillMount=function(){this.$GriffinLifetimeValueViewContainer1(this.props,this.state.selectedCollationInterval,this.state.purchaserToggleValue,this.state.breakdown)};k.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView(c("GriffinSections").LIFETIME_VALUE.toLowerCase(),{segment_id:this.props.segmentID})};k.prototype.componentWillReceiveProps=function(l){var m=this.props.visibleDateRange!==l.visibleDateRange||this.props.appliedSegment!==l.appliedSegment;if(m)this.$GriffinLifetimeValueViewContainer1(l,this.state.selectedCollationInterval,this.state.purchaserToggleValue,this.state.breakdown)};k.prototype.componentWillUnmount=function(){if(this.state.query)this.state.query.cancelQuery()};k.prototype.render=function(){var l=this.state,m=l.allowedCollationIntervals,n=l.breakdown,o=l.breakdownData,p=l.cohortsData,q=l.error,r=l.isEmptyData,s=l.purchaserToggleValue,t=l.selectedCollationInterval,u=this.props.analyticsEntityID;if(q)return c("React").createElement(c("GriffinErrorCard"),{error:q});else if(r)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED},h._("No se muestra a grupos peque\u00f1os de personas. {Label for learn more hyperlink}",[h.param("Label for learn more hyperlink",c("React").createElement(c("Link.react"),{href:new(c("URI"))("/help/analytics/885102478239387"),target:"_blank"},h._("M\u00e1s informaci\u00f3n.")))])));return c("React").createElement(c("GriffinCohortsView"),{allowedCollationIntervals:m,breakdown:n,breakdownData:o,chartType:c("AnalyticsCohortChartType").LIFETIME_VALUE,cohortData:p,collationInterval:t,firstEvent:this.$GriffinLifetimeValueViewContainer2(u),followupEvent:this.$GriffinLifetimeValueViewContainer3(u),section:c("GriffinSections").LIFETIME_VALUE,title:h._("Valor total"),onBreakdownChange:this.$GriffinLifetimeValueViewContainer4,onCollationIntervalChange:this.$GriffinLifetimeValueViewContainer5,onPurchaserToggleChange:this.$GriffinLifetimeValueViewContainer6,purchaserToggleValue:s})};k.prototype.$GriffinLifetimeValueViewContainer1=function(l,m,n,o){if(this.state.query)this.state.query.cancelQuery();var p=l.analyticsEntityID,q=l.visibleDateRange,r=l.appliedSegment||{},s={event_rules:(r.event_rules||[]).slice(),event_info_rules:(r.event_info_rules||[]).slice(),user_property_rules:(r.user_property_rules||[]).slice(),percentile_rules:(r.percentile_rules||[]).slice(),web_param_rules:(r.web_param_rules||[]).slice()};if(n==="purchasers")s.event_rules.push({name:"",negate_rule:false,event_rule:{application:p,event_name:c("AppCustomEventType").FB_PURCHASE,parameters:[]}});var t=new(c("InternalAnalyticsCohortsQueryBuilder"))().setAnalyticsEntityID(p).setFirstEvent(this.$GriffinLifetimeValueViewContainer2(p)).setFollowupEvent(this.$GriffinLifetimeValueViewContainer3(p)).setSince(c("AnalyticsDateUtils").getTimestampForQueryAPI(q.since)).setUntil(c("AnalyticsDateUtils").getTimestampForQueryAPI(q.until)).setBreakdown(o).setCollationInterval(m).setFilters(s).setOnSuccess(function(u){return this.$GriffinLifetimeValueViewContainer7(u)}.bind(this)).setOnError(function(u){return this.setState({error:u})}.bind(this)).setTag(["ltv",m,n,o,l.segmentID||"total"].join("_")).getQuery();c("AnalyticsQueryApi").queryCohortsData([t]);this.setState({cohortsData:null,breakdownData:null,query:t,isEmptyData:false,error:null});c("InsightsEventLogger").logCardViewWithDateRange("lifetime_value_data",{since:q.since,until:q.until},{collation_interval:m})};k.prototype.$GriffinLifetimeValueViewContainer2=function(l){return{name:"firstEvent",negate_rule:false,event_rule:{application:l,event_name:c("AppCustomEventType").FB_NEW_USER,parameters:[]}}};k.prototype.$GriffinLifetimeValueViewContainer3=function(l){return{name:"followupEvent",negate_rule:false,event_rule:{application:l,event_name:c("AppCustomEventType").FB_PURCHASE,parameters:[]}}};k.prototype.$GriffinLifetimeValueViewContainer7=function(l){var m=c("InsightsCohortsUtils").processCohortQueryResult(l),n=m.breakdownData,o=m.cohortsData,p=m.allowedCollationIntervals,q=m.collationInterval;this.setState({allowedCollationIntervals:p,breakdownData:n,cohortsData:o,error:null,isEmptyData:(!o||o.isEmpty())&&!n,selectedCollationInterval:q})};f.exports=k}),null);
__d("GriffinRetentionSectionController",["fbt","AnalyticsCard","AppCustomEventType","AnalyticsInsightsCarousel","CustomEventStore","FalcorErrorNotice","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinRetentionViewContainer","GriffinSamplingDisclosureController","GriffinSections","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"GriffinRetentionSectionController",statics:{getKey:function j(){return c("GriffinSections").RETENTION}},getInitialState:function j(){return{headerProps:null}},render:function j(){if(!c("CustomEventStore").hasEvents())return c("React").createElement(c("GriffinEmptyStateCard"),{key:c("GriffinSections").RETENTION,cmsKey:c("GriffinSections").RETENTION});if(!c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_NEW_USER)||!c("CustomEventStore").hasBaseEvent())return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showCompare:false,showDatePicker:true,showSegments:true}),c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:h._("Registra los eventos de descarga e inicio de la aplicaci\u00f3n para ver la retenci\u00f3n")})));return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{showCompare:false,showDatePicker:true,showSegments:true}),c("React").createElement(c("AnalyticsInsightsCarousel"),{section:c("GriffinSections").RETENTION}),c("React").createElement(c("GriffinSamplingDisclosureController"),null),c("React").createElement(c("GriffinRetentionViewContainer"),babelHelpers["extends"]({},this.props,{key:c("GriffinSections").RETENTION,section:c("GriffinSections").RETENTION})))},_onUpdateHeaderProps:function j(k){this.setState({headerProps:k})}});f.exports=i}),null);
__d("GriffinRetentionViewContainer",["fbt","AnalyticsCard","AnalyticsCohortsQuery","InternalAnalyticsCohortsQueryBuilder","AnalyticsDateUtils","AnalyticsPredefinedBreakdownValues","AnalyticsQueryApi","AppCustomEventType","AppEventQueryError","BonsaiApiBreakdown","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","FalcorErrorNotice","GriffinCohortsView","GriffinErrorCard","GriffinSections","InsightsCohortsData","InsightsCohortsUtils","InsightsEventLogger","React","SearchableEntry","URI","Link.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsCohortChartType").USER_RETENTION;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={allowedCollationIntervals:Object.keys(c("AnalyticsCohortCollationInterval")),breakdown:c("BonsaiApiBreakdown").NONE,breakdownData:null,cohortsData:null,error:null,isEmptyData:false,query:null,selectedCollationInterval:c("AnalyticsCohortCollationInterval").WEEKLY},this.$GriffinRetentionViewContainer4=function(r){var s=r.getUniqueID();this.setState({breakdown:s});this.$GriffinRetentionViewContainer1(this.props,this.state.selectedCollationInterval,s);c("InsightsEventLogger").logEvent({eventName:"retention_breakdown_select",segment_id:this.props.segmentID,breakdown:s})}.bind(this),this.$GriffinRetentionViewContainer5=function(r){this.setState({selectedCollationInterval:r});this.$GriffinRetentionViewContainer1(this.props,r,this.state.breakdown);c("InsightsEventLogger").logEvent({eventName:"retention_collation_interval_select",segment_id:this.props.segmentID,collation_interval:r})}.bind(this),n}l.prototype.componentWillMount=function(){this.$GriffinRetentionViewContainer1(this.props,this.state.selectedCollationInterval,this.state.breakdown)};l.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView(this.props.section.toLowerCase(),{segment_id:this.props.segmentID})};l.prototype.componentWillReceiveProps=function(m){if(this.props.visibleDateRange.since!==m.visibleDateRange.since||this.props.visibleDateRange.until!==m.visibleDateRange.until||this.props.appliedSegment!==m.appliedSegment)this.$GriffinRetentionViewContainer1(m,this.state.selectedCollationInterval,this.state.breakdown)};l.prototype.componentWillUnmount=function(){if(this.state.query)this.state.query.cancelQuery()};l.prototype.render=function(){var m=this.state,n=m.allowedCollationIntervals,o=m.breakdown,p=m.breakdownData,q=m.cohortsData,r=m.error,s=m.isEmptyData,t=m.selectedCollationInterval,u=this.props.analyticsEntityID;if(r)return c("React").createElement(c("GriffinErrorCard"),{error:r});else if(s)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED},h._("No se muestra a grupos peque\u00f1os de personas. {Label for learn more hyperlink}",[h.param("Label for learn more hyperlink",c("React").createElement(c("Link.react"),{href:new(c("URI"))("/help/analytics/885102478239387"),target:"_blank"},h._("M\u00e1s informaci\u00f3n.")))])));return c("React").createElement(c("GriffinCohortsView"),{allowedCollationIntervals:n,breakdown:o,breakdownData:p,chartType:k,cohortData:q,collationInterval:t,firstEvent:this.$GriffinRetentionViewContainer2(u),followupEvent:this.$GriffinRetentionViewContainer3(u),onBreakdownChange:this.$GriffinRetentionViewContainer4,section:c("GriffinSections").RETENTION,title:h._("Retenci\u00f3n de usuarios"),onCollationIntervalChange:this.$GriffinRetentionViewContainer5})};l.prototype.$GriffinRetentionViewContainer1=function(m,n,o){if(this.state.query)this.state.query.cancelQuery();var p=m.analyticsEntityID,q=m.appliedSegment,r=m.visibleDateRange,s=q?{event_rules:q.event_rules,event_info_rules:q.event_info_rules,user_property_rules:q.user_property_rules,percentile_rules:q.percentile_rules,web_param_rules:q.web_param_rules}:null,t=new(c("InternalAnalyticsCohortsQueryBuilder"))().setAnalyticsEntityID(p).setFirstEvent(this.$GriffinRetentionViewContainer2(p)).setFollowupEvent(this.$GriffinRetentionViewContainer3(p)).setSince(c("AnalyticsDateUtils").getTimestampForQueryAPI(r.since)).setUntil(c("AnalyticsDateUtils").getTimestampForQueryAPI(r.until)).setBreakdown(o).setCollationInterval(n).setFilters(s).setOnSuccess(function(u){return this.$GriffinRetentionViewContainer6(u)}.bind(this)).setOnError(function(u){return this.setState({error:u})}.bind(this)).setTag("retention").getQuery();c("AnalyticsQueryApi").queryCohortsData([t]);this.setState({cohortsData:null,breakdownData:null,query:t,isEmptyData:false,error:null});c("InsightsEventLogger").logCardViewWithDateRange("retention_data",{since:r.since,until:r.until},{collation_interval:n})};l.prototype.$GriffinRetentionViewContainer2=function(m){return{name:"firstEvent",negate_rule:false,event_rule:{application:m,event_name:c("AppCustomEventType").FB_NEW_USER,parameters:[]}}};l.prototype.$GriffinRetentionViewContainer3=function(m){return{name:"followupEvent",negate_rule:false,event_rule:{application:m,event_name:c("AppCustomEventType").FB_BASE_EVENT,parameters:[]}}};l.prototype.$GriffinRetentionViewContainer6=function(m){var n=c("InsightsCohortsUtils").processCohortQueryResult(m),o=n.breakdownData,p=n.cohortsData,q=n.allowedCollationIntervals,r=n.collationInterval;this.setState({allowedCollationIntervals:q,breakdownData:o,cohortsData:p,error:null,isEmptyData:(!p||p.isEmpty())&&!o,selectedCollationInterval:r})};f.exports=l}),null);
__d("GriffinContextualSegmentEditorDialog",["cx","fbt","ix","AnalyticsErrorBoundary","ContextualLayerAutoFlip","ContextualLayerBlind","ContextualLayerDynamicOffsetX","FalcorSegmentRuleUtils","GriffinButton","GriffinSegmentInputForm","GriffinSegmentSizeEstimatorChart","Image.react","LayerHideOnBlur","LayerHideOnEscape","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("GriffinSegmentSizeEstimatorChart").GriffinSegmentSizeEstimatorChartQueryRenderer;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(o){l.constructor.call(this);this.$GriffinContextualSegmentEditorDialog2=function(){return this.props.anchor}.bind(this);this.$GriffinContextualSegmentEditorDialog10=function(){var p=this.state.orderedRules||[];this.$GriffinContextualSegmentEditorDialog7(p.concat(null))}.bind(this);this.$GriffinContextualSegmentEditorDialog11=function(){this.$GriffinContextualSegmentEditorDialog9(true)}.bind(this);this.$GriffinContextualSegmentEditorDialog7=function(p){this.setState({orderedRules:p})}.bind(this);this.$GriffinContextualSegmentEditorDialog8=function(p){this.setState({percentileRule:p})}.bind(this);this.$GriffinContextualSegmentEditorDialog9=function(p){this.setState({showPercentile:p})}.bind(this);this.$GriffinContextualSegmentEditorDialog12=function(){this.props.onChangeSegment(this.$GriffinContextualSegmentEditorDialog6())}.bind(this);this.$GriffinContextualSegmentEditorDialog3=function(){this.props.onClose()}.bind(this);this.state=this.$GriffinContextualSegmentEditorDialog1(o)}n.prototype.componentWillReceiveProps=function(o){this.setState(this.$GriffinContextualSegmentEditorDialog1(o))};n.prototype.$GriffinContextualSegmentEditorDialog1=function(o){var p=o.segment,q=c("FalcorSegmentRuleUtils").getPercentileRuleFromSegmentGraphResult(p),r=c("FalcorSegmentRuleUtils").getOrderedRulesFromSegmentGraphResult(p);if(r.length===0)r.push(null);return{orderedRules:r,percentileRule:q,showPercentile:q!==null}};n.prototype.render=function(){return c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerBlind:c("ContextualLayerBlind"),ContextualLayerDynamicOffsetX:c("ContextualLayerDynamicOffsetX"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")},contextRef:this.$GriffinContextualSegmentEditorDialog2,key:"segment_editor_dialog",onToggle:this.$GriffinContextualSegmentEditorDialog3,position:"below",shown:true},c("React").createElement(c("XUIContextualDialogBody.react"),null,this.$GriffinContextualSegmentEditorDialog4()),c("React").createElement(c("XUIContextualDialogFooter.react"),null,this.$GriffinContextualSegmentEditorDialog5()))};n.prototype.$GriffinContextualSegmentEditorDialog4=function(){var o=this.state,p=o.percentileRule,q=o.showPercentile,r=this.state.orderedRules||[],s=c("React").createElement(c("Image.react"),{src:j("82642")}),t=c("FalcorSegmentRuleUtils").getRuleConflicts(r);return c("React").createElement("div",{className:"_5_yn"},c("React").createElement("div",{className:"_5_yq"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"dashboard_chart_segment_estimator"},c("React").createElement(m,{dateRange:this.props.dateRange,segment:this.$GriffinContextualSegmentEditorDialog6()})),c("React").createElement("div",null,c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"dashboard_chart_segment_editor"},c("React").createElement(c("GriffinSegmentInputForm"),{conflictingRules:t,disablePushConditions:false,onChangeOrderedRules:this.$GriffinContextualSegmentEditorDialog7,onChangePercentileRule:this.$GriffinContextualSegmentEditorDialog8,onToggleShowPercentileRule:this.$GriffinContextualSegmentEditorDialog9,orderedRules:r,percentileRule:p,showPercentile:q})),c("React").createElement("div",{className:"_5_yp"},c("React").createElement(c("GriffinButton"),{className:"_3-90",icon:s,label:i._("A\u00f1adir condici\u00f3n"),onClick:this.$GriffinContextualSegmentEditorDialog10}),c("React").createElement(c("GriffinButton"),{disabled:false,icon:s,label:i._("A\u00f1adir percentil"),onClick:this.$GriffinContextualSegmentEditorDialog11})))))};n.prototype.$GriffinContextualSegmentEditorDialog5=function(){return c("React").createElement("div",{className:"_5_yq _5_yr"},c("React").createElement("div",{className:"_5_yo _5_ys"},this.props.description),c("React").createElement("div",{className:"_5_yt"},c("React").createElement(c("GriffinButton"),{className:"_3-90",label:i._("Cancelar"),onClick:this.props.onClose}),c("React").createElement(c("GriffinButton"),{label:i._("Aplicar"),disabled:false,onClick:this.$GriffinContextualSegmentEditorDialog12,use:"confirm"})))};n.prototype.$GriffinContextualSegmentEditorDialog6=function(){return c("FalcorSegmentRuleUtils").updateSegmentGraphResult(this.props.segment,this.state.orderedRules,this.state.percentileRule)};f.exports=n}),null);
__d("AnalyticsCustomAudienceUtils",["invariant","AnalyticsEntityType","AnalyticsGKNames","AnalyticsGKs","ExternalEventSourceTypes","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").List,j=c("immutable").Set,k={getSupportedEntityTypes:function l(){var m=j.of(c("AnalyticsEntityType").APPLICATION,c("AnalyticsEntityType").ADS_PIXEL,c("AnalyticsEntityType").EVENT_SOURCE_GROUP);return c("AnalyticsGKs").get(c("AnalyticsGKNames").INSTANT_ARTICLE_CUSTOM_AUDIENCES)?m.add(c("AnalyticsEntityType").PAGE):m},isEntityTypeSupported:function l(m){return this.getSupportedEntityTypes().includes(m)},containsUnsupportedEntityType:function l(m){return m.map(function(n){var o=this._convertExternalEventSourceTypesType(n.sourceType);return this.isEntityTypeSupported(o)}.bind(this)).some(function(n){return!n})},_convertExternalEventSourceTypesType:function l(m){switch(m){case c("ExternalEventSourceTypes").APP:return c("AnalyticsEntityType").APPLICATION;case c("ExternalEventSourceTypes").PIXEL:return c("AnalyticsEntityType").ADS_PIXEL;case c("ExternalEventSourceTypes").OFFLINE_CONVERSION_DATA_SET:return c("AnalyticsEntityType").OFFLINE_CONVERSION_DATA_SET;case c("ExternalEventSourceTypes").VIDEO:return c("AnalyticsEntityType").VIDEO;case c("ExternalEventSourceTypes").PAGE:return c("AnalyticsEntityType").PAGE}h(0)}};f.exports=k}),null);
__d("GriffinLightweightSegmentAudienceHeader",["ix","cx","fbt","AnalyticsCustomAudienceUtils","GriffinButton","GriffinCreateCustomAudienceDialog","InsightsContext","InsightsEventLogger","LeftRight.react","React","SUIAnalyticsGriffinTheme","SUIGlyphIcon.react","SUITooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showDialog:false},this.$GriffinLightweightSegmentAudienceHeader2=function(){c("InsightsEventLogger").logEvent({eventName:"custom_audiences_show_dialog",surface:"segment_audience_header"});this.setState({showDialog:true})}.bind(this),this.$GriffinLightweightSegmentAudienceHeader5=function(s){setTimeout(function(){return this.setState({showDialog:s})}.bind(this),0)}.bind(this),o}m.prototype.render=function(){return c("AnalyticsCustomAudienceUtils").isEntityTypeSupported(c("InsightsContext").getAnalyticsEntityType())?this.$GriffinLightweightSegmentAudienceHeader1():null};m.prototype.$GriffinLightweightSegmentAudienceHeader1=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_rmt _2ph_"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_rnm _2pic"},j._("Aplicar un segmento")),c("React").createElement("div",null,c("React").createElement(c("GriffinButton"),{label:j._("Crear p\u00fablico personalizado"),disabled:this.props.unsavedSegmentApplied,onClick:this.$GriffinLightweightSegmentAudienceHeader2,ref:"createAudienceButton",style:{marginRight:"8px"},tooltip:this.props.unsavedSegmentApplied?this.$GriffinLightweightSegmentAudienceHeader3():null}),c("React").createElement(c("SUITooltip.react"),{tooltip:j._("Usa los segmentos guardados para crear un p\u00fablico personalizado en el administrador de anuncios. As\u00ed podr\u00e1s dirigir los anuncios a las personas que formen parte de este segmento o crear un p\u00fablico similar."),theme:c("SUIAnalyticsGriffinTheme")},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("124739"),style:{verticalAlign:"sub"}}))))),this.$GriffinLightweightSegmentAudienceHeader4())};m.prototype.$GriffinLightweightSegmentAudienceHeader3=function(){return j._("Guarda los cambios en este segmento para crear un p\u00fablico personalizado")};m.prototype.$GriffinLightweightSegmentAudienceHeader4=function(){return this.props.unsavedSegmentApplied||!this.state.showDialog?null:c("React").createElement(c("GriffinCreateCustomAudienceDialog"),{causalElementRef:function(){return this.refs.createAudienceButton}.bind(this),defaultSegment:this.props.defaultSegment,shown:this.state.showDialog,onToggle:this.$GriffinLightweightSegmentAudienceHeader5,onEscapeKey:function(){return this.setState({showDialog:false})}.bind(this)})};f.exports=m}),null);
__d("GriffinLightweightSegmentSelector",["cx","fbt","invariant","AnalyticsQEUniverses","AnalyticsQEUtils","GriffinEditFeatureDialog","GriffinSearchableSegmentSelector","InsightsContext","InsightsEventLogger","Link.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n,o){l.constructor.call(this,n,o);this.$GriffinLightweightSegmentSelector1=function(p){var q=p.getAuxiliaryData().is_internal?c("InsightsContext").canUserCreateInternalObject():!c("InsightsContext").isReadOnly();if(q){var r=c("React").createElement("strong",null,p.getAuxiliaryData().name),s=i._("\u00bfSeguro que quieres eliminar el segmento {segment name}?",[i.param("segment name",r)]);this.setState({dialogMessage:s,deletingSegmentID:p.getAuxiliaryData().id});if(this.refs.selector)this.refs.selector.close()}}.bind(this);this.$GriffinLightweightSegmentSelector2=function(){var p=this.state.deletingSegmentID;p||j(0);c("InsightsEventLogger").logEvent({eventName:"segments_delete_confirmed_click",feature_id:p,ad_hoc:true});this.props.segmentActions.deleteSegment({segmentID:p,callback:function(){this.setState({isDeleting:false,dialogMessage:null,deletingSegmentID:null})}.bind(this)});this.setState({isDeleting:true})}.bind(this);this.$GriffinLightweightSegmentSelector3=function(){this.setState({dialogMessage:null,deletingSegmentID:null})}.bind(this);this.state={deletingSegmentID:null,isDeleting:false,dialogMessage:null}}m.prototype.$GriffinLightweightSegmentSelector4=function(){if(this.state.dialogMessage===null)return null;return c("React").createElement(c("GriffinEditFeatureDialog"),{descriptionText:this.state.dialogMessage,isLoading:this.state.isDeleting,loadingText:i._("Eliminando"),onButtonClick:this.$GriffinLightweightSegmentSelector2,onClose:this.$GriffinLightweightSegmentSelector3,title:i._("Eliminar"),showTextInput:false})};m.prototype.$GriffinLightweightSegmentSelector5=function(){return c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER)?i._("Borrar segmento"):i._("Ver todos los usuarios")};m.prototype.$GriffinLightweightSegmentSelector6=function(){var n=this.props.showAllUsersOption?c("React").createElement(c("Link.react"),{onClick:function(){this.props.onCreateNew(false)}.bind(this)},this.$GriffinLightweightSegmentSelector5()):null,o=this.props.showCreateNewOption?c("React").createElement("span",null,c("React").createElement(c("Link.react"),{onClick:function(){this.props.onCreateNew(true)}.bind(this)},i._("Crear nuevo segmento")),c("React").createElement("br",null)):null;return n||o?c("React").createElement("div",{className:"_2phz"},o,n):null};m.prototype.render=function(){var n=this.props,o=n.deleteDisabled,p=babelHelpers.objectWithoutProperties(n,["deleteDisabled"]),q=o?null:this.$GriffinLightweightSegmentSelector1,r=function r(){return c("InsightsEventLogger").logEvent({eventName:"segment_dropdown_click"})};return c("React").createElement("div",{className:"inlineBlock"},this.$GriffinLightweightSegmentSelector4(),c("React").createElement(c("GriffinSearchableSegmentSelector"),babelHelpers["extends"]({},p,{header:this.$GriffinLightweightSegmentSelector6(),onRemoveSearchResult:q,onOpened:r,ref:"selector"})))};m.defaultProps={showCreateNewOption:true};f.exports=m}),null);
__d("GriffinLightweightSegmentTray",["cx","fbt","ix","AnalyticsErrorBoundary","FalcorSegmentRuleUtils","FluxContainer","GriffinButton","GriffinLightweightSegmentAudienceHeader","GriffinSegmentInputForm","GriffinSegmentSaveDropdown","GriffinSegmentSizeEstimatorChart","Image.react","InsightsEventLogger","LeftRight.react","Link.react","React","SegmentListStore","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("GriffinSegmentSizeEstimatorChart").GriffinSegmentSizeEstimatorChart;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$GriffinLightweightSegmentTray2=function(){c("InsightsEventLogger").logEvent({eventName:"segments_builder_add_rule",feature_id:this.state.segmentID,ad_hoc:true});this.props.actions.modifySegment({orderedRules:this.state.orderedRules.concat(null)})}.bind(this),this.$GriffinLightweightSegmentTray3=function(){c("InsightsEventLogger").logEvent({eventName:"segments_builder_show_percentile",feature_id:this.state.segmentID,ad_hoc:true});this.props.actions.toggleShowPercentile({showPercentile:true})}.bind(this),this.$GriffinLightweightSegmentTray6=function(t){this.props.actions.modifySegment({orderedRules:t});this.props.actions.fetchSegmentTotal({orderedRules:t})}.bind(this),this.$GriffinLightweightSegmentTray7=function(t){this.props.actions.modifySegment({percentileRule:t});this.props.actions.fetchSegmentTotal({percentileRule:t})}.bind(this),this.$GriffinLightweightSegmentTray8=function(t){this.props.actions.toggleShowPercentile({showPercentile:t})}.bind(this),p}n.getStores=function(o){return[o.store,c("SegmentListStore")]};n.calculateState=function(o,p){var q=p.store,r=q.getModifiedSegment(),s=q.getAppliedSegment();return{error:q.getSizeError(),segmentID:s?s.id:null,orderedRules:r.orderedRules,percentileRule:r.percentileRule,showPercentile:q.getShowPercentile(),totalUsers:q.getTotalUsers(),segmentTotal:q.getSegmentTotalUsers(),unsavedSegmentApplied:q.getIsAppliedSegmentUnsaved(),appliedSegment:s}};n.prototype.$GriffinLightweightSegmentTray1=function(){return c("React").createElement(m,{totalUsers:this.state.totalUsers,segmentTotal:this.state.segmentTotal,error:this.state.error})};n.prototype.$GriffinLightweightSegmentTray4=function(){return c("FalcorSegmentRuleUtils").getRuleConflicts(this.state.orderedRules)};n.prototype.$GriffinLightweightSegmentTray5=function(o){var p=c("React").createElement(c("Image.react"),{src:j("82642")});return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_432e"},c("React").createElement(c("GriffinButton"),{icon:p,label:i._("A\u00f1adir condici\u00f3n"),onClick:this.$GriffinLightweightSegmentTray2,style:{marginRight:"8px"}}),c("React").createElement(c("GriffinButton"),{disabled:this.state.showPercentile,icon:p,label:i._("A\u00f1adir percentil"),onClick:this.$GriffinLightweightSegmentTray3})),c("React").createElement("div",{className:"_432e"},c("React").createElement(c("Link.react"),{className:"__6r",onClick:function(){c("InsightsEventLogger").logEvent({eventName:"segments_clear_click",feature_id:this.state.segmentID,select_source:"clear_condition_link",ad_hoc:true});this.props.actions.modifySegment({orderedRules:[null],percentileRule:null});this.props.actions.fetchSegmentTotal({orderedRules:[null],percentileRule:null})}.bind(this)},i._("Borrar condiciones")),c("React").createElement(c("GriffinSegmentSaveDropdown"),{className:"_2cn-",store:this.props.store,actions:this.props.actions}),c("React").createElement(c("GriffinButton"),{label:i._("Aplicar"),disabled:this.state.error!==null||o.length>0,onClick:function(){c("InsightsEventLogger").logEvent({eventName:"segment_select",feature_id:this.state.segmentID,select_source:"apply_button",ad_hoc:true});this.props.actions.applySegment();this.props.actions.toggleShowConditions({showConditions:false})}.bind(this),style:{marginLeft:"8px"},use:"confirm"})))};n.prototype.render=function(){var o=this.$GriffinLightweightSegmentTray4(),p=this.$GriffinLightweightSegmentTray5(o),q=c("joinClasses")("_39h6 _2cnx",this.props.className);return c("React").createElement("div",null,c("React").createElement(c("GriffinLightweightSegmentAudienceHeader"),{defaultSegment:this.state.appliedSegment,unsavedSegmentApplied:this.state.unsavedSegmentApplied}),c("React").createElement("div",{className:q},this.$GriffinLightweightSegmentTray1(),c("React").createElement("div",{className:"_2cnv"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"segment_input"},c("React").createElement(c("GriffinSegmentInputForm"),{conflictingRules:o,disablePushConditions:false,onChangeOrderedRules:this.$GriffinLightweightSegmentTray6,onChangePercentileRule:this.$GriffinLightweightSegmentTray7,onToggleShowPercentileRule:this.$GriffinLightweightSegmentTray8,orderedRules:this.state.orderedRules,percentileRule:this.state.percentileRule,showPercentile:this.state.showPercentile})),c("React").createElement("div",{className:"_4q6h"}),p)))};f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("StaticSearchIncludingPunctuationsSource",["AbstractSearchSource","SearchSourceCallbackManager","TokenizeUtil"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$StaticSearchIncludingPunctuationsSource1=k;this.$StaticSearchIncludingPunctuationsSource2=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parseIncludingPunctuations,matchFn:c("TokenizeUtil").isQueryMatchIncludingPunctuations,indexFn:l});this.$StaticSearchIncludingPunctuationsSource2.addLocalEntries(this.$StaticSearchIncludingPunctuationsSource1)}j.prototype.searchImpl=function(k,l,m){"use strict";if(!k)l(this.$StaticSearchIncludingPunctuationsSource1,k);else this.$StaticSearchIncludingPunctuationsSource2.search(k,l,m)};f.exports=j}),null);
__d("GriffinSearchableSegmentSelector",["ix","cx","fbt","invariant","AnalyticsQEUniverses","AnalyticsQEUtils","FluxContainer","GriffinSegmentUtils","Image.react","immutable","InsightsEventLogger","React","SearchableEntry","SegmentListStore","Set","StaticSearchIncludingPunctuationsSource","SUISearchableSelector.react","asset"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m;l=babelHelpers.inherits(n,c("React").Component);m=l&&l.prototype;n.getStores=function(){return[c("SegmentListStore")]};n.calculateState=function(o,p){var q=c("SegmentListStore").getSegmentsList(),r=void 0;if(!o||q!==o.segmentsList)if(!q)r=new(c("StaticSearchIncludingPunctuationsSource"))([]);else r=this.$GriffinSearchableSegmentSelector1(q,p);else r=o.segmentSearchSource;return{segmentsList:q,segmentSearchSource:r}};n.$GriffinSearchableSegmentSelector1=function(o,p){var q=p.includeAllUsersEntry?o:o.filter(function(t){return!t.is_all_user}),r=q.sort(function(t,u){if(t.is_all_user)return-1;else if(u.is_all_user)return 1;if(t.name&&u.name)return t.name.localeCompare(u.name);return 0}),s=r.map(function(t){t.id||k(0);return new(c("SearchableEntry"))({title:t.name||"",uniqueID:t.id,auxiliaryData:t})});return new(c("StaticSearchIncludingPunctuationsSource"))(s)};n.prototype.componentWillMount=function(){this.setState({selectedEntry:this.$GriffinSearchableSegmentSelector2(this.props)});this.props.segmentActions.fetchSegmentTotal({notifySamplingStore:false})};n.prototype.componentWillUpdate=function(o,p){var q=!c("immutable").is(c("immutable").fromJS(this.props.activeSegment),c("immutable").fromJS(o.activeSegment));if(q||this.props.percentage!==o.percentage||this.props.sizeError!==o.sizeError){if(q)o.segmentActions.fetchSegmentTotal({notifySamplingStore:false});this.setState({selectedEntry:this.$GriffinSearchableSegmentSelector2(o)})}};n.prototype.close=function(){this.refs.selector.close()};n.prototype.$GriffinSearchableSegmentSelector2=function(o){var p=o.activeSegment;if(p&&p.id){var q=o.percentage,r=o.sizeError;p=c("SegmentListStore").getSegment(p.id)||p;var s=p.name||"",t=void 0;if(q)t=j._("{segment name}: {percentage} de usuarios",[j.param("segment name",s),j.param("percentage",q)]);else if(r)t=j._("{segment name}: {error like 'Not Enough User'}",[j.param("segment name",s),j.param("error like 'Not Enough User'",r)]);else t=s;return new(c("SearchableEntry"))({title:t,uniqueID:p.id,auxiliaryData:p})}return null};n.prototype.render=function(){var o=this.props,p=o.activeSegment,q=o.isDisabledCheck,r=o.percentage,s=o.sizeError,t=babelHelpers.objectWithoutProperties(o,["activeSegment","isDisabledCheck","percentage","sizeError"]),u=void 0;if(!p&&!this.state.segmentsList)u=j._("Cargando");else if(this.props.placeholderText)u=this.props.placeholderText;else if(s)u=j._("Segmento: {error like 'Not Enough Data'}",[j.param("error like 'Not Enough Data'",s)]);else u=r?j._("Segmento: {percent} de los usuarios",[j.param("percent",r)]):j._("Segmento: 100 \u0025 de usuarios");var v=void 0;if(q)v=this.state.segmentsList?new(c("Set"))(this.state.segmentsList.filter(function(y){return q(y)}).map(function(y){return y.id})):null;var w=function w(){return c("InsightsEventLogger").logEvent({eventName:"segment_dropdown_click"})},x=c("GriffinSegmentUtils").isEmpty(p)&&c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_SEGMENT_BUILDER)?c("React").createElement(c("Image.react"),{src:h("384856")}):null;return c("React").createElement("div",{className:"inlineBlock"},c("React").createElement(c("SUISearchableSelector.react"),babelHelpers["extends"]({},t,{buttonIcon:x,disabledEntryIDs:v,isDisabled:!this.state.segmentsList||this.props.isDisabled,onOpened:w,placeholder:u,ref:"selector",searchSource:this.state.segmentSearchSource,value:this.state.selectedEntry})))};function n(){l.apply(this,arguments)}n.defaultProps={width:300};f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("GriffinSegmentSelectorLegend",["cx","BonsaiColors","FalcorLoadingCard","GriffinPieChart","InsightsNumUtils","React","immutable","CandelaConstants","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("immutable").Map,l=c("CandelaConstants").ScaleType,m=c("CandelaStackScaleBuilder").stack;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props,p=o.totalUsers,q=o.segmentTotal,r=o.error;if(r||p===0)return null;if(q==null||p==null)return c("React").createElement("div",{className:"_2bsh"},c("React").createElement(c("FalcorLoadingCard"),{showCard:false}));var s=[],t={},u={},v={segmentTotal:c("BonsaiColors").ANALYTICS_BLUE,totalRemainder:"#E9EBEE"};if(q){s.push("segmentTotal");t.segmentTotal=q;u.segmentTotal={type:l.NUMBER}}var w=p-q;if(w){s.push("totalRemainder");t.totalRemainder=w;u.totalRemainder={type:l.NUMBER}}var x=c("InsightsNumUtils").prettyPercentQuotient({numerator:q,denominator:p,precision:q&&p&&q/p<.01?1:0});return c("React").createElement("div",{className:"_2bsh"},c("React").createElement("div",{className:"_2bsi"},x),c("React").createElement(c("GriffinPieChart"),{autoColors:k(v),data:[t],schema:u,plotAngle:m.apply(this,s).from(0),height:45,width:45,innerRadiusRatio:.75}))};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("GriffinSegmentSizeEstimatorChart",["cx","fbt","AnalyticsSegmentSizeQueryRenderer","BonsaiColors","FalcorLoadingCard","GriffinPieChart","InsightsNumUtils","React","immutable","CandelaConstants","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=c("immutable").Map,o=c("CandelaConstants").ScaleType,p=c("CandelaStackScaleBuilder").stack;j=babelHelpers.inherits(q,c("React").PureComponent);k=j&&j.prototype;q.prototype.render=function(){var s=i._("Cargando\u2026"),t=this.props,u=t.totalUsers,v=t.segmentTotal,w=t.error,x=t.isLoading;if(x||v==null||u==null){var y=w||c("React").createElement(c("FalcorLoadingCard"),{showCard:false,text:s});return c("React").createElement("div",{className:"_39h5"},y)}if(u===0)return c("React").createElement("div",{className:"_39h5"},i._("No hay usuarios en el intervalo de fechas seleccionado"));var z=[],A={},B={},C={segmentTotal:c("BonsaiColors").ANALYTICS_BLUE,totalRemainder:"#65DBFF"};if(v){z.push("segmentTotal");A.segmentTotal=v;B.segmentTotal={type:o.NUMBER}}var D=u-v;if(D){z.push("totalRemainder");A.totalRemainder=D;B.totalRemainder={type:o.NUMBER}}var E=c("InsightsNumUtils").prettyPercentQuotient({numerator:v,denominator:u,precision:2});return c("React").createElement("div",{className:"_39h5"},c("React").createElement("div",{className:"_2y1r"},E),c("React").createElement(c("GriffinPieChart"),{autoColors:n(C),data:[A],schema:B,plotAngle:p.apply(this,z).from(0),height:100,width:100,innerRadiusRatio:.75}),c("React").createElement("div",{className:"_3-8x"},i._("{segment_total} \u0025 de un total de {total_users} usuarios",[i.param("segment_total",c("InsightsNumUtils").prettyShortInt(v)),i.param("total_users",c("InsightsNumUtils").prettyShortInt(u))])))};function q(){j.apply(this,arguments)}l=babelHelpers.inherits(r,c("React").PureComponent);m=l&&l.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.renderQueryResult=function(x,y,z,A){return c("React").createElement(q,babelHelpers["extends"]({isLoading:x,error:y,segmentTotal:z,totalUsers:A},this.props))}.bind(this),t}r.prototype.render=function(){var s=this.props,t=s.dateRange,u=s.segment;return c("React").createElement(c("AnalyticsSegmentSizeQueryRenderer"),{dateRange:t,segment:u,render:this.renderQueryResult})};f.exports={GriffinSegmentSizeEstimatorChart:q,GriffinSegmentSizeEstimatorChartQueryRenderer:r}}),null);
__d("GriffinAbstractSegmentRuleBuilder",["cx","fbt","invariant","AnalyticsGKNames","AnalyticsGKs","CustomEventStore","GriffinSegmentDemographicsRuleBuilder","GriffinSegmentInstallSourceRuleBuilder","FalcorSegmentRuleUtils","FalcorSegmentTextUtils","GriffinSelector","GriffinSelectorOption","InsightsContext","React","GriffinSegmentRules","update"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("GriffinSegmentRules").Types;function n(){}k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.getFirstRuleLabel=function(){j(0)};o.prototype.onAdd=function(){if(this.props.onAdd)this.props.onAdd()};o.prototype.onRemoveRule=function(){this.props.onRemoveRule(this.props.orderedIndex)};o.prototype.onChangeRule=function(p){this.props.onChangeRule(p,this.props.orderedIndex)};o.prototype.shouldShowRuleType=function(p){if(p===m.PERCENTILE)return false;if(p===m.WEB_PARAMS&&!(c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_CROSS_DEVICE_WEB_PARAMS)&&c("CustomEventStore").hasWebEvent()))return false;if(p===m.USER_PROPERTY&&!c("InsightsContext").isApp()&&!(c("AnalyticsGKs").get(c("AnalyticsGKNames").ESG_SHOW_USER_PROPERTIES)&&c("InsightsContext").isEventSourceGroup()))return false;var q=this.props.enabledRuleTypes;if(!q)return true;return q.contains(p)};o.prototype.getRuleTypeLabel=function(p){return c("FalcorSegmentTextUtils").getRuleTypeLabel(p)};o.prototype.getRuleTypeSelector=function(){var p=Object.keys(m).filter(function(s){return this.shouldShowRuleType(s)}.bind(this)).map(function(s){var t=false,u=i._("Solo puedes seleccionar condiciones con eventos de aplicaci\u00f3n o que incluyan condiciones de informaci\u00f3n del dispositivo y eventos de aplicaci\u00f3n.");if(this.props.disablePushConditions)t=s===m.USER_PROPERTY||s===m.DEMOGRAPHIC||s===m.ACQUISITION_SOURCE||s===m.WEB_PARAMS;return c("React").createElement(c("GriffinSelectorOption"),{value:s,key:s,disabled:t,tooltip:t?u:null},this.getRuleTypeLabel(s))}.bind(this)),q=i._("Seleccionar condici\u00f3n"),r=c("React").createElement(c("GriffinSelector"),{onChange:function(s){return this.onChangeRule({ruleType:s})}.bind(this),placeholder:q,value:c("FalcorSegmentRuleUtils").getRuleType(this.props.rule)},p);return c("React").createElement("div",{className:"_3kuk"},r)};o.prototype.getHiddenParameterNames=function(){return[]};o.prototype.renderRuleBuilder=function(){var p=null,q=c("FalcorSegmentRuleUtils").getRuleType(this.props.rule);switch(q){case null:return null;case m.DEMOGRAPHIC:case m.TECHNOLOGY:case m.USER_PROPERTY:case m.WEB_PARAMS:p=c("React").createElement(c("GriffinSegmentDemographicsRuleBuilder"),{rule:c("update")(this.props.rule,{ruleType:{$set:q}}),onChange:function(u){return this.onChangeRule(u)}.bind(this),showAddButton:!!this.props.showAddButton,onAdd:function(){return this.onAdd()}.bind(this),onRemoveRule:this.onRemoveRule.bind(this),hiddenParameterNames:this.getHiddenParameterNames()});break;case m.ACQUISITION_SOURCE:var r=this.props.rule,s=function(u){return this.onChangeRule(u)}.bind(this),t={rule:r,onChange:s};p=c("React").createElement(c("GriffinSegmentInstallSourceRuleBuilder"),babelHelpers["extends"]({},t,{onRemoveRule:this.onRemoveRule.bind(this)}));break;case m.APP_EVENT:p=this.renderAppEventRuleBuilder();break;default:j(0)}return p};o.prototype.renderAppEventRuleBuilder=function(){j(0)};o.prototype.render=function(){var p=this.renderRuleBuilder();if(p)p=c("React").createElement("div",{className:"_3kuk _2cnv"},p);var q=this.props.orderedIndex?i._("y"):this.getFirstRuleLabel(),r=c("React").createElement("div",{className:"_2kf4"},q);return c("React").createElement("div",{className:"_2cnx"},r,c("React").createElement("div",{className:"_3v4d _2cnx"+(!!this.props.error?" _3j8-":"")},this.getRuleTypeSelector(),p))};function o(){k.apply(this,arguments)}f.exports={GriffinAbstractSegmentRuleBuilder:o,Props:n}}),null);
__d("GriffinEventRefinementSegmentRuleBuilder",["cx","fbt","AnalyticsTextUtils","AnalyticsQuery","AppEventsAggregatingColumn","BonsaiAppEventTypesUtils","GriffinAbstractSegmentRuleBuilder","GriffinLooseParameterRuleBuilder","React","GriffinSegmentRules","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=c("GriffinSegmentRules").Types,o=c("GriffinAbstractSegmentRuleBuilder").Props,p=c("GriffinAbstractSegmentRuleBuilder").GriffinAbstractSegmentRuleBuilder;j=babelHelpers.inherits(q,o);k=j&&j.prototype;function q(){j.apply(this,arguments)}l=babelHelpers.inherits(r,p);m=l&&l.prototype;r.prototype.getFirstRuleLabel=function(){return i._("Limitar por")};r.prototype.getRuleTypeLabel=function(s){if(s===n.APP_EVENT)return i._("Par\u00e1metro");else return m.getRuleTypeLabel.call(this,s)};r.prototype.getHiddenParameterNames=function(){return[c("AppEventsAggregatingColumn").USING_FB_LOGIN]};r.prototype.renderAppEventRuleBuilder=function(){var s="_3w9i",t=this.props.orderedIndex,u=this.props.eventName,v=c("BonsaiAppEventTypesUtils").getAppEventParameters(this.props.eventName),w=function w(z,A){return c("BonsaiAppEventTypesUtils").getAppEventParameterKnownDisplayValue(u,z,A)},x=function(z,A){if(this.$GriffinEventRefinementSegmentRuleBuilder1&&!this.$GriffinEventRefinementSegmentRuleBuilder1.isCancelled())this.$GriffinEventRefinementSegmentRuleBuilder1.cancelQuery();this.$GriffinEventRefinementSegmentRuleBuilder1=c("BonsaiAppEventTypesUtils").loadParameterValues(u,z,A)}.bind(this),y=c("update")(this.props.rule,{ruleType:{$set:n.APP_EVENT}});return c("React").createElement(c("GriffinLooseParameterRuleBuilder"),{labelClass:s,key:t,getTooltipForParameter:c("AnalyticsTextUtils").getTooltip.bind(this,u),getParameterDisplayValue:w,loadParameterValues:x,onChange:function(z){return this.onChangeRule(z)}.bind(this),onDelete:this.props.onRemoveRule.bind(this,t),onAdd:this.props.onAdd,parameterRule:y,parameters:v,showAddButton:this.props.showAddButton,showArrow:false,showAnd:false})};function r(){l.apply(this,arguments)}f.exports=r}),null);
__d("GriffinSegmentAgeGenderCard",["AnalyticsCard","AppEventQueryResult","AnalyticsCandelaUtils","AppEventsCombinedBreakdowns","AnalyticsPredefinedBreakdownValues","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiDemoDataProcessMixin","BonsaiText","CandelaGroupScaleBuilder","CandelaStackScaleBuilder","FalcorErrorNotice","BUIInsightsHoverCardChart.react","BUIInsightsVerticalBarChart.react","GriffinChartContainer","GriffinPinButton","React","SUIBorderUtils"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("BonsaiApiBreakdown").AGE,j=c("React").createClass({displayName:"GriffinSegmentAgeGenderCard",mixins:[c("BonsaiDemoDataProcessMixin")],propTypes:{data:h.instanceOf(c("AppEventQueryResult")).isRequired},_getChartSchema:function k(){var l={};l.age={label:c("BonsaiText").breakdown.age,type:"category"};Object.keys(c("AnalyticsPredefinedBreakdownValues").gender).forEach(function(m){return l[m]={label:c("BonsaiText").breakdown.gender[m].toString(),type:"number"}},this);return l},_getYSeriesNames:function k(){return Object.keys(c("AnalyticsPredefinedBreakdownValues").gender)},_getPlotX:function k(){return c("CandelaGroupScaleBuilder").group(i)},_getPlotY:function k(l){return[c("CandelaStackScaleBuilder").stack.apply(null,this._getYSeriesNames())].map(function(m){return m.from(0).to(l||0).extendInput(0,.5).niceStepOnly()})},render:function k(){var l=c("React").createElement(c("GriffinPinButton"),{borderedSides:c("SUIBorderUtils").ALL_SIDES,key:"pin",roundedCorners:c("SUIBorderUtils").ALL_CORNERS,chartKey:"age_gender_chart"});return c("React").createElement(c("AnalyticsCard"),babelHelpers["extends"]({},this.props,{pinButton:l,title:c("BonsaiText").getBreakdownName(c("AppEventsCombinedBreakdowns").AGE_GENDER.toLowerCase())}),this._renderChart())},_renderChart:function k(){var l=new(c("BonsaiApiDataAdapter"))(this.props.data.formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),m=this.flattenGenderAgeData(l,true);if(m.length===0)return c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable},c("BonsaiText").errors.unavailable_explanation);var n=this._getChartSchema(),o=this._getPlotX(),p=c("AnalyticsCandelaUtils").BarChart.getRangeMax(m,this._getYSeriesNames()),q=this._getPlotY(p),r=c("AnalyticsCandelaUtils").BarChart.getTitleElementFactory(c("BonsaiApiBreakdown").AGE);return c("React").createElement(c("GriffinChartContainer"),{chartKey:"events_demo",dependentScaleName:"plotY"},c("React").createElement(c("BUIInsightsHoverCardChart.react"),{displayClosestSeriesItemOnly:true,items:c("AnalyticsCandelaUtils").BarChart.getItemsFromSchema(n),titleElementGetter:r},c("React").createElement(c("BUIInsightsVerticalBarChart.react"),{data:m,schema:n,height:300,plotX:o,plotY:q,ref:"chart",styles:{barlabel:{visibility:"hidden"}}})))}});f.exports=j}),null);
__d("GriffinSegmentOperatorConfig",["invariant","AppEventsAggregatingColumn","AppEventField","BonsaiApiBreakdown","GriffinSegmentRules","FalcorSegmentTextUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=[c("GriffinSegmentRules").Operators.i_is_any,c("GriffinSegmentRules").Operators.i_is_not_any,c("GriffinSegmentRules").Operators.gt,c("GriffinSegmentRules").Operators.lt,c("GriffinSegmentRules").Operators.gte,c("GriffinSegmentRules").Operators.lte,c("GriffinSegmentRules").Operators.i_contains,c("GriffinSegmentRules").Operators.i_not_contains,c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq],j=[c("GriffinSegmentRules").Operators.i_is_any,c("GriffinSegmentRules").Operators.i_is_not_any,c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq],k=[c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq,c("GriffinSegmentRules").Operators.gt,c("GriffinSegmentRules").Operators.lt,c("GriffinSegmentRules").Operators.gte,c("GriffinSegmentRules").Operators.lte,c("GriffinSegmentRules").Operators.i_is_any,c("GriffinSegmentRules").Operators.i_is_not_any],l=[c("GriffinSegmentRules").Operators.gt,c("GriffinSegmentRules").Operators.lt,c("GriffinSegmentRules").Operators.gte,c("GriffinSegmentRules").Operators.lte,c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq],m=[c("GriffinSegmentRules").Operators.i_is_any,c("GriffinSegmentRules").Operators.i_is_not_any,c("GriffinSegmentRules").Operators.i_contains,c("GriffinSegmentRules").Operators.i_not_contains,c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq],n={};n[c("AppEventsAggregatingColumn").AGE]=k;n[c("AppEventsAggregatingColumn").GENDER]=j;n[c("AppEventsAggregatingColumn").CITY_CODE]=j;n[c("AppEventsAggregatingColumn").REGION_CODE]=j;n[c("AppEventsAggregatingColumn").COUNTRY]=m;var o=[c("GriffinSegmentRules").Operators.ieq,c("GriffinSegmentRules").Operators.ineq,c("GriffinSegmentRules").Operators.i_is_any,c("GriffinSegmentRules").Operators.i_is_not_any],p={};p[c("AppEventsAggregatingColumn").APP_VERSION]=i;p[c("AppEventsAggregatingColumn").OS_VERSION]=i;p[c("AppEventsAggregatingColumn").BROWSER_VERSION]=i;p[c("AppEventsAggregatingColumn").SDK_VERSION]=i;p[c("AppEventsAggregatingColumn").DEVICE_MODEL]=m;p[c("AppEventsAggregatingColumn").SCREEN_DIMENSIONS]=m;p[c("AppEventsAggregatingColumn").CARRIER]=m;p[c("AppEventsAggregatingColumn").LOCALE]=m;p[c("AppEventsAggregatingColumn").BROWSER]=j;p[c("AppEventsAggregatingColumn").CLIENT_TYPE]=j;p[c("AppEventsAggregatingColumn").DEVICE_OS_TYPE]=j;p[c("AppEventsAggregatingColumn").DEVICE_TYPE]=j;p[c("AppEventsAggregatingColumn").PLATFORM]=j;p[c("AppEventsAggregatingColumn").TIMEZONE]=j;p[c("AppEventsAggregatingColumn").USING_FB_LOGIN]=j;p[c("AppEventsAggregatingColumn").CORE_COUNT]=k;p[c("AppEventsAggregatingColumn").REMAINING_DISK_GB]=k;p[c("AppEventsAggregatingColumn").TOTAL_DISK_GB]=k;var q={};q[c("BonsaiApiBreakdown").DOMAIN]=m;q[c("BonsaiApiBreakdown").REFERER_DOMAIN]=m;q[c("BonsaiApiBreakdown").WEB_TRAFFIC_SEARCH_SOURCE]=j;q[c("BonsaiApiBreakdown").WEB_TRAFFIC_SOCIAL_SOURCE]=j;q[c("BonsaiApiBreakdown").WEB_TRAFFIC_SOURCE]=j;q[c("BonsaiApiBreakdown").WEB_URL]=j;q[c("BonsaiApiBreakdown").REFERER_URL]=j;q[c("BonsaiApiBreakdown").UTM_CAMPAIGN_SOURCE]=j;q[c("BonsaiApiBreakdown").UTM_CAMPAIGN_MEDIUM]=j;q[c("BonsaiApiBreakdown").UTM_CAMPAIGN_TERM]=j;q[c("BonsaiApiBreakdown").UTM_CAMPAIGN_CONTENT]=j;q[c("BonsaiApiBreakdown").UTM_CAMPAIGN_NAME]=j;var r={getSupportedOperators:function s(t,u){var v=this._configFormat(i);if(!u)return v;switch(t){case c("GriffinSegmentRules").Types.DEMOGRAPHIC:return this._getSupportedDemographicOperators(u);case c("GriffinSegmentRules").Types.ACQUISITION_SOURCE:return this._getSupportedAcquisitionSourceOperators(u);case c("GriffinSegmentRules").Types.TECHNOLOGY:return this._getSupportedTechnologyOperators(u);case c("GriffinSegmentRules").Types.USER_PROPERTY:return v;case c("GriffinSegmentRules").Types.WEB_PARAMS:return this._getSupportedWebParametersOperators(u);case c("GriffinSegmentRules").Types.APP_EVENT:return this._getSupportedAppEventOperators(u);case c("GriffinSegmentRules").Types.PERCENTILES:return this._getSupportedPercentileOperators(u);default:return v}},_getSupportedDemographicOperators:function s(t){return this._configFormat(n[t])},_getSupportedAcquisitionSourceOperators:function s(t){return this._configFormat(o)},_getSupportedTechnologyOperators:function s(t){return this._configFormat(p[t])},_getSupportedAppEventOperators:function s(t){switch(t){case c("AppEventField").COUNT:return this._configFormat(l);case c("AppEventField").VALUE_TO_SUM:return this._configFormat(k);default:return this._configFormat(i)}},_getSupportedWebParametersOperators:function s(t){return this._configFormat(q[t])},_getSupportedPercentileOperators:function s(t){h(0)},_configFormat:function s(t){var u=t.map(function(v){return{text:c("FalcorSegmentTextUtils").getOperatorLabel(v),value:v}});return{defaultValue:t[0],isArray:{i_is_any:true,i_is_not_any:true},operators:u}}};f.exports=r}),null);
__d("GriffinSegmentDemographicsRuleBuilder",["cx","invariant","AnalyticsPredefinedBreakdownValues","AnalyticsSegmentUtils","AnalyticsQuery","AnalyticsQueryApi","AnalyticsQueryBreakdownUtils","InternalAnalyticsQueryBuilder","AppCustomEventType","AppEventsAggregatingColumn","AppUserPropertyAPIBuiltinField","AppUserPropertyConfigStore","FalcorSegmentTextUtils","FalcorBreakdownsTextUtils","FluxContainer","GriffinLooseParameterRuleBuilder","GriffinParameterRuleBuilder","GriffinSegmentOperatorConfig","GriffinSegmentRules","SUIBusinessTheme","SUISpinner.react","InsightsContext","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.getStores=function(){return[c("AppUserPropertyConfigStore")]};l.calculateState=function(m){return{userProperties:c("AppUserPropertyConfigStore").getActiveProperties()}};function l(m){k.constructor.call(this,m);this.$GriffinSegmentDemographicsRuleBuilder4=function(n,o){if(!n){o([]);return}if(this.props.rule.ruleType===c("GriffinSegmentRules").Types.USER_PROPERTY)if(n===c("AppUserPropertyAPIBuiltinField").GENDER)n=c("AppEventsAggregatingColumn").GENDER;else n=c("AnalyticsQueryBreakdownUtils").getUserProperty(n);var p=this.$GriffinSegmentDemographicsRuleBuilder5(n);if(p&&n!==c("AppEventsAggregatingColumn").SDK_VERSION){o(p);return}if(this.$GriffinSegmentDemographicsRuleBuilder1&&!this.$GriffinSegmentDemographicsRuleBuilder1.isCancelled())this.$GriffinSegmentDemographicsRuleBuilder1.cancelQuery();var q=n;this.$GriffinSegmentDemographicsRuleBuilder1=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setBreakdowns([q]).setLimit(c("GriffinParameterRuleBuilder").TYPEAHEAD_LIMIT).setOnSuccess(function(r){if(this.$GriffinSegmentDemographicsRuleBuilder1)this.$GriffinSegmentDemographicsRuleBuilder1=null;var s=r.getBreakdownUniqueValues(q).toJS(),t=this.$GriffinSegmentDemographicsRuleBuilder6(q,s),u=this.$GriffinSegmentDemographicsRuleBuilder7(t,p);o(u)}.bind(this)).setOnError(function(r){return o([])}).getTopBreakdownCountInLast28DayQuery();c("AnalyticsQueryApi").queryAppEventData([this.$GriffinSegmentDemographicsRuleBuilder1])}.bind(this);this.$GriffinSegmentDemographicsRuleBuilder3=function(n){n.ruleType=this.props.rule.ruleType;this.props.onChange(n)}.bind(this);this.state={userProperties:c("AppUserPropertyConfigStore").getActiveProperties()}}l.prototype.render=function(){var m=this.props.rule.ruleType===c("GriffinSegmentRules").Types.USER_PROPERTY,n=void 0;if(m){var o=this.state.userProperties;if(o==null)return c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")});n=o.map(function(t){return{parameter_name:t,display_name:c("FalcorSegmentTextUtils").getUserPropertyLabel(t)}})}else{this.props.rule.ruleType||i(0);var p=c("GriffinSegmentRules").TypeValues[this.props.rule.ruleType];n=Object.keys(p).map(function(t){return{parameter_name:t,display_name:c("FalcorSegmentTextUtils").getDemographicLabel(t)}}).filter(function(t){return this.props.hiddenParameterNames.indexOf(t.parameter_name)===-1}.bind(this))}var q=this.props.rule.parameter_name,r=c("GriffinSegmentOperatorConfig").getSupportedOperators(this.props.rule.ruleType,q),s=c("React").createElement(c("XUICloseButton.react"),{className:"_3kul",href:"#",onClick:this.props.onRemoveRule,size:"medium"});return c("React").createElement("div",{className:"_2cnx"},c("React").createElement(c("GriffinLooseParameterRuleBuilder"),{allowCustomValue:this.$GriffinSegmentDemographicsRuleBuilder2(q),onChange:this.$GriffinSegmentDemographicsRuleBuilder3,parameterRule:this.props.rule,parameterSelectorLabel:this.props.defaultParamName,parameters:n,operatorConfig:r,loadParameterValues:this.$GriffinSegmentDemographicsRuleBuilder4,getParameterDisplayValue:function(t,u){return c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(t,u,null,this.props.rule.ruleType)}.bind(this),showAnd:false,showAddButton:this.props.showAddButton,onAdd:this.props.onAdd}),s)};l.prototype.$GriffinSegmentDemographicsRuleBuilder2=function(m){if(this.props.rule.ruleType===c("GriffinSegmentRules").Types.USER_PROPERTY)return!!m&&m!==c("AppUserPropertyAPIBuiltinField").GENDER;return!!m&&m!==c("GriffinSegmentRules").Demographic[c("AppEventsAggregatingColumn").CITY_CODE]&&m!==c("GriffinSegmentRules").Demographic[c("AppEventsAggregatingColumn").REGION_CODE]&&!c("AnalyticsPredefinedBreakdownValues")[m]};l.prototype.$GriffinSegmentDemographicsRuleBuilder5=function(m){var n=c("AnalyticsPredefinedBreakdownValues")[m];if(n)return Object.keys(n).map(function(o){return{uniqueID:o,title:n[o]}});else return null};l.prototype.$GriffinSegmentDemographicsRuleBuilder6=function(m,n){return n.map(function(o){return{uniqueID:o,title:c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(m,o.toString())}})};l.prototype.$GriffinSegmentDemographicsRuleBuilder7=function(m,n){if(!n||n.length===0)return[].concat(m);return c("AnalyticsSegmentUtils").dedupArray(m.concat(n),this.$GriffinSegmentDemographicsRuleBuilder8)};l.prototype.$GriffinSegmentDemographicsRuleBuilder8=function(m,n){return m.uniqueID===n.uniqueID};l.defaultProps={rule:{},showAddButton:false};f.exports=c("FluxContainer").create(l)}),null);
__d("GriffinSegmentInputForm",["cx","fbt","FalcorNotice","GriffinSegmentPercentileRuleBuilder","GriffinSegmentRuleBuilder","InsightsContext","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$GriffinSegmentInputForm3=function(r){this.props.onChangePercentileRule(r)}.bind(this),this.$GriffinSegmentInputForm4=function(r){this.props.onToggleShowPercentileRule(r)}.bind(this),this.$GriffinSegmentInputForm1=function(r,s){var t=this.props.orderedRules.slice(0);t.splice(s,1,r);this.props.onChangeOrderedRules(t)}.bind(this),this.$GriffinSegmentInputForm2=function(r){var s=this.props.orderedRules.slice(0);s.splice(r,1);if(s.length===0)s.push(null);this.props.onChangeOrderedRules(s)}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.conflictingRules,o=m.disablePushConditions,p=m.orderedRules,q=m.percentileRule,r=p.map(function(t,u){var v=n.indexOf(u)>=0,w=v;return c("React").createElement("div",{key:u,className:"_5v7p"},c("React").createElement(c("GriffinSegmentRuleBuilder"),{error:w,appID:c("InsightsContext").getObjID(),disablePushConditions:o,orderedIndex:u,rule:t,onChangeRule:this.$GriffinSegmentInputForm1,onRemoveRule:this.$GriffinSegmentInputForm2}))}.bind(this)),s=void 0;if(this.props.showPercentile)s=c("React").createElement("div",null,c("React").createElement("div",{className:"_4q6h"}),c("React").createElement(c("GriffinSegmentPercentileRuleBuilder"),{onChangePercentileRule:this.$GriffinSegmentInputForm3,onToggleShowPercentileRule:this.$GriffinSegmentInputForm4,rule:q}));return c("React").createElement("div",{className:"_2cnv"},this.$GriffinSegmentInputForm5(),c("React").createElement("div",null,r),s)};l.prototype.$GriffinSegmentInputForm5=function(){var m=i._("Parece que tienes dos condiciones similares que se sobrescribir\u00e1n entre s\u00ed. Utiliza los operaciones \"es cualquiera de\" o \"no es cualquiera de\" en su lugar.");return this.props.conflictingRules.length?c("React").createElement(c("FalcorNotice"),{noticeType:c("FalcorNotice").NoticeTypes.ERROR,message:m}):null};f.exports=l}),null);
__d("GriffinSegmentInstallSourceRuleBuilder",["cx","fbt","invariant","AnalyticsAcquisitionSourceNames","AnalyticsQueryAggregationMethod","AnalyticsDateUtils","AnalyticsPredefinedBreakdownValues","InternalAnalyticsQueryBuilder","AppCustomEventType","CustomEventStore","FalcorBreakdownsTextUtils","FalcorSegmentRuleUtils","GriffinAcquisitionSourceUtils","GriffinLooseParameterRuleBuilder","GriffinSegmentRules","GriffinSelector","GriffinSelectorOption","immutable","InsightsContext","InsightsEventLogger","InsightsGraphAPI","React","isValidID","update"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("AnalyticsDateUtils").DateRangeTypes,n=c("immutable").List,o=c("immutable").Map,p=c("GriffinSegmentRules").Operators,q=c("GriffinSegmentRules").Types.ACQUISITION_SOURCE,r=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCE_TOP_LEVEL,s=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCE_L1,t=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCE_L2,u=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCE_L3,v=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCES,w=c("GriffinAcquisitionSourceUtils").ACQUISITION_TYPE,x=c("GriffinAcquisitionSourceUtils").ACQUISITION_SOURCE_WILDCARD_KEY;k=babelHelpers.inherits(y,c("React").Component);l=k&&k.prototype;function y(z,A){"use strict";l.constructor.call(this,z,A);this.$GriffinSegmentInstallSourceRuleBuilder1=null;this.state={searchSources:v.toMap().flip().map(function(B){return null})}}y.prototype.componentDidMount=function(){"use strict";this.$GriffinSegmentInstallSourceRuleBuilder2("opened",{})};y.prototype.componentWillReceiveProps=function(z){"use strict";var A=this.$GriffinSegmentInstallSourceRuleBuilder3(this.props.rule),B=this.$GriffinSegmentInstallSourceRuleBuilder3(z.rule);if(!A||!B)return;var C=this.$GriffinSegmentInstallSourceRuleBuilder4(A,B);C&&this.$GriffinSegmentInstallSourceRuleBuilder5(C)};y.prototype.componentWillUnmount=function(){"use strict";this.$GriffinSegmentInstallSourceRuleBuilder1&&this.$GriffinSegmentInstallSourceRuleBuilder1.cancel()};y.prototype.render=function(){"use strict";var z=v.filter(function(A){return this.$GriffinSegmentInstallSourceRuleBuilder6(A)}.bind(this)).map(function(A){return this.$GriffinSegmentInstallSourceRuleBuilder7(A)}.bind(this));return c("React").createElement("div",null,z)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder2=function(z,A){"use strict";var B="install_source_builder_";c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:B+z},A))};y.prototype.$GriffinSegmentInstallSourceRuleBuilder4=function(z,A){"use strict";return v.find(function(B){return!n(z.get(B)).equals(n(A.get(B)))})};y.prototype.$GriffinSegmentInstallSourceRuleBuilder6=function(z){"use strict";return!this.$GriffinSegmentInstallSourceRuleBuilder8(z,this.$GriffinSegmentInstallSourceRuleBuilder9())};y.prototype.$GriffinSegmentInstallSourceRuleBuilder10=function(z){"use strict";var A=this.$GriffinSegmentInstallSourceRuleBuilder11(),B=[s,t,u].map(function(z){return A.get(z)}),C=B[0],D=B[1],E=B[2];switch(z){case r:return C!==undefined&&C.length>0||D!==undefined&&D.length>0||E!==undefined&&E.length>0;case s:return D!==undefined&&D.length>0||E!==undefined&&E.length>0;case t:return E!==undefined&&E.length>0;case u:return false;default:j(0)}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder9=function(){"use strict";switch(this.props.rule.parameter_name){case r:return r;case s:return s;case t:return t;case u:return u;default:return r}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder12=function(z){"use strict";switch(z){case r:case s:return r;case t:return s;case u:return t;default:j(0)}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder13=function(z){"use strict";switch(z){case r:return s;case s:return t;case t:case u:return u;default:j(0)}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder8=function(z,A){"use strict";return z!==w&&A!==w&&v.indexOf(z)>v.indexOf(A)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder3=function(z){"use strict";var A=z.values;if(A&&A.length!==0)try{return o(JSON.parse(A[0]))}catch(B){return null}else return null};y.prototype.$GriffinSegmentInstallSourceRuleBuilder11=function(){var z;"use strict";var A=this.props.rule.values;if(A&&A.length!==0){var B=this.$GriffinSegmentInstallSourceRuleBuilder3(this.props.rule);if(B)return B;else{var z=function(){var C=A[0].split("/");return{v:v.toMap().flip().map(function(D,E){return D<C.length?[C[D]]:[]})}}();if(typeof z==="object")return z.v}}else return v.toMap().flip().map(function(){return[]})};y.prototype.$GriffinSegmentInstallSourceRuleBuilder14=function(z){"use strict";var A=this.props.rule.operator||p.ieq,B=z,C=q,D=this.$GriffinSegmentInstallSourceRuleBuilder11().get(B,this.$GriffinSegmentInstallSourceRuleBuilder10(z)?[x]:[]);return{operator:A,parameter_name:B,ruleType:C,values:D}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder15=function(z){"use strict";var A=this.state.searchSources.get(z);return A?A.toArray():[]};y.prototype.$GriffinSegmentInstallSourceRuleBuilder16=function(z){"use strict";var A=this.state.searchSources.get(z);return A!==null};y.prototype.$GriffinSegmentInstallSourceRuleBuilder17=function(z,A){"use strict";var B=c("AnalyticsDateUtils").getDateRange(m.LAST_28_DAYS),C=B.since,D=B.until,E=this.$GriffinSegmentInstallSourceRuleBuilder14(this.$GriffinSegmentInstallSourceRuleBuilder12(z));E.values=this.props.rule.values?[JSON.stringify(this.$GriffinSegmentInstallSourceRuleBuilder11())]:[];var F=c("FalcorSegmentRuleUtils").isValidRule(E)&&z!==r?{event_rules:[],event_info_rules:[E],user_property_rules:[],percentile_rules:[]}:null,G=c("CustomEventStore").hasEvent(c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP)?c("AppCustomEventType").FB_MOBILE_ACTIVATE_APP:c("AppCustomEventType").FB_MOBILE_INSTALL;if(this.$GriffinSegmentInstallSourceRuleBuilder1)this.$GriffinSegmentInstallSourceRuleBuilder1.cancel();this.$GriffinSegmentInstallSourceRuleBuilder1=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(G).setFilters(F).setAggregations([c("AnalyticsQueryAggregationMethod").COUNT]).setBreakdowns([z.toLowerCase()]).setOrderingColumns(["COUNT"]).setOrderingType("DESCENDING").setIntervalsToAggregate(0).setSince(C.getTime()/1e3).setUntil(D.getTime()/1e3).getQueryAsPromise();var H=function H(I,J){var K=I.map(function(L){var M=L[J],N=c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(z,L[J]);return{uniqueID:M,title:N}});return K.push({uniqueID:x,title:c("AnalyticsAcquisitionSourceNames").getWildcardDisplayName()})};this.$GriffinSegmentInstallSourceRuleBuilder1!==null&&this.$GriffinSegmentInstallSourceRuleBuilder1!==undefined||j(0);this.$GriffinSegmentInstallSourceRuleBuilder1.promise.done(function(I){var J=c("immutable").List(I.getResultAsRows().toJS()),K=I.getColumnNames().toJS(),L=K.indexOf(z.toLowerCase()),M=H(J,L);return this.$GriffinSegmentInstallSourceRuleBuilder18(z,M).then(function(N){this.setState({searchSources:this.state.searchSources.set(z,N)},function(){this.$GriffinSegmentInstallSourceRuleBuilder6(z)&&A&&A(this.$GriffinSegmentInstallSourceRuleBuilder15(z))}.bind(this))}.bind(this))}.bind(this))};y.prototype.$GriffinSegmentInstallSourceRuleBuilder18=function(z,A){"use strict";return c("InsightsGraphAPI").cachedObjectsGet("Ad Campaign/Ad Set/Ad",A.map(function(B){return B.title}).filter(function(B){return B&&c("isValidID")(B.toString())}).toArray(),{fields:"name"}).then(function(B){var C=function C(D){return B[D.title]?B[D.title].name+" ("+D.title+")":D.title};return A.map(function(D){return c("update")(D,{title:{$set:C(D)}})}).sort(function(D,E){return D.title.toString().localeCompare(E.title.toString())})})};y.prototype.$GriffinSegmentInstallSourceRuleBuilder5=function(z,A){"use strict";var B=this.state.searchSources.merge(v.toMap().flip().filter(function(C,D){return this.$GriffinSegmentInstallSourceRuleBuilder8(D,z)}.bind(this)).map(function(C){return null}));this.setState({searchSources:B},A)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder19=function(z,A){"use strict";return JSON.stringify(this.$GriffinSegmentInstallSourceRuleBuilder11().set(z,A).map(function(B,C){return this.$GriffinSegmentInstallSourceRuleBuilder8(C,z)?[]:B}.bind(this)))};y.prototype.$GriffinSegmentInstallSourceRuleBuilder20=function(z,A){"use strict";if(A.operator!==this.props.rule.operator)this.$GriffinSegmentInstallSourceRuleBuilder2("changed_operator",{newOperator:A.operator});var B=A.values,C=this.$GriffinSegmentInstallSourceRuleBuilder11().get(z);if(B!==undefined&&(C===undefined||B.length!==C.length))this.$GriffinSegmentInstallSourceRuleBuilder2("tokens_changed",{breakdown:z,nTokens:B.length});var D=c("update")(A,{values:{$set:[this.$GriffinSegmentInstallSourceRuleBuilder19(z,B)]}});this.props.onChange(D)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder21=function(z,A,B){"use strict";if(this.$GriffinSegmentInstallSourceRuleBuilder16(z))B(this.$GriffinSegmentInstallSourceRuleBuilder15(z));else this.$GriffinSegmentInstallSourceRuleBuilder17(z,B)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder22=function(z){"use strict";var A=this.$GriffinSegmentInstallSourceRuleBuilder13(z);this.$GriffinSegmentInstallSourceRuleBuilder2("refined_to",{newBreakdown:A});var B=this.$GriffinSegmentInstallSourceRuleBuilder14(A);this.$GriffinSegmentInstallSourceRuleBuilder20(A,B)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder23=function(z,A,B){"use strict";var C=this.state.searchSources.get(z);if(!C)return B;var D=C.find(function(E){return E.uniqueID===B});return D?D.title:B};y.prototype.$GriffinSegmentInstallSourceRuleBuilder24=function(z){"use strict";switch(z){case r:return i._("Origen de la descarga de la aplicaci\u00f3n");case s:return i._("Campa\u00f1a");case t:return i._("Conjunto de anuncios");case u:return i._("Anuncio");default:return i._("Desglose")}};y.prototype.$GriffinSegmentInstallSourceRuleBuilder25=function(z){"use strict";var A=this.$GriffinSegmentInstallSourceRuleBuilder12(z);this.$GriffinSegmentInstallSourceRuleBuilder2("unrefined_from",{oldBreakdown:A});var B=c("update")(this.props.rule,{values:{$set:this.$GriffinSegmentInstallSourceRuleBuilder11().get(A)},parameter_name:{$set:A}});this.$GriffinSegmentInstallSourceRuleBuilder20(A,B)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder7=function(z){"use strict";var A=this.$GriffinSegmentInstallSourceRuleBuilder23.bind(this,z),B=this.$GriffinSegmentInstallSourceRuleBuilder21.bind(this,z),C=this.$GriffinSegmentInstallSourceRuleBuilder22.bind(this,z),D=this.$GriffinSegmentInstallSourceRuleBuilder20.bind(this,z),E=this.$GriffinSegmentInstallSourceRuleBuilder25.bind(this,z),F=z===this.$GriffinSegmentInstallSourceRuleBuilder9()&&z!==r,G=this.$GriffinSegmentInstallSourceRuleBuilder14(z),H=G.values&&G.values.length!==0&&z!==u&&z===this.$GriffinSegmentInstallSourceRuleBuilder9(),I=z!==r,J=this.state.searchSources.hashCode(),K={parameter_name:G.parameter_name,display_name:this.$GriffinSegmentInstallSourceRuleBuilder24(z)},L=z===r?this.$GriffinSegmentInstallSourceRuleBuilder26():null;return c("React").createElement(c("GriffinLooseParameterRuleBuilder"),{additionalValueInput:L,getParameterDisplayValue:A,isParameterFixed:true,isOperatorFixed:I,key:z,loadParameterValues:B,onAdd:C,onChange:D,onDelete:F?E:this.props.onRemoveRule,parameterRule:c("update")(G,{ruleType:{$set:q}}),parameters:[K],searchSourceHash:J,showAnd:false,showAddButton:H})};y.prototype.$GriffinSegmentInstallSourceRuleBuilder26=function(){"use strict";var z=this.$GriffinSegmentInstallSourceRuleBuilder11().get(r);if(!z||z.length===0)return null;var A=this.$GriffinSegmentInstallSourceRuleBuilder11().get(w),B=A?A[0]||"":"",C=c("AnalyticsPredefinedBreakdownValues").acquisition_type,D=[c("React").createElement(c("GriffinSelectorOption"),{key:"all",value:""},i._("Cualquier atribuci\u00f3n"))].concat(Object.keys(C).map(function(E){return c("React").createElement(c("GriffinSelectorOption"),{key:E,value:E},C[E])}));return c("React").createElement(c("GriffinSelector"),{className:"_57cb",onChange:this.$GriffinSegmentInstallSourceRuleBuilder27.bind(this),value:B},D)};y.prototype.$GriffinSegmentInstallSourceRuleBuilder27=function(z){"use strict";var A=z===""?[]:[z];this.$GriffinSegmentInstallSourceRuleBuilder2("tokens_changed",{breakdown:w});var B=c("update")(this.props.rule,{values:{$set:[this.$GriffinSegmentInstallSourceRuleBuilder19(w,A)]}});this.props.onChange(B)};f.exports=y}),null);
__d("GriffinSegmentPercentileRuleBuilder",["cx","fbt","invariant","AnalyticsDateUtils","AnalyticsQueryAggregationMethod","AnalyticsQueryApi","InternalAnalyticsQueryBuilder","BonsaiAppEventTypesUtils","BonsaiText","FalcorAppEventSelector","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsEventLogger","React","XUICloseButton.react","XUITextInput.react","SUIBusinessTheme","SUISpinner.react","GriffinSegmentRules","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("AnalyticsDateUtils").DateRangeTypes,n=c("GriffinSegmentRules").PercentileCount,o=c("GriffinSegmentRules").PercentileValue,p=c("React").PropTypes;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={showByValue:null},this.$GriffinSegmentPercentileRuleBuilder1=null,this.$GriffinSegmentPercentileRuleBuilder3=function(){c("InsightsEventLogger").logEvent({eventName:"segments_builder_remove_rule",feature_id:c("InsightsContext").getActiveSegmentID()?c("InsightsContext").getActiveSegmentID():null,index:0,rule_type:"percentile",ad_hoc:true});this.props.onChangePercentileRule(null);this.props.onToggleShowPercentileRule(false)}.bind(this),this.$GriffinSegmentPercentileRuleBuilder11=function(w){this.$GriffinSegmentPercentileRuleBuilder14(w,"lower")}.bind(this),this.$GriffinSegmentPercentileRuleBuilder12=function(w){this.$GriffinSegmentPercentileRuleBuilder14(w,"upper")}.bind(this),s}q.prototype.componentWillMount=function(){var r,s=(r=this.props.rule)!=null?(r=r.event_rule)!=null?r.event_name:r:r;if(s)this.$GriffinSegmentPercentileRuleBuilder2(s)};q.prototype.componentWillUnmount=function(){this.$GriffinSegmentPercentileRuleBuilder1&&this.$GriffinSegmentPercentileRuleBuilder1.cancelQuery()};q.prototype.render=function(){var r=c("React").createElement(c("XUICloseButton.react"),{className:"_3kul",href:"#",onClick:this.$GriffinSegmentPercentileRuleBuilder3,size:"medium"}),s=c("React").createElement("div",{className:"_2kf4"},i._("Percentil"));return c("React").createElement("div",{className:(!!this.props.error?"_3j8-":"")+" _2cnx"},s,this.$GriffinSegmentPercentileRuleBuilder4(),this.$GriffinSegmentPercentileRuleBuilder5(),this.$GriffinSegmentPercentileRuleBuilder6(),r)};q.prototype.$GriffinSegmentPercentileRuleBuilder4=function(){var r,s=((r=this.props.rule)!=null?r.event_rule:r)||{};return c("React").createElement(c("FalcorAppEventSelector"),{onOpen:function t(){return c("InsightsEventLogger").logEvent({eventName:"segment_builder_event_selector_open",rule_type:"percentile"})},onSelect:function(t){return this.$GriffinSegmentPercentileRuleBuilder7({value:t.getUniqueID()})}.bind(this),value:s.event_name})};q.prototype.$GriffinSegmentPercentileRuleBuilder2=function(event){this.$GriffinSegmentPercentileRuleBuilder1&&this.$GriffinSegmentPercentileRuleBuilder1.cancelQuery();var r=c("AnalyticsDateUtils").getDateRange(m.LAST_7_DAYS),s=r.since,t=r.until;this.$GriffinSegmentPercentileRuleBuilder1=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(event).setAggregations([c("AnalyticsQueryAggregationMethod").SUM]).setIntervalsToAggregate(0).setSince(s.getTime()/1e3).setUntil(t.getTime()/1e3).setOnSuccess(function(u){var v=u.getTotals().sumTotal,w=v&&v>0;this.setState({showByValue:w})}.bind(this)).setOnError(function(){}).getQuery();c("AnalyticsQueryApi").queryAppEventData([this.$GriffinSegmentPercentileRuleBuilder1])};q.prototype.$GriffinSegmentPercentileRuleBuilder7=function(r){var event=r.value;c("InsightsEventLogger").logEvent({eventName:"segments_builder_change_rule",feature_id:c("InsightsContext").getActiveSegmentID()?c("InsightsContext").getActiveSegmentID():null,index:0,rule_type:"percentile",ad_hoc:true});var s={event_rule:{application:this.context.analyticsEntityID,event_name:event,parameters:[]},negate_rule:false};this.props.onChangePercentileRule(s);this.setState({showByValue:null});this.$GriffinSegmentPercentileRuleBuilder2(event)};q.prototype.$GriffinSegmentPercentileRuleBuilder5=function(){var r,s=((r=this.props)!=null?(r=r.rule)!=null?r.event_rule:r:r)||{};if(!s.event_name)return null;if(this.state.showByValue===null)return c("React").createElement("span",{className:"_4i_9"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}));var t=n;if(this.state.showByValue)t=babelHelpers["extends"]({},t,o);var u=Object.keys(t).map(function(w){return c("React").createElement(c("GriffinSelectorOption"),{key:w,value:w},c("BonsaiText").cumulative[w])}),v=i._("Por");return c("React").createElement(c("GriffinSelector"),{onChange:function(w){return this.$GriffinSegmentPercentileRuleBuilder8({value:w})}.bind(this),placeholder:v,value:this.$GriffinSegmentPercentileRuleBuilder9()},u)};q.prototype.$GriffinSegmentPercentileRuleBuilder10=function(r){return r===o.MOST_VALUE_5||r===o.MOST_VALUE_10||r===o.MOST_VALUE_25||r===o.MOST_VALUE_CUSTOM};q.prototype.$GriffinSegmentPercentileRuleBuilder8=function(r){var s,t=void 0,u=(s=this.props)!=null?(s=s.rule)!=null?s.event_rule:s:s;u||j(0);if(this.$GriffinSegmentPercentileRuleBuilder10(r.value))t=c("BonsaiAppEventTypesUtils").isAppEventCurrencyValue(u.event_name)?"usd_amount":"amount";else t="count";var v=void 0,w=100;switch(r.value){case n.MOST_ACTIVE_5:case o.MOST_VALUE_5:v=95;break;case n.MOST_ACTIVE_10:case o.MOST_VALUE_10:v=90;break;case n.MOST_ACTIVE_25:case o.MOST_VALUE_25:v=75;break;default:v=null;w=null;break}var x={event_rule:{application:this.context.analyticsEntityID,event_name:u.event_name,parameters:u.parameters,cumulative_rule:{metric:t,technique:{technique_name:"percentile",lower_bound:v,upper_bound:w}}},negate_rule:false};this.props.onChangePercentileRule(x)};q.prototype.$GriffinSegmentPercentileRuleBuilder9=function(){var r,s=((r=this.props)!=null?(r=r.rule)!=null?r.event_rule:r:r)||{},t=s.cumulative_rule;if(!t)return null;var u=t.metric,v=t.technique;if(!u||!v)return null;var w=v.technique_name==="percentile"&&v.upper_bound===100;if(u==="count"){if(w)switch(v.lower_bound){case 95:return n.MOST_ACTIVE_5;case 90:return n.MOST_ACTIVE_10;case 75:return n.MOST_ACTIVE_25}return n.MOST_ACTIVE_CUSTOM}else{u==="amount"||u==="usd_amount"||j(0);if(w)switch(v.lower_bound){case 95:return o.MOST_VALUE_5;case 90:return o.MOST_VALUE_10;case 75:return o.MOST_VALUE_25}return o.MOST_VALUE_CUSTOM}};q.prototype.$GriffinSegmentPercentileRuleBuilder6=function(){var r,s=this.$GriffinSegmentPercentileRuleBuilder9();if(s!==n.MOST_ACTIVE_CUSTOM&&s!==o.MOST_VALUE_CUSTOM)return null;var t=(r=this.props)!=null?(r=r.rule)!=null?r.event_rule:r:r;t||j(0);var u=t.cumulative_rule;u||j(0);var v=u.technique;v||j(0);var w=v.lower_bound===null?"":String(v.lower_bound),x=v.upper_bound===null?"":String(v.upper_bound);return c("React").createElement("span",{className:"_7h7"},c("React").createElement(c("XUITextInput.react"),{className:"_hl3",onChange:this.$GriffinSegmentPercentileRuleBuilder11,value:w}),c("React").createElement("span",{className:"_hl4"},i._("-")),c("React").createElement(c("XUITextInput.react"),{className:"_hl3",onChange:this.$GriffinSegmentPercentileRuleBuilder12,xuiError:this.$GriffinSegmentPercentileRuleBuilder13(),value:x}),i._("\u0025"))};q.prototype.$GriffinSegmentPercentileRuleBuilder14=function(r,s){var t,u=void 0;if(r.target.value==="")u=null;else{u=Number(r.target.value);if(Number.isNaN(u))return;if(u<0||u>100)return}var v=(t=this.props)!=null?(t=t.rule)!=null?t.event_rule:t:t;v||j(0);var w=v.cumulative_rule;w&&w.technique||j(0);var x={event_rule:{application:this.context.analyticsEntityID,event_name:v.event_name,parameters:v.parameters,cumulative_rule:{metric:w.metric,technique:{technique_name:w.technique.technique_name,lower_bound:s==="lower"?u:w.technique.lower_bound,upper_bound:s==="upper"?u:w.technique.upper_bound}}},negate_rule:false};this.props.onChangePercentileRule(x)};q.prototype.$GriffinSegmentPercentileRuleBuilder13=function(){var r,s=(r=this.props)!=null?(r=r.rule)!=null?r.event_rule:r:r;s||j(0);var t=s.cumulative_rule;t||j(0);var u=t.technique;if(!!u&&u.lower_bound!=null&&u.upper_bound!=null&&u.lower_bound>=u.upper_bound)return i._("El l\u00edmite superior debe ser mayor que el inferior");return null};q.contextTypes={analyticsEntityID:p.string.isRequired};f.exports=q}),null);
__d("GriffinSegmentRuleBuilder",["fbt","FalcorAppEventRuleDataBuilder","FalcorSegmentRuleUtils","GriffinAbstractSegmentRuleBuilder","InsightsContext","InsightsEventLogger","React","GriffinSegmentRules"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("GriffinSegmentRules").Types,l=c("GriffinAbstractSegmentRuleBuilder").Props,m=c("GriffinAbstractSegmentRuleBuilder").GriffinAbstractSegmentRuleBuilder;i=babelHelpers.inherits(n,m);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.onChangeRule=function(t){var u=c("FalcorSegmentRuleUtils").getRuleType(this.props.rule),v=c("FalcorSegmentRuleUtils").getRuleType(t);if(v===k.APP_EVENT)t.negate_rule=t.negate_rule||false;if(u!==v)c("InsightsEventLogger").logEvent({eventName:"segments_builder_change_rule",rule_type:v?v.toLowerCase():null,feature_id:c("InsightsContext").getActiveSegmentID(),index:this.props.orderedIndex,ad_hoc:true});j.onChangeRule.call(this,t)}.bind(this),p}n.prototype.getFirstRuleLabel=function(){return h._("Condici\u00f3n")};n.prototype.onRemoveRule=function(){var o=c("FalcorSegmentRuleUtils").getRuleType(this.props.rule);c("InsightsEventLogger").logEvent({eventName:"segments_builder_remove_rule",feature_id:c("InsightsContext").getActiveSegmentID(),index:this.props.orderedIndex,rule_type:o?o.toLowerCase():null,ad_hoc:true});j.onRemoveRule.call(this)};n.prototype.renderAppEventRuleBuilder=function(){return c("React").createElement(c("FalcorAppEventRuleDataBuilder"),{appID:this.props.appID,disablePushConditions:this.props.disablePushConditions,eventRuleData:this.props.rule,onChange:this.onChangeRule,onRemoveRule:this.onRemoveRule.bind(this),requireNegationSelector:true,requireRuleName:false})};f.exports=n}),null);
__d("GriffinSaveButton",["fbt","React","SUIAnalyticsGriffinTheme","SUISelectorOption.react","SUISplitButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes,l=c("React").PureComponent,m={SAVE:"save",SAVE_AS:"save_as",SAVE_INTERNAL:"save_internal"};i=babelHelpers.inherits(n,l);j=i&&i.prototype;n.prototype.render=function(){var o=this.props.buttonPermissions,p=[c("React").createElement(c("SUISelectorOption.react"),{disabled:!o.canSave&&!o.canSaveAs,key:m.SAVE,value:m.SAVE},h._("Guardar"))];if(o.canSaveAs)p.push(c("React").createElement(c("SUISelectorOption.react"),{key:m.SAVE_AS,value:m.SAVE_AS},h._("Guardar como")));if(o.canSaveAsInternal)p.push(c("React").createElement(c("SUISelectorOption.react"),{key:m.SAVE_INTERNAL,value:m.SAVE_INTERNAL},h._("Guardar como interno")));return c("React").createElement(c("SUISplitButton.react"),{className:this.props.className,disabled:this.props.isDisabled,label:h._("Guardar"),onChange:this.props.onChange,onClick:this.props.onClick,theme:c("SUIAnalyticsGriffinTheme")},p)};function n(){i.apply(this,arguments)}n.propTypes={buttonPermissions:k.object.isRequired,isDisabled:k.bool.isRequired,onChange:k.func.isRequired,onClick:k.func.isRequired};f.exports=n}),null);
__d("GriffinSegmentSaveDropdown",["fbt","invariant","FalcorSegmentRuleUtils","FluxContainer","GriffinEditFeatureDialog","GriffinSaveButton","GriffinSegmentUtils","InsightsContext","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l={SAVE:"save",SAVE_AS:"save_as",SAVE_INTERNAL:"save_internal"},m={save:{descriptionText:h._("\u00bfQuieres guardar este segmento con este nombre?"),showTextInput:true,title:h._("Guardar"),loadingText:h._("Guardando segmento")},save_as:{descriptionText:h._("Establece un nombre para el segmento que vas a crear."),showTextInput:true,title:h._("Guardar como"),loadingText:h._("Creando segmento")},save_internal:{descriptionText:h._("Asigna un nombre al nuevo segmento interno que est\u00e1s creando."),showTextInput:true,title:h._("Guardar como interno"),loadingText:h._("Creando segmento")}};j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={appliedSegment:null,modifiedSegment:{name:null,orderedRules:[null],percentileRule:null},showDialog:false,segmentName:null,selectedOption:null,isInternal:false,isLoading:false},this.$GriffinSegmentSaveDropdown2=function(t){var u=void 0,v=this.$GriffinSegmentSaveDropdown1();if(t===l.SAVE&&!v.canSave)t=l.SAVE_AS;c("InsightsEventLogger").logEvent({eventName:"segments_actions_option_click",feature_id:this.state.appliedSegment?this.state.appliedSegment.id:null,option:t,ad_hoc:true});if(t===l.SAVE)u=this.state.appliedSegment?this.state.appliedSegment.name:null;this.setState({showDialog:true,isInternal:t===l.SAVE_INTERNAL,segmentName:u,selectedOption:t})}.bind(this),this.$GriffinSegmentSaveDropdown3=function(){var t=this.$GriffinSegmentSaveDropdown1();if(t.canSave||t.canSaveAs)this.$GriffinSegmentSaveDropdown2(l.SAVE)}.bind(this),this.$GriffinSegmentSaveDropdown4=function(){this.setState({showDialog:false,segmentName:null,isInternal:false,isLoading:false,selectedOption:null})}.bind(this),this.onTextChange=function(t){this.setState({segmentName:t})}.bind(this),this.onSaveAs=function(){var t=this.state.segmentName;t||i(0);var u=this.state.isInternal?"segments_save_internal_click":"segments_save_as_click";c("InsightsEventLogger").logEvent({eventName:u,feature_id:this.state.appliedSegment?this.state.appliedSegment.id:null,ad_hoc:true});this.props.actions.createSegment({isInternal:this.state.isInternal,segmentName:t,callback:this.$GriffinSegmentSaveDropdown4});this.setState({segmentName:null,isLoading:true})}.bind(this),this.onSave=function(){var t=this.state.segmentName;t||i(0);c("InsightsEventLogger").logEvent({eventName:"segments_save_click",feature_id:this.state.appliedSegment?this.state.appliedSegment.id:null,ad_hoc:true});this.props.actions.saveSegment({segmentName:t,callback:this.$GriffinSegmentSaveDropdown4});this.setState({segmentName:null,isLoading:true})}.bind(this),this.onClose=function(){this.state.selectedOption||i(0);c("InsightsEventLogger").logEvent({eventName:"segments_"+this.state.selectedOption+"_canceled_click",feature_id:this.state.appliedSegment?this.state.appliedSegment.id:null,ad_hoc:true});this.$GriffinSegmentSaveDropdown4()}.bind(this),p}n.getStores=function(o){return[o.store]};n.calculateState=function(o,p){var q=p.store;return{appliedSegment:q.getAppliedSegment(),modifiedSegment:q.getModifiedSegment(),showDialog:o?o.showDialog:false,segmentName:o?o.segmentName:null,isInternal:o?o.isInternal:false,isLoading:o?o.isLoading:false,selectedOption:o?o.selectedOption:null}};n.prototype.$GriffinSegmentSaveDropdown1=function(){var o=this.state.appliedSegment,p=o&&o.id,q=o&&o.is_internal,r=c("GriffinSegmentUtils").hasEmptyRules(this.state.modifiedSegment.orderedRules,this.state.modifiedSegment.percentileRule),s=c("FalcorSegmentRuleUtils").hasRuleConflicts(this.state.modifiedSegment.orderedRules),t=!r&&!s,u=c("InsightsContext").isReadOnly(),v=c("InsightsContext").canUserCreateInternalObject(),w=!!p&&(q?v:!u),x=w&&t,y=t&&v,z=t&&!u;return{canSave:x,canSaveAsInternal:y,canSaveAs:z}};n.prototype.render=function(){var o=this.$GriffinSegmentSaveDropdown1(),p=!(o.canSave||o.canSaveAs||o.canSaveAsInternal);return c("React").createElement("div",{className:this.props.className},this.renderDialog(),c("React").createElement(c("GriffinSaveButton"),{buttonPermissions:o,isDisabled:p,onChange:this.$GriffinSegmentSaveDropdown2,onClick:this.$GriffinSegmentSaveDropdown3}))};n.prototype.renderDialog=function(){if(!this.state.showDialog)return null;this.state.selectedOption||i(0);var o=m[this.state.selectedOption],p=void 0;switch(this.state.selectedOption){case l.SAVE:p=this.onSave;break;case l.SAVE_AS:case l.SAVE_INTERNAL:p=this.onSaveAs;break}return c("React").createElement(c("GriffinEditFeatureDialog"),{descriptionText:o.descriptionText,isLoading:this.state.isLoading,loadingText:o.loadingText,name:this.state.segmentName,onButtonClick:p,onClose:this.onClose,onNameChange:this.onTextChange,title:o.title,showTextInput:o.showTextInput})};f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("SUIAnalyticsGriffinHeaderTheme",["cssVar","React","SUIAtlasIcon.react","SUITheme","SUITypeStyle"],(function a(b,c,d,e,f,g,h){"use strict";var i="Helvetica, Arial, sans-serif",j={black:"#000000",white:"#ffffff",gray:"#4E5665",grayText:"#898F9C",grayBorder:"#D7D7D7",grayDark:"#666E7C",blue:"#3A84C5",buttonBackground:"#639ECE",buttonBorder:"#9BC0E4",buttonDisabledBackground:"#4E91CA",buttonDisabledBorder:"#6BA2D4",closeButtonBackground:"#85B9E6"},k={typeBlack:new(c("SUITypeStyle"))({fontSize:"12px",color:j.black,fontFamily:i,fontWeight:"400"}),typeBlackBig:new(c("SUITypeStyle"))({fontSize:"24px",color:j.black,fontFamily:i,fontWeight:"400"}),typeBlackBold:new(c("SUITypeStyle"))({fontSize:"12px",color:j.black,fontFamily:i,fontWeight:"600"}),typeWhite:new(c("SUITypeStyle"))({fontSize:"12px",color:j.white,fontFamily:i,fontWeight:"400"}),typeWhiteBold:new(c("SUITypeStyle"))({fontSize:"12px",color:j.white,fontFamily:i,fontWeight:"600"}),typeGrayBold:new(c("SUITypeStyle"))({fontSize:"12px",color:j.gray,fontFamily:i,fontWeight:"600"})},l=c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.closeButtonBackground,colorDisabled:j.buttonBackground,colorHover:j.white,name:"delete"}),m=c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.white,colorDisabled:j.gray,colorHover:j.white,name:"delete"}),n={SUITooltip:{backgroundColor:j.black,color:j.white,typeStyle:babelHelpers["extends"]({},k.typeWhite,{WebkitFontSmoothing:"auto"})},SUIButton:{height:{normal:32,"short":24,tall:48},padding:{normal:{button:"16px",icon:"6px",onlyIcon:"19px"},"short":{button:"16px",icon:"6px",onlyIcon:"19px"},tall:{button:"16px",icon:"6px",onlyIcon:"19px"}},typeStyle:k.typeWhiteBold,use:{"default":{active:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white},disabled:{background:j.buttonDisabledBackground,borderColor:j.buttonDisabledBorder,color:j.buttonDisabledBorder},hover:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white},normal:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white}},confirm:{active:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white},disabled:{background:j.buttonDisabledBackground,borderColor:j.buttonDisabledBorder,color:j.buttonDisabledBorder},hover:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white},normal:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white}},special:{active:{background:j.blue,borderColor:j.buttonBorder,color:j.white},disabled:{background:j.buttonDisabledBackground,borderColor:j.buttonDisabledBorder,color:j.buttonDisabledBorder},hover:{background:j.buttonBackground,borderColor:j.buttonBorder,color:j.white},normal:{background:j.blue,borderColor:j.buttonBorder,color:j.white}}}},SUIButtonIcon:{colorConfirm:j.white,colorDefault:j.white,colorDisabled:j.buttonDisabledBorder,colorSpecial:j.white,defaultSize:18,iconComponent:c("SUIAtlasIcon.react")},SUICloseButton:{dark:{large:l,small:l},light:{large:m,small:m},iconSize:{large:24,small:14}},SUIHelpMessage:{icon:c("React").createElement(c("SUIAtlasIcon.react"),{name:"information",style:{color:j.black}})},SUIHighlightedText:{backgroundColor:j.white},SUIInlineTypeahead:{dividerBorderColor:j.grayBorder,searchIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.grayText,name:"search"})},SUISearchableSelector:{disabledSubtitleTypeStyle:k.typeGrayBold,disabledTitleTypeStyle:k.typeGrayBold,dropdownBackgroundColor:j.white,dropdownBorderColor:j.grayBorder,headerBackgroundColor:j.white,headerTypeStyle:k.typeWhiteBold,subtitleColor:j.white,subtitleTypeStyle:k.typeWhite,titleTypeStyle:k.typeWhiteBold},SUISelector:{backgroundColor:j.white,borderColor:j.grayBorder,boxShadow:"none"},SUISelectorButton:{chevron:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.white,colorDisabled:j.buttonDisabledBorder,name:"chevronDown",size:12}),padding:"12px"},SUISelectorOption:{activeBackgroundColor:j.white,activeColor:j.black,color:j.grayDark,descriptionColor:j.grayDark,descriptionSelectedColor:j.grayDark,disabledBackgroundColor:j.white,disabledColor:j.gray,highlightedBackgroundColor:j.white,highlightedColor:j.black,padding:{bottom:"8px",left:"12px",right:"24px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"12px",right:"24px",top:"8px"},selectedBackgroundColor:j.white,selectedColor:j.black,selectedTypeStyle:k.typeBlackBold,typeStyle:k.typeBlackBold},SUISelectorSeparator:{color:j.grayBorder,margin:{bottom:"12px",left:"12px",right:"12px",top:"12px"}},SUITokenizerItem:{disabled:{color:j.gray,subtitleColor:j.gray},highlighted:{backgroundColor:j.white,color:j.black,subtitleColor:j.black},normal:{color:j.grayDark,subtitleColor:j.grayDark},remove:{disabledIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray,name:"delete",size:14}),highlightedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.black,name:"delete",size:14}),normalIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.grayDark,name:"delete",size:14}),selectedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.black,name:"delete",size:14})},selected:{backgroundColor:"#DEF2FA",color:j.black,disabledIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray,name:"check",size:14}),highlightedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.black,name:"check",size:14}),isIconShownForSingleSelection:false,normalIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.grayDark,name:"check",size:14}),selectedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.black,name:"check",size:14}),subtitleColor:j.white}},SUITokenizerItemList:{backgroundColor:j.white,borderColor:j.grayBorder,categoryHeader:{borderColor:j.gray,typeStyle:k.typeBlackBig},typeStyle:k.typeBlackBold}},o=new(c("SUITheme"))({id:"analytics_griffin_header",components:n});f.exports=o}),null);
__d("GriffinSegmentSelectorToggleConditionsButton",["cx","fbt","FluxContainer","GriffinLightweightSegmentSelector","InsightsEventLogger","InsightsNumUtils","LightweightSegmentStore","React","LightweightSegmentActions","SUIAnalyticsGriffinHeaderTheme","SUIButton.react"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$GriffinSegmentSelectorToggleConditionsButton2=function(r){c("InsightsEventLogger").logEvent({eventName:"segments_clear_click",feature_id:this.state.activeSegment?this.state.activeSegment.id:null,button_location:"segment_selector",ad_hoc:true});c("LightweightSegmentActions").modifyAndApplySegment({segment:null});r=r||this.state.showConditions;c("LightweightSegmentActions").toggleShowConditions({showConditions:r});c("LightweightSegmentActions").applySegmentById(null)}.bind(this),n}l.getStores=function(){"use strict";return[c("LightweightSegmentStore")]};l.calculateState=function(m){"use strict";var n=c("LightweightSegmentStore").getAppliedSegment(),o=void 0;if(!m||n!==m.activeSegment||!m.percentage){var p=c("LightweightSegmentStore").getTotalUsers(),q=c("LightweightSegmentStore").getSegmentTotalUsers();if(p&&q!==null&&q!==undefined){if(q>p)q=p;var r=q/p,s=c("InsightsNumUtils").prettyPercent(q/p,2);o=r<.01&&r>0?"< 1%":s}else o=null}else o=m.percentage;return{showConditions:c("LightweightSegmentStore").getShowConditions(),activeSegment:n,percentage:o}};l.prototype.$GriffinSegmentSelectorToggleConditionsButton1=function(){"use strict";var m={_eventName:"segments_toggle_conditions",state:this.state.showConditions?"hide":"edit",ad_hoc:true};c("InsightsEventLogger").logEvent(m);c("LightweightSegmentActions").toggleShowConditions({showConditions:!this.state.showConditions})};l.prototype.$GriffinSegmentSelectorToggleConditionsButton3=function(m){"use strict";var n=m.getAuxiliaryData();c("InsightsEventLogger").logEvent({eventName:"segment_select",feature_id:n.id,select_source:"selector_dropdown",ad_hoc:true});c("LightweightSegmentActions").applySegmentById(n.id)};l.prototype.componentWillMount=function(){"use strict";c("LightweightSegmentActions").fetchTotalUsers({});c("LightweightSegmentActions").toggleIsSelectorShown({isSelectorShown:true})};l.prototype.componentWillUnmount=function(){"use strict";c("LightweightSegmentActions").toggleIsSelectorShown({isSelectorShown:false})};l.prototype.render=function(){"use strict";var m=c("React").createElement(c("SUIButton.react"),{key:"filter_button",ref:"filter_button",label:this.state.showConditions?i._("Ocultar"):i._("Editar"),onClick:this.$GriffinSegmentSelectorToggleConditionsButton1.bind(this),style:{marginLeft:"8px"},theme:c("SUIAnalyticsGriffinHeaderTheme")});return c("React").createElement("div",{className:"inlineBlock _3-96"},c("React").createElement(c("GriffinLightweightSegmentSelector"),{activeSegment:this.state.activeSegment,deleteDisabled:false,dropdownWidth:300,getTooltipForEntry:function n(o){return o.getAuxiliaryData().is_internal?i._("Uso interno de Facebook"):null},onChange:this.$GriffinSegmentSelectorToggleConditionsButton3,onCreateNew:this.$GriffinSegmentSelectorToggleConditionsButton2,percentage:this.state.percentage,segmentActions:c("LightweightSegmentActions"),showAllUsersOption:true,theme:c("SUIAnalyticsGriffinHeaderTheme")}),m)};f.exports=c("FluxContainer").create(l)}),null);
__d("GriffinSessionTimeoutSetting",["cx","fbt","FalcorCustomEventsSettingsText","FalcorLoadingCard","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","React","XUIButton.react","XUITextInput.react","nullthrows"],(function a(b,c,d,e,f,g,h,i){var j,k,l="60",m=10,n=/^[0-9]*$/,o="session_timeout_input",p=null;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={savedValue:(this.props.savedValue||"")+"",textBoxValue:(this.props.savedValue||"")+"",loaded:this.props.savedValue!==undefined,enteredBadValue:false,gotWriteRequestError:false},this.$GriffinSessionTimeoutSetting4=function(){if(this.props.allowSave){var w=this.state.textBoxValue;if(this.$GriffinSessionTimeoutSetting8(w)){var x=parseInt(w,10);if(x<m)w=l;this.$GriffinSessionTimeoutSetting5(w);this.setState({enteredBadValue:false,textBoxValue:w})}else this.setState({enteredBadValue:true})}}.bind(this),this.$GriffinSessionTimeoutSetting2=function(w){if(p)clearTimeout(p);var x=w.target.value;p=setTimeout(function(){var y=this.$GriffinSessionTimeoutSetting8(x);this.setState({enteredBadValue:!y})}.bind(this),500);this.setState({textBoxValue:x})}.bind(this),s}q.prototype.render=function(){"use strict";if(!this.state.loaded)return c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true});var r=void 0;if(this.state.gotWriteRequestError)r=c("React").createElement("div",{className:"_531c"},c("FalcorCustomEventsSettingsText").sessionTimeoutInterval.writeRequestError);return c("React").createElement("div",{className:"_531e"},c("React").createElement("div",{className:"_3nil _5u04"},c("FalcorCustomEventsSettingsText").sessionTimeoutInterval.header),c("React").createElement("div",{className:"_3nim _5u06"},c("FalcorCustomEventsSettingsText").sessionTimeoutInterval.description),c("React").createElement("div",{className:"_3nim _5u06"},c("FalcorCustomEventsSettingsText").sessionTimeoutInterval.sdkVersion),c("React").createElement("div",null,c("React").createElement(c("XUITextInput.react"),{className:"_5320 _532-",name:o,height:"tall",value:this.state.textBoxValue,defaultValue:this.state.savedValue,xuiError:this.$GriffinSessionTimeoutSetting1(),onChange:this.$GriffinSessionTimeoutSetting2}),this.$GriffinSessionTimeoutSetting3()),r)};q.prototype.$GriffinSessionTimeoutSetting3=function(){"use strict";if(!this.props.allowSave)return null;return c("React").createElement(c("XUIButton.react"),{onClick:this.$GriffinSessionTimeoutSetting4,label:i._("Guardar"),className:"_531j _3ikm _3ikw"})};q.prototype.$GriffinSessionTimeoutSetting5=function(r){"use strict";var s=c("InsightsContext").getAnalyticsEventConfigID();c("nullthrows")(s,"cannot update App Event Config without ID");if(r==="")r=l;var t={session_timeout_interval:parseInt(r,10)};c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").APP_EVENT_CONFIG_NODE,s,t).done(function(u){return this.$GriffinSessionTimeoutSetting6(r)}.bind(this),function(u){return this.$GriffinSessionTimeoutSetting7()}.bind(this))};q.prototype.$GriffinSessionTimeoutSetting8=function(r){"use strict";var s=n.test(r);if(s){var t=parseInt(r,10);s=t>=m}return s};q.prototype.$GriffinSessionTimeoutSetting6=function(r){"use strict";this.setState({savedValue:r,gotWriteRequestError:false})};q.prototype.$GriffinSessionTimeoutSetting7=function(){"use strict";this.setState({gotWriteRequestError:true})};q.prototype.$GriffinSessionTimeoutSetting1=function(){"use strict";if(this.state.enteredBadValue)return c("FalcorCustomEventsSettingsText").sessionTimeoutInterval.invalidInput;return null};f.exports=q}),null);
__d("AnalyticsStore",["analyticsReducer","Redux"],(function a(b,c,d,e,f,g){"use strict";var h=c("Redux").createStore,i=h(c("analyticsReducer"));f.exports=i}),null);
__d("PeopleStore",["invariant","ActiveSectionStore","AnalyticsDateRangeStore","AnalyticsDateUtils","AnalyticsQueryApi","InternalAnalyticsQueryBuilder","AnalyticsUIErrorTypedLogger","AppCustomEventType","AppEventsAggregatingColumn","AnalyticsQueryJobStatus","ErrorUtils","EventEmitter","GriffinSegmentUtils","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsGraphAPIErrorUtils","InsightsUtils","PeopleInsightsStatus"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsDateUtils").DateRangeTypes,l=[c("AppEventsAggregatingColumn").AGE,c("AppEventsAggregatingColumn").GENDER],m=null,n=1e3,o=null,p=["age,gender","people_insights","segmentTotalUsers","totalUsers",c("AppEventsAggregatingColumn").APP_VERSION,c("AppEventsAggregatingColumn").CITY_CODE,c("AppEventsAggregatingColumn").COUNTRY,c("AppEventsAggregatingColumn").DEVICE_MODEL,c("AppEventsAggregatingColumn").DEVICE_OS_TYPE,c("AppEventsAggregatingColumn").LOCALE,c("AppEventsAggregatingColumn").OS_VERSION,c("AppEventsAggregatingColumn").PLATFORM,c("AppEventsAggregatingColumn").USING_FB_LOGIN];i=babelHelpers.inherits(q,c("EventEmitter"));j=i&&i.prototype;function q(){j.constructor.call(this);this.$PeopleDataStore3={};this.$PeopleDataStore2=null;this.$PeopleDataStore5=false;this.$PeopleDataStore4=[]}q.prototype.setSegmentEntity=function(s){if(this.$PeopleDataStore1&&c("GriffinSegmentUtils").isEqual(this.$PeopleDataStore1,s))return;this.$PeopleDataStore1=s;this.$PeopleDataStore2=null;if(s){this.$PeopleDataStore3={};p.forEach(function(t){this.emit(t,m)}.bind(this));this.$PeopleDataStore4.forEach(function(t){this.$PeopleDataStore6(t)}.bind(this));this.$PeopleDataStore7()}};q.prototype.isAllUserSegment=function(){return this.$PeopleDataStore1?this.$PeopleDataStore1.is_all_user:false};q.prototype.subscribe=function(s,t){return this.addListener(s,t)};q.prototype.getPeopleData=function(){if(this.$PeopleDataStore2){this.emit("people_insights",this.$PeopleDataStore2);return}if(!this.$PeopleDataStore1)return;this.$PeopleDataStore7()};q.prototype.$PeopleDataStore7=function(){if(this.$PeopleDataStore5)return;this.$PeopleDataStore8()};q.prototype.$PeopleDataStore8=function(){this.$PeopleDataStore5=true;this.$PeopleDataStore1||h(0);if(!this.$PeopleDataStore1.id){this.$PeopleDataStore2={people_insights_status:"ad_hoc segment",async_status:"",pages:{},ratios:{},values:{}};this.$PeopleDataStore5=false;this.emit("people_insights",this.$PeopleDataStore2);return}var s={fields:["people_insights"]};c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").SEGMENT_NODE,this.$PeopleDataStore1.id,s).done(function(t){var u=t.people_insights.async_status;if(u===c("AnalyticsQueryJobStatus").STARTED)setTimeout(function(){return this.$PeopleDataStore8()}.bind(this),n);else{this.$PeopleDataStore2=t.people_insights;this.$PeopleDataStore5=false;if(u===c("AnalyticsQueryJobStatus").FAILED)new(c("AnalyticsUIErrorTypedLogger"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setCardKey("people_store").setErrorMessage("PeopleInsight API returned status '"+t.people_insights.people_insights_status+"'").setErrorType("api_failure").setSection(c("ActiveSectionStore").getActiveSectionName()).log();this.emit("people_insights",t.people_insights)}}.bind(this),function(t){this.$PeopleDataStore2={async_status:c("AnalyticsQueryJobStatus").FAILED,people_insights_status:c("PeopleInsightsStatus").API_ERROR,pages:{},ratios:{},values:{}};this.$PeopleDataStore5=false;if(!c("InsightsGraphAPIErrorUtils").isSessionExpiredError(t)){var u=c("ErrorUtils").normalizeError(t);new(c("AnalyticsUIErrorTypedLogger"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setCardKey("people_store").setErrorMessage(u.message).setErrorType(u.type).setSection(c("ActiveSectionStore").getActiveSectionName()).setStackTrace(u.stack).log()}this.emit("people_insights",this.$PeopleDataStore2)}.bind(this))};q.prototype.getSegmentData=function(s){this.$PeopleDataStore1||h(0);if(this.$PeopleDataStore3[s]){this.emit(s,this.$PeopleDataStore3[s]);return}var t=this.$PeopleDataStore4.indexOf(s)>-1;if(!this.$PeopleDataStore1&&!t)this.$PeopleDataStore4.push(s);else if(!t){this.$PeopleDataStore6(s);this.$PeopleDataStore4.push(s)}};q.prototype.getLast28Days=function(){var s=c("AnalyticsDateUtils").getDateRange(k.LAST_28_DAYS,c("AnalyticsDateRangeStore").getTimezoneID());return{startTime:c("InsightsUtils").utcTimeToPacificTime(s.since).getTime()/1e3,endTime:c("InsightsUtils").utcTimeToPacificTime(s.until).getTime()/1e3}};q.prototype.$PeopleDataStore9=function(){var s=this.$PeopleDataStore1;s||h(0);var t={event_rules:s.event_rules,event_info_rules:s.event_info_rules,user_property_rules:s.user_property_rules,percentile_rules:s.percentile_rules,web_param_rules:s.web_param_rules};return t};q.prototype.$PeopleDataStore10=function(s){var t=this.$PeopleDataStore4.indexOf(s);if(t!=-1)this.$PeopleDataStore4.splice(t,1)};q.prototype.$PeopleDataStore6=function(s){var t=this.$PeopleDataStore1;t||h(0);var u=s===l.toString()?l:[s];if(s==="segmentTotalUsers"||s==="totalUsers")u=null;var v=this.getLast28Days(),w=v.startTime,x=v.endTime,y=this.$PeopleDataStore9();if(c("GriffinSegmentUtils").isEmpty(t))return;var event=s==="totalUsers"?c("AppCustomEventType").FB_BASE_EVENT:c("GriffinSegmentUtils").getDefaultEventName(t),z=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(event).setSince(w).setUntil(x).setTag(s).setOnSuccess(function(A){this.$PeopleDataStore10(s);this.$PeopleDataStore3[s]=A;this.emit(s,A)}.bind(this)).setOnError(function(A){this.$PeopleDataStore10(s);this.emit(s,A)}.bind(this));if(u)z=z.setBreakdowns(u).setLimit(200);if(s!=="totalUsers")z=z.setFilters(y);c("AnalyticsQueryApi").queryAppEventData([z.getTopUniquesInDateRangeQuery()])};function r(){if(!o)o=new q();return o}f.exports=r()}),null);
__d("AnalyticsFullscreenExperience",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({F8_2017_PRODUCT_TOUR:"F8_2017_PRODUCT_TOUR",MARKETING_OPT_IN:"MARKETING_OPT_IN",NONE:"NONE",PIXEL_NUX:"PIXEL_NUX",VALUE_PROP_MEGAPHONE:"VALUE_PROP_MEGAPHONE",VALUE_PROP_TOUR:"VALUE_PROP_TOUR"})}),null);
__d("AnalyticsAnnouncements",["AnalyticsGoalLineAnnouncement","AnalyticsFullscreenExperience","AnalyticsMarketingOptIn","AnalyticsQEUniverses","AnalyticsQEUtils","AnalyticsValuePropNux","InsightsContext","React","RelayFBEnvironment","RelayModern","idx","AnalyticsAnnouncementsQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("RelayModern").QueryRenderer,k=c("RelayModern").graphql,l=function l(){return c("AnalyticsAnnouncementsQuery.graphql")};h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.state={canDisplay:true},this.$AnalyticsAnnouncements2=function(){this.setState({canDisplay:false})}.bind(this),this.$AnalyticsAnnouncements1=function(s){var t;if(!s.props)return null;var u=((t=s)!=null?(t=t.props)!=null?(t=t.viewer)!=null?t.userConfig:t:t:t)||{},v=u.fullscreenExperience,w=u.hasDismissedGoalLineAnnouncement;if(v===c("AnalyticsFullscreenExperience").VALUE_PROP_MEGAPHONE)return c("React").createElement(c("AnalyticsValuePropNux"),{onDismiss:this.$AnalyticsAnnouncements2});else if(v===c("AnalyticsFullscreenExperience").MARKETING_OPT_IN)return c("React").createElement(c("AnalyticsMarketingOptIn"),{onDismiss:this.$AnalyticsAnnouncements2});else if(w===false&&this.$AnalyticsAnnouncements3())return c("React").createElement(c("AnalyticsGoalLineAnnouncement"),{entityID:this.props.entityID,onDismiss:this.$AnalyticsAnnouncements2});else return null}.bind(this),o}m.prototype.render=function(){return!this.state.canDisplay?null:c("React").createElement(j,{environment:c("RelayFBEnvironment"),query:l,render:this.$AnalyticsAnnouncements1,variables:{entityID:this.props.entityID}})};m.prototype.$AnalyticsAnnouncements3=function(){if(c("InsightsContext").isDemoApp())return false;return c("AnalyticsQEUtils").showExperiment(c("AnalyticsQEUniverses").ANALYTICS_GOAL_LINE)};f.exports=m}),null);
__d("FalcorPageScrollingUtils",["DOMScroll","InsightsContext"],(function a(b,c,d,e,f,g){var h={scrollTo:function i(j,k){var l=c("InsightsContext").getAutoScrollCardName();if(!l||l!==j)return;c("InsightsContext").setAutoScrollCardName(null);c("DOMScroll").scrollTo(k,750,false,0,150)}};f.exports=h}),null);
__d("GriffinSearchInput",["React","SUIAnalyticsGriffinTheme","SUISearchInput.react"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){return c("React").createElement(c("SUISearchInput.react"),babelHelpers["extends"]({},i,{theme:c("SUIAnalyticsGriffinTheme")}))};f.exports=h}),null);
__d("AnalyticsCard",["ix","cx","fbt","xuiglyph","AnalyticsCMSStore","AnalyticsErrorBoundary","BonsaiConfig","BonsaiContextualHelp","BonsaiText","FalcorDownloadMixin","FalcorPageScrollingUtils","GriffinButton","GriffinButtonGroup","GriffinDialog","GriffinSearchInput","HTML","Image.react","InsightsContext","InsightsEventLogger","LeftRight.react","Link.react","List.react","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIHelpMessage.react","URI","XUICard.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l=c("React").PropTypes,m=c("React").createClass({displayName:"AnalyticsCard",mixins:[c("FalcorDownloadMixin")],propTypes:babelHelpers["extends"]({},c("XUICard.react").propTypes,{additionalHeader:l.node,buttons:l.node,cardKey:l.string,dropDown:l.node,exportFilename:l.string,getExportData:l.func,hasError:l.bool,helpText:l.shape({key:l.string.isRequired,title:l.string.isRequired,extra:l.element}),onClickBackButton:l.func,onSearchChange:l.func,pinButton:l.node,searchString:l.string,setEcosystemVisibility:l.func,showButtonsLast:l.bool,showLine:l.bool,stepNumber:l.number,subtitle:l.node,title:l.node,tooltip:l.node,url:l.instanceOf(c("URI")),compactHeader:l.bool}),componentDidMount:function n(){c("FalcorPageScrollingUtils").scrollTo(this.props.cardKey,c("ReactDOM").findDOMNode(this))},getDefaultProps:function n(){return{hasError:false,showLine:true,showButtonsLast:false}},getInitialState:function n(){return{isEcosystemVisible:false,showEcosystemButton:false,showHelpDialog:false}},showEcosystemButton:function n(o){this.setState({showEcosystemButton:o,isEcosystemVisible:!o?false:this.state.isEcosystemVisible})},_onToggleEcosystem:function n(){if(this.props.setEcosystemVisibility)this.props.setEcosystemVisibility(!this.state.isEcosystemVisible);this.setState({isEcosystemVisible:!this.state.isEcosystemVisible})},render:function n(){var o="_2xrg"+(this.props.hasError?" _46d2":"");return c("React").createElement(c("XUICard.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,o),title:""}),this._renderHelpDialog(),this._renderHeader(),c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:this.props.cardKey},c("React").createElement("div",null,this.props.children)))},_renderHelpButton:function n(){if(!this.props.helpText)return null;return c("React").createElement(c("GriffinButton"),{"data-tooltip-position":"below",key:"help",iconName:"information",onClick:function(){c("InsightsEventLogger").logEvent({eventName:"info_button_click",key:this.props.helpText.key});this.setState({showHelpDialog:true})}.bind(this),width:32,tooltip:j._("Obt\u00e9n m\u00e1s informaci\u00f3n sobre c\u00f3mo utilizar estos datos.")})},_renderHelpDialog:function n(){if(!this.state.showHelpDialog)return null;var o=c("AnalyticsCMSStore").getContent(this.props.helpText.key),p=null;if((!o||!c("HTML").isHTML(o))&&(!c("BonsaiConfig").isEmployee||!c("BonsaiConfig").isInternal)){if(!this.props.helpText.extra)return null}else p=c("React").createElement(c("BonsaiContextualHelp"),{helpKey:this.props.helpText.key});return c("React").createElement(c("GriffinDialog"),{title:this.props.helpText.title,text:p,extra:this.props.helpText.extra,onClose:function(){return this.setState({showHelpDialog:false})}.bind(this)})},_renderEcosystemButton:function n(){var o=this.state.isEcosystemVisible?h("138427"):h("141631"),p=c("BonsaiText").compareApps;if(c("InsightsContext").isGame())p=c("BonsaiText").compareGames;return c("React").createElement(c("ShimButton.react"),{className:"_bhz mrm",onClick:this._onToggleEcosystem},c("React").createElement(c("Image.react"),{src:o,alt:p,title:p}))},_renderHeader:function n(){var o=this.props.title||this.props.subtitle||this.props.getExportData||this.props.onClickBackButton||this.props.onSearchChange||this.props.dropDown||this.props.buttons||this.props.stepNumber||this.props.additionalHeader;if(!o)return null;var p=this.props.title,q=this.props.subtitle;if(this.props.stepNumber)p=c("React").createElement("div",null,c("React").createElement("div",{className:"_3tor _3-91"},this.props.stepNumber),c("React").createElement("span",null,this.props.title));else if(this.props.onClickBackButton)p=c("React").createElement(c("Link.react"),{className:"_46d4",onClick:this.props.onClickBackButton},c("React").createElement(c("Image.react"),{className:p?"_3-8_":"",src:h("142930")}),p);var r=this.props.onSearchChange?c("React").createElement(c("GriffinSearchInput"),{className:"_lw-",onChange:function(B){return this.props.onSearchChange({target:{value:B}})}.bind(this),value:this.props.searchString}):null,s=this.props.dropDown&&p?this.props.onClickBackButton?c("React").createElement("span",{className:"_3-8s"},"/"):c("React").createElement(c("Image.react"),{className:"_3-8s",src:h("88877")}):null,t=[],u=[];if(this.state.showEcosystemButton&&this.props.setEcosystemVisibility)t.push(c("React").createElement("li",{key:"ecosystem"},this._renderEcosystemButton()));if(this.props.buttons&&!this.props.showButtonsLast)t.push(c("React").createElement("li",{key:"propbuttons"},this.props.buttons));if(this.props.pinButton)u.push(this.props.pinButton);u.push(this._renderHelpButton());if(this.props.getExportData)u.push(this._getExportButton());t.push(c("React").createElement("li",{key:"button_group"},c("React").createElement("span",null,c("React").createElement(c("GriffinButtonGroup"),null,u))));if(this.props.buttons&&this.props.showButtonsLast)t.push(c("React").createElement("li",{key:"propbuttons"},this.props.buttons));t=c("React").createElement(c("List.react"),{direction:"horizontal",border:"none",spacing:"none"},t);var v=p||this.props.dropDown,w=c("React").createElement("span",null,p,s,this.props.dropDown);if(this.props.url)w=c("React").createElement(c("Link.react"),{className:"_46d5",href:this.props.url},w);var x=this.props.tooltip?c("React").createElement(c("SUIHelpMessage.react"),{position:"below",theme:c("SUIBusinessTheme"),value:this.props.tooltip}):null,y=v?c("React").createElement("div",{className:"_60_a"},c("React").createElement("div",{className:"_60_b"},w,c("React").createElement("span",{className:"_5_-t"},x)),c("React").createElement("div",{className:"_60_c"},q)):r,z=v?c("React").createElement(c("LeftRight.react"),null,r,c("React").createElement("div",{className:"_3-9b"},t)):t,A="_2xrh"+(this.props.compactHeader?" _3c8o":"")+(Boolean(q)?" _60_d":"")+(o&&this.props.showLine?" _46db":"")+(!this.props.compactHeader?" _2piq":"");return c("React").createElement("div",{className:A},c("React").createElement("div",null,this.props.additionalHeader),c("React").createElement(c("LeftRight.react"),{direction:"right"},y,z))}});f.exports=m}),null);
__d("AnalyticsGoalLineAnnouncement",["fbt","AnalyticsDashboardChartAutoCreateAndRedirect","AnalyticsUserConfigEditMutation","FalcorLoadingCard","FalcorNotice","InsightsEventLogger","Link.react","React","SUIBusinessTheme","SUICard.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={isLoading:false},this.$AnalyticsGoalLineAnnouncement1=function(){c("InsightsEventLogger").logEvent({eventName:"goal_line_announcment_click"});this.setState({isLoading:true});c("AnalyticsUserConfigEditMutation").commit({flag:"HAS_DISMISSED_GOAL_LINE_ANNOUNCEMENT",value:true});c("AnalyticsDashboardChartAutoCreateAndRedirect").goToTimeSeriesChartEditPage(this.props.entityID)}.bind(this),m}k.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("SUICard.react"),{theme:c("SUIBusinessTheme"),style:{height:"70px",marginBottom:"20px"}},c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}));var l=h._("NEW: Introduce Goal Lines in Dashboards."),m=c("React").createElement(c("Link.react"),{onClick:this.$AnalyticsGoalLineAnnouncement1},h._("\u00a1Pru\u00e9balo!")),n=c("React").createElement("div",null,h._("Now you can add custom goals to your charts in dashboards. {Link to dashboard create goal page}",[h.param("Link to dashboard create goal page",m)]));return c("React").createElement(c("FalcorNotice"),{noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,message:l,subtext:n,dismissButton:{text:"",onClick:function(){c("AnalyticsUserConfigEditMutation").commit({flag:"HAS_DISMISSED_GOAL_LINE_ANNOUNCEMENT",value:true});this.props.onDismiss()}.bind(this)}})};f.exports=k}),null);
__d("XAnalyticsMarketingOptInAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/analytics/marketing_opt_in/",{})}),null);
__d("AnalyticsMarketingOptIn",["cx","fbt","ix","AnalyticsUserConfigEditMutation","AsyncRequest","GriffinButton","GriffinModal","Image.react","InsightsEventLogger","React","SUIBusinessTheme","XAnalyticsMarketingOptInAsyncController"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$AnalyticsMarketingOptIn7=function(){c("AnalyticsUserConfigEditMutation").commit({flag:"HAS_VIEWED_MARKETING_OPT_IN",value:true});this.props.onDismiss()}.bind(this),this.$AnalyticsMarketingOptIn5=function(){this.$AnalyticsMarketingOptIn6("dismissed");this.$AnalyticsMarketingOptIn7()}.bind(this),this.$AnalyticsMarketingOptIn8=function(){this.$AnalyticsMarketingOptIn6("submitted");this.props.onDismiss();var s=c("XAnalyticsMarketingOptInAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(s).setHandler(this.$AnalyticsMarketingOptIn7).setMethod("POST").send()}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("GriffinModal"),{content:this.$AnalyticsMarketingOptIn1(),footerButtons:[this.$AnalyticsMarketingOptIn2(),this.$AnalyticsMarketingOptIn3(),this.$AnalyticsMarketingOptIn4()],onClose:this.$AnalyticsMarketingOptIn5,theme:c("SUIBusinessTheme")})};m.prototype.componentWillMount=function(){this.$AnalyticsMarketingOptIn6("shown")};m.prototype.$AnalyticsMarketingOptIn6=function(event){var n="marketing_opt_in_";c("InsightsEventLogger").logEvent({eventName:n+event,modalOrMegaphone:"modal"})};m.prototype.$AnalyticsMarketingOptIn1=function(){return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_3bin _3bio",src:j("354399")}),c("React").createElement("div",{className:"_3bin _3biu _25hw"},c("React").createElement("div",{className:"_25hn"},i._("Obt\u00e9n sugerencias para hacer crecer tu empresa y actualizaciones de productos")),c("React").createElement("div",{className:"_61nk"},i._("Descubre nuevas formas de obtener estad\u00edsticas a partir de tus datos y optimizar el crecimiento. Reg\u00edstrate para recibir actualizaciones por correo electr\u00f3nico.*"))))};m.prototype.$AnalyticsMarketingOptIn4=function(){return c("React").createElement("div",{className:"_25hw _3biu _25hm"},i._("* Al suscribirte, aceptas recibir comunicaciones electr\u00f3nicas de Facebook sobre marketing. Puedes cancelar la suscripci\u00f3n cuando quieras."))};m.prototype.$AnalyticsMarketingOptIn2=function(){return c("React").createElement(c("GriffinButton"),{label:i._("Registrarte"),onClick:this.$AnalyticsMarketingOptIn8,use:"confirm"})};m.prototype.$AnalyticsMarketingOptIn3=function(){return c("React").createElement(c("GriffinButton"),{label:i._("Ignorar"),onClick:this.$AnalyticsMarketingOptIn5})};f.exports=m}),null);
__d("AnalyticsSegmentSizeQueryRenderer",["AnalyticsDateUtils","immutable","InternalAnalyticsQueryBuilder","AnalyticsQueryRenderer","AnalyticsSegmentAsyncUtils","AppEventQueryError","AppEventQueryResult","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Map,k=c("React").PropTypes,l={TOTAL_USERS:"TOTAL_USERS",SEGMENT_TOTAL_USERS:"SEGMENT_TOTAL_USERS"};h=babelHelpers.inherits(m,c("React").PureComponent);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$AnalyticsSegmentSizeQueryRenderer2=function(s,t,u){return this.props.render(s,u.isEmpty()?null:u.first().getMessage(),this.$AnalyticsSegmentSizeQueryRenderer3(t),this.$AnalyticsSegmentSizeQueryRenderer4(t))}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("AnalyticsQueryRenderer"),{queries:this.$AnalyticsSegmentSizeQueryRenderer1(),render:this.$AnalyticsSegmentSizeQueryRenderer2})};m.prototype.$AnalyticsSegmentSizeQueryRenderer1=function(){var n,o=this.props,p=o.dateRange,q=o.segment,r=this.context.analyticsEntityID,s=p.since,t=p.until,u=c("AnalyticsDateUtils").getTimestampForQueryAPI(s),v=c("AnalyticsDateUtils").getTimestampForQueryAPI(t);return j((n={},n[l.TOTAL_USERS]=c("AnalyticsSegmentAsyncUtils").fetchTotalUsers(u,v,r,false),n[l.SEGMENT_TOTAL_USERS]=c("AnalyticsSegmentAsyncUtils").fetchSegmentTotalUsers(u,v,r,q,false),n))};m.prototype.$AnalyticsSegmentSizeQueryRenderer4=function(n){return this.$AnalyticsSegmentSizeQueryRenderer5(n,l.TOTAL_USERS)};m.prototype.$AnalyticsSegmentSizeQueryRenderer3=function(n){return this.$AnalyticsSegmentSizeQueryRenderer5(n,l.SEGMENT_TOTAL_USERS)};m.prototype.$AnalyticsSegmentSizeQueryRenderer5=function(n,o){if(!n.has(o))return null;return n.get(o).getUniquesTotalDangerously()};m.contextTypes={analyticsEntityID:k.string.isRequired};f.exports=m}),null);
__d("AnalyticsValuePropNux",["cssVar","cx","fbt","AnalyticsMegaphone","AnalyticsNavigationUtils","AnalyticsUserConfigEditMutation","GriffinSections","InsightsEventLogger","Link.react","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;function m(o){var p=o.children,q=babelHelpers.objectWithoutProperties(o,["children"]);return c("React").createElement(c("SUIText.react"),babelHelpers["extends"]({},q,{theme:c("SUIBusinessTheme")}),c("React").Children.only(p))}k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AnalyticsValuePropNux2=function(){this.$AnalyticsValuePropNux1("dismissed");this.props.onDismiss();c("AnalyticsUserConfigEditMutation").commit({flag:"HAS_DISMISSED_VALUE_PROP_NUX",value:true})}.bind(this),p}n.prototype.componentDidMount=function(){this.$AnalyticsValuePropNux1("shown")};n.prototype.render=function(){return c("React").createElement(c("AnalyticsMegaphone"),{onDismiss:this.$AnalyticsValuePropNux2},c("React").createElement("span",null,c("React").createElement(m,{className:"_61x5",display:"block",size:"large",weight:"bold"},j._("Measure and Understand Your Customers' Behavior")),c("React").createElement(m,{display:"block",size:"medium"},j._("See how people interact with your app, website, Page and more. With rich audience insights and powerful reports, Facebook Analytics helps you drive growth.")),c("React").createElement(m,{className:"_61x6",customColorUseSparingly:"#4080ff",display:"block",size:"small",weight:"bold"},j._("LO M\u00c1S DESTACADO DE LAS FUNCIONES")),c("React").createElement("ul",{className:"_61x7"},c("React").createElement("li",{className:"_61x8"},c("React").createElement(m,{size:"small"},j._("Monitor your daily, weekly and monthly active users in the {name of the Overview section} section",[j.param("name of the Overview section",this.$AnalyticsValuePropNux3(j._("Informaci\u00f3n general"),c("GriffinSections").OVERVIEW))]))),c("React").createElement("li",{className:"_61x8"},c("React").createElement(m,{size:"small"},j._("Consulta el rendimiento de las conversiones y retenciones de clientes con informes de {name of the Funnel section} y {name of the Retention section}",[j.param("name of the Funnel section",this.$AnalyticsValuePropNux3(j._("Embudo"),c("GriffinSections").FUNNELS)),j.param("name of the Retention section",this.$AnalyticsValuePropNux3(j._("Retenci\u00f3n"),c("GriffinSections").RETENTION))]))),c("React").createElement("li",null,c("React").createElement(m,{size:"small"},j._("Get to know your audience with unique demographics and insights in the {name of the People section} section",[j.param("name of the People section",this.$AnalyticsValuePropNux3(j._("Personas"),c("GriffinSections").PEOPLE_OVERVIEW))]))))))};n.prototype.$AnalyticsValuePropNux3=function(o,p){return c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getSectionURI(p),onClick:function(){return this.$AnalyticsValuePropNux1("link_clicked",p)}.bind(this)},c("React").createElement(m,{customColorUseSparingly:"#4080ff",weight:"bold"},o))};n.prototype.$AnalyticsValuePropNux1=function(event,o){var p="value_prop_nux_megaphone_";c("InsightsEventLogger").logEvent({eventName:p+event,feature:o})};f.exports=n}),null);
__d("GriffinRefinementAdder",["cx","fbt","GriffinSearchableSelector","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Limitar por"),n=i._("A\u00f1ade un par\u00e1metro");return c("React").createElement(c("GriffinSearchableSelector"),{className:"_gyi",dropdownWidth:"auto",getTooltipForEntry:this.props.getTooltip,header:m,placeholder:n,searchSource:this.props.parameters,onChange:this.props.onChange})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("GriffinAppEventRuleBuilder",["cx","fbt","AnalyticsTextUtils","AnalyticsQuery","BonsaiAppEventTypesUtils","FalcorAppEventSelector","FalcorSearchSource","GriffinButtonGroup","GriffinLooseParameterRuleBuilder","GriffinRefinementAdder","GriffinSegmentRules","GriffinSelector","GriffinSelectorOption","InsightsEventLogger","React","XUICloseButton.react","idx","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=1,l=c("React").createClass({displayName:"GriffinAppEventRuleBuilder",_paramKeys:[],_query:null,propTypes:{appID:j.string.isRequired,className:j.string,disablePushConditions:j.bool,ruleName:j.string,eventRule:j.object,negateRule:j.bool,onChangeEventRule:j.func.isRequired,onChangeNegation:j.func,onChangeRuleName:j.func,onRemoveRule:j.func.isRequired,style:j.object},getDefaultProps:function m(){return{ruleName:"",negateRule:false}},componentWillMount:function m(){this._paramKeys=this.props.eventRule&&this.props.eventRule.parameters?this.props.eventRule.parameters.map(function(n){return k++}):[]},render:function m(){var n=this.props,o=n.className,p=n.eventRule,q=n.style,r=!!(p&&p.event_name),s=r&&p&&p.parameters.length>0,t=c("React").createElement(c("FalcorAppEventSelector"),{className:"_57b4"+(!s?" _57ci":"")+" _2cnx",onOpen:function v(){return c("InsightsEventLogger").logEvent({eventName:"segment_builder_event_selector_open",rule_type:"app_event"})},onSelect:this._onChangeEvent,value:p?p.event_name:null}),u=c("React").createElement(c("XUICloseButton.react"),{className:"_3kul",href:"#",onClick:this.props.onRemoveRule,size:"medium"});return c("React").createElement("div",{className:o,style:q},c("React").createElement(c("GriffinButtonGroup"),{className:"_2cnx"},this._renderNegationSelector(),t,this._renderRefinementAdder(),u),c("React").createElement("div",null,this._renderParameterForms()))},_renderRefinementAdder:function m(){var n,o=(n=this.props)!=null?(n=n.eventRule)!=null?n.event_name:n:n;if(!o)return null;var p=c("BonsaiAppEventTypesUtils").getAppEventParameters(o).map(function(q){return{id:q.parameter_name,name:q.display_name}});return c("React").createElement(c("GriffinRefinementAdder"),{getTooltip:c("AnalyticsTextUtils").getTooltip.bind(this,o),onChange:this._onAddRefinement,parameters:new(c("FalcorSearchSource"))(p)})},_renderNegationSelector:function m(){if(!this.props.onChangeNegation)return null;return c("React").createElement(c("GriffinSelector"),{className:"_57f8",onChange:this.props.onChangeNegation,value:this.props.negateRule},c("React").createElement(c("GriffinSelectorOption"),{value:false},i._("Incluir")),c("React").createElement(c("GriffinSelectorOption"),{value:true},i._("Excluir")))},_renderParameterForms:function m(){var n=this.props.eventRule;if(!n||!n.event_name||!n.parameters.length)return null;var o=n.event_name,p=c("BonsaiAppEventTypesUtils").getAppEventParameters(o),q=i._("Limitar por");return n.parameters.map(function(r,s){return c("React").createElement(c("GriffinLooseParameterRuleBuilder"),{className:"_4qlp",labelClass:"_3w9i",key:this._paramKeys[s]||s,getParameterDisplayValue:function t(u,v){return c("BonsaiAppEventTypesUtils").getAppEventParameterKnownDisplayValue(o,u,v)},getTooltipForParameter:c("AnalyticsTextUtils").getTooltip.bind(this,o),loadParameterValues:function(t,u){if(this._query&&!this._query.isCancelled())this._query.cancelQuery();this._query=c("BonsaiAppEventTypesUtils").loadParameterValues(o,t,u)}.bind(this),onChange:function(t){this._onChangeParameterRule(s,t)}.bind(this),onDelete:this._onDeleteParameterRule.bind(this,s),parameterRule:c("update")(r,{ruleType:{$set:c("GriffinSegmentRules").Types.APP_EVENT}}),parameterSelectorLabel:q,parameters:p,showAddButton:false,showArrow:s===0,showAnd:s!==0})}.bind(this))},_onChangeEvent:function m(n){var o=n.getUniqueID(),p={application:this.props.appID,event_name:o,parameters:[]};this._paramKeys=[];this.props.onChangeEventRule(p)},_onChangeNegation:function m(n){var o=this.props.onChangeNegation;if(!o)return;var p=n.value;o(p)},_onAddRefinement:function m(n){var o;this._paramKeys.push(k++);var p=n.getUniqueID(),q=[],r={parameter_name:p,values:q},s=c("update")(this.props.eventRule,{parameters:{$push:[r]}});c("InsightsEventLogger").logEvent({eventName:"segment_builder_event_refinement_added",parameter_name:p,event_name:(o=this.props)!=null?(o=o.eventRule)!=null?o.event_name:o:o});this.props.onChangeEventRule(s)},_onChangeParameterRule:function m(n,o){var p=c("update")(this.props.eventRule,{parameters:{$splice:[[n,1,o]]}});this.props.onChangeEventRule(p)},_onDeleteParameterRule:function m(n){this._paramKeys.splice(n,1);var o=c("update")(this.props.eventRule,{parameters:{$splice:[[n,1]]}});this.props.onChangeEventRule(o)}});f.exports=l}),null);
__d("GriffinLegendItem",["ix","cssVar","cx","Image.react","React","ReactDOM","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes,n="#4E5665",o=128,p=10;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={labelWidth:o},s}q.prototype.componentDidMount=function(){var r=this.refs.checkbox,s=c("ReactDOM").findDOMNode(this).clientWidth-p,t=r.clientWidth,u=parseInt(window.getComputedStyle(r).marginRight,10);this.setState({labelWidth:s-t-u})};q.prototype.render=function(){var r=this.props,s=r.checkboxStyle,t=r.color,u=r.disabled,v=r.label,w=r.richLabel,x=r.onToggle,y=u?null:c("React").createElement(c("Image.react"),{className:"_1-gk",src:h("114568")}),z=t||n,A=c("React").createElement("div",{className:"_1-gq",style:babelHelpers["extends"]({background:z},s),ref:"checkbox"},y);return c("React").createElement("div",{className:"_1-gr",onClick:x,role:"presentation"},A,c("React").createElement("div",{className:"_1-gs",style:{width:this.state.labelWidth}},w||v))};q.propTypes={color:m.string,disabled:m.bool,label:m.node,onToggle:m.func.isRequired,richLabel:m.node};f.exports=q}),null);
__d("GriffinLegend",["GriffinLegendItem","React","ScrollableArea.react","immutable","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Map,k=c("immutable").Set,l=c("immutable").OrderedSet,m=c("React").PropTypes;h=babelHelpers.inherits(n,c("React").PureComponent);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.$GriffinLegend2=function(t){var u=this.props,v=u.autoColors,w=u.disabledKeys,x=t.disabled||w.has(t.key),y=v.get(t.key);return c("React").createElement(c("GriffinLegendItem"),babelHelpers["extends"]({},t,{onToggle:function(){return this.$GriffinLegend1(t)}.bind(this),color:y,disabled:x}))}.bind(this),p}n.prototype.$GriffinLegend1=function(o){var p=this.props,q=p.disabledKeys,r=p.items,s=p.onToggle,t=r.map(function(o){return o.key});if(q.has(o.key)||t.subtract(q).count()>1)s(o)};n.prototype.render=function(){var o=this.props,p=o.items,q=o.height,r=o.maxHeight,s=o.width,t=p.toArray().map(this.$GriffinLegend2);if(q||r)return c("React").createElement(c("ScrollableArea.react"),{width:s,height:q,maxHeight:r,fade:false},t);return c("React").createElement("div",{style:{width:s}},t)};n.propTypes={disabledKeys:m.instanceOf(k).isRequired,items:m.instanceOf(l).isRequired,onToggle:m.func.isRequired,width:m.number,height:m.number,autoColors:m.instanceOf(j).isRequired};n.defaultProps={autoColors:j(),auxiliaryItems:l(),disabledKeys:k(),highlightedKeys:k(),onMouseEnter:c("emptyFunction"),onMouseLeave:c("emptyFunction"),onToggle:c("emptyFunction")};f.exports=n}),null);
__d("GriffinChartContainer",["invariant","immutable","AnalyticsPredefinedBreakdownValues","FalcorErrorNotice","GriffinCandelaTheme","GriffinCandelaCoolTheme","GriffinCandelaWarmTheme","GriffinChartLayout","GriffinLegend","InsightsEventLogger","React","AnalyticsCandelaUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("immutable").Map,l=c("immutable").Set,m=c("immutable").OrderedSet,n=c("immutable").OrderedMap,o=5,p=250,q=24,r=140,s=p/2-q,t=c("GriffinCandelaWarmTheme"),u=c("GriffinCandelaCoolTheme"),v=c("GriffinCandelaTheme");i=babelHelpers.inherits(w,c("React").PureComponent);j=i&&i.prototype;function w(x){j.constructor.call(this,x);this.$GriffinChartContainer12=function(z){var A=this.props,B=A.chartKey,C=A.isStaticLegend,D=this.state.disabledKeys;if(C)return;if(D.has(z.key))this.setState({disabledKeys:D["delete"](z.key)},this.$GriffinChartContainer16);else this.setState({disabledKeys:D.add(z.key)},this.$GriffinChartContainer16);c("InsightsEventLogger").logEvent({eventName:"chart_legend_toggle",chartKey:B})}.bind(this);this.$GriffinChartContainer16=function(){this.setState({autoColors:this.$GriffinChartContainer6()})}.bind(this);var y=this.$GriffinChartContainer3(x);this.$GriffinChartContainer1=this.$GriffinChartContainer4(x);this.$GriffinChartContainer2=c("AnalyticsCandelaUtils").Generic.getFlatSeriesNames(y);this.state={disabledKeys:this.$GriffinChartContainer5(x),autoColors:x.autoColors}}w.prototype.componentWillMount=function(){this.setState({autoColors:this.$GriffinChartContainer6()})};w.prototype.componentWillReceiveProps=function(x){var y=this.$GriffinChartContainer3(x);this.$GriffinChartContainer1=this.$GriffinChartContainer4(x);this.$GriffinChartContainer2=c("AnalyticsCandelaUtils").Generic.getFlatSeriesNames(y);this.setState({autoColors:this.props.autoColors},function(){return this.setState({autoColors:this.$GriffinChartContainer6()})}.bind(this))};w.prototype.$GriffinChartContainer5=function(x){var y=x.initNumSelectedSeries,z=this.$GriffinChartContainer2.filter(function(C){return!C.startsWith("comparison")}),A=this.$GriffinChartContainer2.filter(function(C){return C.startsWith("comparison")}),B=z.slice(y).concat(A.slice(y));return l(B)};w.prototype.$GriffinChartContainer3=function(x){var y=x.dependentScaleName,z=c("AnalyticsCandelaUtils").Generic.getChartFromProps(x),A=z.props[y];if(Array.isArray(A))return A;return[A]};w.prototype.$GriffinChartContainer4=function(x){var y=this.$GriffinChartContainer3(x);return y.map(function(z){return z.getSeriesNames()})};w.prototype.$GriffinChartContainer6=function(){var x=this.props.autoColors,y=this.state.autoColors,z=this.$GriffinChartContainer7(),A=this.$GriffinChartContainer8(),B=0,C=0;this.$GriffinChartContainer2.forEach(function(D){var E=D.startsWith("comparison"),F=E?A:z,G=E?C:B,H=F.get(G%F.count());y=y.set(D,H);if(E)C+=1;else B+=1});return y.concat(x)};w.prototype.$GriffinChartContainer7=function(){var x=this.$GriffinChartContainer9()?u:v,y=x.colors.concat(this.props.colors);return y.toList()};w.prototype.$GriffinChartContainer8=function(){var x=t.colors;return x.toList()};w.prototype.$GriffinChartContainer9=function(){return this.$GriffinChartContainer2.some(function(x){return c("AnalyticsCandelaUtils").Comparisons.isComparisonSeries(x)})};w.prototype.$GriffinChartContainer10=function(){var x=this.state,y=x.autoColors,z=x.disabledKeys,A=this.$GriffinChartContainer11(),B=A.filter(function(E){return!E.key.startsWith("comparison")}),C=B.count()!==A.count(),D=C?s:p;return c("React").createElement(c("GriffinLegend"),{items:B,disabledKeys:z,autoColors:y,onToggle:this.$GriffinChartContainer12,maxHeight:D,width:r})};w.prototype.$GriffinChartContainer13=function(){var x=this.state,y=x.autoColors,z=x.disabledKeys,A=this.$GriffinChartContainer11().filter(function(B){return B.key.startsWith("comparison")});if(A.isEmpty())return null;return c("React").createElement(c("GriffinLegend"),{items:A,disabledKeys:z,autoColors:y,onToggle:this.$GriffinChartContainer12,maxHeight:s,width:r})};w.prototype.$GriffinChartContainer11=function(){var x=this.props.isStaticLegend,y=this.$GriffinChartContainer14(),z=[];this.$GriffinChartContainer2.forEach(function(A,B){var C=y.props.schema[A];if(!C)return;var D=C.label,E=C.legendTooltip;if(E){var F=c("React").createElement("span",null,D,E);z.push({key:A,label:D,richLabel:F,disabled:x})}else z.push({key:A,label:D,disabled:x})});return m(z)};w.prototype.$GriffinChartContainer15=function(x){var y=this.state.autoColors;return y.get(x)};w.prototype.$GriffinChartContainer17=function(){h(0)};w.prototype.$GriffinChartContainer14=function(){return c("AnalyticsCandelaUtils").Generic.getChartFromProps(this.props)};w.prototype.$GriffinChartContainer18=function(){var x=this.state.disabledKeys,y=this.$GriffinChartContainer14(),z=y.props.data,A={};x.forEach(function(B){A[B]=null});return z.map(function(B){return babelHelpers["extends"]({},B,A)}).filter(function(B){return this.$GriffinChartContainer2.some(function(C){return B[C]!==undefined&&B[C]!==null})}.bind(this))};w.prototype.$GriffinChartContainer19=function(x){var y=this.$GriffinChartContainer14().props.schema,z=this.state.disabledKeys;return x.filter(function(A){return Boolean(y[A])&&!z.has(A)})};w.prototype.$GriffinChartContainer20=function(){var x=this.props.dependentScaleName,y=this.$GriffinChartContainer14(),z=y.props[x];if(Array.isArray(z))return z.map(function(B,C){var A=this.$GriffinChartContainer19(this.$GriffinChartContainer1[C]);if(!A.length)return null;return B.seriesNames(A)}.bind(this)).filter(function(B){return B!==null});else{var A=this.$GriffinChartContainer19(this.$GriffinChartContainer1[0]);if(!A.length)return null;return z.seriesNames(A)}};w.prototype.render=function(){var x,y=this.props,z=y.chartKey,A=y.comparisonLegendLabel,B=y.dependentScaleName,C=y.hideLegend,D=y.legendLabel,E=y.selector,F=y.selectorLabel,G=this.state.autoColors,H=C?null:this.$GriffinChartContainer10(),I=C?null:this.$GriffinChartContainer13(),J=this.$GriffinChartContainer18(),K=this.$GriffinChartContainer20(),L=J.length===0||K===null||Array.isArray(K)&&K.length===0;if(L)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED});var M=c("AnalyticsCandelaUtils").Generic.cloneChartWrapperWithAdditionalChartProps(this.props,(x={data:J,autoColors:G},x[B]=K,x));return c("React").createElement(c("GriffinChartLayout"),{autoColors:G,chart:M,chartKey:z,"data-testid":this.props["data-testid"],comparisonLegend:I,comparisonLegendLabel:A,legend:H,legendLabel:D,selector:E,selectorLabel:F})};w.defaultProps={autoColors:k(),colors:n(),hideLegend:false,initNumSelectedSeries:o,isStaticLegend:false};f.exports=w}),null);
__d("GriffinConfirmationCustomAudienceDialog",["cx","fbt","BUIAdoptionXUIText.react","InsightsEventLogger","LayerFadeOnHide","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$GriffinConfirmationCustomAudienceDialog1=function(){c("InsightsEventLogger").logEvent({eventName:"custom_audiences_visit_audiences",adAccountID:this.props.adAccountID})}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.props,n=m.adAccountID,o=m.audienceName,p="/ads/manager/audiences/?act="+n;return c("React").createElement(c("XUIDialog.react"),babelHelpers["extends"]({behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:700},this.props),c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("BUIAdoptionXUIText.react"),{size:"medium",weight:"bold"},i._("El p\u00fablico personalizado se ha creado correctamente"))),c("React").createElement(c("XUIDialogBody.react"),{fontSize:"inherit",className:"_3-8p"},i._("Se ha creado tu p\u00fablico nuevo {Audience name}. Puedes editarlo o eliminarlo en el administrador de p\u00fablicos.",[i.param("Audience name",c("React").createElement("strong",null,o))])),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{label:i._("Cerrar"),className:"_3-8_",onClick:this.props.onEscapeKey,size:"xlarge",target:"_blank"}),c("React").createElement(c("XUIButton.react"),{label:i._("Ver p\u00fablicos"),href:p,onClick:this.$GriffinConfirmationCustomAudienceDialog1,size:"xlarge",target:"_blank",use:"confirm"})))};f.exports=l}),null);
__d("AnalyticsEntityActions",["AnalyticsActionType","AnalyticsDispatcher","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").ANALYTICS_ENTITY,i={fetchEventSourceGroup:function j(k){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_EVENT_SOURCE_GROUP_START});c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,c("InsightsContext").getObjID(),{fields:["owner_business","event_sources{id, name, source_type}"]}).done(function(l){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_EVENT_SOURCE_GROUP_COMPLETE,data:{ownerBusiness:l.owner_business,eventSources:l.event_sources||[],error:false}});k&&k(l)},function(l){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_EVENT_SOURCE_GROUP_ERROR,data:{error:true}})})}};f.exports=i}),null);
__d("AnalyticsEntityStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").ANALYTICS_ENTITY,m={eventSources:null,error:false,ownerBusiness:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case l.FETCH_EVENT_SOURCE_GROUP_START:return p.set("eventSources",null).set("error",false).set("ownerBusiness",null);case l.FETCH_EVENT_SOURCE_GROUP_COMPLETE:return p.set("error",r.error).set("ownerBusiness",r.data.ownerBusiness).set("eventSources",c("immutable").Set(r.data.eventSources.map(function(s){return{id:s.id,name:s.name,sourceType:s.source_type}})));case l.FETCH_EVENT_SOURCE_GROUP_ERROR:return p.set("error",r.error);default:return p}};o.prototype.getEventSourceGroup=function(){var p=this.getState().eventSources,q=this.getState().ownerBusiness;if(p===null||p===undefined)return null;return{eventSources:p,ownerBusiness:q}};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("AnalyticsUserAdAccountsActions",["AnalyticsActionType","AnalyticsDispatcher","AnalyticsGraphAPIConfig","GraphAPI","InsightsContext","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").AD_ACCOUNTS,i={fetchAdAccounts:function j(){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_AD_ACCOUNTS_START});c("GraphAPI")(c("AnalyticsGraphAPIConfig").MARKETING_GRAPH_API_VERSION).object(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,c("InsightsContext").getObjID()).get({fields:["permissible_ad_accounts{id, name, owner_business, tos_accepted}"]}).done(function(k){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_AD_ACCOUNTS_COMPLETE,data:{adAccounts:k.permissible_ad_accounts||{}}})})}};f.exports=i}),null);
__d("AnalyticsUserAdAccountsStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","idx"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").AD_ACCOUNTS,m=c("immutable").List,n=c("immutable").Record,o={adAccounts:null,error:false},p="act_";h=babelHelpers.inherits(q,n(o));i=h&&h.prototype;function q(){h.apply(this,arguments)}j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;r.prototype.getInitialState=function(){return new q()};r.prototype.reduce=function(s,t){var u=t.action;switch(u.type){case l.FETCH_AD_ACCOUNTS_START:return s.set("adAccounts",null).set("error",false);case l.FETCH_AD_ACCOUNTS_COMPLETE:return s.set("adAccounts",m(Object.keys(u.data.adAccounts).map(function(v){var w=u.data.adAccounts[v],x=false,y=false;if(w.tos_accepted){var z,A;x=((z=w.tos_accepted)!=null?z.web_custom_audience_tos:z)===1;y=((A=w.tos_accepted)!=null?A.custom_audience_tos:A)===1}return{id:w.id.replace(p,""),name:w.name,ownerBusiness:w.owner_business,tosAccepted:{webCustomAudienceTosAccepted:x,customAudienceTosAccepted:y}}}))).set("error",false);case l.FETCH_AD_ACCOUNTS_ERROR:return s.set("error",u.error);default:return s}};r.prototype.getAdAccounts=function(){return this.getState().adAccounts};function r(){j.apply(this,arguments)}f.exports=new r(c("AnalyticsDispatcher"))}),null);
__d("GriffinCreateCustomAudienceDialog",["cx","fbt","invariant","AnalyticsCustomAudienceUtils","AnalyticsUserAdAccountsActions","AnalyticsUserAdAccountsStore","AnalyticsEntityActions","AnalyticsEntityStore","BUIAdoptionXUIText.react","ExternalEventSourceTypes","FluxContainer","GriffinConfirmationCustomAudienceDialog","GriffinCreateCustomAudienceDialogBody","InsightsContext","LayerFadeOnHide","Link.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","nullthrows","immutable"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("immutable").List;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.getStores=function(){"use strict";return[c("AnalyticsUserAdAccountsStore"),c("AnalyticsEntityStore")]};n.calculateState=function(o){"use strict";var p=babelHelpers["extends"]({},o,{adAccounts:c("AnalyticsUserAdAccountsStore").getAdAccounts()});if(c("InsightsContext").isEventSourceGroup()){var q=c("AnalyticsEntityStore").getEventSourceGroup();if(q)p=babelHelpers["extends"]({},p,{eventSources:q.eventSources})}return p};function n(o,p){"use strict";l.constructor.call(this,o,p);this.$GriffinCreateCustomAudienceDialog4=function(s,t){this.setState({createdAudienceName:s,createdAdAccountID:t})}.bind(this);c("AnalyticsUserAdAccountsActions").fetchAdAccounts();var q=null;if(c("InsightsContext").isEventSourceGroup())c("AnalyticsEntityActions").fetchEventSourceGroup();else{var r=null;if(c("InsightsContext").isApp())r=c("ExternalEventSourceTypes").APP;else if(c("InsightsContext").isPixel())r=c("ExternalEventSourceTypes").PIXEL;else if(c("InsightsContext").isPage())r=c("ExternalEventSourceTypes").PAGE;r!==null||j(0);q=m([{id:c("InsightsContext").getObjID(),name:c("InsightsContext").getObjName(),sourceType:r}])}this.state={adAccounts:null,createdAudienceName:null,createdAdAccountID:null,eventSources:q}}n.prototype.render=function(){"use strict";var o=this.state,p=o.createdAudienceName,q=o.createdAdAccountID;if(p&&q)return c("React").createElement(c("GriffinConfirmationCustomAudienceDialog"),babelHelpers["extends"]({adAccountID:q,audienceName:p},this.props));return c("React").createElement(c("XUIDialog.react"),babelHelpers["extends"]({behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:700},this.props),c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("BUIAdoptionXUIText.react"),{size:"medium",weight:"bold"},i._("Llega a las personas en Facebook"))),this.$GriffinCreateCustomAudienceDialog1())};n.prototype.$GriffinCreateCustomAudienceDialog1=function(){"use strict";var o=this.state,p=o.adAccounts,q=o.eventSources;if(!p||!q)return c("React").createElement(c("XUIDialogBody.react"),{className:"_34o2"},c("React").createElement("div",{className:"_34o4"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")})));if(p.size===0)return this.$GriffinCreateCustomAudienceDialog2();if(c("AnalyticsCustomAudienceUtils").containsUnsupportedEntityType(q))return this.$GriffinCreateCustomAudienceDialog3(q);return c("React").createElement(c("GriffinCreateCustomAudienceDialogBody"),babelHelpers["extends"]({adAccounts:p,onCreate:this.$GriffinCreateCustomAudienceDialog4,eventSources:q},this.props))};n.prototype.$GriffinCreateCustomAudienceDialog2=function(){"use strict";return c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("p",null,i._("No tienes acceso a ninguna cuenta publicitaria con privilegios publicitarios para {analytics entity name}. Crea tu cuenta publicitaria en {ads manager link} para segmentar anuncios directamente a las personas de este segmento.",[i.param("analytics entity name",c("InsightsContext").getObjName()),i.param("ads manager link",c("React").createElement(c("Link.react"),{target:"_blank",href:"/ads/manager"},i._("Administrador de anuncios de Facebook")))])))};n.prototype.$GriffinCreateCustomAudienceDialog3=function(o){"use strict";var p=null,q=o.map(function(t){return t.sourceType}),r=q.some(function(t){return t===c("ExternalEventSourceTypes").PAGE}),s=q.some(function(t){return t===c("ExternalEventSourceTypes").OFFLINE_CONVERSION_DATA_SET});if(s)p=i._("El grupo de or\u00edgenes de eventos {analytics entity name} incluye un conjunto de eventos fuera de internet. Todav\u00eda no se admite la creaci\u00f3n de p\u00fablicos personalizados para conjuntos de eventos fuera de internet de Facebook Analytics.",[i.param("analytics entity name",c("InsightsContext").getObjName())]);else if(r)p=i._("El grupo de or\u00edgenes de eventos {analytics entity name} incluye una p\u00e1gina. Todav\u00eda no se admite la creaci\u00f3n de p\u00fablicos personalizados para p\u00e1ginas de Facebook Analytics.",[i.param("analytics entity name",c("InsightsContext").getObjName())]);c("nullthrows")(p,"Message cannot be null");return c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("p",null,p))};n.propTypes=babelHelpers["extends"]({},c("XUIDialog.react").propTypes);f.exports=c("FluxContainer").create(n)}),null);
__d("AnalyticsCustomAudienceAPI",["invariant","AdsCustomAudienceType","AnalyticsGraphAPIConfig","CustomAudienceRuleSignalSource","ExternalEventSourceTypes","GraphAPI"],(function a(b,c,d,e,f,g,h){"use strict";var i="customaudiences",j={createAudience:function k(l,m,n,o,p,q){var r=this._getPlatformPostData(l,m,n,o,p);r||h(0);return c("GraphAPI")(c("AnalyticsGraphAPIConfig").MARKETING_GRAPH_API_VERSION).adaccount(l).edge(i).post(r)},_getPlatformPostData:function k(l,m,n,o,p){return{accountId:l,description:"",rule:{event_sources:m.map(function(q){return{id:q.id,type:this._eventSourceTypeToCustomAudienceType(q.sourceType)}}.bind(this)),retention_seconds:o*86400,filter:{operator:"and",filters:[{field:"segment_id",operator:"eq",value:n}]}},name:p,subtype:c("AdsCustomAudienceType").SUBTYPES.PLATFORM}},_eventSourceTypeToCustomAudienceType:function k(l){var m=null;switch(l){case c("ExternalEventSourceTypes").APP:m=c("CustomAudienceRuleSignalSource").APP;break;case c("ExternalEventSourceTypes").PIXEL:m=c("CustomAudienceRuleSignalSource").PIXEL;break;case c("ExternalEventSourceTypes").PAGE:m=c("CustomAudienceRuleSignalSource").INSTANT_ARTICLE;break}m!==null||h(0);return m}};f.exports=j}),null);
__d("GriffinPushSegmentPieChart",["cx","ix","BonsaiColors","GriffinPieChart","React","Image.react","immutable","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").OrderedMap,m=c("CandelaStackScaleBuilder").stack,n=i("82635");j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){var p=this.props,q=p.eligibleCount,r=p.ineligibleCount,s=p.showPushIcon,t={},u={},v={};if(q>0){t.eligible=q;u.eligible={type:"number"};v.eligible=c("BonsaiColors").ANALYTICS_BLUE}if(r>0){t.ineligible=r;u.ineligible={type:"number"};v.ineligible=c("BonsaiColors").ANALYTICS_BLUE_LIGHT}if(this.$GriffinPushSegmentPieChart1()>0){t.remaining=this.$GriffinPushSegmentPieChart1();u.remaining={type:"number"};v.remaining=c("BonsaiColors").ANALYTICS_LIGHT_GRAY}if(!t.remaining&&!t.eligible&&!t.ineligible){t.empty=1;u.empty={type:"number"};v.empty=c("BonsaiColors").ANALYTICS_LIGHT_GRAY}var w=s?c("React").createElement(c("Image.react"),{className:"_5lhv",width:24,height:24,src:n}):null;return c("React").createElement("div",{className:"_5lhu"},w,c("React").createElement(c("GriffinPieChart"),{autoColors:l(v),data:[t],schema:u,plotAngle:m.apply(this,Object.keys(u)).from(0),height:120,width:120,innerRadiusRatio:.75}))};o.prototype.$GriffinPushSegmentPieChart1=function(){var p=this.props,q=p.allUsersCount,r=p.eligibleCount,s=p.ineligibleCount;return q-(r+s)};function o(){j.apply(this,arguments)}f.exports=o}),null);
__d("XRemarketingTOSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/customaudiences/app/tos/",{act:{type:"Int"},account_id:{type:"Int"}})}),null);
__d("GriffinCreateCustomAudienceDialogBody",["cx","fbt","invariant","AnalyticsCustomAudienceAPI","CustomAudienceSegmentActions","CustomAudienceSegmentStore","d3/time/day","FalcorLoadingCard","FluxContainer","GriffinPushSegmentPieChart","GriffinSearchableSegmentSelector","GriffinSearchableSelector","GriffinSelector","GriffinSelectorOption","InfoTable.react","InfoTableSection.react","InfoTableRow.react","InsightsEventLogger","InsightsNumUtils","Keys","Layout.react","Link.react","React","SearchableEntry","SegmentCustomAudienceIneligibilityReason","SegmentListStore","StaticSearchSource","SUIAnalyticsGriffinTheme","SUIBusinessTheme","SUISpinner.react","SUITextInput.react","XRemarketingTOSController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","idx","immutable"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("immutable").List,p=28;function q(s){return s.map(function(t){return new(c("SearchableEntry"))({title:i._("{ad account name} ({ad account ID})",[i.param("ad account name",t.name),i.param("ad account ID",t.id)]),uniqueID:t.id,auxiliaryData:{ownerBusiness:t.ownerBusiness,tosNeeded:!t.tosAccepted.webCustomAudienceTosAccepted}})})}k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;r.getStores=function(){"use strict";return[c("CustomAudienceSegmentStore")]};r.calculateState=function(s){"use strict";return{activeSegment:c("CustomAudienceSegmentStore").getAppliedSegment(),estimatedCustomAudienceSize:c("CustomAudienceSegmentStore").getEstimatedCustomAudienceSize(),estimatedCustomAudienceSizeError:c("CustomAudienceSegmentStore").getEstimatedCustomAudienceSizeError(),segmentSize:c("CustomAudienceSegmentStore").getSegmentTotalUsers(),allUsersSize:c("CustomAudienceSegmentStore").getTotalUsers()}};function r(s,t){"use strict";l.constructor.call(this,s,t);this.defaultState={name:"",retentionDays:p,estimatedCustomAudienceSize:null,estimatedCustomAudienceSizeError:null,segmentSize:null,allUsersSize:null,isCreating:false,showNameRequiredError:false};this.$GriffinCreateCustomAudienceDialogBody11=function(w){var x=w.getAuxiliaryData().tosNeeded;c("InsightsEventLogger").logEvent({eventName:"custom_audiences_ad_account_selected",adAccountID:w.getUniqueID(),tosNeeded:x});this.setState({selectedAdAccountEntry:w,needsTermsOfService:x})}.bind(this);this.$GriffinCreateCustomAudienceDialogBody13=function(w){this.$GriffinCreateCustomAudienceDialogBody2(w.getAuxiliaryData().id,this.state.retentionDays)}.bind(this);this.$GriffinCreateCustomAudienceDialogBody10=function(w){this.setState({name:w,showNameRequiredError:false})}.bind(this);this.$GriffinCreateCustomAudienceDialogBody16=function(w){var x;this.setState({retentionDays:w});this.$GriffinCreateCustomAudienceDialogBody2((x=this.state.activeSegment)!=null?x.id:x,w)}.bind(this);this.$GriffinCreateCustomAudienceDialogBody5=function(){if(!this.$GriffinCreateCustomAudienceDialogBody9()){this.setState({showNameRequiredError:true});return}this.setState({isCreating:true});var w=this.state,x=w.selectedAdAccountEntry,y=w.activeSegment,z=w.retentionDays,A=w.name,B=this.props.eventSources;y||j(0);x||j(0);var C=x.getUniqueID(),D=y.id;c("InsightsEventLogger").logEvent({eventName:"custom_audiences_create_clicked",adAccountID:C,segmentID:D,retentionDays:z,name:A});c("AnalyticsCustomAudienceAPI").createAudience(C,B.toJS(),D,z,A).done(function(E){c("InsightsEventLogger").logEvent({eventName:"custom_audiences_create_successful",customAudienceID:E.id,adAccountID:C,segmentID:D,retentionDays:z,name:A});this.props.onCreate(A,C)}.bind(this))}.bind(this);var u=this.$GriffinCreateCustomAudienceDialogBody1(s),v=q(s.adAccounts).toJS();this.state=babelHelpers["extends"]({},this.defaultState,{activeSegment:u,needsTermsOfService:false,searchableAdAccounts:new(c("StaticSearchSource"))(v),selectedAdAccountEntry:v[0]})}r.prototype.componentWillReceiveProps=function(s){"use strict";if(!s.shown)return;var t=this.$GriffinCreateCustomAudienceDialogBody1(s);this.setState(babelHelpers["extends"]({},this.defaultState,{activeSegment:t}))};r.prototype.$GriffinCreateCustomAudienceDialogBody1=function(s){var t;"use strict";var u=(t=s.defaultSegment)!=null?t.id:t;if(u){var v=c("SegmentListStore").getSegment(u);if(v&&v.custom_audience_ineligiblity_reasons)u=null}this.$GriffinCreateCustomAudienceDialogBody2(u,p);return u?s.defaultSegment:null};r.prototype.render=function(){"use strict";this.$GriffinCreateCustomAudienceDialogBody3();var s=this.state,t=s.isCreating,u=s.needsTermsOfService,v=t?c("React").createElement(c("SUISpinner.react"),{className:"_3-90",theme:c("SUIBusinessTheme")}):null;return[c("React").createElement(c("XUIDialogBody.react"),{fontSize:"inherit",key:"body"},this.$GriffinCreateCustomAudienceDialogBody4()),c("React").createElement(c("XUIDialogFooter.react"),{key:"footer"},v,c("React").createElement(c("XUIButton.react"),{label:i._("Cancelar"),className:"_3-8_",disabled:t,onClick:this.props.onEscapeKey,size:"xlarge",target:"_blank"}),c("React").createElement(c("XUIButton.react"),{label:i._("Crear p\u00fablico personalizado"),onClick:this.$GriffinCreateCustomAudienceDialogBody5,disabled:t||u,size:"xlarge",target:"_blank",use:"confirm"}))]};r.prototype.$GriffinCreateCustomAudienceDialogBody3=function(){"use strict";var s=this.props.onEscapeKey,t=function t(event){if(event.keyCode==c("Keys").ESC){s();document.removeEventListener("keydown",t,true)}};document.addEventListener("keydown",t,true)};r.prototype.$GriffinCreateCustomAudienceDialogBody4=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_z49 _2pio"},i._("Crea un p\u00fablico personalizado para mostrar anuncios a las personas que forman parte de tus segmentos")),c("React").createElement("div",{className:"_2pio"},this.$GriffinCreateCustomAudienceDialogBody6()),c("React").createElement("div",{className:"_z4a _2pie"},c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement("div",{className:"_z4b"},this.$GriffinCreateCustomAudienceDialogBody7())),c("React").createElement(n,null,this.$GriffinCreateCustomAudienceDialogBody8()))))};r.prototype.$GriffinCreateCustomAudienceDialogBody6=function(){"use strict";var s=this.state.showNameRequiredError&&!this.$GriffinCreateCustomAudienceDialogBody9()?i._("El nombre es obligatorio"):null;return c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement("div",{className:"_z4c _3-8x _3-91"},i._("Nombre del p\u00fablico personalizado"))),c("React").createElement(n,null,c("React").createElement(c("SUITextInput.react"),{className:"_z4d",theme:c("SUIAnalyticsGriffinTheme"),placeholder:i._("Introduce el nombre de tu p\u00fablico personalizado aqu\u00ed..."),value:this.state.name,onChange:this.$GriffinCreateCustomAudienceDialogBody10,errorMessage:s})))};r.prototype.$GriffinCreateCustomAudienceDialogBody8=function(){"use strict";return c("React").createElement(c("InfoTable.react"),{sectionborders:true},c("React").createElement(c("InfoTableSection.react"),null,c("React").createElement(c("InfoTableRow.react"),{type:"data",label:i._("Cuenta publicitaria"),labelFor:"account"},c("React").createElement(c("GriffinSearchableSelector"),{id:"account",width:300,onChange:this.$GriffinCreateCustomAudienceDialogBody11,searchSource:this.state.searchableAdAccounts||new(c("StaticSearchSource"))([]),theme:c("SUIAnalyticsGriffinTheme"),value:this.state.selectedAdAccountEntry})),this.$GriffinCreateCustomAudienceDialogBody12(),c("React").createElement(c("InfoTableRow.react"),{type:"data",label:i._("Segmento"),labelFor:"segment"},c("React").createElement(c("GriffinSearchableSegmentSelector"),{activeSegment:this.state.activeSegment,onChange:this.$GriffinCreateCustomAudienceDialogBody13,dropdownWidth:300,id:"segment",segmentActions:c("CustomAudienceSegmentActions"),theme:c("SUIAnalyticsGriffinTheme"),includeAllUsersEntry:true,placeholderText:i._("Cargando"),isDisabledCheck:function s(t){return t.custom_audience_ineligiblity_reasons},getTooltipForEntry:function(s){var t=s.getAuxiliaryData();if(t.custom_audience_ineligiblity_reasons)return this.$GriffinCreateCustomAudienceDialogBody14(t.custom_audience_ineligiblity_reasons);return null}.bind(this)})),c("React").createElement(c("InfoTableRow.react"),{type:"data",label:i._("En los"),labelFor:"retention"},this.$GriffinCreateCustomAudienceDialogBody15())))};r.prototype.$GriffinCreateCustomAudienceDialogBody15=function(){"use strict";return c("React").createElement(c("GriffinSelector"),{onChange:this.$GriffinCreateCustomAudienceDialogBody16,value:this.state.retentionDays},c("React").createElement(c("GriffinSelectorOption"),{value:1},i._("\u00daltimo d\u00eda")),c("React").createElement(c("GriffinSelectorOption"),{value:7},i._("\u00daltimos 7 d\u00edas")),c("React").createElement(c("GriffinSelectorOption"),{value:28},i._("\u00daltimos 28 d\u00edas")),c("React").createElement(c("GriffinSelectorOption"),{value:90},i._("\u00daltimos 90 d\u00edas")),c("React").createElement(c("GriffinSelectorOption"),{value:180},i._("\u00daltimos 180 d\u00edas")))};r.prototype.$GriffinCreateCustomAudienceDialogBody12=function(){"use strict";var s=this.state,t=s.needsTermsOfService,u=s.selectedAdAccountEntry;if(!t||!u)return null;var v=c("XRemarketingTOSController").getURIBuilder().setInt("act",u.getUniqueID()).getURI();return c("React").createElement(c("InfoTableRow.react"),{type:"data"},c("React").createElement("span",null,i._("Acepta las {Terms of service link} de esta cuenta.",[i.param("Terms of service link",c("React").createElement(c("Link.react"),{href:v,target:"_blank"},"terms of service"))])))};r.prototype.$GriffinCreateCustomAudienceDialogBody7=function(){"use strict";var s=this.state,t=s.estimatedCustomAudienceSize,u=s.estimatedCustomAudienceSizeError,v=s.segmentSize,w=s.allUsersSize;if(!t||!v||!w){var x=u?i._("No hay datos suficientes"):c("React").createElement(c("FalcorLoadingCard"),{showCard:false,text:i._("Cargando\u2026")});return c("React").createElement("div",{className:"_39h5"},x)}var y=Math.max(t,w),z=c("InsightsNumUtils").prettyPercent(y!==0?t/y:0,0);return c("React").createElement("div",null,c("React").createElement("div",{className:"_z4e"},z),c("React").createElement(c("GriffinPushSegmentPieChart"),{allUsersCount:w,eligibleCount:t,ineligibleCount:v-t}),c("React").createElement("div",{className:"_2pie _2pi8"},i._("{segment_total} de un total de {total_users} usuarios que cumplen los requisitos de segmentaci\u00f3n",[i.param("segment_total",c("InsightsNumUtils").prettyShortInt(t)),i.param("total_users",c("InsightsNumUtils").prettyShortInt(w))])))};r.prototype.$GriffinCreateCustomAudienceDialogBody2=function(s,t){"use strict";if(!s){var u,v=(u=c("SegmentListStore").getAllUserSegment())!=null?u.id:u;if(!v)return;s=v.toString()}var w={since:c("d3/time/day").offset(new Date(),-1*t),until:new Date()};if(this.state)this.setState({estimatedCustomAudienceSize:null,segmentSize:null,allUsersSize:null});c("InsightsEventLogger").logEvent({eventName:"custom_audiences_segment_selected",segmentID:s,retentionDays:t});c("CustomAudienceSegmentActions").updateActiveSegmentID({segmentID:s});c("CustomAudienceSegmentActions").fetchSegmentTotal(w);c("CustomAudienceSegmentActions").fetchTotalUsers(w);c("CustomAudienceSegmentActions").fetchEstimatedCustomAudienceSize(t)};r.prototype.$GriffinCreateCustomAudienceDialogBody9=function(){"use strict";return this.state.name!==null&&this.state.name.trim()!==""};r.prototype.$GriffinCreateCustomAudienceDialogBody14=function(s){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_3-97"},i._("Este segmento no cumple con los requisitos para la creaci\u00f3n de p\u00fablicos personalizados porque incluye 1 o m\u00e1s reglas que no se admiten en este momento:")),c("React").createElement("ul",null,s.map(function(t,u){return c("React").createElement("li",{key:"reason_"+u},this.$GriffinCreateCustomAudienceDialogBody17(t))}.bind(this))))};r.prototype.$GriffinCreateCustomAudienceDialogBody17=function(s){"use strict";switch(s){case c("SegmentCustomAudienceIneligibilityReason").USER_PROPERTIES:return i._("Propiedades del usuario");case c("SegmentCustomAudienceIneligibilityReason").WEB_PARAMETERS:return i._("Par\u00e1metros del sitio web");case c("SegmentCustomAudienceIneligibilityReason").PIXEL_DEVICE:return i._("Reglas del dispositivo del p\u00edxel");case c("SegmentCustomAudienceIneligibilityReason").PIXEL_DEMOGRAPHICS:return i._("Reglas demogr\u00e1ficas del p\u00edxel");case c("SegmentCustomAudienceIneligibilityReason").PIXEL_INSTALL_SOURCE:return i._("Fuente de instalaci\u00f3n del p\u00edxel");case c("SegmentCustomAudienceIneligibilityReason").HAS_OFFLINE:return i._("Origen del evento de las conversiones fuera de internet");case c("SegmentCustomAudienceIneligibilityReason").HAS_VIDEO:return i._("Origen del evento de v\u00eddeo");case c("SegmentCustomAudienceIneligibilityReason").HAS_PAGE:return i._("Origen del evento de la p\u00e1gina");case c("SegmentCustomAudienceIneligibilityReason").HAS_PAGE_EVENTS:return i._("Eventos de p\u00e1gina");case c("SegmentCustomAudienceIneligibilityReason").HAS_AD_MONETIZATION_PROPERTY:return i._("Origen del evento de monetizaci\u00f3n del anuncio");case c("SegmentCustomAudienceIneligibilityReason").HAS_DIRECT_DEAL:return i._("Origen de eventos de acuerdo directo");case c("SegmentCustomAudienceIneligibilityReason").PIXEL_NEW_USER_EVENT:return i._("Evento del usuario nuevo del p\u00edxel");case c("SegmentCustomAudienceIneligibilityReason").PIXEL_VALUE_RULE:return i._("Regla del evento del p\u00edxel con valor");case c("SegmentCustomAudienceIneligibilityReason").ESG_PERCENTILE_VALUE:return i._("Regla del percentil del grupo de or\u00edgenes de eventos con valor");case c("SegmentCustomAudienceIneligibilityReason").WEB_PARAMETERS_REFERRER_DOMAIN:return i._("Dominio de referencia de par\u00e1metros web");case c("SegmentCustomAudienceIneligibilityReason").WEB_PARAMETERS_TRAFFIC_SOURCE:return i._("Origen del tr\u00e1fico de par\u00e1metros web");case c("SegmentCustomAudienceIneligibilityReason").WEB_PARAMETERS_TRAFFIC_SEARCH_SOURCE:return i._("Origen del tr\u00e1fico de par\u00e1metros web por motor de b\u00fasqueda");case c("SegmentCustomAudienceIneligibilityReason").WEB_PARAMETERS_TRAFFIC_SOCIAL_SOURCE:return i._("Origen del tr\u00e1fico de par\u00e1metros web por red social")}j(0)};r.propTypes=babelHelpers["extends"]({},c("XUIDialog.react").propTypes);f.exports=c("FluxContainer").create(r)}),null);
__d("GriffinEditFeatureDialog",["cx","FalcorLoadingCard","GriffinButton","React","SUIAnalyticsGriffinTheme","SUIModalDEPRECATED.react","SUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.descriptionText,n=l.loadingText,o=l.isLoading,p=l.name,q=l.onButtonClick,r=l.onClose,s=l.onNameChange,t=l.title,u=l.showTextInput,v=u&&(!p||!p.trim()),w=u?c("React").createElement(c("SUITextInput.react"),{ref:function A(B){return B&&setTimeout(function(){return B.focusInput()})},className:"_2cnv _3-92",onChange:s,onEnter:!v?q:undefined,theme:c("SUIAnalyticsGriffinTheme"),value:p}):null,x=c("React").createElement(c("GriffinButton"),{disabled:v,label:t,onClick:q,use:"confirm"}),y=c("React").createElement("div",{className:"_3-97"},m),z=void 0;if(o){x=null;y=null;w=null;z=c("React").createElement(c("FalcorLoadingCard"),{showCard:false,text:n})}return c("React").createElement(c("SUIModalDEPRECATED.react"),{onClose:r,theme:c("SUIAnalyticsGriffinTheme")},c("React").createElement("div",{className:"_4q6g"},t,c("React").createElement("div",{className:"_4q6h"}),y,c("React").createElement("div",{className:"_2cnx"},z,w,x)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("EmptyStateStore",[],(function a(b,c,d,e,f,g){"use strict";var h={},i={setEmptyStateCMS:function j(k){h=k},getEmptyStateCMS:function j(k){return h[k]}};f.exports=i}),null);
__d("GriffinEmptyStateCard",["AnalyticsCard","EmptyStateStore","InsightsEventLogger","React","ReactDOM","DOM"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$GriffinEmptyStateCard1=function(q){var r=this.props.cmsKey,s=c("EmptyStateStore").getEmptyStateCMS(r),t=s.content,u=s.id,v=s.qe_experiment,w=s.qe_group;c("InsightsEventLogger").logCardView("empty_feature",{cms_id:u,qe_experiment:v,qe_group:w});var x=c("ReactDOM").findDOMNode(this);c("DOM").setContent(x,t)}.bind(this),m}k.prototype.componentDidMount=function(){this.$GriffinEmptyStateCard1(this.props)};k.prototype.componentDidUpdate=function(){this.$GriffinEmptyStateCard1(this.props)};k.prototype.render=function(){return c("React").createElement(c("AnalyticsCard"),null)};k.propTypes={cmsKey:j.string.isRequired};f.exports=k}),null);
__d("GriffinErrorCard",["fbt","AnalyticsCard","AppEventQueryError","FalcorErrorNotice","Link.react","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes,l=c("React").PureComponent;i=babelHelpers.inherits(m,l);j=i&&i.prototype;m.prototype.render=function(){var n=this.props.error;if(n.isMetricRequiresAdmin())return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:h._("No podemos mostrarte estos datos.")},h._("Solicita al administrador de tu aplicaci\u00f3n que te d\u00e9 acceso a la informaci\u00f3n confidencial. {Label for learn more hyperlink}",[h.param("Label for learn more hyperlink",c("React").createElement(c("Link.react"),{href:new(c("URI"))("/help/analytics/634172763354416"),target:"_blank"},h._("M\u00e1s informaci\u00f3n.")))])));var o=n.isUnknownError()?h._("Vuelve a intentarlo m\u00e1s tarde o {Report this bug}",[h.param("Report this bug",c("React").createElement(c("Link.react"),{href:"https://developers.facebook.com/bugs/",target:"_blank"},h._("informar de este error.")))]):null;return c("React").createElement(c("AnalyticsCard"),{"data-testid":"loading"},c("React").createElement(c("FalcorErrorNotice"),{message:h._("{Error message for API errors}",[h.param("Error message for API errors",n.getMessage())])},o))};function m(){i.apply(this,arguments)}m.propTypes={error:k.instanceOf(c("AppEventQueryError")).isRequired};f.exports=m}),null);
__d("GriffinComposerField",["cx","joinClasses","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.label,n=l.input,o=l.inputClass,p=l.labelClass,q=l.className;return c("React").createElement("div",{className:c("joinClasses")("_3v70",q)},c("React").createElement("div",{className:c("joinClasses")("_3918",p)},m),c("React").createElement("div",{className:c("joinClasses")("_391b",o)},n))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinEventRefinementSegmentBuilderDrawer",["cx","fbt","invariant","CustomEventStore","FalcorSegmentRuleUtils","GriffinComposerField","GriffinContextualDrawer","GriffinEventRefinementSegmentRuleBuilder","InsightsContext","InsightsEventLogger","React","ReactDOM","SUIAnalyticsGriffinTheme","SUITextInput.react","GriffinSegmentRules","joinClasses","update"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("GriffinSegmentRules").Types,n=m.APP_EVENT;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$GriffinEventRefinementSegmentBuilderDrawer2=0;this.$GriffinEventRefinementSegmentBuilderDrawer5=function(q){var r=this.$GriffinEventRefinementSegmentBuilderDrawer3(),s=babelHelpers["extends"]({},this.props.segment,{event_rules:[babelHelpers["extends"]({},r,{name:q})]});this.props.onChangeSegment(s)}.bind(this);this.$GriffinEventRefinementSegmentBuilderDrawer6=function(){this.$GriffinEventRefinementSegmentBuilderDrawer7({$push:[{ruleType:n}]});c("InsightsEventLogger").logEvent({eventName:"funnels_stage_builder_add_rule"})}.bind(this);this.$GriffinEventRefinementSegmentBuilderDrawer8=function(q,r){this.$GriffinEventRefinementSegmentBuilderDrawer7({$splice:[[r,1,q]]});c("InsightsEventLogger").logEvent({eventName:"funnels_stage_builder_change_rule",parameter:q.parameter_name,ruleType:q.ruleType})}.bind(this);this.$GriffinEventRefinementSegmentBuilderDrawer9=function(q){this.$GriffinEventRefinementSegmentBuilderDrawer7({$splice:[[q,1]]});c("InsightsEventLogger").logEvent({eventName:"funnels_stage_builder_remove_rule"})}.bind(this);this.$GriffinEventRefinementSegmentBuilderDrawer11=function(q,r,s){var t=c("InsightsContext").getObjID(),u=this.props.enabledRuleTypes,v=this.$GriffinEventRefinementSegmentBuilderDrawer3();return c("React").createElement("div",{key:r,className:"_5v7p"},c("React").createElement(c("GriffinEventRefinementSegmentRuleBuilder"),{appID:t,disablePushConditions:false,orderedIndex:r,onChangeRule:this.$GriffinEventRefinementSegmentBuilderDrawer8,onRemoveRule:this.$GriffinEventRefinementSegmentBuilderDrawer9,rule:q,enabledRuleTypes:u,eventName:v.event_rule.event_name,showAddButton:r===s.length-1,onAdd:this.$GriffinEventRefinementSegmentBuilderDrawer6}))}.bind(this);this.state={orderedRules:this.$GriffinEventRefinementSegmentBuilderDrawer1(p)}}o.prototype.componentDidMount=function(){var p=c("ReactDOM").findDOMNode(this.refs.builder),q=p.offsetHeight;this.$GriffinEventRefinementSegmentBuilderDrawer2=q;this.props.onChangeHeight(q)};o.prototype.componentDidUpdate=function(){var p=c("ReactDOM").findDOMNode(this.refs.builder),q=p.offsetHeight;if(this.$GriffinEventRefinementSegmentBuilderDrawer2!==q){this.$GriffinEventRefinementSegmentBuilderDrawer2=q;this.props.onChangeHeight(q)}};o.prototype.componentWillReceiveProps=function(p){var q=this.$GriffinEventRefinementSegmentBuilderDrawer3().event_rule.event_name,r=this.$GriffinEventRefinementSegmentBuilderDrawer4(p).event_rule.event_name,s=this.props.stageKey,t=p.stageKey;if(q!==r||s!==t)this.setState({orderedRules:this.$GriffinEventRefinementSegmentBuilderDrawer1(p)})};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer1=function(p){var q=this.$GriffinEventRefinementSegmentBuilderDrawer4(p),r=[];r.push.apply(r,q.event_rule.parameters.map(function(s){s.ruleType=m.APP_EVENT;return s}));r.push.apply(r,(p.segment.event_info_rules||[]).map(function(s){s.ruleType=c("FalcorSegmentRuleUtils").getRuleType(s);return s}));r.push.apply(r,(p.segment.web_param_rules||[]).map(function(s){s.ruleType=m.WEB_PARAMS;return s}));r.push.apply(r,(p.segment.user_property_rules||[]).map(function(s){s.ruleType=m.USER_PROPERTY;return s}));return r};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer7=function(p){var q=this.state.orderedRules,r=c("update")(q,p);this.setState({orderedRules:r});var s=this.$GriffinEventRefinementSegmentBuilderDrawer3();this.props.onChangeSegment(c("FalcorSegmentRuleUtils").createEventRefinementSegmentFromParameterRules(s.name,s.event_rule.event_name,s.event_rule.application,r))};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer4=function(p){var q=p.segment.event_rules;q!==undefined&&q!==null||j(0);q.length===1||j(0);return q[0]};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer3=function(){return this.$GriffinEventRefinementSegmentBuilderDrawer4(this.props)};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer10=function(){var p=i._("NOMBRE DEL PASO"),q=this.$GriffinEventRefinementSegmentBuilderDrawer3(),r=c("React").createElement(c("SUITextInput.react"),{className:"_2jjk _3-92",onChange:this.$GriffinEventRefinementSegmentBuilderDrawer5,theme:c("SUIAnalyticsGriffinTheme"),placeholder:c("CustomEventStore").getAppEventDisplayName(q.event_rule.event_name),value:q.name});return c("React").createElement(c("GriffinComposerField"),{labelClass:"_2rit",inputClass:"_2riu",label:p,input:r})};o.prototype.$GriffinEventRefinementSegmentBuilderDrawer12=function(){var p=this.state.orderedRules,q=void 0;if(p.length===0)q=[{ruleType:n}].map(this.$GriffinEventRefinementSegmentBuilderDrawer11);else q=p.map(this.$GriffinEventRefinementSegmentBuilderDrawer11);return c("React").createElement("div",{className:"_2cnv"},c("React").createElement("div",null,q))};o.prototype.render=function(){var p=this.props,q=p.anchor,r=p.className,s=p.style;return c("React").createElement(c("GriffinContextualDrawer"),{anchor:q,cardKey:"event_refinement_segment_builder",className:c("joinClasses")(r,"_3o9n"),ref:"builder",style:s},c("React").createElement("div",{className:"_3o9o"},this.$GriffinEventRefinementSegmentBuilderDrawer10(),this.$GriffinEventRefinementSegmentBuilderDrawer12()))};f.exports=o}),null);
__d("GriffinEventToken",["ix","cssVar","cx","fbt","Image.react","React","GriffinButton","InsightsEventLogger","SUIAnalyticsGriffinTheme","SearchableEntry","FalcorAppEventSelector","emptyFunction","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$GriffinEventToken1=function(u){this.props.onEventChange(u.getUniqueID())}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.className,r=p.draggable,s=p.eventName,t=p.isPlaceholder,u=p.isSelected,v=p.onClick,w=p.onRemove,x=p.removable,y=u?"#3A84C5":c("SUIAnalyticsGriffinTheme").SUIButton.typeStyle.color,z=k._("Editar"),A=void 0;if(r)A=c("React").createElement("div",{className:"_405o"},c("React").createElement(c("Image.react"),{className:"_405p",src:h("125401"),draggable:false}),c("React").createElement(c("Image.react"),{className:"_405p",src:h("125401"),draggable:false}));var B=void 0;if(x)B=c("React").createElement(c("Image.react"),{className:"_405s",draggable:false,onClick:w,src:h("125921")});var C=void 0;if(s)C=c("React").createElement(c("GriffinButton"),{className:"_405r",label:z,onClick:function(){return v(this)}.bind(this),ref:"refine",style:{color:y}});return c("React").createElement("div",{className:c("joinClasses")(q,"_405l"+(t?" _405n":"")+(r?" _10cw":"")+(x?" _10cx":""))},A,c("React").createElement(c("FalcorAppEventSelector"),{className:"_405q",onOpen:function D(){return c("InsightsEventLogger").logEvent({eventName:"event_builder_selector_open"})},onSelect:this.$GriffinEventToken1,value:s}),C,B)};o.propTypes={className:n.string,eventName:n.string,isPlaceholder:n.bool.isRequired,onClick:n.func.isRequired,onRemove:n.func.isRequired,onEventChange:n.func.isRequired,isSelected:n.bool.isRequired,removable:n.bool.isRequired,draggable:n.bool.isRequired};o.defaultProps={isPlaceholder:false,onClick:c("emptyFunction"),onEventChange:c("emptyFunction"),onRemove:c("emptyFunction"),isSelected:false,draggable:false,removable:false};f.exports=o}),null);
__d("FalcorInsightsHorizontalBarChart",["BonsaiText","CandelaCategoryScale","CandelaScaleBuilder","FalcorDataTooltip","InsightsFormatterFactories","InsightsFormatters","FalcorErrorNotice","FalcorInsightsHoverCardChart","GriffinCandelaTheme","InsightsHorizontalBarChart.react","InsightsThemeableChartMixin","React","ReactComponentWithPureRenderMixin","CandelaConstants","immutable"],(function a(b,c,d,e,f,g){var h=c("CandelaConstants").Alignment,i=c("CandelaConstants").ScaleType,j=c("immutable").OrderedSet,k=c("React").PropTypes,l=48,m=c("React").createClass({displayName:"FalcorInsightsHorizontalBarChart",mixins:[c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")}),c("ReactComponentWithPureRenderMixin")],propTypes:{data:k.array.isRequired,height:k.number.isRequired,plotX:k.arrayOf(k.instanceOf(c("CandelaScaleBuilder"))).isRequired,plotY:k.instanceOf(c("CandelaScaleBuilder")).isRequired,schema:k.object.isRequired,width:k.number.isRequired,axisMarkFormatterFactory:k.func,barLabelFormatterFactory:k.func,formatterFactory:k.func,onMouseMove:k.func,auxiliaryItems:k.instanceOf(j)},statics:{getComponentTheming:function n(){return{styleSheet:{'axis[orientation="vertical"][alignment="left"]':{width:90},'axis[orientation="vertical"][alignment="left"]>axisbucketmark':{textAlign:"left",paddingBottom:9,paddingRight:90},'axis[orientation="vertical"][alignment="left"]>axismark':{paddingBottom:9},'axis[orientation="horizontal"]':{visibility:"hidden"},bargroup:{margin:3,fill:"#E9EAEC"},chart:{paddingTop:20}}}}},getDefaultProps:function n(){return{hoverCardPosition:c("FalcorDataTooltip").TooltipPositions.ABOVE}},getInitialState:function n(){return{bucket:""}},_filterCategoryKey:function n(o){return o!==this._getCategoryKey()},_getCategoryKey:function n(){var o=this.props.schema;return Object.keys(o).find(function(p){return o[p].type===i.CATEGORY})},_formatter:function n(o){if(o instanceof c("CandelaCategoryScale"))return c("InsightsFormatters").defaultFormatter;else return c("InsightsFormatterFactories").legendFormatterFactory(o)},render:function n(){var o=this.props,p=o.data,q=o.unitLabel,r=o.auxiliaryItems,s=o.onMouseMove;if(p.length===0)return c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable,style:{height:this.props.height-l}});var t=j(Object.keys(p[0]).filter(this._filterCategoryKey).map(function(v){return{key:v,value:p[0][v],label:q}})),u=p;u.forEach(function(v){if(v.title)v.title=v.title.toString()});return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:r,hoverCardPosition:this.props.hoverCardPosition,items:t,titleKey:this._getCategoryKey(),formatterFactory:this.props.formatterFactory?this.props.formatterFactory:this._formatter},c("React").createElement(c("InsightsHorizontalBarChart.react"),babelHelpers["extends"]({},this.props,{data:u,alignment:h.LEFT,theme:this.state.theme,onMouseMove:s})))}});f.exports=m}),null);
__d("GriffinHorizontalBarChart",["cx","AnalyticsCard","BonsaiColors","BonsaiTooltip","CandelaScaleBuilder","CandelaStyleSheet","FalcorChartFormatters","FalcorInsightsHorizontalBarChart","FalcorResizableChartMixin","GriffinPercentageBarTable","InsightsEventLogger","LayerFadeOnHide","PeopleText","React","ShimButton.react","SUIAnalyticsGriffinTheme","SUICloseButton.react","XUIDialog.react","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").Map,j=c("immutable").OrderedSet,k=c("React").PropTypes,l=12,m=0,n=135,o=288,p=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"][alignment="left"]':{width:110},'axis[orientation="vertical"][alignment="left"]>axisbucketmark':{paddingRight:110},'gridline[orientation="vertical"]':{visibility:"visible"},bargroup:{margin:10},'axis[orientation="horizontal"][alignment="bottom"]':{visibility:"visible"},chart:{paddingTop:0,paddingRight:20}}),q=c("React").createClass({displayName:"GriffinHorizontalBarChart",_domNode:HTMLElement,mixins:[c("FalcorResizableChartMixin")],propTypes:{cardKey:k.string.isRequired,title:k.node.isRequired,data:k.arrayOf(k.object).isRequired,maxNumBuckets:k.number.isRequired,unitLabel:k.node.isRequired,plotX:k.arrayOf(k.instanceOf(c("CandelaScaleBuilder"))).isRequired,plotY:k.instanceOf(c("CandelaScaleBuilder")).isRequired,schema:k.object.isRequired,description:k.string,size:k.oneOf(["small","large"]),formatterFactory:k.func,axisMarkFormatterFactory:k.func,height:k.number},getInitialState:function r(){return{chartWidth:0,showAll:false}},_getCandelaWidth:function r(){var s=window.getComputedStyle(this._domNode).width;return parseFloat(s)-m},_filterData:function r(s){return s.slice(0,this.props.maxNumBuckets)},_onToggle:function r(s){if(!s)this.setState({showAll:s})},_renderCloseButton:function r(){return c("React").createElement(c("SUICloseButton.react"),{className_DEPRECATED:"_3-9d",onClick:this._onToggle.bind(this,false),shade:"dark",size:"large",theme:c("SUIAnalyticsGriffinTheme"),useLegacyPadding:true})},_renderChart:function r(s,t,u,v){var w=void 0;if(c("PeopleText").bucket_descriptions[this.state.currentTitle])w=j([{key:"bucket",bucket:"ratio",value:c("PeopleText").bucket_descriptions[this.state.currentTitle]}]);return c("React").createElement(c("FalcorInsightsHorizontalBarChart"),{auxiliaryItems:w,axisMarkFormatterFactory:this.props.axisMarkFormatterFactory||c("FalcorChartFormatters").getEllipsisAxisFormatter(l),formatterFactory:this.props.formatterFactory,data:s,width:t,height:u,onMouseMove:this._onMouseMove,plotX:this.props.plotX,plotY:this.props.plotY,schema:this.props.schema,styleSheet:v,unitLabel:this.props.unitLabel})},renderLayers:function r(){if(!this.state.showAll)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this._onToggle,shown:this.state.showAll,width:window.innerWidth-360,key:"showAll"},c("React").createElement(c("GriffinPercentageBarTable"),{data:this.props.data,title:this.props.title,buttons:this._renderCloseButton()}))},_onMouseMove:function r(s){var t=s.data.title.value;this.setState({currentTitle:t})},_renderShowAllLink:function r(s){if(s<=this.props.maxNumBuckets)return null;return c("React").createElement(c("ShimButton.react"),{className:"_ctw _2aax"+(this.props.size!=="large"?" _26va":""),onClick:function(){c("InsightsEventLogger").logCardView(this.props.cardKey.toLowerCase()+"_show_all",{});this.setState({showAll:true})}.bind(this)},"View All")},render:function r(){var s=this._filterData(this.props.data,true),t=this.props.description?c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:this.props.description}):null,u=this.props.data.length,v=null,w=c("React").createElement("span",{className:"_529k _2aax"},this.props.title,t),x=n,y=null;if(this.props.size==="large"){v=c("React").createElement("div",null,this.props.title,t);w=null;x=o;y=p}x=this.props.height?this.props.height:x;return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6 _2aax",title:v,buttons:v?this._renderShowAllLink(u):null},w,w?this._renderShowAllLink(u):null,this._renderChart(s,this.state.chartWidth,x,y),this.renderLayers())}});f.exports=q}),null);
__d("GriffinLooseParameterRuleBuilder",["cx","fbt","FalcorSearchSource","GriffinParameterRuleBuilder","GriffinSearchableSelector","GriffinSegmentOperatorConfig","React","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$GriffinLooseParameterRuleBuilder4=function(r){var s=r.getUniqueID(),t=this.props.parameterRule.ruleType;this.props.onChange({parameter_name:s,ruleType:t})}.bind(this),n}l.prototype.render=function(){var m=this.props.parameterRule,n=this.$GriffinLooseParameterRuleBuilder1(m);return n?this.$GriffinLooseParameterRuleBuilder2(n):this.$GriffinLooseParameterRuleBuilder3()};l.prototype.$GriffinLooseParameterRuleBuilder3=function(){var m="_1lo_",n=i._("Selecciona el par\u00e1metro"),o=this.props.parameters.map(function(q){return{id:q.parameter_name,name:q.display_name||q.parameter_name}}),p=new(c("FalcorSearchSource"))(o);return c("React").createElement(c("GriffinSearchableSelector"),{className:m,dropdownWidth:300,getTooltipForEntry:this.props.getTooltipForParameter,onChange:this.$GriffinLooseParameterRuleBuilder4,placeholder:n,searchSource:p})};l.prototype.$GriffinLooseParameterRuleBuilder2=function(m){var n=c("update")(this.props,{parameterRule:{$set:m}});return c("React").createElement(c("GriffinParameterRuleBuilder"),n)};l.prototype.$GriffinLooseParameterRuleBuilder1=function(m){var n=m.parameter_name,o=m.ruleType;if(!n||!o)return null;var p=m.operator||c("GriffinSegmentOperatorConfig").getSupportedOperators(o,n).defaultValue,q=m.values||[];return{ruleType:o,parameter_name:n,operator:p,values:q}};f.exports=l}),null);
__d("GriffinParameterBuilderDrawer",["cx","fbt","AnalyticsQuery","BonsaiAppEventTypesUtils","CustomEventStore","GriffinComposerField","GriffinContextualDrawer","GriffinLooseParameterRuleBuilder","GriffinSegmentRules","React","ReactDOM","SUIAnalyticsGriffinTheme","SUITextInput.react","List.react","emptyFunction","joinClasses","update"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$GriffinParameterBuilderDrawer1=0,this.$GriffinParameterBuilderDrawer7=function(s){var t=babelHelpers["extends"]({},this.props.eventRule,{name:s});this.props.onChangeEventRule(t)}.bind(this),this.$GriffinParameterBuilderDrawer10=function(){var s=c("update")(this.props.eventRule,{event_rule:{parameters:{$push:[{}]}}});this.props.onChangeEventRule(s)}.bind(this),this.$GriffinParameterBuilderDrawer4=function(s,t,u){var v=this.props.eventRule,w=v.event_rule.event_name,x=c("BonsaiAppEventTypesUtils").getAppEventParameters(w),y=t===u.length-1,z=w+"_param_"+t,A=i._("LIMITAR POR");return c("React").createElement(c("GriffinLooseParameterRuleBuilder"),{labelClass:"_2rit",key:z,showAnd:t!==0,customLabel:A,getParameterDisplayValue:function(B,C){return this.$GriffinParameterBuilderDrawer5(w,B,C)}.bind(this),loadParameterValues:function(B,C){if(this.$GriffinParameterBuilderDrawer2&&!this.$GriffinParameterBuilderDrawer2.isCancelled())this.$GriffinParameterBuilderDrawer2.cancelQuery();this.$GriffinParameterBuilderDrawer2=this.$GriffinParameterBuilderDrawer6(w,B,C)}.bind(this),onChange:function(B){this.$GriffinParameterBuilderDrawer8(t,B)}.bind(this),onDelete:function(){return this.$GriffinParameterBuilderDrawer9(t)}.bind(this),parameterRule:c("update")(s,{ruleType:{$set:c("GriffinSegmentRules").Types.APP_EVENT}}),parameters:x,showAddButton:y,onAdd:this.$GriffinParameterBuilderDrawer10})}.bind(this),o}m.prototype.componentDidMount=function(){var n=c("ReactDOM").findDOMNode(this.refs.builder),o=n.offsetHeight;this.$GriffinParameterBuilderDrawer1=o;this.props.onChangeHeight(o)};m.prototype.componentDidUpdate=function(){var n=c("ReactDOM").findDOMNode(this.refs.builder),o=n.offsetHeight;if(this.$GriffinParameterBuilderDrawer1!==o){this.$GriffinParameterBuilderDrawer1=o;this.props.onChangeHeight(o)}};m.prototype.$GriffinParameterBuilderDrawer3=function(){var n=this.props.eventRule.event_rule.parameters,o=n.length===0?[{}].map(this.$GriffinParameterBuilderDrawer4):n.map(this.$GriffinParameterBuilderDrawer4);return c("React").createElement(c("List.react"),{border:"none",spacing:"none"},o)};m.prototype.$GriffinParameterBuilderDrawer5=function(n,o,p){return c("BonsaiAppEventTypesUtils").getAppEventParameterKnownDisplayValue(n,o,p)};m.prototype.$GriffinParameterBuilderDrawer6=function(n,o,p){c("BonsaiAppEventTypesUtils").loadParameterValues(n,o,p)};m.prototype.$GriffinParameterBuilderDrawer8=function(n,o){var p=c("update")(this.props.eventRule,{event_rule:{parameters:{$splice:[[n,1,o]]}}});this.props.onChangeEventRule(p)};m.prototype.$GriffinParameterBuilderDrawer9=function(n){var o=c("update")(this.props.eventRule,{event_rule:{parameters:{$splice:[[n,1]]}}});this.props.onChangeEventRule(o)};m.prototype.$GriffinParameterBuilderDrawer11=function(){if(!this.props.enableEventRuleRename)return null;var n=i._("NOMBRE DEL PASO"),o=c("React").createElement(c("SUITextInput.react"),{className:"_2jjk _3-92",onChange:this.$GriffinParameterBuilderDrawer7,theme:c("SUIAnalyticsGriffinTheme"),placeholder:c("CustomEventStore").getAppEventDisplayName(this.props.eventRule.event_rule.event_name),value:this.props.eventRule.name});return c("React").createElement(c("GriffinComposerField"),{labelClass:"_2rit",inputClass:"_2riu",label:n,input:o})};m.prototype.render=function(){var n=this.props,o=n.anchor,p=n.className,q=n.style;return c("React").createElement(c("GriffinContextualDrawer"),{anchor:o,cardKey:"parameter_builder",className:c("joinClasses")(p,"_3o9n"),ref:"builder",style:q},c("React").createElement("div",{className:"_3o9o"},this.$GriffinParameterBuilderDrawer11(),this.$GriffinParameterBuilderDrawer3()))};m.propTypes={onChangeHeight:l.func.isRequired,style:l.object,eventRule:l.object.isRequired,enableEventRuleRename:l.bool.isRequired,onChangeEventRule:l.func.isRequired};m.defaultProps={onChangeHeight:c("emptyFunction"),enableEventRuleRename:false};f.exports=m}),null);
__d("FalcorParameterRuleBuilderSearchSource",["AbstractSearchSource","FalcorBreakdownsTextUtils","SearchableEntry","GriffinConstants"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("GriffinConstants").BreakdownsToAppearAtBottom;h=babelHelpers.inherits(k,c("AbstractSearchSource"));i=h&&h.prototype;function k(l){i.constructor.call(this);this.setValues(l)}k.prototype.setValues=function(l){var m=l.filter(function(n){return!c("FalcorBreakdownsTextUtils").isRedactedBreakdownValue(n.uniqueID.toString())});m.sort(function(n,o){if(j.has(n.title.toString()))return j.has(o.title.toString())?n.title.toString().localeCompare(o.title.toString()):1;else if(j.has(o.title.toString()))return-1;return n.title.toString().localeCompare(o.title.toString())});this.parameterPossibleValues=m};k.prototype.isEmpty=function(){return this.parameterPossibleValues.length===0};k.prototype.searchImpl=function(l,m,n){var o=l.toLowerCase(),p=this.parameterPossibleValues.filter(function(q){return q.uniqueID.toString().toLowerCase().includes(o)||q.title.toString().toLowerCase().includes(o)}).map(function(q){return new(c("SearchableEntry"))(q)});m(p,l)};f.exports=k}),null);
__d("GriffinParameterRuleBuilder",["cx","fbt","ix","invariant","FalcorAppEventRuleDataUtils","FalcorParameterRuleBuilderSearchSource","FalcorSearchSource","FalcorSegmentRuleUtils","GriffinComposerField","GriffinButton","GriffinSearchableSelector","GriffinSegmentOperatorConfig","GriffinSegmentRules","GriffinSegmentUtils","GriffinSelector","GriffinSelectorOption","Image.react","InsightsEventLogger","React","SUIAnalyticsGriffinTheme","SUITokenizer.react","SearchableEntry","XUICloseButton.react","isEmpty","joinClasses","update"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=c("GriffinSegmentRules").Types.APP_EVENT;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p,q){m.constructor.call(this,p,q);this.$GriffinParameterRuleBuilder19=function(r){this.$GriffinParameterRuleBuilder12(r.getUniqueID())}.bind(this);this.$GriffinParameterRuleBuilder20=function(r){this.$GriffinParameterRuleBuilder14(r.getUniqueID())}.bind(this);this.$GriffinParameterRuleBuilder21=function(r){var s=this.props.parameterRule,t=s.values.indexOf(r.getUniqueID());if(t<0)return;this.$GriffinParameterRuleBuilder4("value_removed",{operator:this.props.parameterRule.operator,parameter:this.props.parameterRule.parameter_name,value:r.getTitle()});var u=c("update")(this.props.parameterRule,{values:{$splice:[[t,1]]}});this.props.onChange(u)}.bind(this);this.$GriffinParameterRuleBuilder22=function(){if(!this.state.valueSearchQuery||!this.props.allowCustomValue)return;this.$GriffinParameterRuleBuilder12(this.state.valueSearchQuery)}.bind(this);this.$GriffinParameterRuleBuilder23=function(event){if(this.props.parameterRule.values.length>0&&!this.$GriffinParameterRuleBuilder5().isArray[this.props.parameterRule.operator])return;event.target&&event.target.value!==undefined&&event.target.value!==null||k(0);var r=String(event.target.value),s=c("GriffinSegmentUtils").doesRuleAllowOnlyNumericValue(this.props.parameterRule.ruleType,this.props.parameterRule.parameter_name);if(s&&r.length>0&&!/^\d+\.?\d*$/.test(r))return;this.setState({valueSearchQuery:r})}.bind(this);this.state=this.$GriffinParameterRuleBuilder1()}o.prototype.componentDidMount=function(){this.$GriffinParameterRuleBuilder2()};o.prototype.$GriffinParameterRuleBuilder3=function(p){return p.parameters.map(function(q,r){return{id:r,name:q.display_name||q.parameter_name}})};o.prototype.componentWillReceiveProps=function(p){if(p.parameters!==this.props.parameters){var q=this.$GriffinParameterRuleBuilder3(p),r=new(c("FalcorSearchSource"))(q);this.setState({parameterSearchSource:r})}};o.prototype.componentDidUpdate=function(p,q){if(!this.props.parameterRule||c("isEmpty")(this.props.parameterRule))return;if(!p.parameterRule||p.parameterRule.parameter_name!==this.props.parameterRule.parameter_name||p.searchSourceHash!==this.props.searchSourceHash)this.$GriffinParameterRuleBuilder2()};o.prototype.$GriffinParameterRuleBuilder1=function(){var p=this.$GriffinParameterRuleBuilder3(this.props),q=new(c("FalcorSearchSource"))(p);return{loadingValues:false,parameterSearchSource:q,valueSearchQuery:"",valueSearchSource:new(c("FalcorParameterRuleBuilderSearchSource"))([])}};o.prototype.$GriffinParameterRuleBuilder4=function(p,q){var r="rule_builder_";c("InsightsEventLogger").logEvent(babelHelpers["extends"]({eventName:r+p},q))};o.prototype.$GriffinParameterRuleBuilder5=function(){var p=this.props.parameterRule,q=p?p.parameter_name:null;return c("GriffinSegmentOperatorConfig").getSupportedOperators(p.ruleType,q)};o.prototype.$GriffinParameterRuleBuilder6=function(){var p=this.props,q=p.showAddButton,r=p.parameterRule;if(!q||!r.parameter_name)return null;var s=r.ruleType===n?c("FalcorAppEventRuleDataUtils").isAppEventRuleParameterValid(r):c("FalcorSegmentRuleUtils").isValidRule(r);return c("React").createElement(c("GriffinButton"),{className:"_57b5",iconName:"create",onClick:this.props.onAdd,disabled:!s})};o.prototype.render=function(){var p=this.$GriffinParameterRuleBuilder7(),q=this.$GriffinParameterRuleBuilder6(),r=this.props.showAnd?i._("Y"):this.props.customLabel,s=this.props.showArrow?c("React").createElement(c("Image.react"),{className:"_3-91",src:j("82643")}):null,t=r?"_57b8":c("joinClasses")(this.props.className,"_57b8"),u=c("React").createElement("div",{className:t},s,this.$GriffinParameterRuleBuilder8(p),this.$GriffinParameterRuleBuilder9(),this.$GriffinParameterRuleBuilder10(p),this.props.additionalValueInput,q,this.$GriffinParameterRuleBuilder11());if(r)return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("GriffinComposerField"),{labelClass:this.props.labelClass,inputClass:"_338x",label:r,input:u}));else return u};o.prototype.$GriffinParameterRuleBuilder12=function(p){this.$GriffinParameterRuleBuilder13(p,"$push")};o.prototype.$GriffinParameterRuleBuilder14=function(p){this.$GriffinParameterRuleBuilder13(p,"$set")};o.prototype.$GriffinParameterRuleBuilder15=function(p,q,r){this.$GriffinParameterRuleBuilder4("value_added",{operator:p,parameter:q,value:r})};o.prototype.$GriffinParameterRuleBuilder13=function(p,q){var r;p=p.trim();var s=this.props.parameterRule;if(s.values.indexOf(p)>=0)return;this.$GriffinParameterRuleBuilder15(s.operator,s.parameter_name,p);var t=c("update")(s,{values:(r={},r[q]=[p],r)});this.setState({valueSearchQuery:""});this.props.onChange(t)};o.prototype.$GriffinParameterRuleBuilder7=function(){var p=this.props.parameterRule,q=this.props.parameters;if(!p)return null;for(var r=0;r<q.length;r++)if(q[r].parameter_name===p.parameter_name)return r;return null};o.prototype.$GriffinParameterRuleBuilder16=function(p){this.$GriffinParameterRuleBuilder4("parameter_changed",{newParameter:p.name});var q=p.id,r=this.props.parameters[q],s=c("GriffinSegmentOperatorConfig").getSupportedOperators(this.props.parameterRule.ruleType,r.parameter_name).defaultValue,t=babelHelpers["extends"]({},this.props.parameterRule,{parameter_name:r.parameter_name,operator:s,values:[]});this.props.onChange(t)};o.prototype.$GriffinParameterRuleBuilder17=function(p){var q=p.value,r=babelHelpers["extends"]({},this.props.parameterRule,{operator:q});this.$GriffinParameterRuleBuilder4("operator_changed",{newOperator:q,parameter:r.parameter_name});var s=this.$GriffinParameterRuleBuilder18(q);if(!s)r.values=r.values.slice(0,1);this.props.onChange(r)};o.prototype.$GriffinParameterRuleBuilder18=function(p){return this.$GriffinParameterRuleBuilder5().isArray[p]||false};o.prototype.$GriffinParameterRuleBuilder11=function(){return this.props.onDelete?c("React").createElement(c("XUICloseButton.react"),{className:"_57bc",href:"#",onClick:this.props.onDelete,size:"medium"}):null};o.prototype.$GriffinParameterRuleBuilder8=function(p){var q=void 0;if(p!==null&&p!==undefined){var r=this.$GriffinParameterRuleBuilder3(this.props);q=r[p]}var s=this.props.parameterRule.parameter_name?"_57ca":"_1lo_",t=q?new(c("SearchableEntry"))({title:q.name.toString(),uniqueID:q.id}):null;return this.props.isParameterFixed?c("React").createElement("span",{className:"_1e0l"},t?t.getTitle():null):c("React").createElement(c("GriffinSearchableSelector"),{className:s,dropdownWidth:300,getTooltipForEntry:this.props.getTooltipForParameter,onChange:function(u){this.$GriffinParameterRuleBuilder16({id:u.getUniqueID(),name:u.getTitle()})}.bind(this),placeholder:this.props.parameterSelectorLabel,ref:"parameterSelector",searchSource:this.state.parameterSearchSource,value:t,width:"auto"})};o.prototype.$GriffinParameterRuleBuilder9=function(){var p=this.props.parameterRule;if(!p.parameter_name)return null;var q=this.$GriffinParameterRuleBuilder5(),r=!p||!p.parameter_name||this.state.loadingValues||this.props.isOperatorFixed,s=p?p.operator:q.defaultValue,t=q.operators.find(function(t){return t.value===s});return this.props.isOperatorFixed?c("React").createElement("span",{className:"_1e0l"},t?t.text:s):c("React").createElement(c("GriffinSelector"),{className:"_57cb",disabled:r,onChange:function(u){return this.$GriffinParameterRuleBuilder17({value:u})}.bind(this),value:s},q.operators.map(function(u){return c("React").createElement(c("GriffinSelectorOption"),{key:u.value,value:u.value},u.text)}))};o.prototype.$GriffinParameterRuleBuilder24=function(){var p=this.state,q=p.valueSearchSource,r=p.valueSearchQuery;return Boolean(this.props.allowCustomValue&&r&&!q.parameterPossibleValues.some(function(s){return s.uniqueID.toString().toLowerCase()===r.toLowerCase()}))};o.prototype.$GriffinParameterRuleBuilder25=function(p,q,r,s){var t=this.state,u=t.valueSearchSource,v=t.valueSearchQuery,w=this.$GriffinParameterRuleBuilder24()?[new(c("SearchableEntry"))({title:v,uniqueID:v})]:undefined,x={additionalEntries:w,entries:p,isDisabled:q,placeholder:r};return c("React").createElement(c("SUITokenizer.react"),babelHelpers["extends"]({},x,{className:this.$GriffinParameterRuleBuilder26(),maxEntries:o.TYPEAHEAD_LIMIT,onAddEntry:this.$GriffinParameterRuleBuilder19,onAddEntryAttempt:this.$GriffinParameterRuleBuilder19,onEnterWithoutSelection:this.$GriffinParameterRuleBuilder22,onInputBlur:this.$GriffinParameterRuleBuilder22,onQueryStringChange:s?this.$GriffinParameterRuleBuilder23:null,onRemoveEntry:this.$GriffinParameterRuleBuilder21,queryString:v,searchSource:u,selectOnTab:true,showEntriesOnFocus:s,theme:c("SUIAnalyticsGriffinTheme")}))};o.prototype.$GriffinParameterRuleBuilder27=function(){var p=this.props.parameterRule;return p.values.map(function(q){return new(c("SearchableEntry"))({title:this.props.getParameterDisplayValue?this.props.getParameterDisplayValue(p.parameter_name,q):q,uniqueID:q})}.bind(this))};o.prototype.$GriffinParameterRuleBuilder28=function(){return this.state.loadingValues?i._("Cargando..."):i._("Introduce un valor")};o.prototype.$GriffinParameterRuleBuilder26=function(){var p=this.props,q=p.isOperatorFixed,r=p.showAddButton;return(!q?"_57cg":"")+(q?" _1e0m":"")+(r?" _57ch":"")};o.prototype.$GriffinParameterRuleBuilder10=function(p){var q=this.props.parameterRule;if(!q.parameter_name)return null;if(!q||c("isEmpty")(q)||p===null||p===undefined)return this.$GriffinParameterRuleBuilder25([],true,"",false);var r=this.$GriffinParameterRuleBuilder28(),s=this.$GriffinParameterRuleBuilder27(),t=s.length!==0?s[0]:null,u=q.operator,v=this.$GriffinParameterRuleBuilder18(u),w=v||q.values.length<1,x=v||this.state.valueSearchSource.parameterPossibleValues.length===0||this.props.allowCustomValue;return x?this.$GriffinParameterRuleBuilder25(s,this.state.loadingValues,r,w):c("React").createElement("div",{className:this.$GriffinParameterRuleBuilder26()},c("React").createElement(c("GriffinSearchableSelector"),{dropdownWidth:"auto",isDisabled:this.state.loadingValues,onChange:this.$GriffinParameterRuleBuilder20,placeholder:r,searchSource:this.state.valueSearchSource,value:t,width:"100%"}))};o.prototype.$GriffinParameterRuleBuilder2=function(){var p=this.props.parameterRule,q=this.$GriffinParameterRuleBuilder1(),r=!!p&&!!p.parameter_name;q.loadingValues=r;this.setState(q);if(!r)return;this.props.loadParameterValues(p.parameter_name,function(s){this.setState({loadingValues:false,valueSearchSource:new(c("FalcorParameterRuleBuilderSearchSource"))(s)})}.bind(this))};o.TYPEAHEAD_LIMIT=300;o.defaultProps={allowCustomValue:true,parameterSelectorLabel:i._("Seleccionar par\u00e1metro"),showAnd:true,customLabel:""};f.exports=o}),null);
__d("GriffinPercentageBarTable",["cx","fbt","AnalyticsCard","FalcorDataTooltipMixin","FalcorPaginatedDataTable","InsightsContext","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"GriffinPercentageBarTable",mixins:[c("FalcorDataTooltipMixin")],propTypes:{data:j.arrayOf(j.object).isRequired,title:j.string.isRequired,buttons:j.node},getInitialState:function l(){return{searchString:""}},getColumns:function l(){return[{label:this.props.title,id:"title",width:210},{label:i._("Porcentaje"),id:"ratio",cellRenderer:this.renderPercentage,comparator:function m(n,o){return o.ratio-n.ratio},sortable:true}]},renderTitle:function l(m,n){return c("React").createElement("div",{ref:m,onMouseOver:n?function(){this.onShowTooltip(m,function(){return n},null,"above")}.bind(this):null,onMouseOut:this.onHideTooltip},m)},renderPercentage:function l(m){var n=Math.round(m*1e4)/100,o=Math.round((1-m)*1e4)/100;return c("React").createElement("div",{className:"_4jip"},c("React").createElement("div",{className:"_59v5",style:{width:n+"%"}}),c("React").createElement("div",{className:"_59v8",style:{width:o+"%"}}),c("React").createElement("div",{className:"_59v9"},n+"%"))},_getRows:function l(){var m,n=this,o=this.props.data;if(this.refs.table.state.searchString)(function(){var p=n.refs.table.state.searchString.toLocaleLowerCase();o=o.filter(function(q){if(!q||!q.title)return false;var r=q.title.toLocaleLowerCase();return r.indexOf(p)!==-1})})();return o},_getQuotedString:function l(m){if(m.startsWith('"')||m.endsWith('"'))return m;else return'"'+m+'"'},_getExportData:function l(){var m=[],n=this.getColumns();m.push(n.map(function(q){return q.label}).join(","));this._getRows().forEach(function(q){return m.push(n.map(function(r){var s=q[r.id];return this._getQuotedString(s.toString())}.bind(this)).join(","))}.bind(this));var o=c("InsightsContext").getActiveSegmentID(),p=o?this.props.title+"_"+o:this.props.title;return{data:m.join("\n"),fileName:p}},_onSearchChange:function l(m){this.setState({searchString:m.target.value});this.refs.table.onSearchChange(m)},render:function l(){var m=this.props.data.map(function(n){return{ratio:n.ratio,titleKey:n.title,title:this.renderTitle(n.title,n.description)}}.bind(this));return c("React").createElement(c("AnalyticsCard"),{className:"_2aax",title:this.props.title,showButtonsLast:true,showLine:false,buttons:this.props.buttons,getExportData:this._getExportData,searchString:this.state.searchString||"",onSearchChange:this._onSearchChange},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"table",columns:this.getColumns(),columnToSortBy:"ratio",searchFieldName:"titleKey",rows:m,pageSize:Infinity}))}});f.exports=k}),null);
__d("AnalyticsSamplingDisclosureStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","Set"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").SAMPLING_DISCLOSURE,m={eventNamesInContext:new(c("Set"))()};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case l.ADD_EVENTS_IN_CONTEXT:var s=new(c("Set"))();p.eventNamesInContext.forEach(function(event){return s.add(event)});r.data.event_names.forEach(function(event){return s.add(event)});return p.set("eventNamesInContext",s);case l.CLEAR_EVENTS_IN_CONTEXT:return p.set("eventNamesInContext",m.eventNamesInContext);default:return p}};o.prototype.getEventsInContext=function(){return this.getState().eventNamesInContext};function o(){j.apply(this,arguments)}f.exports=new o(c("AnalyticsDispatcher"))}),null);
__d("GriffinSamplingDisclosureController",["ix","invariant","cx","fbt","ActiveSectionStore","InternalAnalyticsQueryBuilder","AppCustomEventType","AnalyticsSamplingDisclosureStore","CustomEventStore","FluxContainer","Image.react","immutable","InsightsContext","InsightsEventLogger","InsightsNumUtils","FalcorCommonViews","LeftRight.react","Link.react","Map","PeopleStore","React","SUIAnalyticsGriffinTheme","SUITable.react","SUIText.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=.01;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.state={totalUniqueUsers:null,eventsData:new(c("Map"))(),queryStatus:"NOT_STARTED",isFeatureSelectionShown:false},this.$GriffinSamplingDisclosureController2=function(u){return this.$GriffinSamplingDisclosureController1=u}.bind(this),this.$GriffinSamplingDisclosureController3=function(){return this.$GriffinSamplingDisclosureController1}.bind(this),q}o.getStores=function(){return[c("AnalyticsSamplingDisclosureStore"),c("ActiveSectionStore")]};o.calculateState=function(p){var q=c("AnalyticsSamplingDisclosureStore").getEventsInContext(),r=c("CustomEventStore").getAppEventSamplingRates(q),s=new(c("Map"))();q.forEach(function(y){s.set(y,{sampling_rate:r.get(y),display_name:c("CustomEventStore").getAppEventDisplayName(y)})});var t=c("ActiveSectionStore").getActiveSectionLabel(),u=c("ActiveSectionStore").getActiveFeature(),v=c("ActiveSectionStore").getFeatureList(),w=c("ActiveSectionStore").getView(),x=t!==null&&u!==null&&v!=null&&v.length>0&&w!==c("FalcorCommonViews").EDIT;return{totalUniqueUsers:p?p.totalUniqueUsers:0,eventsData:s,queryStatus:p?p.queryStatus:"NOT_STARTED",isFeatureSelectionShown:x}};o.prototype.componentWillMount=function(){this.$GriffinSamplingDisclosureController5()};o.prototype.componentWillUnmount=function(){if(this.$GriffinSamplingDisclosureController4)this.$GriffinSamplingDisclosureController4.cancel()};o.prototype.$GriffinSamplingDisclosureController5=function(){if(this.state.queryStatus!=="NOT_STARTED"||this.state.totalUniqueUsers)return;this.setState({queryStatus:"IN_PROGRESS"});var p=c("InsightsContext").getObjID(),q=c("PeopleStore").getLast28Days();this.$GriffinSamplingDisclosureController4=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(p).setEventName(c("AppCustomEventType").FB_BASE_EVENT).setAggregations(["USERS"]).setIntervalsToAggregate(0).setSince(q.startTime).setUntil(q.endTime).setNotifySamplingStore(false).setTag("user_count").getQueryAsPromise();this.$GriffinSamplingDisclosureController4.promise.done(function(r){var s=r.getResultAsRows(),t=r.getColumnNames().indexOf("USERS"),u=null;s.forEach(function(v){u=parseInt(v.get(t),10)});this.setState({totalUniqueUsers:u,queryStatus:"DONE"})}.bind(this),function(r){this.setState({totalUniqueUsers:null,queryStatus:"ERROR"})}.bind(this))};o.prototype.render=function(){if(this.state.eventsData.length===0||this.state.queryStatus!=="DONE"||!this.state.totalUniqueUsers)return null;var p=false;this.state.eventsData.forEach(function(r){if(r.sampling_rate<1)p=true});if(!p)return null;var q=this.state.isFeatureSelectionShown?"_3rn_":null;return c("React").createElement("div",{className:q},c("React").createElement(c("LeftRight.react"),null,null,c("React").createElement("div",{className:"_5--u"},c("React").createElement("span",{className:"_1tni"},c("React").createElement(c("SUIText.react"),{className:"_1tnj",shade:"light",size:"medium_DEPRECATED",theme:c("SUIAnalyticsGriffinTheme")},k._("Este informe se basa en datos de muestra")),c("React").createElement(c("Image.react"),{className:"_1tnk",ref:this.$GriffinSamplingDisclosureController2,src:h("127943"),tabIndex:"0"})),this.$GriffinSamplingDisclosureController6())))};o.prototype.$GriffinSamplingDisclosureController6=function(){return c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,hoverHideDelay:300,onToggle:this.$GriffinSamplingDisclosureController7,contextRef:this.$GriffinSamplingDisclosureController3,hoverContextRef:this.$GriffinSamplingDisclosureController3,position:"left",width:500},c("React").createElement(c("XUIContextualDialogTitle.react"),null,k._("C\u00f3mo se muestrean los datos de Facebook Analytics")),c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_1tnm",display:"block",shade:"light",size:"medium_DEPRECATED",theme:c("SUIAnalyticsGriffinTheme")},k._("Facebook Analytics usa datos de muestra en todos los gr\u00e1ficos que corresponde. La frecuencia de muestreo se refiere al porcentaje de usuarios totales.")),c("React").createElement(c("Link.react"),{className:"_1tnn",href:"/help/analytics/362741807451359",target:"_blank",onClick:this.$GriffinSamplingDisclosureController8},k._("M\u00e1s informaci\u00f3n")),this.$GriffinSamplingDisclosureController9())))};o.prototype.$GriffinSamplingDisclosureController9=function(){var p=this.$GriffinSamplingDisclosureController10(),q=this.$GriffinSamplingDisclosureController11(p);return c("React").createElement(c("SUITable.react"),{tooltipByColumnIDByItemID:q,theme:c("SUIAnalyticsGriffinTheme"),columns:this.$GriffinSamplingDisclosureController12(),items:p,totalItemCount:p.count(),noItemsMessage:"No items to show",rowHeight:36})};o.prototype.$GriffinSamplingDisclosureController7=function(p){if(p)c("InsightsEventLogger").logEvent({eventName:"sampling_rate_notice_shown",feature_id:null,ad_hoc:true})};o.prototype.$GriffinSamplingDisclosureController8=function(){c("InsightsEventLogger").logEvent({eventName:"sampling_rate_notice_more_info_clicked",feature_id:null,ad_hoc:true})};o.prototype.$GriffinSamplingDisclosureController12=function(){return[{getTitle:function p(q){return q.event_display_name},id:"name",label:k._("Eventos"),renderItem:function p(q){return q.event_display_name},widthWeight:3},{getTitle:function p(q){return q.sampling_rate.toString()},id:"sampling_rate",label:k._("Frecuencia de muestreo"),renderItem:function p(q){if(q.sampling_rate===1)return k._("Sin muestra");else if(q.sampling_rate<n)return"< 1%";else return c("InsightsNumUtils").prettyPercent(q.sampling_rate)},widthWeight:2},{getTitle:function p(q){return q.total_unique_users.toString()},id:"total_unique_users",label:k._("Total de usuarios de muestra"),renderItem:function p(q){if(q.sampling_rate===1)return"";else return c("InsightsNumUtils").prettyShortInt(q.total_unique_users)},widthWeight:2}]};o.prototype.$GriffinSamplingDisclosureController10=function(){var p=[];this.state.eventsData.length!==0&&this.state.queryStatus==="DONE"&&this.state.totalUniqueUsers||i(0);this.state.eventsData.forEach(function(q,r){var s=q.sampling_rate,t=(this.state.totalUniqueUsers||1)*s;p.push({id:r,event_display_name:q.display_name,sampling_rate:s,total_unique_users:t})}.bind(this));p.sort(function(q,r){var s=q.sampling_rate===1?0:q.sampling_rate,t=r.sampling_rate===1?0:r.sampling_rate,u=t-s;if(u===0)return r.event_display_name.localeCompare(q.event_display_name);else return u});return c("immutable").List(p)};o.prototype.$GriffinSamplingDisclosureController11=function(p){var q={};p.forEach(function(r){var s=c("InsightsNumUtils").prettyPercent(r.sampling_rate,5),t=c("InsightsNumUtils").prettyInt(Math.round(r.total_unique_users));q[r.id]={total_unique_users:c("React").createElement("div",null,t),sampling_rate:c("React").createElement("div",null,s)}});return q};f.exports=c("FluxContainer").create(o,{pure:true,withProps:false})}),null);
__d("GriffinSegmentCreateAudienceCard",["cx","fbt","ix","AnalyticsCard","FalcorAdAccountPickerDialog","FluxContainer","GriffinButton","GriffinCreateCustomAudienceDialog","GriffinSegmentUtils","Image.react","InsightsContext","InsightsEventLogger","LightweightSegmentStore","React"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("React").PropTypes,n={UNSAVED_SEGMENT:"unsavedSegment",SEGMENT_NOT_SUPPORTED:"segmentNotSupported"};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={dialogShown:false,segment:null},this.$GriffinSegmentCreateAudienceCard1=function(){c("InsightsEventLogger").logEvent({eventName:"custom_audience_create_click",feature_id:this.props.segmentID});this.setState({dialogShown:true})}.bind(this),q}o.getStores=function(){"use strict";return[c("LightweightSegmentStore")]};o.calculateState=function(){"use strict";return{segment:c("LightweightSegmentStore").getAppliedSegment()}};o.prototype.renderLayers=function(){"use strict";if(!this.state.dialogShown)return null;var p=function(r){return setTimeout(function(){return this.setState({dialogShown:r})}.bind(this),0)}.bind(this),q=function(){return this.setState({dialogShown:false})}.bind(this);return c("React").createElement(c("GriffinCreateCustomAudienceDialog"),{causalElementRef:function(){return this.refs.createAudienceButton}.bind(this),defaultSegment:this.state.segment,shown:true,onToggle:p,onEscapeKey:q})};o.prototype.getBodyCopy=function(p){"use strict";switch(p){case n.UNSAVED_SEGMENT:return i._("Guarda este segmento para crear un p\u00fablico personalizado en el administrador de anuncios de Facebook. Te permitir\u00e1 dirigir los anuncios directamente a las personas de este segmento.");case n.SEGMENT_NOT_SUPPORTED:return i._("Elimina todos los par\u00e1metros web y propiedades en este segmento para crear un p\u00fablico personalizado. Una vez eliminados, puedes crear un p\u00fablico personalizado en el administrador de anuncios de Facebook para mostrar anuncios a las personas que forman parte de \u00e9l.");default:return i._("Crea un p\u00fablico personalizado en el administrador de anuncios para dirigir los anuncios a las personas de este segmento.")}};o.prototype.getTooltip=function(p){"use strict";switch(p){case n.UNSAVED_SEGMENT:return i._("Guarda los cambios en este segmento para crear un p\u00fablico personalizado.");case n.SEGMENT_NOT_SUPPORTED:return i._("Elimina las propiedades de usuario y los par\u00e1metros web y, a continuaci\u00f3n, guarda el segmento para crear un p\u00fablico personalizado.");default:return null}};o.prototype.getButtonLabel=function(p){"use strict";return i._("Crear p\u00fablico personalizado")};o.prototype.render=function(){"use strict";var p=null;if(this.state.segment&&c("GriffinSegmentUtils").isDisabledForCustomAudience(this.state.segment))p=n.SEGMENT_NOT_SUPPORTED;else if(!this.props.segmentID)p=n.UNSAVED_SEGMENT;return c("React").createElement(c("AnalyticsCard"),{className:"_4oi5 _4oi6"},c("React").createElement("div",{className:"_529k _2aax _2piq"},i._("DIRIGE LOS ANUNCIOS A LAS PERSONAS DE ESTE SEGMENTO")),c("React").createElement("div",{className:"_4jip"},c("React").createElement(c("Image.react"),{className:"_3-93",src:j("82622")}),c("React").createElement("div",{className:"_4oi5"},c("React").createElement("div",{className:"_2aax"},this.getBodyCopy(p)),c("React").createElement(c("GriffinButton"),{style:{marginTop:12},disabled:p===n.UNSAVED_SEGMENT||p===n.SEGMENT_NOT_SUPPORTED,label:this.getButtonLabel(p),onClick:this.$GriffinSegmentCreateAudienceCard1,tooltip:this.getTooltip(p),use:"confirm"}))),this.renderLayers())};o.propTypes={segmentID:m.string};f.exports=c("FluxContainer").create(o)}),null);
__d("GriffinMenuUtils",["invariant","AnalyticsEventLoggerStore","AnalyticsGKNames","AnalyticsGKs","GriffinMenuConfig","GriffinSections","InsightsContext","React","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";var i=1e4,j=70,k={_getMenuItemPath:function m(n,o){var p=function p(x){return l(x,n)};for(var q=c("GriffinMenuConfig").SectionConfigs,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;if(u.key===n)return{type:"group",group:u};var v=k._getSections(u,o);if(v){var w=v.find(p);if(w)return{type:"section",group:u,section:w}}}h(0)},_getMenuItem:function m(n,o){var p=k._getMenuItemPath(n,o);switch(p.type){case"group":return p.group;case"section":return p.section;default:h(0)}},getLabelForSection:function m(n,o){var p=k._getMenuItem(n,o);return p?p.label:""},isSectionHidden:function m(n,o){var p=c("InsightsContext").getSectionsToHide();if(p.includes(n))return true;var q=k._getMenuItemPath(n,o);if(q==null)return true;return q.group!=null&&q.group.hidden!=null&&q.group.hidden(o)||q.section!=null&&q.section.hidden!=null&&q.section.hidden(o)},_getMenuItemForSection:function m(n,o){var p=k._getMenuItem(n,o);if(!p||k.isSectionHidden(n,o))p=k._getMenuItem(c("GriffinMenuConfig").DEFAULT_SECTION,o);return c("nullthrows")(p)},getControllerTypeForSection:function m(n,o){var p=k._getMenuItemForSection(n,o);return c("nullthrows")(p.controllerType)},getControllerPropsForSection:function m(n,o){var p=k._getMenuItemForSection(n,o);return c("nullthrows")(p.controllerProps)},groupHasSection:function m(n,o,p){if(n.key===o)return true;return k._groupHasSection(n,o,p)},_getSections:function m(n,o){return n.getSections!=null?n.getSections(n,o):n.sections},_groupHasSection:function m(n,o,p){var q=k._getSections(n,p);if(!q)return false;var r=function r(s){return l(s,o)};return!!q.find(r)},isPlatformMetricSection:function m(n){var o=c("GriffinMenuConfig").SectionConfigs.find(function(p){return p.key===c("GriffinSections").FACEBOOK_PLATFORM});if(o==null)return false;return c("nullthrows")(o.sections).some(function(p){return p.key===n})},shouldShowDirectSupport:function m(){if(c("InsightsContext").isDemoApp())return false;if(!c("AnalyticsGKs").get(c("AnalyticsGKNames").MAU_DIRECT_SUPPORT))return true;var n=c("AnalyticsEventLoggerStore").getMAU();return!!n&&n>i},shouldShowFeedback:function m(){return c("AnalyticsGKs").get(c("AnalyticsGKNames").GIVE_FEEDBACK)},getFooterHeight:function m(){if(this.shouldShowDirectSupport()&&this.shouldShowFeedback())return j*2;else if(this.shouldShowDirectSupport()||this.shouldShowFeedback())return j;else return 0}};function l(m,n){return m.key===n}f.exports=k}),null);
__d("AnalyticsCohortsQueryBuilder",["invariant","AnalyticsCohortsQuery","BonsaiApiBreakdown"],(function a(b,c,d,e,f,g,h){"use strict";i.prototype.setAnalyticsEntityID=function(j){this.$AnalyticsCohortsQueryBuilder1=j;return this};i.prototype.setBreakdown=function(j){this.$AnalyticsCohortsQueryBuilder2=j!==c("BonsaiApiBreakdown").NONE?j:null;return this};i.prototype.setFirstEvent=function(j){this.$AnalyticsCohortsQueryBuilder3=j;return this};i.prototype.setFollowupEvent=function(j){this.$AnalyticsCohortsQueryBuilder4=j;return this};i.prototype.setSince=function(j){this.$AnalyticsCohortsQueryBuilder5=j;return this};i.prototype.setUntil=function(j){this.$AnalyticsCohortsQueryBuilder6=j;return this};i.prototype.setCollationInterval=function(j){this.$AnalyticsCohortsQueryBuilder7=j;return this};i.prototype.setFilters=function(j){this.$AnalyticsCohortsQueryBuilder8=j;return this};i.prototype.setOnSuccess=function(j){this.$AnalyticsCohortsQueryBuilder9=j;return this};i.prototype.setOnError=function(j){this.$AnalyticsCohortsQueryBuilder10=j;return this};i.prototype.getSource=function(){return{section:this.getSection(),tag:this.getTag()}};i.prototype.getSection=function(){return null};i.prototype.setTag=function(j){this.$AnalyticsCohortsQueryBuilder11=j;return this};i.prototype.getTag=function(){return this.$AnalyticsCohortsQueryBuilder11};i.prototype.getQuery=function(){this.$AnalyticsCohortsQueryBuilder12();return new(c("AnalyticsCohortsQuery"))(this.$AnalyticsCohortsQueryBuilder1,this.$AnalyticsCohortsQueryBuilder3,this.$AnalyticsCohortsQueryBuilder4,this.$AnalyticsCohortsQueryBuilder5,this.$AnalyticsCohortsQueryBuilder6,this.$AnalyticsCohortsQueryBuilder7,this.$AnalyticsCohortsQueryBuilder2,this.$AnalyticsCohortsQueryBuilder8,this.$AnalyticsCohortsQueryBuilder9,this.$AnalyticsCohortsQueryBuilder10,this.getSource())};i.prototype.$AnalyticsCohortsQueryBuilder12=function(){this.$AnalyticsCohortsQueryBuilder3&&this.$AnalyticsCohortsQueryBuilder4||h(0);this.$AnalyticsCohortsQueryBuilder5&&this.$AnalyticsCohortsQueryBuilder6||h(0);this.$AnalyticsCohortsQueryBuilder7||h(0);this.$AnalyticsCohortsQueryBuilder9||h(0);this.$AnalyticsCohortsQueryBuilder10||h(0)};function i(){}f.exports=i}),null);
__d("InternalAnalyticsCohortsQueryBuilder",["AnalyticsCohortsQueryBuilder","AnalyticsStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AnalyticsCohortsQueryBuilder"));i=h&&h.prototype;function j(){i.constructor.call(this)}j.prototype.getSection=function(){return c("AnalyticsStore").getState().navigation.section};f.exports=j}),null);
__d("AnalyticsFunnelsQueryBuilder",["invariant","Promise","AnalyticsAbstractQueryBuilder","AnalyticsFunnelsQuery","AnalyticsQueryApi"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsAbstractQueryBuilder").makeCancelable,l=c("AnalyticsAbstractQueryBuilder").AnalyticsAbstractQueryBuilder;i=babelHelpers.inherits(m,l);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AnalyticsFunnelsQueryBuilder2=null,o}m.prototype.setAnalyticsEntityID=function(n){this.$AnalyticsFunnelsQueryBuilder1=n;return this};m.prototype.setBreakdowns=function(n){this.$AnalyticsFunnelsQueryBuilder2=n;return this};m.prototype.setSince=function(n){this.$AnalyticsFunnelsQueryBuilder9=n;return this};m.prototype.setUntil=function(n){this.$AnalyticsFunnelsQueryBuilder10=n;return this};m.prototype.setFunnelStages=function(n){this.$AnalyticsFunnelsQueryBuilder6=n;return this};m.prototype.setFilters=function(n){this.$AnalyticsFunnelsQueryBuilder5=n;return this};m.prototype.setSecondsConstraint=function(n){this.$AnalyticsFunnelsQueryBuilder11=n;return this};m.prototype.setOnSuccess=function(n){this.$AnalyticsFunnelsQueryBuilder3=n;return this};m.prototype.setOnError=function(n){this.$AnalyticsFunnelsQueryBuilder4=n;return this};m.prototype.getQuery=function(){this.$AnalyticsFunnelsQueryBuilder12();return this.$AnalyticsFunnelsQueryBuilder13(this.$AnalyticsFunnelsQueryBuilder3,this.$AnalyticsFunnelsQueryBuilder4)};m.prototype.getQueryAsPromise=function(){this.$AnalyticsFunnelsQueryBuilder12();var n=new(c("Promise"))(function(o,p){var q=this.$AnalyticsFunnelsQueryBuilder13(o,p);c("AnalyticsQueryApi").queryFunnelsData([q])}.bind(this));return k(n)};m.prototype.$AnalyticsFunnelsQueryBuilder13=function(n,o){return new(c("AnalyticsFunnelsQuery"))(this.$AnalyticsFunnelsQueryBuilder1,n,o,this.$AnalyticsFunnelsQueryBuilder5,this.$AnalyticsFunnelsQueryBuilder6,this.$AnalyticsFunnelsQueryBuilder9,this.$AnalyticsFunnelsQueryBuilder10,this.$AnalyticsFunnelsQueryBuilder11,this.$AnalyticsFunnelsQueryBuilder2,this.getSource())};m.prototype.$AnalyticsFunnelsQueryBuilder12=function(){this.$AnalyticsFunnelsQueryBuilder6||h(0);this.$AnalyticsFunnelsQueryBuilder9&&this.$AnalyticsFunnelsQueryBuilder10||h(0)};f.exports=m}),null);
__d("InternalAnalyticsFunnelsQueryBuilder",["AnalyticsFunnelsQueryBuilder","AnalyticsStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AnalyticsFunnelsQueryBuilder"));i=h&&h.prototype;function j(){i.constructor.call(this)}j.prototype.getSection=function(){return c("AnalyticsStore").getState().navigation.section};f.exports=j}),null);
__d("InternalAnalyticsQueryBuilder",["AnalyticsQueryBuilder","AnalyticsStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AnalyticsQueryBuilder"));i=h&&h.prototype;function j(){i.constructor.call(this)}j.prototype.getSection=function(){return c("AnalyticsStore").getState().navigation.section};f.exports=j}),null);
__d("BonsaiOverviewBarMixin",["cx","AnalyticsCard","AnalyticsNavigationUtils","BonsaiSectionDataLoaderMixin","BonsaiApiError","BonsaiApiPromise","BonsaiApiDataAdapter","BonsaiErrorNotice","Grid.react","AnalyticsKPIChartCell","InsightsLoadingIndicator.react","React","URI"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j={mixins:[c("BonsaiSectionDataLoaderMixin")],getDefaultProps:function k(){return{headerLink:false}},propTypes:{headerLink:i.bool},appEventMetricKey:function k(l){return[l.aggregateBy,l.event_name]},getSumData:function k(l){var m=["SUM",l];return this.getData(m)},componentWillMount:function k(){var l=this.getMetrics();Object.keys(l).forEach(function(m){var n=l[m];if(typeof n!=="object")this.addMetric(m,l[m]);else this.addMetric(this.appEventMetricKey(n),"app_event",n)},this);this.fetchMetrics()},postFetchDataProcess:function k(){if(this.getDataAdapters!==undefined)return this.getDataAdapters();var l=this.getMetrics();return Object.keys(l).map(function(m){var n=l[m],o=typeof n!="object"?m:this.appEventMetricKey(n);return this.getData(o)}.bind(this))},getMetricUris:function k(){return this.getChartLocations().map(function(l){return new(c("URI"))(window.location.href).addQueryData(babelHelpers["extends"]({},l,{section:this.getSection()}))}.bind(this))},getSectionUri:function k(){return c("AnalyticsNavigationUtils").getSectionInsightsURI(this.getSection())},render:function k(){var l=this.postFetchDataProcess(),m=Object.keys(this.getLabels()).map(function(n){var o=l[n];if(o instanceof c("BonsaiApiPromise"))return c("React").createElement(c("InsightsLoadingIndicator.react"),{size:"small",key:n});if(o instanceof c("BonsaiApiError"))return c("React").createElement(c("BonsaiErrorNotice"),{message:o.error.message,className:"_3-8t"});var p=this.getMetrics()[n];if(p&&p.event_name==="fb_mobile_purchase"){var q=this.getSumData(p.event_name);if(q instanceof c("BonsaiApiPromise"))return c("React").createElement(c("InsightsLoadingIndicator.react"),{size:"small",key:n});else if(q instanceof c("BonsaiApiDataAdapter"))if(q.getTotal()&&!o.getTotal())o=q}var r=this.getLatest!==undefined&&this.getLatest()[n],s=r?o.getLatestTotal():o.getTotal();return c("React").createElement(c("AnalyticsKPIChartCell"),{key:n,title:this.getLabels()[n],url:this.getMetricUris()[n],visibleDataTotal:s,currentValue:o.getLatestTotal(),previousValue:o.getOldestTotal()})}.bind(this));return c("React").createElement(c("AnalyticsCard"),{className:"_134q"},c("React").createElement(c("Grid.react"),{cols:3,alignv:"bottom",spacing:"phs"},m))}};f.exports=j}),null);
__d("FalcorDownloadMixin",["ix","cx","fbt","AppEventQueryAggregationPeriod","BlobFactory","GriffinButton","Image.react","InsightsEventLogger","InsightsInfoTip.react","React","UserAgent","fbglyph","formatDate"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k={componentWillUnmount:function l(){var m=this._downloadLink;if(m){var n=b.URL||b.webkitURL,o=m.href;if(o)n.revokeObjectURL(o)}},_onClick:function l(m){var n=this.props.getExportData();c("InsightsEventLogger").logEvent({eventName:"export_button_click"});if(!n)return;var o=null;if(n.data)o=n;else o=this._getFormatData(n);var p=[o.data],q=null;if(n.fileName){q=n.fileName;if(!q.endsWith(".csv"))q+=".csv"}else{var r=o.times.reduce(function(r,x){r.max=x>r.max?x:r.max;r.min=x<r.min?x:r.min;return r},{max:Number.MIN_VALUE,min:Number.MAX_VALUE}),s=[r.min/1e3,r.max/1e3].map(function(x){return c("formatDate")(x,"jMY",{utc:true,skipPatternLocalization:true})}).join("_");q=[this.props.exportFilename,s].join("_")+".csv"}var t="text/csv",u=c("BlobFactory").getBlob(p,{type:t});if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(u,q);else{var v=b.URL||b.webkitURL,w=v.createObjectURL(u);if(c("UserAgent").isBrowser("Safari")){window.open(w);return}if(!this._downloadLink){this._downloadLink=document.createElement("a");document.body.appendChild(this._downloadLink)}this._downloadLink.href=w;this._downloadLink.download=q;this._downloadLink.click()}},_getExportButton:function l(){var m=b.URL||b.webkitURL,n=window.navigator&&window.navigator.msSaveBlob;if(!c("BlobFactory").isSupported()||!(m&&m.createObjectURL||n)){var o=j._("Este navegador no es compatible. Cambia a la versi\u00f3n m\u00e1s reciente de Chrome, Firefox o Internet Explorer.");return c("React").createElement(c("InsightsInfoTip.react"),{tip:o},c("React").createElement("div",{className:"_bhz"},c("React").createElement(c("Image.react"),{src:h("142785")})))}return c("React").createElement(c("GriffinButton"),{"data-tooltip-position":"below",key:"export",icon:c("React").createElement(c("Image.react"),{src:h("142785")}),onClick:this._onClick,width:32,tooltip:j._("Descargar estos datos en un archivo CSV.")})},_getFormatData:function l(m){var n=void 0,o=void 0,p=void 0,q=void 0;n=[];o={};p=[];m.forEach(function(t){var u={};n.push(t.header);t.body.forEach(function(v){var w=v.time.getTime();o[w]=1;u[w]=u[w]?u[w]+v.value:v.value});p.push(u)});o=Object.keys(o).sort();var r=this.props.aggregationPeriod===c("AppEventQueryAggregationPeriod").HOUR,s=r?"m/d/Y g:ia":"m/d/Y";p=o.map(function(t){var u=void 0,v=void 0;u=p.map(function(w){return w[t]});v=new Date();v.setTime(t);u.unshift(c("formatDate")(v,s,{utc:true}));return u});q=n.slice(0);q.unshift("Date");p.unshift(q);p=this._createCSVString(p);return{data:p,times:o}},_createCSVString:function l(m){return m.map(function(n){return n.map(function(o){return o?o.toString():"-"}).map(function(o){return o.indexOf(",")===-1?o:'"'+o+'"'}).join(",")}).join("\n")}};f.exports=k}),null);
__d("SegmentModel",["fbt","FalcorSegmentRuleUtils","FalcorSegmentTextUtils","GriffinSegmentRules","areEqual","intlList"],(function a(b,c,d,e,f,g,h){"use strict";var i={isValid:function k(){var l=this._filterEmptyRules(this.orderedRules),m=l.every(function(p){return c("FalcorSegmentRuleUtils").isValidRule(p)}),n=c("FalcorSegmentRuleUtils").isEmptyRule(this.percentile_rule)||c("FalcorSegmentRuleUtils").isValidCumulativeRule(this.percentile_rule),o=c("FalcorSegmentRuleUtils").hasRuleConflicts(this.orderedRules);return!!this.name&&this.name.toString().trim()&&m&&n&&!o},_filterEmptyRules:function k(l){return l.filter(function(m){return!c("FalcorSegmentRuleUtils").isEmptyRule(m)})},_isEmptyRule:function k(l){return Object.keys(l).length===0},getDescription:function k(){return c("intlList")(this.getAllRules().map(function(l){return c("FalcorSegmentTextUtils").getTokenLabel(l)}),c("intlList").CONJUNCTIONS.NONE)},isEqual:function k(l){if(l.id!==this.id)return false;var m=this.getAllRules(),n=l.getAllRules();return c("areEqual")(m,n)},getWireFormat:function k(){var l=[],m=[],n=[],o=this._filterEmptyRules(this.orderedRules),p=[];o.map(function(q){var r=c("FalcorSegmentRuleUtils").getRuleType(q),s=babelHelpers["extends"]({},q);if(r===c("GriffinSegmentRules").Types.APP_EVENT)l.push(s);else if(r===c("GriffinSegmentRules").Types.USER_PROPERTY)n.push(s);else if(r===c("GriffinSegmentRules").Types.WEB_PARAMS)p.push(s);else m.push(s)});return{name:this.name.toString(),description:this.description,event_info_rules:m,event_rules:l,user_property_rules:n,percentile_rules:c("FalcorSegmentRuleUtils").isEmptyRule(this.percentile_rule)?[]:[this.percentile_rule],web_param_rules:p}},getAllRules:function k(){return this.orderedRules.concat(this.percentile_rule).filter(function(l){return!this._isEmptyRule(l)}.bind(this))}};function j(k){var l=void 0;if(!k)l=babelHelpers["extends"]({},i,{id:null,name:h._("Segmento sin t\u00edtulo"),event_info_rules:[],event_rules:[],user_property_rules:[],percentile_rule:{},orderedRules:[{}],web_param_rules:[]});else{l=babelHelpers["extends"]({event_info_rules:[],event_rules:[],user_property_rules:[],web_param_rules:[]},i,k);l.event_rules=l.event_rules.map(function(m){return babelHelpers["extends"]({},m,{ruleType:c("GriffinSegmentRules").Types.APP_EVENT})});l.event_info_rules=l.event_info_rules.map(function(m){return babelHelpers["extends"]({},m,{ruleType:c("FalcorSegmentRuleUtils").getRuleType(m)})});l.user_property_rules=l.user_property_rules.map(function(m){return babelHelpers["extends"]({},m,{ruleType:c("GriffinSegmentRules").Types.USER_PROPERTY})});l.web_param_rules=l.web_param_rules.map(function(m){return babelHelpers["extends"]({},m,{ruleType:c("GriffinSegmentRules").Types.WEB_PARAMS})});l.orderedRules=l.event_rules.concat(l.event_info_rules,l.user_property_rules,l.web_param_rules);if(!l.orderedRules.length)l.orderedRules=[{}];l.percentile_rule=l.percentile_rules&&l.percentile_rules[0]?l.percentile_rules[0]:{};delete l.percentile_rules}return l}f.exports=j}),null);
__d("SegmentStore",["fbt","SegmentModel","InsightsEntityStore","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=null;function j(){if(!i)i=new(c("InsightsEntityStore"))(c("InsightsGraphAPIConstants").SEGMENT_EDGE,c("InsightsGraphAPIConstants").SEGMENT_NODE,c("SegmentModel"),h._("Segmento sin t\u00edtulo"));return i}f.exports=j()}),null);
__d("FalcorFeatureValidationMixin",["cx","BreakdownTableStore","CohortStore","FalcorNotice","React","SegmentStore"],(function a(b,c,d,e,f,g,h){"use strict";var i={_getFeatureFromProps:function j(k){return k.cohort||k.funnel||k.segment||k.report||k.breakdownTable},componentWillReceiveProps:function j(k){var l=void 0;if(k.cohort)l=c("CohortStore");else if(k.segment)l=c("SegmentStore");else if(k.breakdownTable)l=c("BreakdownTableStore");else return;var m=this._getFeatureFromProps(k);if(m.showValidationError&&m.isValid())l.updateEntityConfiguration({showValidationError:{$set:false}})},_renderErrorOnSave:function j(k,l){var m=this._getFeatureFromProps(this.props);return m&&m.showValidationError?c("React").createElement(c("FalcorNotice"),{className:"_3-98",noticeType:c("FalcorNotice").NoticeTypes.ERROR,message:k,subtext:l}):null}};f.exports=i}),null);
__d("FalcorLegendSelectorMixin",["AnalyticsCard","BonsaiApiBreakdown","BonsaiStyle","FalcorErrorNotice","FalcorHeaderSelector","GriffinPinButton","InsightsContext","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("FalcorHeaderSelector").Item,i={_getInitialCardState:function j(k){var l=this.props.tab||c("InsightsContext").getActiveTabName();if(c("InsightsContext").getActiveCardName()==this.props.cardKey)k=l||k;return{legend:null,shouldRefresh:true,activeSection:k}},_getLegendProps:function j(){return{currentCard:this.props.cardKey,width:c("BonsaiStyle").FALCOR_WIDTH}},_getExportFileName:function j(){if(this.getFileName){var k=this.getFileName();if(k)return k}var l=this._title()+" "+this._getKeyToLabel()[this.state.activeSection];return l.split(" ").join("_")},render:function j(){var k=this._getKeyToLabel(),l=this._getKeyToSection(),m=null,n=null,o=Object.keys(k).map(function(t){if(this.state.activeSection===t){m=this._renderCandela();n=k[t]}return c("React").createElement(h,{key:t,value:t,label:k[t]})}.bind(this)),p=c("React").createElement(c("FalcorHeaderSelector"),{activeTabKey:this.state.activeSection,headerKey:this.props.cardKey,onItemChange:this._onTabChange},o),q=this.props.hidePinButton?null:c("React").createElement(c("GriffinPinButton"),{key:"pin",chartKey:this.props.cardKey}),r=this._getExtraCardProps?this._getExtraCardProps():null,s=this._getHelptextMap?this._getHelptextMap()[this.state.activeSection]:null;if(s)s={key:s,title:n};return c("React").createElement(c("AnalyticsCard"),babelHelpers["extends"]({},r,{cardKey:this.props.cardKey,ref:"card",title:this._title(),dropDown:p,setEcosystemVisibility:this._setEcosystemVisibility,helpText:s,getExportData:this._onExportClick,exportFilename:this._getExportFileName(),pinButton:q}),m)},_onExportClick:function j(){if(this.getCustomExportData)return this.getCustomExportData();if(this.getExportData)return this.getExportData();if(this.refs[this.state.activeSection])return this.refs[this.state.activeSection].getExportData();return null},_setEcosystemVisibility:function j(k){var l=this.refs[this.state.activeSection];if(l)l.setEcosystemVisibility(k)},componentDidMount:function j(){this._showEcosystemButton()},componentDidUpdate:function j(){this._showEcosystemButton()},_showEcosystemButton:function j(){var k=this.refs[this.state.activeSection],l=this.refs.card;if(k&&k.hasEcosystem&&k.hasEcosystem())l.showEcosystemButton(true);else l.showEcosystemButton(false)},_buildTimeSeriesChartGroup:function j(k){if(this.refs[k.ref]){var l=this.refs[k.ref].getErrorMessages();if(l.length)return c("React").createElement(c("FalcorErrorNotice"),{message:l[0]})}return k},_onTabChange:function j(k){if(this.props.onTabChange)this.props.onTabChange(k);this.setState({activeBreakdown:c("BonsaiApiBreakdown").NONE,activeSection:k,shouldRefresh:true})},_setLegendState:function j(k){this.setState({legend:k,shouldRefresh:false})},_setRefreshState:function j(){this.setState({shouldRefresh:true})}};f.exports=i}),null);
__d("FalcorLogCardViewMixin",["AnalyticsDateUtils","InsightsEventLogger","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={propTypes:{cardKey:h.string.isRequired,visibleDateRange:h.object},componentDidMount:function j(){if(this.props.visibleDateRange)c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey,this.props.visibleDateRange,this._getParamsToLog());else c("InsightsEventLogger").logCardView(this.props.cardKey,this._getParamsToLog())},componentDidUpdate:function j(k,l){var m=this._shouldLogAfterComponentDidUpdate(k,l),n=this.props.visibleDateRange&&!c("AnalyticsDateUtils").isDateRangeSame(this.props.visibleDateRange,k.visibleDateRange);if((m||n)&&this.props.visibleDateRange)c("InsightsEventLogger").logCardViewWithDateRange(this.props.cardKey,this.props.visibleDateRange,this._getParamsToLog());else if(m)c("InsightsEventLogger").logCardView(this.props.cardKey,this._getParamsToLog())}};f.exports=i}),null);
__d("FalcorOverviewGraphMixin",["cx","fbt","AnalyticsSessionDurationLogger","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiPromise","BonsaiErrorNotice","BonsaiSectionDataLoaderMixin","FalcorLoadingCard","FalcorRefChannels","GriffinSections","InsightsContext","InsightsEventLogger","React","ReactDOM","URI","XAppAnalyticsMainController","XUICard.react","XUINotice.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k={referrals:true,stories:true,login:true},l={WIDTH:250,HEIGHT:138},m={mixins:[c("BonsaiSectionDataLoaderMixin")],_domNode:Object,propTypes:{chartLocations:j.object,formatValue:j.func,fullDateRange:j.object.isRequired,hasHeader:j.bool,hasLegend:j.bool,isReverseDelta:j.bool,metrics:j.array.isRequired,onComponentRenderedNull:j.func,popDateRange:j.object,processData:j.func,section:j.string,title:j.string,visibleDateRange:j.object.isRequired,widgetKey:j.string.isRequired,filtered:j.bool,sessionLoggerID:j.string},getDefaultProps:function n(){return{chartLocations:{},isReverseDelta:false,section:c("GriffinSections").CUSTOM_EVENTS,hasHeader:true,hasLegend:false,height:l.HEIGHT,width:l.WIDTH}},_appEventMetricKey:function n(o){var p=[o.aggregateBy,o.event_name];if(o.intervals_to_aggregate)p.push(o.intervals_to_aggregate);return p},componentWillMount:function n(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(this.props.sessionLoggerID,this.props.widgetKey);this.shouldOnlyFetchVisibleDateRange=true;this._fetchAllMetrics()},componentWillReceiveProps:function n(o){if(o.sessionLoggerID!==this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").registerComponent(o.sessionLoggerID,o.widgetKey)},componentDidUpdate:function n(o,p){if(this.props.onComponentRenderedNull&&c("ReactDOM").findDOMNode(this)===null)this.props.onComponentRenderedNull();var q=this.props.visibleDateRange;if(q.since!=o.visibleDateRange.since||q.until!=o.visibleDateRange.until)this._fetchAllMetrics()},_fetchAllMetrics:function n(){this.resetMetrics();var o=this.props.metrics;Object.keys(o).forEach(function(p){var q=o[p];if(typeof q!="object")this.addMetric(p,q);else if(this.props.popDateRange&&!q.since){Object.assign(q,this.props.popDateRange);this.addMetric(this._appEventMetricKey(q),"app_event",q)}else this.addMetric(this._appEventMetricKey(q),"app_event",q)}.bind(this));this.fetchMetrics()},_fetchFullRangeData:function n(){if(this.getDataAdapters)return this.getDataAdapters();var o=this.props.metrics;return Object.keys(o).map(function(p){var q=o[p],r=typeof q!="object"?p:this._appEventMetricKey(q);return this.getRawData(r)}.bind(this))},_fetchVisibleRangeData:function n(){if(this.getDataAdapters)return this.getDataAdapters();var o=this.props.metrics;return Object.keys(o).map(function(p){var q=o[p],r=typeof q!="object"?p:this._appEventMetricKey(q);return this.getData(r)}.bind(this))},_fetchData:function n(){return{fullData:this._fetchFullRangeData(),graphData:this._fetchVisibleRangeData()}},_getMetricsUris:function n(){var o=c("InsightsContext").isDevsite()?c("XAppAnalyticsMainController").getURIBuilder().setInt("obj_id",c("InsightsContext").getObjID()).setString("__aref_src",c("FalcorRefChannels").DEVSITE).setString("__aref_id","app_dashboard").getURI().setSubdomain("www"):new(c("URI"))(window.location.href);o.addQueryData(babelHelpers["extends"]({section:this.props.section,since:this.props.visibleDateRange.since.getTime(),until:this.props.visibleDateRange.until.getTime()},this.props.chartLocations));return o},render:function n(){var o=this._fetchData();if(this.props.processData)o=this.props.processData(o);var p=null,q=false;o.graphData.forEach(function(v){if(v instanceof c("BonsaiApiDataAdapter")&&v.getRawData().length>1&&v.getTotal()!==0)q=true});if(q){if(this.renderCandelaChart)p=this.renderCandelaChart(o.graphData,o.fullData);else p=this.renderChart(o.graphData,o.fullData);if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").markComponentLoaded(this.props.sessionLoggerID,this.props.widgetKey)}else if(o.graphData[0]instanceof c("BonsaiApiError")&&!o.graphData[0].isUnknownError()){p=c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:o.graphData[0].getMessage()});this._deregisterLoggerComponent()}else if(o.graphData[0]instanceof c("BonsaiApiPromise"))p=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else{p=c("React").createElement(c("XUINotice.react"),null,i._("No hay suficientes datos para mostrar para el intervalo de fechas o segmento"));this._deregisterLoggerComponent()}var r=this.props.hasLegend?c("React").createElement("span",{className:"_1hok"}," / "):null,s=this.props.hasLegend?this.renderLegend(o.graphData):null,t=this.props.hasHeader?c("React").createElement("div",{className:"_1hol"},c("React").createElement("span",{className:"_5h3_ _2u47"},this.props.title),r,c("React").createElement("span",{className:"_52va"},s)):null;if(!p)return null;var u=this._renderSubHeader();return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_4z75")},c("React").createElement(c("XUICard.react"),{className:"_1ssp",onClick:this._onClick},c("React").createElement("a",{className:"_4wcn",href:this._getMetricsUris()},t,u,p)))},_deregisterLoggerComponent:function n(){if(this.props.sessionLoggerID)c("AnalyticsSessionDurationLogger").unregisterComponent(this.props.sessionLoggerID,this.props.widgetKey)},_onClick:function n(){c("InsightsEventLogger").logEvent({eventName:"overview_widget_click",widget:this.props.widgetKey})},_renderSubHeader:function n(){if(!this.props.filtered||!k[this.props.section])return null;return c("React").createElement("div",{className:"_41fq"},i._("Mostrando resultados para el 100 \u0025 de los usuarios"))}};f.exports=m}),null);
__d("FalcorSectionRendererMixin",["cx","AnalyticsFooter","AnalyticsNavigationUtils","BonsaiHelpText","BonsaiStatus","BonsaiText","CustomEventStore","FalcorHeader.react","FalcorNotice","FalcorNoticeDismissalUtils","FalcorNoticeKeys","GriffinEmptyStateCard","GriffinSections","InsightsContext","Layout.react","React"],(function a(b,c,d,e,f,g,h){var i=c("Layout.react").FillColumn,j={componentWillMount:function k(){var l=c("InsightsContext").getActiveCardName();if(l)c("InsightsContext").setAutoScrollCardName(l)},componentWillUnmount:function k(){c("InsightsContext").setAutoScrollCardName(null)},render:function k(){var l=[],m=void 0,n=c("InsightsContext").getActiveSectionName(),o=c("BonsaiStatus").getMessage(n),p=c("BonsaiStatus").getSubtext(n);if(o&&!c("InsightsContext").isDemoApp()){var q=c("FalcorNotice").NoticeTypes.INFORMATION;if(c("BonsaiStatus").isMessageAWarning(n))q=c("FalcorNotice").NoticeTypes.WARNING;l.push(c("React").createElement(c("FalcorNotice"),{noticeType:q,key:"message",message:o,subtext:p,dismissButton:{text:"",onClick:function w(){return void 0}}}))}var r=c("BonsaiStatus").getInternalMessage(n);if(r)l.push(c("React").createElement(c("FalcorNotice"),{noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,key:"internal",message:r}));if(c("BonsaiStatus").isOffline(n))return c("React").createElement("div",{className:"_1xy9"},l);if(c("InsightsContext").getActiveSectionName()===c("GriffinSections").A2U&&c("InsightsContext").getHasA2UNotificationFiltering())l.push(c("React").createElement(c("FalcorNotice"),{key:"_a2uNotifFilteringMsg",noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,message:c("BonsaiText").a2u_notif_filtering_msg.text,secondButton:{href:c("BonsaiText").a2u_notif_filtering_msg.url,text:c("BonsaiText").learn_button}}));if(c("CustomEventStore").hasEvents()&&c("InsightsContext").getShowImplicitPurchaseEventsUpsell())l.push(c("React").createElement(c("FalcorNotice"),{key:c("FalcorNoticeKeys").PURCHASE_UPSELL,noticeType:c("FalcorNotice").NoticeTypes.INFORMATION,noticeKey:c("FalcorNoticeKeys").PURCHASE_UPSELL,message:c("BonsaiText").implicit_purchase_events_upsell.text,subtext:c("BonsaiText").implicit_purchase_events_upsell.subtext,firstButton:{onClick:function w(){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").SETTINGS).go()},text:c("BonsaiText").enable_button},secondButton:{href:c("BonsaiText").implicit_purchase_events_upsell.url,text:c("BonsaiText").learn_button},dismissButton:{onClick:function w(){return c("FalcorNoticeDismissalUtils").onNoticeDismissal(c("FalcorNoticeKeys").PURCHASE_UPSELL)},text:""}}));c("InsightsContext").getNoticesToShow().forEach(function(w){var x=null;if(w.dismissible)x={onClick:function y(){return c("FalcorNoticeDismissalUtils").onNoticeDismissal(w.noticeKey)},text:""};l.push(c("React").createElement(c("FalcorNotice"),babelHelpers["extends"]({},w,{message:c("React").createElement(c("BonsaiHelpText"),{helpKey:w.message}),subtext:w.subtext?c("React").createElement(c("BonsaiHelpText"),{helpKey:w.subtext}):undefined,key:w.message,dismissButton:x})))});if(this.constructor.getTopInfo)m=this.constructor.getTopInfo();var s=c("InsightsContext").isPixel()&&!c("InsightsContext").getIsPixelOptedIn(),t=s?c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"OptInForPixels"}):this.getContent(this.props,this.state),u=void 0;if(this.getSummary)u=this.getSummary(this.props,this.state);if(u)t.unshift(c("React").cloneElement(u,{key:"summary_bar"}));var v=void 0;if(this.getHeaderProps)v=this.getHeaderProps();else v={title:this.getTitle()};if(!this.props.upsell&&this._useSectionDateRangeMixin())v.dateSelector=this.renderDateSelector();v.hasSideNavPadding=true;v.disableMiniMode=this.props.disableMiniMode;if(s)v.control=null;return c("React").createElement("div",null,c("React").createElement(c("FalcorHeader.react"),babelHelpers["extends"]({ref:"header"},v)),c("React").createElement(c("Layout.react"),{className:"_1xy9"},c("React").createElement(i,null,m,l,t,c("React").createElement(c("AnalyticsFooter"),null))))},_useSectionDateRangeMixin:function k(){return!!this.renderDateSelector}};f.exports=j}),null);
__d("FalcorA2UNegativeCard",["fbt","BonsaiApiBreakdown","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"A2UNegativeCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],getInitialState:function j(){return this._getInitialCardState("rates")},componentWillMount:function j(){this.addMetricWithEcosystem("hide_rate","app_notification_hide_rate");this.addMetric("hides","app_notification_hides");this.addMetric("unhides","app_notification_unhides");this.fetchMetrics()},_getHelptextMap:function j(){return{rates:"A2USpamRate",hides:"A2UHides"}},_title:function j(){return h._("Comentarios negativos")},_getKeyToLabel:function j(){return{rates:this._text.spam_and_hide_rates,hides:this._text.hides}},_getKeyToSection:function j(){return{rates:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"rates",data:[this.getDataWithEcosystem("hide_rate")],titles:[this._text.hide_rate],categories:[this._getHelptextMap().rates]}))),hides:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"hides",data:[this.getData("hides"),this.getData("unhides")],titles:[this._text.hides,this._text.unhides],categories:[this._getHelptextMap().hides]})))}},_renderCandela:function j(){var k=[];if(this.state.activeSection==="rates"){var l={data:this.getDataWithEcosystem("hide_rate"),title:this._text.hide_rate,key:"hide_rate"};k=[l]}else if(this.state.activeSection==="hides"){var m={data:this.getData("hides"),title:this._text.hides,key:"hides"},n={data:this.getData("unhides"),title:this._text.unhides,key:"unhides"};k=[m,n]}else k=[{data:this.getData(this.state.activeSection),title:this._text[this.state.activeSection],key:this.state.activeSection}];this.setExportInfo(k,c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:k,activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false})},_text:{spam_and_hide_rates:h._("Porcentajes de desactivaci\u00f3n de notificaciones"),hide_rate:h._("Porcentaje de desactivaci\u00f3n de notificaciones"),hides:h._("Desactivaci\u00f3n de notificaciones"),unhides:h._("Reactivaci\u00f3n de notificaciones")}});f.exports=i}),null);
__d("FalcorA2UOverviewCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","InsightsContext","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorA2UOverviewCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("click_rate"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},componentWillMount:function j(){this.addMetric("sends","app_notification_sends");this.addMetric("sends_ref","app_notification_sends",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.addMetricWithEcosystem("imps","app_notification_impressions");this.addMetric("imps_ref","app_notification_impressions",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.addMetricWithEcosystem("clicks","app_notification_clicks");this.addMetric("clicks_ref","app_notification_clicks",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.addMetric("ctr_ref","app_notification_ctr",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.fetchMetrics()},_title:function j(){return h._("Notificaciones de la aplicaci\u00f3n")},_getHelptextMap:function j(){return{click_rate:"A2UClickRate",sends:"A2USent",imps:"A2UImpressions",clicks:"A2UClicks"}},_data:function j(k,l){var m={click_rate:{none:this.getDataWithEcosystem("clicks").divideBy(this.getDataWithEcosystem("imps")),ref:this.getData("ctr_ref")},sends:{none:this.getData("sends"),ref:this.getData("sends_ref")},imps:{none:this.getData("imps"),ref:this.getData("imps_ref")},clicks:{none:this.getData("clicks"),ref:this.getData("clicks_ref")}};return m[k][l]},_label:{click_rate:c("BonsaiText").click_rate,sends:c("BonsaiText").app_notifications_sent,imps:c("BonsaiText").reads,clicks:c("BonsaiText").clicks},_getBreakdownChartSwitcher:function j(k,l){return c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:k,currentCard:this.props.cardKey,threshold:c("InsightsContext").getHasA2UNotificationFiltering()?null:this._getHelptextMap()[k]},c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this._data(k,"none"),key:c("BonsaiApiBreakdown").NONE,percentage:l,title:this._label[k],categories:[this._getHelptextMap()[k]]}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").REF,currentCard:this.props.cardKey,data:this._data(k,"ref"),key:c("BonsaiApiBreakdown").REF,percentage:l,shouldStack:false,showTotal:false}))},_getKeyToLabel:function j(){return{click_rate:this._label.click_rate,sends:this._label.sends,imps:this._label.imps,clicks:this._label.clicks}},_getKeyToSection:function j(){return{click_rate:this._getBreakdownChartSwitcher("click_rate",true),sends:this._getBreakdownChartSwitcher("sends",false),imps:this._getBreakdownChartSwitcher("imps",false),clicks:this._getBreakdownChartSwitcher("clicks",false)}},_renderCandela:function j(){var k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").REF],l={data:this._data(this.state.activeSection,this.state.activeBreakdown),title:this._label[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([l],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})}});f.exports=i}),null);
__d("FalcorA2USectionController",["FalcorA2UNegativeCard","FalcorA2UOverviewCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","OverviewAppNotifBar","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorA2USectionController",statics:{getKey:function i(){return c("GriffinSections").A2U}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewAppNotifBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig;if(!n.hasA2U)return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"AppNotifications"}),",");return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("FalcorA2UOverviewCard"),{cardKey:"a2U_overview",fullDateRange:l,key:"a2U_overview",visibleDateRange:m}),c("React").createElement(c("FalcorA2UNegativeCard"),{cardKey:"a2U_negative",fullDateRange:l,key:"a2U_negative",visibleDateRange:m}))}});f.exports=h}),null);
__d("OverviewAppNotifBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewAppNotifBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").A2U},getTitle:function j(){return h._("Notificaciones de la aplicaci\u00f3n")},getMetrics:function j(){return["app_notification_sends","app_notification_spam_rate","app_notification_impressions","app_notification_clicks"]},getChartLocations:function j(){return[{card:"a2U_overview",tab:"sends"},{card:"a2U_overview",tab:"click_rate"},{card:"a2U_negative",tab:"rates"}]},getDataAdapters:function j(){return[this.getData(0),this.getData(3).divideBy(this.getData(2)),this.getData(1)]},getPercentages:function j(){return[false,true,false]},getLabels:function j(){return[h._("Notificaciones enviadas"),h._("Porcentaje de clics de notificaciones"),h._("Tasa de notificaciones de spam por 10 000 impresiones")]}});f.exports=i}),null);
__d("FalcorAKDemoCard",["fbt","AnalyticsQueryAggregationMethod","AnalyticsQueryDataFetcherMixin","AnalyticsQueryBuilder","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiDemoDataProcessMixin","BonsaiText","FalcorErrorNotice","FalcorGeoLocaleTable","FalcorLegendSelectorMixin","FalcorLoadingCard","FalcorLogCardViewMixin","FalcorSideBySideColumnsChart","InsightsContext","InsightsUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorAKDemoCard",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("BonsaiDemoDataProcessMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("country"),{ageGenderData:null,ageGenderError:null,countryData:null,countryError:null,localeData:null,localeError:null})},componentWillReceiveProps:function j(k){if(this._shouldFetchData(k,this.props)){this.setState(this.getInitialState());this._fetchData(k)}},_getQueries:function j(k){var l=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.since).getTime()/1e3,m=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.until).getTime()/1e3,n=c("InsightsContext").getObjID(),o=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName("fb_ak_login_complete").setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER]).setFilters(k.filters).setSince(l).setUntil(m),p=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName("fb_ak_login_complete").setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([c("BonsaiApiBreakdown").COUNTRY]).setFilters(k.filters).setSince(l).setUntil(m),q=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName("fb_ak_login_complete").setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns([c("BonsaiApiBreakdown").LOCALE]).setFilters(k.filters).setSince(l).setUntil(m);return[{query:o,onQueryData:function(r){return this.setState({ageGenderData:r})}.bind(this),onQueryError:function(r){return this.setState({ageGenderError:r})}.bind(this)},{query:p,onQueryData:function(r){return this.setState({countryData:r})}.bind(this),onQueryError:function(r){return this.setState({countryError:r})}.bind(this)},{query:q,onQueryData:function(r){return this.setState({localeData:r})}.bind(this),onQueryError:function(r){return this.setState({localeError:r})}.bind(this)}]},_title:function j(){return h._("Datos demogr\u00e1ficos de nuevos inicios de sesi\u00f3n con Account Kit")},_getGenderAgeChart:function j(){if(!this.state.ageGenderData&&!this.state.ageGenderError)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.ageGenderError)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.ageGenderError.getMessage()});var k=new(c("BonsaiApiDataAdapter"))(this.state.ageGenderData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true);if(!k.getData().length)return c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable});var l=this.processFalcorGenderAgeData(k);return c("React").createElement(c("FalcorSideBySideColumnsChart"),{breakdownType:c("BonsaiApiBreakdown").GENDER,ref:"gender_age",xAxisValues:l.ages,legendValues:l.legend,chartData:l.chartData,exportData:l["export"],totalCount:l.totalCount})},_getGeoChart:function j(k){if(!this.state.countryData&&!this.state.countryError||!this.state.localeData&&!this.state.localeError)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.countryError&&this.state.localeError)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.countryError.getMessage()||this.state.localeError.getMessage()});var l=k===c("BonsaiApiBreakdown").COUNTRY?h._("ak_login_countries"):h._("ak_login_locale"),m=new(c("BonsaiApiDataAdapter"))(this.state.countryData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),n=new(c("BonsaiApiDataAdapter"))(this.state.localeData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),o=this.processGeoLocaleData({country:m,locale:n});return c("React").createElement(c("FalcorGeoLocaleTable"),{ref:k,breakdown:k,currentCard:this.props.cardKey,data:o[k],downloadFileName:l,key:this.props.cardKey})},_getKeyToLabel:function j(){return{gender_age:c("BonsaiText").gender_age,country:c("BonsaiText").country,locale:c("BonsaiText").locale}},_getKeyToSection:function j(){return{gender_age:this._getGenderAgeChart(),country:this._getGeoChart(c("BonsaiApiBreakdown").COUNTRY),locale:this._getGeoChart(c("BonsaiApiBreakdown").LOCALE)}},_getHelptextMap:function j(){return{gender_age:"AKUserDemoGenderAndAge",country:"AKUserDemoGeography",locale:"AKUserDemoLanguage"}},_renderCandela:function j(){return this._getKeyToSection()[this.state.activeSection]},_getParamsToLog:function j(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection}});f.exports=i}),null);
__d("FalcorAKLoginDialogCard",["fbt","AnalyticsQueryAggregationMethod","AnalyticsQueryDataFetcherMixin","AnalyticsQueryBuilder","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiAppEventTypesUtils","BonsaiText","FalcorErrorNotice","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingCard","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","GriffinSelectorOption","InsightsContext","InsightsUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";var i="total",j="cleint_android",k="client_ios",l="type_email",m="type_phone",n="fb_ak_login_dialog_impression",o="fb_ak_login_start",p="fb_ak_login_attempt",q="fb_ak_login_complete",r=["impressionsData","startsData","attemptsData","completesData"],s=c("React").createClass({displayName:"FalcorAKLoginDialogCard",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function t(){return babelHelpers["extends"]({},this._getInitialCardState("conversion"),{activeBreakdown:c("BonsaiApiBreakdown").CLIENT,activeFilterType:i,impressionsData:null,impressionsError:null,startsData:null,startsError:null,attemptsData:null,attemptsError:null,completesData:null,completesError:null})},componentWillReceiveProps:function t(u){if(this._shouldFetchData(u,this.props)){this.setState(this.getInitialState());this._fetchData(u)}},_getBreakdowns:function t(event){var u=[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE];if(c("InsightsContext").getShowAccountKitF82017Updates()){var v=[c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE,c("BonsaiApiBreakdown").AK_CLIENT_SDK],w=c("BonsaiAppEventTypesUtils").getAppEventParameters(event),x=w.map(function(A){return A.parameter_name});for(var y=0;y<x.length;y++)for(var z=0;z<v.length;z++)if(x[y].indexOf(v[z])!==-1)u.push(x[y])}return u},_getQueries:function t(u){var v=c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.since).getTime()/1e3,w=c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.until).getTime()/1e3,x=c("InsightsContext").getObjID(),y=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(x).setEventName(n).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns(this._getBreakdowns(n)).setFilters(u.filters).setSince(v).setUntil(w),z=this._getBreakdowns(o),A=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(x).setEventName(o).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns(z).setFilters(u.filters).setSince(v).setUntil(w),B=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(x).setEventName(q).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns(this._getBreakdowns(q)).setFilters(u.filters).setSince(v).setUntil(w),C=[{query:y,onQueryData:function(F){return this.setState({impressionsData:F})}.bind(this),onQueryError:function(F){return this.setState({impressionsError:F})}.bind(this)},{query:A,onQueryData:function(F){return this.setState({startsData:F})}.bind(this),onQueryError:function(F){return this.setState({startsError:F})}.bind(this)},{query:B,onQueryData:function(F){return this.setState({completesData:F})}.bind(this),onQueryError:function(F){return this.setState({completesError:F})}.bind(this)}],D=z.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_SDK)!==-1;if(c("InsightsContext").getShowAccountKitF82017Updates()&&D){var E=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(x).setEventName(p).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setBreakdowns(this._getBreakdowns(p)).setFilters(u.filters).setSince(v).setUntil(w);C.push({query:E,onQueryData:function(F){return this.setState({attemptsData:F})}.bind(this),onQueryError:function(F){return this.setState({attemptsError:F})}.bind(this)})}return C},_title:function t(){return h._("Di\u00e1logo de inicio de sesi\u00f3n de Account Kit")},_getBreakdownByFilterType:function t(){switch(this.state.activeFilterType){default:case l:case m:return c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE;case k:case j:return c("BonsaiApiBreakdown").CLIENT}},_getFilterValues:function t(){switch(this.state.activeFilterType){default:case l:return["email"];case m:return["phone"];case j:return["android"];case k:return["ios_unknown","iphone","ipad"]}},_getFilteredData:function t(){var u={},v=this.state;r.forEach(function(z){if(v[z])u[z]=new(c("BonsaiApiDataAdapter"))(v[z].getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true)});if(this.state.activeFilterType===i)return u;var w=this._getBreakdownByFilterType(),x=this._getFilterValues(),y={};r.forEach(function(z){if(u[z])y[z]=u[z].filterBy(w,"=",x)});return y},_getFilterLabel:function t(u){switch(u){case l:return h._("Direcci\u00f3n de correo electr\u00f3nico");case m:return h._("N\u00famero de tel\u00e9fono");case k:return h._("iOS");case j:return h._("Android");default:case i:return h._("Todos los eventos")}},_getFilterSelector:function t(){var u=[c("React").createElement(c("GriffinSelectorOption"),{key:i,label:this._getFilterLabel(i),value:i},this._getFilterLabel(i))],v={},w=this.state;r.forEach(function(x){var y;if(w[x])(function(){var z=new(c("BonsaiApiDataAdapter"))(w[x].getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),A=z.getBreakdowns();Object.keys(A).forEach(function(x){var B={};A[x].forEach(function(C){if(v[x])v[x][C]=true;else B[C]=true});if(!v[x])v[x]=B})})()});if(v[c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE]){if(v[c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE].phone)u.push(c("React").createElement(c("GriffinSelectorOption"),{key:m,label:this._getFilterLabel(m),value:m},this._getFilterLabel(m)));if(v[c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE].email)u.push(c("React").createElement(c("GriffinSelectorOption"),{key:l,label:this._getFilterLabel(l),value:l},this._getFilterLabel(l)))}if(v[c("BonsaiApiBreakdown").CLIENT]){if(v[c("BonsaiApiBreakdown").CLIENT].android)u.push(c("React").createElement(c("GriffinSelectorOption"),{key:j,label:this._getFilterLabel(j),value:j},this._getFilterLabel(j)));if(v[c("BonsaiApiBreakdown").CLIENT].ios)u.push(c("React").createElement(c("GriffinSelectorOption"),{key:k,label:this._getFilterLabel(k),value:k},this._getFilterLabel(k)))}return u},_getNumEventsChart:function t(){var u=!this.state.impressionsData&&!this.state.startsData&&!this.state.attemptsData&&!this.state.completesData&&!this.state.impressionsError&&!this.state.startsError&&!this.state.attemptsError&&!this.state.completesError;if(u)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var v=this.state.impressionsError&&this.state.startsError&&this.state.completesError;if(v)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.completesError.getMessage()});var w=h._("Visualizaciones"),x=h._("Inicios de sesi\u00f3n"),y=h._("Intentos de inicio de sesi\u00f3n"),z=h._("Inicios de sesi\u00f3n correctos"),A=this._getFilteredData(),B=[];if(A.impressionsData)B.push({data:A.impressionsData,title:w,key:"total"});if(A.startsData)B.push({data:A.startsData,title:x,key:"rate"});if(A.attemptsData)B.push({data:A.attemptsData,title:y,key:"attempts"});if(A.completesData)B.push({data:A.completesData,title:z,key:"complete_rate"});this.setExportInfo(B,c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:B,currentCard:this.props.cardKey,activeBreakdown:c("BonsaiApiBreakdown").NONE,activeCustomSelectorOption:this.state.activeFilterType,onBreakdownChange:this._onFilterTypeChange,customSelectorOptions:this._getFilterSelector()})},_getConversionChart:function t(){var u,v=!this.state.startsData&&!this.state.startsError,w=!this.state.completesData&&!this.state.completesError,x=w||v;if(x)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var y=this.state.startsError&&this.state.startsWithCountryCodeError,z=this.state.completesError&&this.state.completesWithCountryCodeError;if(y&&z)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.completesError.getMessage()});var A=[],B=void 0,C=void 0;switch(this.state.activeBreakdown){case c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE:B=c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE;C=c("BonsaiApiBreakdown").AK_LOGIN_TYPE;break;case c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE:B=c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE;C=c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE;break;case c("BonsaiApiBreakdown").AK_CLIENT_SDK:B=c("BonsaiApiBreakdown").AK_CLIENT_SDK;C=c("BonsaiApiBreakdown").AK_SDK;break;default:B=c("BonsaiApiBreakdown").CLIENT;C=c("BonsaiApiBreakdown").CLIENT}var D=null,E=null;D=new(c("BonsaiApiDataAdapter"))(this.state.completesData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true);E=new(c("BonsaiApiDataAdapter"))(this.state.startsData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true);if(D!==null&&E!==null)(function(){var P=D.divideBy(E),Q=P.groupBy(B);Object.keys(Q).forEach(function(R){A.push({data:Q[R],title:c("BonsaiText").getBucketLabel(R,C),key:R})})})();var F=h._("Tipo de inicio de sesi\u00f3n");this.setExportInfo(A,B);var G=this._getBreakdowns("fb_ak_login_start"),H=this._getBreakdowns("fb_ak_login_complete"),I=[c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").CLIENT,label:c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT),value:c("BonsaiApiBreakdown").CLIENT},c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT)),c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE,label:F,value:c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE},F)],J=G.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE)!==-1,K=H.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE)!==-1;if(J&&K){var L=h._("Pa\u00eds");I.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE,label:L,value:c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE},L))}var M=G.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_SDK)!==-1,N=H.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_SDK)!==-1;if(M&&N){var O=h._("SDK");I.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_SDK,label:O,value:c("BonsaiApiBreakdown").AK_CLIENT_SDK},O))}return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:A,currentCard:this.props.cardKey,activeBreakdown:c("BonsaiApiBreakdown").NONE,activeCustomSelectorOption:B,onBreakdownChange:this._onBreakdownChange,customSelectorOptions:I,isPercent:true,maxValue:1})},_getKeyToLabel:function t(){var u=h._("Conversi\u00f3n"),v=h._("Actividad");return{conversion:u,eventCounts:v}},_getKeyToSection:function t(){return{conversion:this._getConversionChart(),eventCounts:this._getNumEventsChart()}},_getHelptextMap:function t(){return{conversion:"AKLoginDialogConversion",eventCounts:"AKLoginDialogEventCounts"}},_renderCandela:function t(){switch(this.state.activeSection){default:case"conversion":return this._getConversionChart();case"eventCounts":return this._getNumEventsChart()}},_onBreakdownChange:function t(u){this.setState({activeBreakdown:u})},_onFilterTypeChange:function t(u){this.setState({activeFilterType:u})},_getParamsToLog:function t(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function t(u,v){return this.state.activeSection!==v.activeSection}});f.exports=s}),null);
__d("FalcorAKLoginTrendCard",["fbt","AnalyticsQueryAggregationMethod","AnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiAppEventTypesUtils","BonsaiBreakdownChart","BonsaiText","FalcorBreakdownChartSwitcher","FalcorErrorNotice","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLoadingCard","FalcorLogCardViewMixin","GriffinSelectorOption","InsightsContext","InsightsUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorAKLoginTrendCard",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("activities"),{activeBreakdown:c("BonsaiApiBreakdown").CLIENT,loginsData:null,usersData:null,loginsError:null,usersError:null})},componentWillReceiveProps:function j(k){if(this._shouldFetchData(k,this.props)){this.setState(this.getInitialState());this._fetchData(k)}},_getBreakdowns:function j(){var k=[c("BonsaiApiBreakdown").CLIENT];if(c("InsightsContext").getShowAccountKitF82017Updates()){k.push(c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE);var l=[c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE,c("BonsaiApiBreakdown").AK_CLIENT_VERIFICATION_METHOD,c("BonsaiApiBreakdown").AK_CLIENT_SDK],m=c("BonsaiAppEventTypesUtils").getAppEventParameters(this._getEventName()),n=m.map(function(q){return q.parameter_name});for(var o=0;o<n.length;o++)for(var p=0;p<l.length;p++)if(n[o].indexOf(l[p])!==-1)k.push(n[o])}else k.push(c("BonsaiApiBreakdown").AK_LOGIN_TYPE);return k},_getEventName:function j(){return c("InsightsContext").getShowAccountKitF82017Updates()?"fb_ak_login_complete":"fb_ak_login_completed"},_getQueries:function j(k){var l=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.since).getTime()/1e3,m=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.until).getTime()/1e3,n=c("InsightsContext").getObjID(),o=this._getEventName(),p=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName(o).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setFilters(k.filters).setBreakdowns(this._getBreakdowns()).setSince(l).setUntil(m),q=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName(o).setAggregations([c("AnalyticsQueryAggregationMethod").DAU,c("AnalyticsQueryAggregationMethod").WAU,c("AnalyticsQueryAggregationMethod").MAU]).setFilters(k.filters).setSince(l).setUntil(m);return[{query:p,onQueryData:function(r){return this.setState({loginsData:r})}.bind(this),onQueryError:function(r){return this.setState({loginsError:r})}.bind(this)},{query:q,onQueryData:function(r){return this.setState({usersData:r})}.bind(this),onQueryError:function(r){return this.setState({usersError:r})}.bind(this)}]},_title:function j(){return h._("Actividad de inicio de sesi\u00f3n con Account Kit")},_getUsersChart:function j(){if(!this.state.usersData&&!this.state.usersError)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.usersError)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.usersError.getMessage()});var k=new(c("BonsaiApiDataAdapter"))(this.state.usersData.getResult([c("AnalyticsQueryAggregationMethod").DAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),l=new(c("BonsaiApiDataAdapter"))(this.state.usersData.getResult([c("AnalyticsQueryAggregationMethod").WAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),m=new(c("BonsaiApiDataAdapter"))(this.state.usersData.getResult([c("AnalyticsQueryAggregationMethod").MAU]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),n={data:k,title:c("BonsaiText").users_daily,key:"dau"},o={data:l,title:c("BonsaiText").users_weekly,key:"wau"},p={data:m,title:c("BonsaiText").users_monthly,key:"mau"};this.setExportInfo([n,o,p],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[n,o,p],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false})},_getLoginsChart:function j(){if(!this.state.loginsData&&!this.state.loginsError)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.loginsError)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.loginsError.getMessage()});var k=new(c("BonsaiApiDataAdapter"))(this.state.loginsData.getResult([c("AnalyticsQueryAggregationMethod").USERS]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),l=this.state.activeBreakdown===c("BonsaiApiBreakdown").NONE?c("BonsaiApiBreakdown").CLIENT:this.state.activeBreakdown,m=[],n=void 0;switch(l){case c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE:case c("BonsaiApiBreakdown").AK_LOGIN_TYPE:n=c("BonsaiApiBreakdown").AK_LOGIN_TYPE;break;case c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE:n=c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE;break;case c("BonsaiApiBreakdown").AK_CLIENT_SDK:n=c("BonsaiApiBreakdown").AK_SDK;break;case c("BonsaiApiBreakdown").AK_CLIENT_VERIFICATION_METHOD:n=c("BonsaiApiBreakdown").AK_VERIFICATION_METHOD;break;default:n=c("BonsaiApiBreakdown").CLIENT}var o=k.groupBy(l);Object.keys(o).forEach(function(y){m.push({data:o[y],title:c("BonsaiText").getBucketLabel(y,n),key:y})});this.setExportInfo(m,l);var p=h._("Tipo de inicio de sesi\u00f3n"),q=[c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").CLIENT,label:c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT),value:c("BonsaiApiBreakdown").CLIENT},c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT))];if(c("InsightsContext").getShowAccountKitF82017Updates())q.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE,label:p,value:c("BonsaiApiBreakdown").AK_CLIENT_LOGIN_TYPE},p));else q.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_LOGIN_TYPE,label:p,value:c("BonsaiApiBreakdown").AK_LOGIN_TYPE},p));var r=this._getBreakdowns(),s=r.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE)!==-1;if(s){var t=h._("Pa\u00eds");q.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE,label:t,value:c("BonsaiApiBreakdown").AK_CLIENT_COUNTRY_CODE},t))}var u=r.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_VERIFICATION_METHOD)!==-1;if(u){var v=h._("M\u00e9todo de verificaci\u00f3n");q.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_VERIFICATION_METHOD,label:v,value:c("BonsaiApiBreakdown").AK_CLIENT_VERIFICATION_METHOD},v))}var w=r.indexOf(c("BonsaiApiBreakdown").AK_CLIENT_SDK)!==-1;if(w){var x=h._("SDK");q.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_CLIENT_SDK,label:x,value:c("BonsaiApiBreakdown").AK_CLIENT_SDK},x))}return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:m,activeBreakdown:c("BonsaiApiBreakdown").NONE,activeCustomSelectorOption:l,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,customSelectorOptions:q})},_getKeyToLabel:function j(){var k=h._("Nuevos inicios de sesi\u00f3n"),l=h._("Usuarios activos");return{activities:k,users:l}},_getKeyToSection:function j(){return{activities:this._getLoginsChart(),users:this._getUsersChart()}},_getHelptextMap:function j(){return{activities:"AKLoginTrendActivities",users:"AKLoginTrendUsers"}},_renderCandela:function j(){switch(this.state.activeSection){default:case"activities":return this._getLoginsChart();case"users":return this._getUsersChart()}},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorAKNotificationsCard",["fbt","AnalyticsQueryAggregationMethod","AnalyticsQueryDataFetcherMixin","AnalyticsQueryBuilder","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiBreakdownChart","BonsaiText","FalcorErrorNotice","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLoadingCard","FalcorLogCardViewMixin","GriffinSelectorOption","InsightsContext","InsightsUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorAKNotificationsCard",mixins:[c("AnalyticsQueryDataFetcherMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("notifications"),{activeBreakdown:c("BonsaiApiBreakdown").CLIENT,notificationsData:null,notificationsError:null,notificationsWithCountryCodeData:null,notificationsWithCountryCodeError:null})},componentWillReceiveProps:function j(k){if(this._shouldFetchData(k,this.props)){this.setState(this.getInitialState());this._fetchData(k)}},_getQueries:function j(k){var l=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.since).getTime()/1e3,m=c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.until).getTime()/1e3,n=c("InsightsContext").getObjID(),o=[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AK_NOTIFICATION_TYPE],p=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName("fb_ak_notification_sent").setAggregations([c("AnalyticsQueryAggregationMethod").COUNT]).setBreakdowns(o).setFilters(k.filters).setSince(l).setUntil(m),q=[{query:p,onQueryData:function(t){return this.setState({notificationsData:t})}.bind(this),onQueryError:function(t){return this.setState({notificationsError:t})}.bind(this)}];if(c("InsightsContext").getShowAccountKitF82017Updates()){var r=[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AK_NOTIFICATION_TYPE,c("BonsaiApiBreakdown").AK_COUNTRY_CODE],s=new(c("AnalyticsQueryBuilder"))().setAnalyticsEntityID(n).setEventName("fb_ak_notification_sent").setAggregations([c("AnalyticsQueryAggregationMethod").COUNT]).setBreakdowns(r).setFilters(k.filters).setSince(l).setUntil(m);q.push({query:s,onQueryData:function(t){return this.setState({notificationsWithCountryCodeData:t})}.bind(this),onQueryError:function(t){return this.setState({notificationsWithCountryCodeError:t})}.bind(this)})}return q},_title:function j(){return h._("Notificaciones de Account Kit")},_getNotificationsChart:function j(){if(!this.state.notificationsData&&!this.state.notificationsError||c("InsightsContext").getShowAccountKitF82017Updates()&&!this.state.notificationsWithCountryCodeData&&!this.state.notificationsWithCountryCodeError)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});if(this.state.notificationsError)return c("React").createElement(c("FalcorErrorNotice"),{message:this.state.notificationsError.getMessage()});var k=this.state.notificationsWithCountryCodeData===null?new(c("BonsaiApiDataAdapter"))(this.state.notificationsData.getResult([c("AnalyticsQueryAggregationMethod").COUNT]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true):new(c("BonsaiApiDataAdapter"))(this.state.notificationsWithCountryCodeData.getResult([c("AnalyticsQueryAggregationMethod").COUNT]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true),l={data:k},m=this.state.activeBreakdown===c("BonsaiApiBreakdown").NONE?c("BonsaiApiBreakdown").CLIENT:this.state.activeBreakdown;this.setExportInfo([l],m);var n=h._("Tipo de notificaci\u00f3n"),o=[c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").CLIENT,label:c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT),value:c("BonsaiApiBreakdown").CLIENT},c("BonsaiText").getBreakdownName(c("BonsaiApiBreakdown").CLIENT)),c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_NOTIFICATION_TYPE,label:n,value:c("BonsaiApiBreakdown").AK_NOTIFICATION_TYPE},n)];if(this.state.notificationsWithCountryCodeData!==null){var p=h._("Pa\u00eds");o.push(c("React").createElement(c("GriffinSelectorOption"),{key:c("BonsaiApiBreakdown").AK_COUNTRY_CODE,label:p,value:c("BonsaiApiBreakdown").AK_COUNTRY_CODE},p))}return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:m,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,customSelectorOptions:o})},_getKeyToLabel:function j(){var k=h._("Confirmaciones enviadas");return{notifications:k}},_getKeyToSection:function j(){return{notifications:this._getNotificationsChart()}},_getHelptextMap:function j(){return{notifications:"AKNotifications"}},_renderCandela:function j(){switch(this.state.activeSection){default:case"notifications":return this._getNotificationsChart()}},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorAKSectionController",["FalcorAKDemoCard","FalcorAKLoginTrendCard","FalcorAKLoginDialogCard","FalcorAKNotificationsCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","InsightsContext","OverviewAccountKitBar","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").createClass({displayName:"FalcorAKSectionController",statics:{getKey:function i(){return c("GriffinSections").ACCOUNT_KIT}},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=void 0;if(!c("InsightsContext").getHasAccountKit())return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"AccountKit"}));else{var o=this.props.appliedSegment?{event_rules:this.props.appliedSegment.event_rules,event_info_rules:this.props.appliedSegment.event_info_rules,user_property_rules:this.props.appliedSegment.user_property_rules,percentile_rules:this.props.appliedSegment.percentile_rules}:null;n=[c("React").createElement(c("OverviewAccountKitBar"),{fullDateRange:l,key:"ak_overview",visibleDateRange:m}),c("React").createElement(c("FalcorAKLoginTrendCard"),{cardKey:"ak_logins_card",filters:o,key:"ak_logins",visibleDateRange:m}),c("React").createElement(c("FalcorAKLoginDialogCard"),{cardKey:"ak_login_dialog_card",filters:o,key:"ak_login_dialog",visibleDateRange:m}),c("React").createElement(c("FalcorAKNotificationsCard"),{cardKey:"ak_notifications_card",filters:o,key:"ak_notifications",visibleDateRange:m}),c("React").createElement(c("FalcorAKDemoCard"),{cardKey:"ak_demo_card",filters:o,key:"ak_demo",visibleDateRange:m})]}return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:true,visibleDateRange:m},n)}});f.exports=h}),null);
__d("OverviewAccountKitBar",["fbt","BonsaiSectionDateRangeMixin","BonsaiText","BonsaiOverviewBarMixin","GriffinSections","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewAccountKitBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").ACCOUNT_KIT},getTitle:function j(){return h._("Account Kit")},getMetrics:function j(){return[{event_name:"fb_ak_login_completed",aggregateBy:"COUNT"},{event_name:"fb_ak_login_completed",aggregateBy:"DAU"},{event_name:"fb_ak_login_completed",aggregateBy:"MAU"}]},getLatest:function j(){return[false,true,true]},getDataAdapters:function j(){return[this.getData(["COUNT","fb_ak_login_completed"]),this.getData(["DAU","fb_ak_login_completed"]),this.getData(["MAU","fb_ak_login_completed"])]},getChartLocations:function j(){return[{card:"ak_logins_card",tab:"activities"},{card:"ak_logins_card",tab:"users"},{card:"ak_logins_card",tab:"users"}]},getLabels:function j(){return[h._("Nuevos inicios de sesi\u00f3n con Account Kit"),c("BonsaiText").users_daily,c("BonsaiText").users_monthly]}});f.exports=i}),null);
__d("FalcorBreakdownsSectionController",["AnalyticsAdHocBreakdownController","GriffinSections","BreakdownTableStore","FalcorAnalyticsFeatureSectionController","FalcorCommonViews","InsightsBreakdownTableListCardController","InsightsContext","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={LIST:"breakdownList",EDIT:"breakdownEdit",DATA:"breakdownData"};h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={additionalHeaderProps:null},this.$FalcorBreakdownsSectionController1=function(q,r,s,t,u,v,w,x){switch(q){case c("FalcorCommonViews").LIST:return c("React").createElement(c("InsightsBreakdownTableListCardController"),{appID:c("InsightsContext").getObjID(),cardKey:j.LIST,breakdownTableList:r,key:j.LIST});case c("FalcorCommonViews").DETAILS:case c("FalcorCommonViews").CREATE:if(this.props.event_name!==null&&this.props.breakdown!==null){t.event_name=this.props.eventName;t.breakdowns=[this.props.breakdown]}return c("React").createElement(c("AnalyticsAdHocBreakdownController"),{appID:c("InsightsContext").getObjID(),cardKey:j.EDIT,endTime:v,breakdownTableID:s,breakdownTable:t,key:j.EDIT+s,popDateRange:x?x:undefined,segmentID:w?w:undefined,startTime:u,updateHeaderProps:this.$FalcorBreakdownsSectionController2})}return null}.bind(this),this.$FalcorBreakdownsSectionController2=function(q){this.setState({additionalHeaderProps:q})}.bind(this),m}k.getKey=function(){return c("GriffinSections").BREAKDOWN_TABLE};k.prototype.componentWillReceiveProps=function(l){if(this.props.view!==l.view)this.setState({additionalHeaderProps:null})};k.prototype.render=function(){return c("React").createElement(c("FalcorAnalyticsFeatureSectionController"),babelHelpers["extends"]({},this.props,{additionalHeaderProps:this.state.additionalHeaderProps,entityStore:c("BreakdownTableStore"),onRenderView:this.$FalcorBreakdownsSectionController1,section:c("GriffinSections").BREAKDOWN_TABLE}))};k.propTypes=babelHelpers["extends"]({},c("FalcorAnalyticsFeatureSectionController").containerPropTypes);f.exports=k}),null);
__d("GriffinBreakdownTableAggregationColumnsDropdownMenu",["cx","fbt","invariant","ContextualDialogArrow","InputLabel.react","InsightsBreakdownTableAggregationColumns","LayerHideOnBlur","LayerHideOnEscape","React","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=[{name:c("InsightsBreakdownTableAggregationColumns").COUNT,label:i._("Total"),value:"isCountChecked"},{name:c("InsightsBreakdownTableAggregationColumns").COUNT_PERCENT,label:i._("Porcentaje del total"),value:"isCountPercentChecked"},{name:c("InsightsBreakdownTableAggregationColumns").VALUE,label:i._("Valor"),value:"isValueChecked"},{name:c("InsightsBreakdownTableAggregationColumns").VALUE_PERCENT,label:i._("Porcentaje del valor"),value:"isValuePercentChecked"},{name:c("InsightsBreakdownTableAggregationColumns").VALUE_PER_EVENT,label:i._("Valor o evento"),value:"isValuePerEventChecked"},{name:c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS,label:i._("Usuarios \u00fanicos"),value:"isUniqueUsersChecked"},{name:c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS_PERCENT,label:i._("Usuarios \u00fanicos (\u0025)"),value:"isUniqueUsersPercentChecked"}],n={ContextualDialogArrow:c("ContextualDialogArrow"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$GriffinBreakdownTableAggregationColumnsDropdownMenu3=function(event){var r={},s=event.target.value;if(s&&this.state[s]!==undefined){r[s]=!this.state[s];this.setState(r,this.$GriffinBreakdownTableAggregationColumnsDropdownMenu4)}}.bind(this);var q=p.defaultChecked;this.state={isCountChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").COUNT),isCountPercentChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").COUNT_PERCENT),isValueChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").VALUE),isValuePercentChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").VALUE_PERCENT),isValuePerEventChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").VALUE_PER_EVENT),isUniqueUsersChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS),isUniqueUsersPercentChecked:q.includes(c("InsightsBreakdownTableAggregationColumns").UNIQUE_USERS_PERCENT)}}o.prototype.$GriffinBreakdownTableAggregationColumnsDropdownMenu1=function(){return m.map(function(p){return this.$GriffinBreakdownTableAggregationColumnsDropdownMenu2(p)}.bind(this))};o.prototype.$GriffinBreakdownTableAggregationColumnsDropdownMenu2=function(p){var q=p.name,r=p.label,s=p.value;return c("React").createElement(c("InputLabel.react"),{className:"_79z",key:q,label:r},c("React").createElement(c("XUICheckboxInput.react"),{name:q,value:s,onChange:this.$GriffinBreakdownTableAggregationColumnsDropdownMenu3,checked:this.state[s]}))};o.prototype.render=function(){return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:n,contextRef:this.props.contextRef,offsetY:8,position:"below",shown:this.props.shown,onToggle:this.props.onToggle,width:165},c("React").createElement("div",{className:"_2pi1"},c("React").createElement(c("XUIContextualDialogTitle.react"),null,c("React").createElement("span",{className:"_79-"},i._("COLUMNAS"))),c("React").createElement(c("XUIContextualDialogBody.react"),null,this.$GriffinBreakdownTableAggregationColumnsDropdownMenu1())))};o.prototype.$GriffinBreakdownTableAggregationColumnsDropdownMenu4=function(){var p=m.filter(function(q){return this.state[q.value]}.bind(this)).map(function(q){return q.name});this.props.onAggregationsChange(p)};f.exports=o}),null);
__d("GriffinBreakdownSettingsButton",["ix","cx","fbt","AnalyticsNavigationUtils","FalcorCommonViews","GriffinBreakdownTableAggregationColumnsDropdownMenu","GriffinButton","GriffinSections","Image.react","InsightsEventLogger","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.state={showDialog:false}}m.prototype.render=function(){var n=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").BREAKDOWN_TABLE,this.props.breakdownTableID,c("FalcorCommonViews").EDIT),o=c("React").createElement(c("Image.react"),{alt:"setting",ref:"button",src:h("142252"),tabIndex:0}),p=!this.props.showSettingButton?null:c("React").createElement(c("GriffinButton"),{className:"_3-90",onClick:function(){return this.setState({showDialog:!this.state.showDialog})}.bind(this),icon:o,width:32,tooltip:j._("Elige los datos que quieres consultar.")}),q=!this.props.showEditButton?null:c("React").createElement(c("GriffinButton"),{className:"_3-90",label:j._("Editar"),onClick:function r(){return n.go()}});return c("React").createElement("div",null,p,q,c("React").createElement(c("GriffinBreakdownTableAggregationColumnsDropdownMenu"),babelHelpers["extends"]({},this.props,{contextRef:function(){return this.refs.button}.bind(this),shown:this.state.showDialog,onToggle:function(r){this.setState({showDialog:r});r&&c("InsightsEventLogger").logEvent({eventName:"breakdowns_aggregation_selector_open",feature_id:this.props.breakdownTableID})}.bind(this)})))};f.exports=m}),null);
__d("InsightsBreakdownTableListCardController",["fbt","GriffinSections","FalcorFeatureTableCard","GriffinCardKey","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView(c("GriffinCardKey").BREAKDOWN_TABLE.LIST_CARD,{})};l.prototype.render=function(){var m=h._("Desgloses");return c("React").createElement(c("FalcorFeatureTableCard"),{title:m,data:this.props.breakdownTableList,section:c("GriffinSections").BREAKDOWN_TABLE,showEditButton:false,helpKey:"BreakdownsListView"})};function l(){i.apply(this,arguments)}l.propTypes={breakdownTableList:k.array};f.exports=l}),null);
__d("FalcorCohortsSectionController",["GriffinSections","CohortStore","FalcorAnalyticsFeatureSectionController","FalcorCommonViews","InsightsCohortsListCardController","InsightsCohortsDataCardController","InsightsContext","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={additionalHeaderProps:null},this.$FalcorCohortsSectionController1=function(p,q,r,s,t,u,v){switch(p){case c("FalcorCommonViews").LIST:return c("React").createElement(c("InsightsCohortsListCardController"),{key:"cohorts_list",cardKey:"cohorts_list",cohortList:q,appID:c("InsightsContext").getObjID()});case c("FalcorCommonViews").CREATE:case c("FalcorCommonViews").EDIT:case c("FalcorCommonViews").DETAILS:if(!t||!u)return null;var w=r?r:"cohorts_analysis";return c("React").createElement(c("InsightsCohortsDataCardController"),{analyticsEntityID:this.props.analyticsEntityID,appliedSegment:this.props.appliedSegment,key:w,cardKey:"cohorts_analysis",cohortsID:r,cohort:s,startTime:t,endTime:u,updateHeaderProps:this.$FalcorCohortsSectionController2,segmentID:v?v:undefined});default:return null}}.bind(this),this.$FalcorCohortsSectionController2=function(p){this.setState({additionalHeaderProps:p})}.bind(this),l}j.getKey=function(){return c("GriffinSections").COHORTS};j.prototype.componentWillReceiveProps=function(k){if(this.props.view!==k.view)this.setState({additionalHeaderProps:null})};j.prototype.render=function(){return c("React").createElement(c("FalcorAnalyticsFeatureSectionController"),babelHelpers["extends"]({},this.props,{onRenderView:this.$FalcorCohortsSectionController1,section:c("GriffinSections").COHORTS,entityStore:c("CohortStore"),additionalHeaderProps:this.state.additionalHeaderProps}))};j.propTypes=babelHelpers["extends"]({},c("FalcorAnalyticsFeatureSectionController").containerPropTypes);f.exports=j}),null);
__d("InsightsCohortsDataCardController",["fbt","AnalyticsCohortsQuery","InternalAnalyticsCohortsQueryBuilder","AnalyticsQueryApi","AppEventQueryError","BonsaiApiBreakdown","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","CustomEventStore","GriffinCohortsView","GriffinSections","InsightsCohortsData","InsightsCohortsUtils","InsightsEventLogger","React","SearchableEntry"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={allowedChartTypes:Object.keys(c("AnalyticsCohortChartType")),allowedCollationIntervals:Object.keys(c("AnalyticsCohortCollationInterval")),breakdown:c("BonsaiApiBreakdown").NONE,breakdownData:null,chartType:c("AnalyticsCohortChartType").USER_RETENTION,cohortsData:null,isEmptyData:false,query:null,selectedCollationInterval:c("AnalyticsCohortCollationInterval").WEEKLY,error:null},this.$InsightsCohortsDataCardController4=function(q){var r=q.getUniqueID();this.setState({breakdown:r});this.$InsightsCohortsDataCardController1(this.props,this.state.selectedCollationInterval,r);c("InsightsEventLogger").logEvent({eventName:"cohorts_breakdown_select",feature_id:this.props.cohortsID,breakdown:r})}.bind(this),this.$InsightsCohortsDataCardController6=function(q){this.setState({selectedCollationInterval:q});this.$InsightsCohortsDataCardController1(this.props,q,this.state.breakdown);c("InsightsEventLogger").logEvent({eventName:"cohorts_collation_interval_select",feature_id:this.props.cohortsID,collation_interval:q})}.bind(this),this.$InsightsCohortsDataCardController5=function(q){this.setState({chartType:q});c("InsightsEventLogger").logEvent({eventName:"cohorts_chart_type_change",feature_id:this.props.cohortsID,chart_type:q})}.bind(this),m}k.prototype.componentWillMount=function(){this.$InsightsCohortsDataCardController1(this.props,this.state.selectedCollationInterval,this.state.breakdown)};k.prototype.componentWillReceiveProps=function(l){var m=this.props,n=m.appliedSegment,o=m.cohort,p=m.cohortsID,q=m.startTime,r=m.endTime,s=l.cohort,t=n!==l.appliedSegment,u=p!==l.cohortsID||q!==l.startTime||r!==l.endTime||o.first_event.event_rule!==s.first_event.event_rule||o.followup_event.event_rule!==s.followup_event.event_rule||t,v=this.state,w=v.breakdown,x=v.selectedCollationInterval;if(u)this.$InsightsCohortsDataCardController1(l,x,w)};k.prototype.render=function(){return c("React").createElement(c("GriffinCohortsView"),{allowedChartTypes:this.state.allowedChartTypes,allowedCollationIntervals:this.state.allowedCollationIntervals,breakdown:this.state.breakdown,breakdownData:this.state.breakdownData,chartType:this.$InsightsCohortsDataCardController2(),cohortData:this.state.cohortsData,cohortName:this.props.cohort.name,cohortsID:this.props.cohortsID,collationInterval:this.state.selectedCollationInterval,error:this.state.error,firstEvent:this.props.cohort.first_event,followupEvent:this.props.cohort.followup_event,isEmptyData:this.state.isEmptyData,isLoading:this.$InsightsCohortsDataCardController3(this.props),onBreakdownChange:this.$InsightsCohortsDataCardController4,onChartTypeChange:this.$InsightsCohortsDataCardController5,onCollationIntervalChange:this.$InsightsCohortsDataCardController6,section:c("GriffinSections").COHORTS,title:this.$InsightsCohortsDataCardController7()})};k.prototype.$InsightsCohortsDataCardController7=function(){var l=this.props.cohort;if(!l.isValid()||this.$InsightsCohortsDataCardController3(this.props))return h._("Tu grupo");var m=c("CustomEventStore").getAppEventDisplayName(l.first_event.event_rule.event_name),n=c("CustomEventStore").getAppEventDisplayName(l.followup_event.event_rule.event_name),o=this.$InsightsCohortsDataCardController2();return h._("{selected chart type name}: {Initial event name} a {Followup event name}",[h.param("selected chart type name",c("InsightsCohortsUtils").getDisplayStringForChartType(o)),h.param("Initial event name",m),h.param("Followup event name",n)])};k.prototype.$InsightsCohortsDataCardController3=function(l){var m=l.cohort,n=l.cohortsID;return n&&(!m||!m.first_event.event_rule)};k.prototype.$InsightsCohortsDataCardController8=function(l){var m=c("InsightsCohortsUtils").processCohortQueryResult(l),n=m.breakdownData,o=m.cohortsData,p=m.allowedChartTypes,q=m.allowedCollationIntervals,r=m.collationInterval,s=this.$InsightsCohortsDataCardController2();if(p.indexOf(s)===-1)s=p[0];this.setState({allowedChartTypes:p,allowedCollationIntervals:q,breakdownData:n,cohortsData:o,chartType:s,error:null,isEmptyData:(!o||o.isEmpty())&&!n,selectedCollationInterval:r})};k.prototype.$InsightsCohortsDataCardController1=function(l,m,n){var o=l.analyticsEntityID,p=l.appliedSegment,q=l.cohortsID,r=l.cohort,s=l.startTime,t=l.endTime;if(!r.isValid()||this.$InsightsCohortsDataCardController3(l))return;if(this.state.query)this.state.query.cancelQuery();var u=p?{event_rules:p.event_rules,event_info_rules:p.event_info_rules,user_property_rules:p.user_property_rules,percentile_rules:p.percentile_rules,web_param_rules:p.web_param_rules}:null,v=new(c("InternalAnalyticsCohortsQueryBuilder"))().setAnalyticsEntityID(o).setFirstEvent(r.first_event).setFollowupEvent(r.followup_event).setSince(s).setUntil(t).setCollationInterval(m).setBreakdown(n).setFilters(u).setOnSuccess(function(w){return this.$InsightsCohortsDataCardController8(w)}.bind(this)).setOnError(function(w){return this.setState({error:w})}.bind(this)).setTag("cohort_"+l.cohort.name).getQuery();c("AnalyticsQueryApi").queryCohortsData([v]);this.setState({breakdownData:null,cohortsData:null,query:v,isEmptyData:false,error:null});c("InsightsEventLogger").logCardViewWithDateRange("cohort_data",{since:new Date(s*1e3),until:new Date(t*1e3)},{feature_id:q,chart_type:this.$InsightsCohortsDataCardController2().toLowerCase(),collation_interval:m.toLowerCase()})};k.prototype.$InsightsCohortsDataCardController2=function(){if(this.state.chartType)return this.state.chartType;return c("AnalyticsCohortChartType").USER_RETENTION};f.exports=k}),null);
__d("InsightsCohortsListCardController",["fbt","GriffinSections","FalcorFeatureTableCard","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView("cohorts_list",{})};l.prototype.render=function(){var m=h._("Grupos");return c("React").createElement(c("FalcorFeatureTableCard"),{data:this.props.cohortList,section:c("GriffinSections").COHORTS,showEditButton:false,title:m,helpKey:"CohortsListView"})};function l(){i.apply(this,arguments)}l.propTypes={cohortList:k.array};f.exports=l}),null);
__d("InsightsCohortsDataShape",["AnalyticsCohortCollationInterval","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({arithmeticAverages:h.array.isRequired,weightedAverages:h.array.isRequired,colLabels:h.arrayOf(h.number).isRequired,collationInterval:h.oneOf(Object.keys(c("AnalyticsCohortCollationInterval"))),isUSDValues:h.bool.isRequired,mean:h.number.isRequired,range:h.shape({min:h.number.isRequired,max:h.number.isRequired}).isRequired,retentionTable:h.array.isRequired,rowLabels:h.arrayOf(h.string).isRequired,samplingRate:h.number.isRequired,standardDeviation:h.number.isRequired});f.exports=i}),null);
__d("InsightsCohortsTableView",["cssVar","cx","fbt","invariant","AppEventMetricText","AnalyticsCohortChartType","CustomEventStore","AnalyticsCohortCollationInterval","AnalyticsPredefinedBreakdownValues","FalcorDataTooltip","FalcorDataTooltipMixin","InsightsCohortsDataShape","InsightsCohortsUtils","InsightsNumUtils","Link.react","React","SUIBusinessTheme","SUIHelpMessage.react","Tooltip"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l=c("React").PropTypes,m="#FFFFFF",n="#12293F",o=["#EFF5FA","#DFEBF6","#D0E2F1","#B0CEE8","#81B0DA","#619DD1","#3A84C5","#3274AE","#295F8E","#204A6F","#17344F"],p="#FFFFFF",q="#666E7C",r=2,s=2,t={backgroundColor:"#f6f7f9",color:q},u=c("React").createClass({displayName:"InsightsCohortsTableView",mixins:[c("FalcorDataTooltipMixin")],propTypes:{chartType:l.string.isRequired,cohortData:c("InsightsCohortsDataShape").isRequired,collationInterval:l.string.isRequired,displayCohorts:l.arrayOf(l.number).isRequired,onRowSelect:l.func,onRowDeselect:l.func,section:l.string.isRequired,firstEvent:l.object.isRequired,followupEvent:l.object.isRequired},render:function v(){return c("React").createElement("div",{className:"_2je1"},c("React").createElement("div",{className:"_2je4"},this._generateTable()))},_getTopLeftCell:function v(){return c("React").createElement("th",{key:"header",className:"_2je5"},j._({"DAILY":{"retention":"Retenci\u00f3n diaria","Cohorts":"Grupos diarios","lifetime_value":"Valor total diario"},"WEEKLY":{"retention":"Retenci\u00f3n semanal","Cohorts":"Grupos semanales","lifetime_value":"Valor total semanal"},"MONTHLY":{"retention":"Retenci\u00f3n mensual","Cohorts":"Grupos mensuales","lifetime_value":"Valor total mensual"}},[j["enum"](this.props.collationInterval,{DAILY:"Daily",WEEKLY:"Weekly",MONTHLY:"Monthly"}),j["enum"](this.props.section,{retention:"Retention",Cohorts:"Cohorts",lifetime_value:"Lifetime Value"})]))},_getArithmeticAverageRowHeader:function v(){return c("React").createElement("span",null,this.props.cohortData.rowLabels[1],c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:j._("Media de todos los valores en la misma columna de la tabla")}))},_getFirstCellOfRow:function v(w){var x=this.props.cohortData.retentionTable[w][0],y=this.props.cohortData.rowLabels[w+s];return this._generateRowHeader(y,w+s,x)},_getDateField:function v(w){return this.props.cohortData.rowLabels[w+s]},_generateTableHeaderRow:function v(){var w=this.props.cohortData.colLabels,x=w.map(function(y,z){return c("React").createElement("th",{key:z},c("React").createElement("div",{className:"_2je7"},y))});return c("React").createElement("tr",{key:"_headerRow"},this._getTopLeftCell(),x)},_generateArithmeticAverageRow:function v(){var w=this.props.cohortData.arithmeticAverages;return c("React").createElement("tr",{key:"_arithmeticAveragesRow"},this._generateRowHeader(c("React").createElement("span",null,this.props.cohortData.rowLabels[1],c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:this._getArithmeticAverageRowTooltip()})),1,w[0]),this._getStatCells(w))},_generateWeightedAverageRow:function v(){var w=this.props.cohortData.weightedAverages;return c("React").createElement("tr",{key:"_weightedAveragesRow"},this._generateRowHeader(c("React").createElement("span",null,this.props.cohortData.rowLabels[0],c("React").createElement(c("SUIHelpMessage.react"),{theme:c("SUIBusinessTheme"),value:this._getWeightedAverageRowTooltip()})),0,w[0]),this._getStatCells(w))},_getArithmeticAverageRowTooltip:function v(){switch(this.props.collationInterval){case c("AnalyticsCohortCollationInterval").DAILY:return j._("La suma de todos los valores en un solo d\u00eda dividida por el n\u00famero de grupos.");case c("AnalyticsCohortCollationInterval").WEEKLY:return j._("La suma de valores en una sola semana dividida por el n\u00famero de grupos.");case c("AnalyticsCohortCollationInterval").MONTHLY:return j._("La suma de valores en un solo mes dividida por el n\u00famero de grupos.");default:return""}},_getWeightedAverageRowTooltip:function v(){switch(this.props.collationInterval){case c("AnalyticsCohortCollationInterval").DAILY:return j._("La media de todos los valores en un solo d\u00eda ponderada mediante el n\u00famero de personas de cada grupo.");case c("AnalyticsCohortCollationInterval").WEEKLY:return j._("La media de todos los valores en una sola semana ponderada mediante el n\u00famero de personas de cada grupo.");case c("AnalyticsCohortCollationInterval").MONTHLY:return j._("La media de todos los valores en un solo mes ponderada mediante el n\u00famero de personas de cada grupo.");default:return""}},_getStatCells:function v(w){return w.map(function(x,y){return c("React").createElement("td",{key:y,style:x.value===null?t:null},c("React").createElement("div",{className:"_2je8"},this._generateCellText(x)))}.bind(this))},_generateTable:function v(){var w,x=this,y=this.props.cohortData.retentionTable,z=[],A=this.props.cohortData.range.min,B=this.props.cohortData.range.max,C=this.props.cohortData.mean,D=this.props.cohortData.standardDeviation,E=this._getEventLabel(),F=E[0],G=E[1],H=Math.max(A,C-3*D),I=Math.min(B,C+3*D);H=parseFloat(H.toFixed(2));I=parseFloat(I.toFixed(2));var J=-1;z.push(this._generateWeightedAverageRow());z.push(this._generateArithmeticAverageRow());var K=function K(L){var M,N=[x._getFirstCellOfRow(L)],O=x._getDateField(L),P=y[L],Q=function Q(R){var S=P[R],T=x._getCellColor(S,H,I),U={backgroundColor:T.backgroundColor,color:T.color,textAlign:"center"},V=L+" "+R,W=function(){return this._getTooltip(S,F,G,O)}.bind(x);N.push(c("React").createElement("td",{key:V,onMouseEnter:function(){this.onShowTooltip(V,W,null,"right",8,-18)}.bind(x),onMouseLeave:x.onHideTooltip,ref:V,style:U,tabIndex:0},x._generateCellText(S)))};for(var R=0;R<P.length;++R)Q(R);if(J<P.length)J=P.length;z.push(c("React").createElement("tr",{key:L},N))};for(var L=0;L<y.length;++L)K(L);return c("React").createElement("table",{className:"_2je3"},c("React").createElement("thead",null,this._generateTableHeaderRow()),c("React").createElement("tbody",null,z))},_getCellColor:function v(w,x,y){if(w.value===null)return t;var z=Number(w.value);if(z<x)return{backgroundColor:m,color:q};else if(z>y)return{backgroundColor:n,color:p};if(x>=y)x=0;var A=(y-x)/o.length,B=0;if(A!==0)B=Math.round((z-x)/A);return{backgroundColor:B>=o.length?o[o.length-1]:o[B],color:B>=(o.length-1)/2?p:q}},_generateRowHeader:function v(w,x,y){var z=this.props,A=z.onRowSelect,B=z.onRowDeselect,C=null;if(A&&B){var D=this.props.displayCohorts.indexOf(x)!=-1,E=null,F=null;if(D){E="_2je9";F=function F(){return A(x)}}else{E="_2jea";F=function F(){return B(x)}}var G=c("InsightsCohortsUtils").getMaxSelectableRows(),H=!D&&this.props.displayCohorts.length>=G,I=H?c("InsightsCohortsUtils").getTooltipForDisabledRowSelect():null;C=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(I),{className:E,onClick:F}),w)}else C=c("React").createElement("span",{className:"_2jea"},w);return c("React").createElement("td",{key:x},c("React").createElement("div",{className:"_2je6"},C,c("React").createElement("div",{className:"_2jeb"},this._getRowHeaderSubtitle(y))))},_getTooltip:function v(w,x,y,z){var A=w.intervalsAfter,B=j._("{Interval number after first event (ex 7, 18)} {Collation Interval unit, (ex day, weeks)} despu\u00e9s",[j.param("Interval number after first event (ex 7, 18)",A),j.param("Collation Interval unit, (ex day, weeks)",c("InsightsCohortsUtils").getCollationIntervalPluralText(this.props.collationInterval,A))]),C=this.props.cohortData.samplingRate,D=C<=.99?j._("Seg\u00fan una frecuencia de muestreo del {sampling rate with \u0025}.",[j.param("sampling rate with %",c("InsightsNumUtils").prettyPercent(C,1))]):null,E=w.value,F=void 0,G=void 0,H=void 0;if(E===null)F=c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED;else{E=Number(E);var I=Number(w.followupEventCount),J=Number(w.firstEventCount),K=Number(w.uniqueUsers);H=j._("Grupo: personas que {completed first event} durante {a date range, eg. Jul 14-16}",[j.param("completed first event",x),j.param("a date range, eg. Jul 14-16",z)]);switch(this.props.chartType){case c("AnalyticsCohortChartType").USER_RETENTION:F=j._("{Percentage of Users} de personas ({Number of Users in follow up event} de {Number of Users in first event}) {completed followup event} {date interval}",[j.param("Percentage of Users",c("InsightsNumUtils").prettyPercent(E/100,r)),j.param("Number of Users in follow up event",c("InsightsNumUtils").prettyInt(I)),j.param("Number of Users in first event",c("InsightsNumUtils").prettyShortInt(J)),j.param("completed followup event",y),j.param("date interval",B)]);break;case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:G=E*K;F=j._("This cohort {completed followup event} {Number of events per user} times per person ({Total number of events} in total) {date interval}",[j.param("completed followup event",y),j.param("Number of events per user",E.toFixed(r)),j.param("Total number of events",c("InsightsNumUtils").prettyShortInt(G)),j.param("date interval",B)]);break;case c("AnalyticsCohortChartType").LIFETIME_VALUE:G=E*K;F=j._("This cohort {completed followup event} {Value of event per user} per person ({total value} in total) {date interval}",[j.param("completed followup event",y),j.param("Value of event per user",this.props.cohortData.isUSDValues?this._formatCurrencyValue(E):E.toFixed(r)),j.param("total value",this.props.cohortData.isUSDValues?this._formatCurrencyValue(G):E.toFixed(r)),j.param("date interval",B)]);break;case c("AnalyticsCohortChartType").VALUE_RETENTION:F=j._("This cohort {completed follow up event} {Retained value} ({Percentage of values} retention value) {date interval}",[j.param("completed follow up event",y),j.param("Retained value",this.props.cohortData.isUSDValues?this._formatCurrencyValue(I):I.toFixed(r)),j.param("Percentage of values",c("InsightsNumUtils").prettyPercent(E/100,r)),j.param("date interval",B)]);break;default:k(0)}}return c("FalcorDataTooltip").getCohortTableTooltip(F,H,D)},_getEventLabel:function v(){var w=this.props,x=w.firstEvent,y=w.followupEvent,z=x.event_rule.event_name,A=y.event_rule.event_name,B=c("AppEventMetricText").action_taken[z]||j._("{first event name} completado",[j.param("first event name",c("CustomEventStore").getAppEventDisplayName(z))]),C=c("AppEventMetricText").action_taken[A]||j._("{followup event name} completado",[j.param("followup event name",c("CustomEventStore").getAppEventDisplayName(A))]);return[B,C]},_formatCurrencyValue:function v(w){return c("InsightsNumUtils").prettyCurrencyEx("USD",w)},_getUniqueUserString:function v(w){return j._("{Number of unique users} usuarios \u00fanicos",[j.param("Number of unique users",c("InsightsNumUtils").prettyInt(w.uniqueUsers))])},_getRowHeaderSubtitle:function v(w){if(w.value===null)return c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED;return j._("{Unique Users value} usuarios",[j.param("Unique Users value",c("InsightsNumUtils").prettyShortInt(w.uniqueUsers))])},_generateCellText:function v(w){if(w.value===null)return"";var x=w.value,y=x>=1?1:2;switch(this.props.chartType){case c("AnalyticsCohortChartType").USER_RETENTION:y=x>=10?0:y;return c("InsightsNumUtils").prettyPercent(x/100,y);case c("AnalyticsCohortChartType").CUMULATIVE_EVENTS:return c("InsightsNumUtils").prettyFloat(parseFloat(x.toFixed(y)));case c("AnalyticsCohortChartType").LIFETIME_VALUE:if(!this.props.cohortData.isUSDValues)if(x>100)return c("InsightsNumUtils").prettyShortInt(x);else return c("InsightsNumUtils").prettyFloat(parseFloat(x.toFixed(y)));return this._formatCurrencyValue(x);case c("AnalyticsCohortChartType").VALUE_RETENTION:y=x>=10?0:y;return c("InsightsNumUtils").prettyPercent(x/100,y);default:k(0)}}});f.exports=u}),null);
__d("GriffinCohortsBreakdownTableView",["cx","fbt","AnalyticsQueryBreakdownUtils","AnalyticsQueryConstants","SUISelector.react","GriffinSelectorOption","InsightsCohortsTableView","InsightsEventLogger","React","SUIBusinessTheme"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={selectedBucket:this.$GriffinCohortsBreakdownTableView1(this.props)},n}l.prototype.componentWillReceiveProps=function(m){if(this.props.breakdownCohortData!==m.breakdownCohortData)this.setState({selectedBucket:this.$GriffinCohortsBreakdownTableView1(m)})};l.prototype.getExportData=function(){var m=this.$GriffinCohortsBreakdownTableView2();return m?m.exportData:null};l.prototype.render=function(){var m=this.$GriffinCohortsBreakdownTableView2();if(!m)return null;var n=this.props,o=n.chartType,p=n.collationInterval,q=n.section,r=n.firstEvent,s=n.followupEvent;return c("React").createElement("div",null,c("React").createElement("div",{className:"_2nnq"},this.$GriffinCohortsBreakdownTableView3()),c("React").createElement(c("InsightsCohortsTableView"),{chartType:o,cohortData:m,collationInterval:p,displayCohorts:[],section:q,firstEvent:r,followupEvent:s}))};l.prototype.$GriffinCohortsBreakdownTableView2=function(){var m=this.props.breakdownCohortData,n=this.state.selectedBucket;if(!n)return null;return m[n]};l.prototype.$GriffinCohortsBreakdownTableView1=function(m){var n=Object.keys(m.breakdownCohortData);if(n.length===0)return null;else return n[0]};l.prototype.$GriffinCohortsBreakdownTableView3=function(){var m=this.props,n=m.breakdown,o=m.breakdownCohortData,p=Object.keys(o),q=this.state.selectedBucket;if(!q)return null;var r=p.length>=c("AnalyticsQueryConstants").cardinality_limit,s=p.map(function(t){return c("React").createElement(c("GriffinSelectorOption"),{value:t,key:t},c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(n,t,null,r))});return c("React").createElement("span",null,i._("Grupos para: {selector for breakdown bucket value}",[i.param("selector for breakdown bucket value",c("React").createElement(c("SUISelector.react"),{onOpen:function t(){return c("InsightsEventLogger").logEvent({eventName:"cohorts_breakdown_bucket_selector_open",breakdown:n,bucket:q})},value:q,onChange:function(q){this.setState({selectedBucket:q});c("InsightsEventLogger").logEvent({eventName:"cohorts_breakdown_bucket_select",breakdown:n,bucket:q})}.bind(this),theme:c("SUIBusinessTheme")},s))]))};f.exports=l}),null);
__d("GriffinCohortsBreakdownChartView",["cx","AnalyticsPredefinedBreakdownValues","AnalyticsQueryBreakdownUtils","AnalyticsQueryConstants","BonsaiColors","CandelaStyleSheet","FalcorErrorNotice","FalcorInsightsHoverCardChart","FalcorInsightsLineAreaChart.react","Layout.react","GriffinLegendItem","GriffinResizableChart","InsightsCohortsUtils","InsightsLegendScrollableVert.react","React","Tooltip","immutable","CandelaConstants","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("immutable").Map,n=c("immutable").OrderedSet,o=c("CandelaConstants").RenderAs,p=c("CandelaConstants").ScaleType,q=c("CandelaGroupScaleBuilder").group,r=320,s="#dddfe2",t="xAxis",u=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"]':{width:55},'gridline[orientation="vertical"]':{visibility:"hidden"}});i=babelHelpers.inherits(v,c("React").PureComponent);j=i&&i.prototype;function v(){var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=j.constructor).call.apply(w,[this].concat(z)),this.state=this.$GriffinCohortsBreakdownChartView1(this.props),x}v.prototype.componentWillReceiveProps=function(w){if(this.props.breakdownCohortData!==w.breakdownCohortData||this.props.chartType!==w.chartType||this.props.collationInterval!==w.collationInterval)this.setState(this.$GriffinCohortsBreakdownChartView1(w))};v.prototype.render=function(){var w=this.state,x=w.averageLines,y=w.hoveredPointIndex,z=this.props,A=z.chartType,B=z.collationInterval,C=z.breakdownCohortData,D=Object.keys(x);if(D.length===0)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED});var E=[],F={},G={},H=x[D[0]].data.map(function(L,M){var N={};N[t]=M.toString();return N});F[t]={type:p.NUMBER};var I=D.reduce(function(L,M){return L||C[M].isUSDValues},false),J=c("InsightsCohortsUtils").getCandelaScale(A,I);D.forEach(function(L,M){var N=x[L],O=N.color,P=N.data,Q=N.label;if(!O)return;E.push(L);F[L]={type:J,currencyCode:J===p.CURRENCY?"USD":null,renderAs:o.LINE,label:Q};G[L]=O;P.forEach(function(R,S){H[S][L]=J===p.PERCENTAGE?R/100:R})});var K=n(Object.keys(H[0]).map(function(L){if(L===t)return{};var M=F[L].label;return{label:M,key:L}}));return c("React").createElement(c("Layout.react"),null,c("React").createElement(l,null,c("React").createElement("div",{className:"_2dpn"},c("React").createElement("div",{className:"_38wy"},c("InsightsCohortsUtils").getGraphLabelForChartType(A)),c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:n([{key:"interval",value:c("InsightsCohortsUtils").getIntervalAfterTooltipLabel(y,B)}]),items:K,hoverCardPosition:"right"},c("React").createElement(c("FalcorInsightsLineAreaChart.react"),{autoColors:m(G),axisMarkFormatterFactory:c("InsightsCohortsUtils").getCandelaChartAxisFormatterFactory(),data:H,height:r,onMouseMove:function(event){if(!event||!event.data||!event.data[t])return;this.setState({hoveredPointIndex:parseInt(event.data[t].value,10)})}.bind(this),plotX:q(t).stepCountHint(H.length-1),plotY:[q.apply(undefined,E).from(0).niceStepOnly()],schema:F,styleSheet:u,width:500}))),c("React").createElement("div",{className:"_38wz"},c("InsightsCohortsUtils").getCollationIntervalForChartCaption(B)))),c("React").createElement(k,null,this.$GriffinCohortsBreakdownChartView2()))};v.prototype.$GriffinCohortsBreakdownChartView1=function(w){var x=w.breakdown,y=w.breakdownCohortData,z={},A=c("InsightsCohortsUtils").getLineChartColors(),B=Object.keys(y),C=B.length>=c("AnalyticsQueryConstants").cardinality_limit;B.forEach(function(D){z[D]={data:y[D].weightedAverages.map(function(E){return E.value||0}),color:A.shift()||null,label:c("AnalyticsQueryBreakdownUtils").getBucketDisplayString(x,D,null,C)}});return{averageLines:z,availableColors:A,hoveredPointIndex:0}};v.prototype.$GriffinCohortsBreakdownChartView3=function(w){var x,y=this.state,z=y.averageLines,A=y.availableColors;if(Object.keys(z).every(function(F){return F===w||!z[F].color}))return;var B=A.slice(),C=z[w].color,D=null;if(C)B.unshift(C);else D=B.shift();var E=babelHelpers["extends"]({},z,(x={},x[w]=babelHelpers["extends"]({},z[w],{color:D}),x));this.setState({averageLines:E,availableColors:B})};v.prototype.$GriffinCohortsBreakdownChartView2=function(){var w=this.state,x=w.averageLines,y=w.availableColors,z=Object.keys(x),A=c("InsightsCohortsUtils").getTooltipForDisabledRowSelect(),B=z.map(function(C){var D=x[C],E=D.color,F=D.label,G=!E,H=y.length===0&&G;return c("React").createElement("div",babelHelpers["extends"]({key:C},c("Tooltip").propsFor(H?A:null),{className:"_4vge"}),c("React").createElement(c("GriffinLegendItem"),{checkboxStyle:{border:"1px solid "+s},color:H?s:E||c("BonsaiColors").WHITE,disabled:H,label:F,onToggle:function(){return this.$GriffinCohortsBreakdownChartView3(C)}.bind(this)}))}.bind(this));return c("React").createElement("div",{className:"_4ygo"},c("React").createElement("div",{className:"_4ygp"},c("InsightsCohortsUtils").getSectionNameText(this.props.section)),c("React").createElement(c("InsightsLegendScrollableVert.react"),{height:300,width:140},B))};f.exports=v}),null);
__d("InsightsCohortsAverageChartView",["cx","fbt","invariant","ix","GriffinLegendItem","AnalyticsCard","AnalyticsGKs","AnalyticsGKNames","AnalyticsPredefinedBreakdownValues","AppEventQueryError","BonsaiColors","CandelaGroupScaleBuilder","CandelaStyleSheet","AnalyticsCohortChartType","AnalyticsCohortCollationInterval","CustomEventStore","FalcorCommonViews","FalcorErrorNotice","FalcorInsightsHoverCardChart","FalcorInsightsLineAreaChart.react","FalcorLoadingCard","FalcorResizableChartMixin","FlexibleBlock.react","GriffinAdHocCohortBuilder","GriffinBreakdownSearchableSelector","GriffinButton","GriffinCohortsBreakdownChartView","GriffinCohortsBreakdownTableView","GriffinPinButton","GriffinSections","GriffinSelector","GriffinSelectorOption","Image.react","InsightsCohortsDataShape","InsightsCohortsTableView","InsightsCohortsUtils","InsightsEventLogger","InsightsLegendScrollableVert.react","LTVPredictorAnalyticsDialogButtonContainer.react","React","SUIBusinessTheme","SUIButton.react","SUIToggleButtonGroup.react","Tooltip","emptyFunction","nullthrows","update","CandelaConstants","immutable"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m=c("React").PropTypes,n=c("CandelaConstants").RenderAs,o=c("CandelaConstants").ScaleType,p=c("immutable").Map,q=c("immutable").OrderedSet,r=c("CandelaGroupScaleBuilder").group,s=i._("Editar"),t="xAxis",u=(l={},l[c("GriffinSections").LIFETIME_VALUE]=i._("Mide el valor de los usuarios en funci\u00f3n de los ingresos generados desde una interacci\u00f3n inicial, que puede tratarse de la primera visita a un sitio web, la descarga de una aplicaci\u00f3n o la primera visualizaci\u00f3n de una p\u00e1gina. Puedes consultar el valor total por d\u00edas, semanas o meses."),l[c("GriffinSections").RETENTION]=i._("Muestra el porcentaje de personas que han vuelto a visitar tu sitio web, aplicaci\u00f3n, p\u00e1gina u otro canal tras la interacci\u00f3n inicial. Esta puede tratarse de la primera visita a un sitio web, la descarga de una aplicaci\u00f3n o la primera visualizaci\u00f3n de una p\u00e1gina. Puedes consultar la retenci\u00f3n por d\u00edas, semanas o meses."),l),v=c("InsightsCohortsUtils").getLineChartColors(),w=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"]':{width:55},'gridline[orientation="vertical"]':{visibility:"hidden"}}),x=230,y="#dddfe2",z=320,A=c("React").createClass({displayName:"InsightsCohortsAverageChartView",_timeoutID:0,mixins:[c("FalcorResizableChartMixin")],propTypes:{allowedChartTypes:m.arrayOf(m.string),allowedCollationIntervals:m.arrayOf(m.string),breakdown:m.string.isRequired,breakdownData:m.object,chartType:m.string.isRequired,cohortData:c("InsightsCohortsDataShape"),cohortName:m.string,cohortsID:m.string,collationInterval:m.string.isRequired,error:m.instanceOf(c("AppEventQueryError")),firstEvent:m.object.isRequired,followupEvent:m.object.isRequired,helptext:m.element,isEmptyData:m.bool,isLoading:m.bool,purchaserToggleValue:m.oneOf(["purchasers","all_users"]),section:m.string.isRequired,title:m.node,onBreakdownChange:m.func,onChartTypeChange:m.func.isRequired,onCollationIntervalChange:m.func.isRequired,onPurchaserToggleChange:m.func},getDefaultProps:function B(){return{onChartTypeChange:c("emptyFunction"),onCollationIntervalChange:c("emptyFunction")}},getInitialState:function B(){return{displayCohorts:this._getDisplayCohorts(this.props.cohortData),chartWidth:0,auxiliaryItems:q([{key:"interval",value:c("InsightsCohortsUtils").getIntervalAfterTooltipLabel(0,this.props.collationInterval)}]),showBuilder:true,isLoading:false}},componentWillReceiveProps:function B(C){if(this.props.cohortData!=C.cohortData){var D=this._getDisplayCohorts(C.cohortData);this.setState({displayCohorts:D})}},_getCandelaWidth:function B(){var C=window.getComputedStyle(this._domNode).width;return parseFloat(C)-x},_toggleBuilder:function B(){var C=this.props.cohortsID;c("InsightsEventLogger").logEvent({eventName:"cohorts_toggle_builder",feature_id:C,view:c("FalcorCommonViews").DETAILS,shown:!this.state.showBuilder,ad_hoc:true});this.setState({showBuilder:!this.state.showBuilder})},_renderCollationIntervalSelector:function B(){var C=this.props,D=C.allowedCollationIntervals,E=C.cohortsID,F=C.collationInterval,G=C.onCollationIntervalChange;if(!D)return null;var H=Object.keys(c("AnalyticsCohortCollationInterval")).map(function(I){var J=D&&D.indexOf(I)===-1,K=J?c("InsightsCohortsUtils").getTooltipForCollationInterval(I):null,L=c("InsightsCohortsUtils").getDisplayStringForCollationInterval(I);return c("React").createElement(c("GriffinSelectorOption"),{disabled:J,key:I,tooltip:K,value:I},L)});return c("React").createElement(c("GriffinSelector"),{className:"_3-90",key:"collation_interval_selector",onChange:G,onOpen:function I(){return c("InsightsEventLogger").logEvent({eventName:"cohorts_collation_interval_selector_open",feature_id:E})},value:F},H)},_renderChartTypeSelector:function B(){var C=this.props,D=C.allowedChartTypes,E=C.chartType,F=C.cohortsID,G=C.onChartTypeChange;if(!D)return null;var H=Object.keys(c("AnalyticsCohortChartType")).filter(function(E){return E!==c("AnalyticsCohortChartType").CUMULATIVE_USER_RETENTION}).map(function(E){var I=D&&D.indexOf(E)===-1,J=I?c("InsightsCohortsUtils").getTooltipForChartType(E):null;return c("React").createElement(c("GriffinSelectorOption"),{disabled:I,key:E,tooltip:J,value:E},c("InsightsCohortsUtils").getDisplayStringForChartType(E))});return c("React").createElement(c("GriffinSelector"),{key:"chart_type_selector",className:"_3-90",onChange:G,onOpen:function I(){return c("InsightsEventLogger").logEvent({eventName:"cohorts_chart_type_selector_open",feature_id:F})},value:E},H)},_renderEditButton:function B(){var C=this.props.section;if(C===c("GriffinSections").RETENTION||C===c("GriffinSections").LIFETIME_VALUE)return null;var D=this.state.showBuilder,E=D?"default":"confirm";return c("React").createElement(c("GriffinButton"),{key:"edit_button",ref:"editButton",className:"_3-90",label:s,onClick:this._toggleBuilder,use:E})},_renderData:function B(){var C=this.props,D=C.cohortData,E=C.breakdownData,F=C.error,G=C.firstEvent,H=C.followupEvent,I=C.isEmptyData,J=(!G.event_rule||!H.event_rule)&&!D;if(F)return c("React").createElement(c("FalcorErrorNotice"),{message:F.getMessage()});else if(I)return c("React").createElement(c("FalcorErrorNotice"),{message:c("AnalyticsPredefinedBreakdownValues").OTHER.REDACTED});else if(J)return c("React").createElement(c("AnalyticsCard"),{className:"_2kqs"},c("React").createElement(c("Image.react"),{src:k("82508")}),c("React").createElement("div",{className:"_3-8-"},i._("Crea tu grupo seleccionando dos eventos")));else if(!D&&!E)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});return c("React").createElement("div",{"data-testid":"cohorts_chart"},this._renderChart(),this._renderTable())},render:function B(){var C=this.props,D=C.cohortName,E=C.cohortsID,F=C.cohortData,G=C.firstEvent,H=C.followupEvent,I=C.helptext,J=C.isLoading,K=C.onBreakdownChange,L=C.section,M=C.title,N=this.state.showBuilder;if(J)return c("React").createElement(c("FalcorLoadingCard"),null);var O=this._renderEditButton(),P=L===c("GriffinSections").RETENTION||L===c("GriffinSections").LIFETIME_VALUE,Q=P?null:this._renderChartTypeSelector(),R=this._renderCollationIntervalSelector(),S=K?c("React").createElement(c("GriffinBreakdownSearchableSelector"),{event:null,isDisabled:false,key:"breakdown_selector",onChange:K,onOpened:function aa(){return c("InsightsEventLogger").logEvent({eventName:"cohorts_breakdown_selector_open",feature_id:E})},selectedBreakdown:this.props.breakdown,showHighCardinalityBreakdowns:true,showOverall:true,width:"auto"}):null,T=c("React").createElement(c("GriffinPinButton"),{key:"pin",chartKey:"cohort"}),U=L===c("GriffinSections").COHORTS,V=!(N&&U),W=c("React").createElement("div",{hidden:V},c("React").createElement(c("GriffinAdHocCohortBuilder"),{key:"cohort_builder",anchor:this.refs.editButton,cohortName:D,cohortsID:E,firstEvent:G,followupEvent:H,isLoading:J})),X=L!==c("GriffinSections").LIFETIME_VALUE?{key:c("InsightsCohortsUtils").getInfoCMSKey(L),title:i._("Tu grupo"),extra:I}:null,Y=P?i._("{first event} para {followup event}",[i.param("first event",c("CustomEventStore").getAppEventDisplayName(G.event_rule.event_name)),i.param("followup event",c("CustomEventStore").getAppEventDisplayName(H.event_rule.event_name))]):null,Z=this._renderPurchaserToggle(),$=this.props.section===c("GriffinSections").RETENTION&&c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_PLTV_CHART)?c("React").createElement(c("LTVPredictorAnalyticsDialogButtonContainer.react"),{cohortAverageRetention:F?F.weightedAverages:null,collationInterval:this.props.collationInterval,key:"pltv"}):null;return c("React").createElement(c("AnalyticsCard"),{showLine:V,buttons:[$,Z,S,R,Q,O],helpText:X,title:M,subtitle:Y,tooltip:u[this.props.section],getExportData:this._exportData,pinButton:T},W,this._renderData())},_onMouseMove:function B(event){if(!event||!event.data||!event.data[t])return;var C=c("InsightsCohortsUtils").getIntervalAfterTooltipLabel(event.data[t].value,this.props.collationInterval);if(this.state.auxiliaryItems.first()!==C)this.setState({auxiliaryItems:q([{key:"interval",value:C}])})},_renderCandelaChart:function B(C,D,E,F){var G=this.props,H=G.chartType,I=G.cohortData,J=G.unitLabel;I||j(0);var K=I.colLabels.slice(0,F),L=[],M={},N={},O=K.map(function(R){var S={};S[t]=R;return S});M[t]={type:o.NUMBER};var P=c("InsightsCohortsUtils").getCandelaScale(H,I.isUSDValues);C.forEach(function(R,S){var T="bucket_"+S;L.push(T);M[T]={type:P,currencyCode:P===o.CURRENCY?"USD":null,renderAs:n.LINE,label:E.filter(function(U){return U.checked})[S].legend};N[T]=D[S];R.forEach(function(U,V){O[V][T]=P===o.PERCENTAGE?U/100:U})});var Q=q(Object.keys(O[0]).map(function(R){if(R===t)return{};var S=M[R].label;return{label:S,key:R,unitLabel:J}}));return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:this.state.auxiliaryItems,items:Q,hoverCardPosition:"right"},c("React").createElement(c("FalcorInsightsLineAreaChart.react"),{autoColors:p(N),axisMarkFormatterFactory:c("InsightsCohortsUtils").getCandelaChartAxisFormatterFactory(),data:O,height:z,onMouseMove:this._onMouseMove,plotX:r(t).stepCountHint(F-1),plotY:[r.apply(undefined,L).from(0).niceStepOnly()],schema:M,styleSheet:w,width:this.state.chartWidth}))},_renderChart:function B(){var C=this.props,D=C.chartType,E=C.cohortData,F=C.collationInterval;if(this.props.breakdownData)return c("React").createElement(c("GriffinCohortsBreakdownChartView"),{breakdown:this.props.breakdown,breakdownCohortData:this.props.breakdownData,chartType:this.props.chartType,collationInterval:this.props.collationInterval,section:this.props.section});E||j(0);var G=[],H=[],I=[],J=-1;this.state.displayCohorts.forEach(function(L){if(L.checked){var M=this._getChartData(L);G.push(M);H.push(L.color);if(J<M.length)J=M.length}var N=E.rowLabels[L.index];I.push({legend:N,checked:L.checked,color:L.color,disabled:L.disabled})}.bind(this));var K=this._renderCandelaChart(G,H,I,J);return c("React").createElement(c("FlexibleBlock.react"),{flex:"right"},c("React").createElement("div",{className:"_2dpn"},c("React").createElement("div",{className:"_38wy"},c("InsightsCohortsUtils").getGraphLabelForChartType(D)),K,c("React").createElement("div",{className:"_38wz"},c("InsightsCohortsUtils").getCollationIntervalForChartCaption(F))),this._renderLegend(I))},_renderLegend:function B(C){var D=c("InsightsCohortsUtils").getTooltipForDisabledRowSelect(),E=C.map(function(F,G){return c("React").createElement("div",babelHelpers["extends"]({key:G},c("Tooltip").propsFor(F.disabled?D:null),{className:"_4vge"}),c("React").createElement(c("GriffinLegendItem"),{checkboxStyle:{border:"1px solid "+y},color:F.disabled?y:F.color||c("BonsaiColors").WHITE,disabled:F.disabled||!F.checked,label:F.legend,onToggle:function(){return!F.disabled&&this._onChangeCohortDisplay(G,!F.checked)}.bind(this)}))}.bind(this));return c("React").createElement("div",{className:"_4ygo"},this._renderLegendHeader(),c("React").createElement(c("InsightsLegendScrollableVert.react"),{height:300,width:140},E))},_renderLegendHeader:function B(){return c("React").createElement("div",{className:"_4ygp"},c("InsightsCohortsUtils").getSectionNameText(this.props.section))},_renderPurchaserToggle:function B(){if(!this.props.purchaserToggleValue||!this.props.onPurchaserToggleChange)return null;return c("React").createElement(c("SUIToggleButtonGroup.react"),{className:"_1w24",key:"purchaser_toggle",onChange:this.props.onPurchaserToggleChange,theme:c("SUIBusinessTheme"),value:this.props.purchaserToggleValue},c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(i._("Incluye los que han realizado una compra y los que no."),"below"),{key:"all_users",label:i._("Todos los usuarios"),value:"all_users"})),c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(i._("Incluye solo los usuarios que han realizado una compra."),"below"),{key:"purchaser",label:i._("Usuarios de pago"),value:"purchasers"})))},_renderTable:function B(){var C=this.props,D=C.firstEvent,E=C.followupEvent;if(this.props.breakdownData)return c("React").createElement(c("GriffinCohortsBreakdownTableView"),{breakdown:this.props.breakdown,breakdownCohortData:this.props.breakdownData,chartType:this.props.chartType,collationInterval:this.props.collationInterval,ref:"breakdown_table",section:this.props.section,firstEvent:D,followupEvent:E});return c("React").createElement(c("InsightsCohortsTableView"),{chartType:this.props.chartType,cohortData:c("nullthrows")(this.props.cohortData),collationInterval:this.props.collationInterval,displayCohorts:this.state.displayCohorts.filter(function(F){return F.checked&&F.index>=0}).map(function(F){return F.index}),onRowSelect:this._onAddCohortDisplay,onRowDeselect:this._onRemoveCohortDisplay,section:this.props.section,firstEvent:D,followupEvent:E})},_getChartData:function B(C){var D=this.props.cohortData,E=null;if(!D)return[];if(C.cohortDataKey)E=D[C.cohortDataKey];else E=D.retentionTable[C.index-2];E=E.map(function(F){return F.value});return E},_onChangeCohortDisplay:function B(C,D){var E,F={};F[C]={$merge:{checked:D,color:D?this._getNextAvailableColor():null}};var G=c("update")(this.state.displayCohorts,F);if(G.every(function(H){return!H.checked}))G=this.state.displayCohorts;else(function(){var H=G.filter(function(J){return J.checked}).length,I=H>=c("InsightsCohortsUtils").getMaxSelectableRows();G.forEach(function(J){return J.disabled=!J.checked&&I})})();c("InsightsEventLogger").logEvent({eventName:"cohort_chart_display_change",index:C,action:D?"add":"remove",display_count:this.state.displayCohorts.filter(function(H){return H.checked}).length,collation_interval:this.props.collationInterval.toLowerCase(),chart_type:this.props.chartType.toLowerCase()});this.setState({displayCohorts:G})},_onAddCohortDisplay:function B(C){var D=this.state.displayCohorts.findIndex(function(E){return E.index===C});if(D>=0&&!this.state.displayCohorts[D].disabled)this._onChangeCohortDisplay(D,true)},_onRemoveCohortDisplay:function B(C){var D=this.state.displayCohorts.findIndex(function(E){return E.index===C});if(D>=0)this._onChangeCohortDisplay(D,false)},_getDisplayCohorts:function B(C){if(!C)return[];var D=0,E=[{checked:true,index:D++,cohortDataKey:"weightedAverages",disabled:false},{checked:false,index:D++,cohortDataKey:"arithmeticAverages",disabled:false}],F=2;E=E.concat(C.retentionTable.map(function(H,I){return{checked:I<F,index:I+D,disabled:false}}).filter(function(H,I){return C&&C.retentionTable[I][0].uniqueUsers!==null}));var G=0;E.forEach(function(H){H.color=H.checked?v[G++]:null});return E},_getNextAvailableColor:function B(){var C=this._getAvailableColors();C&&C.length>0||j(0);return C[0]},_getUsedColors:function B(){if(this.state&&this.state.displayCohorts)return this.state.displayCohorts.filter(function(C){return!!C.color}).map(function(C){return C.color});return[]},_getAvailableColors:function B(){var C=this._getUsedColors();return v.filter(function(D){return C.indexOf(D)===-1})},_exportData:function B(){if(this.refs.breakdown_table)return this.refs.breakdown_table.getExportData();this.props.cohortData||j(0);return this.props.cohortData.exportData}});f.exports=A}),null);
__d("BonsaiPercentageString",["cx","AnalyticsUIUtils","InsightsNumUtils","React","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$BonsaiPercentageString2=function(){var r=parseFloat((this.props.percentage*100).toFixed(2),10);return c("React").createElement("div",this.props,c("InsightsNumUtils").prettyFloat(r)+"%")}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.props.currentValue,n=this.props.previousValue;if(m&&n)return this.$BonsaiPercentageString1(m,n);else if(this.props.percentage)return this.$BonsaiPercentageString2();else throw new Error("No percentage or current/previous value specified")};l.prototype.$BonsaiPercentageString1=function(m,n){"use strict";var o=c("AnalyticsUIUtils").calculatePercentageChange(m,n),p=c("joinClasses")(o.className,this.props.className);return c("React").createElement("div",{className:p},c("React").createElement("div",{className:"_vhz"}),o.string)};l.propTypes={currentValue:k.number,percentage:k.number,previousValue:k.number};f.exports=l}),null);
__d("CustomEventBreakdownTableUtils",["fbt","BonsaiPercentageString","BonsaiText","InsightsNumUtils","React"],(function a(b,c,d,e,f,g,h){var i={bucket:function l(m){return c("React").createElement("a",{href:"#",onClick:function(){return this.onSelectRow(m.id)}.bind(this)},m.name)},"int":function l(m){if(!m)return"";return c("InsightsNumUtils").prettyInt(m)},pct:function l(m){if(!m)return"";return c("React").createElement(c("BonsaiPercentageString"),{percentage:m})},usd:function l(m){if(!m)return"";return c("InsightsNumUtils").prettyCurrency("USD",m)},value:function l(m){if(!m)return"";m=parseFloat(m.toFixed(2),10);return c("InsightsNumUtils").prettyFloat(m)}},j={value:h._("Valor"),value_pct:h._("Porcentaje de valor"),value_per_event:h._("Valor\/evento")},k={formatDataForExport:function l(event,m,n){var o=void 0,p=void 0,q=void 0;o={};p=Object.keys(m).map(function(t){var u=c("BonsaiText").getBucketLabel(t,n);if(t===u)u=c("BonsaiText").getEventAndBreakdownSpecificBucketTranslation(event,t,n);return{key:t,label:u}});for(var r=0;r<p.length;r++)o[p[r].label]=m[p[r].key].getData();q=[];p=Object.keys(o).sort(function(t,u){var v=void 0,w=void 0;v=o[u].reduce(function(x,y){return x+y.value},0);w=o[t].reduce(function(x,y){return x+y.value},0);return v-w});for(var s=0;s<p.length;s++)q.push({header:p[s],body:o[p[s]]});return q},getColumns:function l(m,n,o,p,q){var r=[{id:"bucket",label:m,sortable:true,cellRenderer:n,comparator:o||undefined},{id:"count",label:c("BonsaiText").count,sortable:true,cellRenderer:i["int"],isNumeric:true},{id:"count_pct",label:c("BonsaiText").count_pct,sortable:true,cellRenderer:i.pct,isNumeric:true,width:80}];if(p)r.push({id:"value",label:j.value,sortable:true,cellRenderer:q?i.usd:i.value,isNumeric:true},{id:"value_pct",label:j.value_pct,sortable:true,cellRenderer:i.pct,isNumeric:true},{id:"value_per_event",label:j.value_per_event,sortable:true,cellRenderer:q?i.usd:i.value,isNumeric:true});return r}};f.exports=k}),null);
__d("AnalyticsFilterBarUtils",["BonsaiApiBreakdown"],(function a(b,c,d,e,f,g){"use strict";var h=[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER,c("BonsaiApiBreakdown").ACQUISITION_SOURCE,c("BonsaiApiBreakdown").IDENTITY_SOURCE],i={hasCustomBreakdown:function j(k){return k.some(function(l){return h.indexOf(l)===-1})},getCustomBreakdown:function j(k){return k.find(function(l){return h.indexOf(l)===-1})},getCommonBreakdowns:function j(){return h}};f.exports=i}),null);
__d("CustomEventSectionDataLoaderMixin",["AnalyticsFilterBarUtils","InsightsUtils","mergeArrays","shallowEqual"],(function a(b,c,d,e,f,g){var h={componentWillMount:function i(){this._storedMetrics={}},componentWillReceiveProps:function i(j){var k=j.event&&this.props.event.name!=j.event.name,l=j.visibleDateRange&&(this.props.visibleDateRange.since.getTime()!==j.visibleDateRange.since.getTime()||this.props.visibleDateRange.until.getTime()!==j.visibleDateRange.until.getTime()),m=this.willApplyFilters()&&!c("shallowEqual")(this.props.filters,j.filters),n=this.shouldAutoRefetch();if(n&&(m||k||l))this._refetchStoredMetrics(j)},componentWillUnmount:function i(){this._storedMetrics={}},addCustomEventMetric:function i(j,k,l,m){this._addCustomEventMetricInternal(j,k,l,true,m)},addUnfilteredCustomEventMetric:function i(j,k,l){this._addCustomEventMetricInternal(j,k,l,false)},getUnfilteredCustomEventData:function i(j,k){j=this._getKey(j,this.props.event.name);if(k)return this.getRawData(j);return this.getData(j)},getUnfilteredCustomEventDataWithName:function i(j,k,l){j=this._getKey(j,k);if(l)return this.getRawData(j);return this.getData(j)},getCustomEventData:function i(j,k){var l=this.getUnfilteredCustomEventData(j,k);if(!l)return null;if(this.props.filters&&Object.keys(this.props.filters).length>0)Object.keys(this.props.filters).forEach(function(m){if(m=="custom_breakdown")return;l=l.filterBy(m,"=",[this.props.filters[m]])},this);return l},_addCustomEventMetricInternal:function i(j,k,l,m,n){var o={applyFilters:m,key:k,params:l};this._getStoredMetrics(j).push(o);this._enqueueCustomEventMetric(j,o,n)},_enqueueCustomEventMetric:function i(j,k,l){var m=this._getKey(k.key,j.event.name),n={event_name:j.event.name};if(!l){n.since=c("InsightsUtils").utcTimeToPacificDay(j.visibleDateRange.since);n.until=c("InsightsUtils").utcTimeToPacificDay(j.visibleDateRange.until)}var o=Object.assign(n,k.params);if(k.applyFilters){var p=o.breakdowns||[];o.breakdowns=c("mergeArrays")(p.slice(0),Object.keys(j.filters).slice(0))}if(o.custom_metric){var q=o.custom_metric;delete o.custom_metric;this.addMetric(m,q,o,null,null,"",j.appID)}else this.addMetric(m,"app_event",o,undefined,undefined,undefined,j.appID)},_refetchStoredMetrics:function i(j){this.resetMetrics();var k=Object.keys(j.filters),l=!c("AnalyticsFilterBarUtils").hasCustomBreakdown(k),m=Object.keys(this.props.filters),n=!c("AnalyticsFilterBarUtils").hasCustomBreakdown(m);if(n!==l)this._clearStoredMetrics();this._getStoredMetrics(j).forEach(function(o){this._enqueueCustomEventMetric(j,o)}.bind(this),this);this.fetchMetrics()},_getKey:function i(j,k){return j.concat(k).concat(this.props.cardKey)},_getStoredMetrics:function i(j){if(!this._storedMetrics[j.cardKey])this._storedMetrics[j.cardKey]=[];return this._storedMetrics[j.cardKey]},_clearStoredMetrics:function i(){this._storedMetrics={}}};f.exports=h}),null);
__d("AbstractCustomEventBreakdownTable",["fbt","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiPromise","BonsaiSectionDataLoaderMixin","BonsaiText","CustomEventBreakdownTableUtils","CustomEventSectionDataLoaderMixin","FalcorErrorNotice","FalcorLoadingCard","React"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"AbstractCustomEventBreakdownTable",mixins:[c("BonsaiSectionDataLoaderMixin"),c("CustomEventSectionDataLoaderMixin")],propTypes:{breakdown:i.object.isRequired,event:i.object.isRequired,loadData:i.bool.isRequired,discardValueData:i.bool,getBreakdownTable:i.func.isRequired,getBreakdownTableData:i.func.isRequired,loadAuxiliaryData:i.func,otherBreakdownsToLoad:i.arrayOf(i.string),renderErrorNotice:i.func},componentWillMount:function k(){this._fetchTableData(this.props)},componentWillReceiveProps:function k(l){if(this.props.breakdown.name===l.breakdown.name&&this.props.startTime===l.startTime&&this.props.endTime===l.endTime)return;this._fetchTableData(l)},getDefaultProps:function k(){return{loadAuxiliaryData:function l(m){return m()},otherBreakdownsToLoad:[],renderErrorNotice:function l(m){return m}}},getExportData:function k(l){l=l||this.props.breakdown.name;var m=this.getUnfilteredCustomEventData(["COUNT",l]);return m instanceof c("BonsaiApiDataAdapter")?c("CustomEventBreakdownTableUtils").formatDataForExport(this.props.event,m.groupBy(l),l):null},getInitialState:function k(){return{auxiliaryDataLoaded:false,breakdownTableData:null}},onSearchChange:function k(l){this.refs.dataTable&&this.refs.dataTable.onSearchChange(l)},render:function k(){var l=[this.getUnfilteredCustomEventData(["COUNT"]),this.getUnfilteredCustomEventData(["SUM"]),this.getUnfilteredCustomEventData(["USD_SUM"])],m={},n={},o={},p=[this.props.breakdown.name].concat(this.props.otherBreakdownsToLoad);p.forEach(function(s){var t=this.getUnfilteredCustomEventData(["COUNT",s]),u=this.getUnfilteredCustomEventData(["SUM",s]),v=this.getUnfilteredCustomEventData(["USD_SUM",s]);m[s]=t;n[s]=u;o[s]=v;l.push(t,u,v)}.bind(this));if(!l.every(function(s){return s instanceof c("BonsaiApiDataAdapter")}))if(l.some(function(s){return s instanceof c("BonsaiApiPromise")}))return this.props.renderErrorNotice(c("React").createElement(c("FalcorLoadingCard"),{showCard:false}));else{var q=l.find(function(s){return s instanceof c("BonsaiApiError")});return this.props.renderErrorNotice(q?c("React").createElement(c("FalcorErrorNotice"),{message:q.getMessage()}):c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable}))}if(!l[3].getTotal()){var r=c("BonsaiApiBreakdown").isBreakdownAfterSdkV4_2(this.props.breakdown.name)?c("React").createElement("span",null,h._("Este desglose requiere la versi\u00f3n 4.2 o superior del SDK de Facebook. Los \u00faltimos SDK est\u00e1n disponibles en")," ",c("React").createElement("a",{href:"https://developers.facebook.com/docs#apis-and-sdks",target:"_blank"},h._("el sitio web para desarrolladores de Facebook")),"."):null;return this.props.renderErrorNotice(c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable},r))}if(this.state.breakdownTableData&&this.state.auxiliaryDataLoaded)return this.props.getBreakdownTable(this.state.breakdownTableData,"dataTable");else{if(!this.state.breakdownTableData)setTimeout(function(){return this.setState({breakdownTableData:this.props.getBreakdownTableData(l[0].getTotal(),l[1].getTotal(),l[2].getTotal(),m,n,o)})}.bind(this),0);if(!this.state.auxiliaryDataLoaded)setTimeout(function(){return this.props.loadAuxiliaryData(function(){return this.setState({auxiliaryDataLoaded:true})}.bind(this),this.state.breakdownTableData)}.bind(this),0);return this.props.renderErrorNotice(c("React").createElement(c("FalcorLoadingCard"),{showCard:false}))}},shouldAutoRefetch:function k(){return false},willApplyFilters:function k(){return false},_addBreakdownMetric:function k(l,m,n){var o={aggregateBy:l,breakdowns:n},p=[l].concat(n);this.addUnfilteredCustomEventMetric(m,p,o)},_fetchTableData:function k(l){if(!l.loadData)return;this.resetMetrics();this.setState({breakdownTableData:null,auxiliaryDataLoaded:false});this._addBreakdownMetric("COUNT",l,[]);this._addBreakdownMetric("SUM",l,[]);this._addBreakdownMetric("USD_SUM",l,[]);this._addBreakdownMetric("COUNT",l,[l.breakdown.name]);this._addBreakdownMetric("SUM",l,[l.breakdown.name]);this._addBreakdownMetric("USD_SUM",l,[l.breakdown.name]);l.otherBreakdownsToLoad.forEach(function(m){this._addBreakdownMetric("COUNT",l,[m]);this._addBreakdownMetric("SUM",l,[m]);this._addBreakdownMetric("USD_SUM",l,[m])}.bind(this));this.fetchMetrics()}});f.exports=j}),null);
__d("CustomEventAcquisitionSourceBreakdownTable",["AnalyticsAcquisitionSourceNames","AnalyticsCard","AbstractCustomEventBreakdownTable","AnalyticsUIUtils","BonsaiApiBreakdown","HierarchicalAcquisitionSourceBreakdownTable","React"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.getExportData=function(q){return this.refs.falcorTable.getExportData(q)}.bind(this),this.onSearchChange=function(q){this.refs.falcorTable.onSearchChange(q)}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable5=function(q){if(!q)return null;c("AnalyticsAcquisitionSourceNames").addIDstoLoad(Object.keys(q));Object.keys(q).forEach(function(r){this.$CustomEventAcquisitionSourceBreakdownTable5(q[r].children)}.bind(this))}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable6=function(q){Object.keys(q).forEach(function(r){var s=q[r];if(!s.children)return;this.$CustomEventAcquisitionSourceBreakdownTable6(s.children);var t=s.data.count-s.aggregatedCount;if(t>0){s.children.other={data:{count:t,count_pct:t/s.data.count}};if(s.data.value){var u=s.data.value-s.aggregatedValue;s.children.other.data.value=u;s.children.other.data.value_pct=u/s.data.value;s.children.other.data.value_per_event=u/s.children.other.data.count}}}.bind(this))}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable1=function(q,r){return c("React").createElement(c("HierarchicalAcquisitionSourceBreakdownTable"),{breakdownTypeDropdown:this.props.breakdownTypeDropdown,event:this.props.event,getExportData:this.getExportData,hierarchicalData:q,ref:r})}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable2=function(q,r,s,t,u,v){var w={};c("BonsaiApiBreakdown").getAcquisitionSourceBreakdowns().forEach(function(x){this.$CustomEventAcquisitionSourceBreakdownTable7(x,w,q,r,s,t[x],u[x],v[x])}.bind(this));this.$CustomEventAcquisitionSourceBreakdownTable6(w);return w}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable3=function(q,r){if(!r)return;this.$CustomEventAcquisitionSourceBreakdownTable5(r);c("AnalyticsAcquisitionSourceNames").loadNames(q)}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable7=function(q,r,s,t,u,v,w,x){var y=void 0,z=void 0,A=void 0;w=c("AnalyticsUIUtils").getSumData(v,w);x=c("AnalyticsUIUtils").getSumData(v,x);var B=!this.props.discardValueData&&(w||x),C=!!x;if(B){A=x?x:w;z=x?u:t;y=A.divideBy(v).groupBy(q);A=A.groupBy(q)}v=v.groupBy(q);Object.keys(v).map(function(D){var E=v[D],F=r,G=s,H=z,I=D.split("/"),J=I.length-1;I.forEach(function(K,L){if(!F[K])F[K]={aggregatedCount:0,aggregatedValue:0,data:{}};var M=E.getTotal(),N=null;if(B&&A[D])N=A[D].getTotal();if(L===J){F[K].data.count=M;F[K].data.count_pct=M/G;if(B&&A[D]){F[K].showUsdValues=C;F[K].data.value=N;F[K].data.value_pct=N/H;F[K].data.value_per_event=y[D].getTotal()}}else{if(L===J-1){F[K].aggregatedCount+=M;if(B&&A[D])F[K].aggregatedValue+=N}if(!F[K].children)F[K].children={}}G=F[K].data.count;H=F[K].data.value;F=F[K].children})})}.bind(this),this.$CustomEventAcquisitionSourceBreakdownTable4=function(q){return c("React").createElement(c("AnalyticsCard"),{dropDown:this.props.breakdownTypeDropdown,showLine:false},q)}.bind(this),m}k.prototype.render=function(){"use strict";return c("React").createElement(c("AbstractCustomEventBreakdownTable"),babelHelpers["extends"]({},this.props,{getBreakdownTable:this.$CustomEventAcquisitionSourceBreakdownTable1,getBreakdownTableData:this.$CustomEventAcquisitionSourceBreakdownTable2,loadAuxiliaryData:this.$CustomEventAcquisitionSourceBreakdownTable3,otherBreakdownsToLoad:[c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L1,c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L2,c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L3],ref:"falcorTable",renderErrorNotice:this.$CustomEventAcquisitionSourceBreakdownTable4}))};k.propTypes={breakdown:j.object.isRequired,breakdownTypeDropdown:j.node.isRequired,event:j.object.isRequired,loadData:j.bool.isRequired,discardValueData:j.bool};f.exports=k}),null);
__d("CustomEventBreakdownTable",["fbt","AnalyticsUIUtils","BonsaiApiBreakdown","BonsaiText","BonsaiTooltip","AbstractCustomEventBreakdownTable","CustomEventBreakdownTableUtils","FalcorPaginatedDataTable","ObjectSort","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes,l={other_row_tooltip:h._("Esta entrada muestra la suma de todos los valores que son demasiado peque\u00f1os para figurar en esta tabla, que solo muestra los valores m\u00e1s frecuentes.")};i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getExportData=function(){return this.refs.falcorTable.getExportData()}.bind(this),this.onSearchChange=function(s){this.refs.falcorTable.onSearchChange(s)}.bind(this),this.$CustomEventBreakdownTable1=function(s,t){return c("React").createElement(c("FalcorPaginatedDataTable"),{ref:t,columns:s.columns,columnToSortBy:"count",searchFieldName:"bucket",rows:s.rows,pageSize:Infinity})},this.$CustomEventBreakdownTable2=function(s,t,u,v,w,x){var y=this.props.breakdown,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0;C=v[y.name];z=C.getTotal();K=z<.995*s?{bucket:C.getBreakdowns()[y.name].length<500?c("React").createElement("div",null," ",c("BonsaiText").breakdown.no_value_logged," "):c("React").createElement("div",null,c("BonsaiText").breakdown.no_value_logged_or_other_value,c("React").createElement(c("BonsaiTooltip"),{tooltip:l.other_row_tooltip})),count:s-z,count_pct:(s-z)/s}:null;E=c("AnalyticsUIUtils").getSumData(v[y.name],w[y.name]);F=c("AnalyticsUIUtils").getSumData(v[y.name],x[y.name]);B=1;G=null;H=null;var L=false,M=false;if(!this.props.discardValueData&&(E||F)){L=true;M=!!F;H=F?F:E;A=H.getTotal();B=F?u:t;G=H.divideBy(C).groupBy(y.name);H=H.groupBy(y.name);if(K){K.value=B-A;K.value_pct=K.value/B;K.value_per_event=K.value/K.count}}C=C.groupBy(y.name);I=true;J=Object.keys(C).map(function(N){var O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0;O=C[N];P=c("BonsaiText").getBucketLabel(N,y.name);if(isNaN(P))I=false;if(y.name===c("BonsaiApiBreakdown").LABEL_COHORT&&P===null)return null;if(N==P)P=c("BonsaiText").getEventAndBreakdownSpecificBucketTranslation(this.props.event,N,y.name);Q=O.getTotal();R={bucket:P,count:Q,count_pct:Q/s};if(H&&H[N]){S=H[N].getTotal();R.value=S;R.value_pct=S/B;R.value_per_event=G[N].getTotal()}return R}.bind(this),this).concat(K).filter(function(N){return N!==null});D=c("CustomEventBreakdownTableUtils").getColumns(y.display_name,null,I?c("ObjectSort").getReverseNumericSortFunction("bucket"):null,L,M);return{columns:D,rows:J}}.bind(this),o}m.prototype.render=function(){"use strict";return c("React").createElement(c("AbstractCustomEventBreakdownTable"),babelHelpers["extends"]({},this.props,{getBreakdownTable:this.$CustomEventBreakdownTable1,getBreakdownTableData:this.$CustomEventBreakdownTable2,ref:"falcorTable"}))};m.propTypes={breakdown:k.object.isRequired,event:k.object.isRequired,loadData:k.bool.isRequired,discardValueData:k.bool};f.exports=m}),null);
__d("FalcorCustomEventsBreakdownCard",["cx","fbt","AnalyticsCard","AppEventsAppIdentifyingBreakdowns","BonsaiApiBreakdown","BonsaiErrorNotice","BonsaiText","BonsaiTooltip","CustomEventAcquisitionSourceBreakdownTable","CustomEventBreakdownTable","FalcorHeaderSelector","InsightsContext","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h,i){var j=c("FalcorHeaderSelector").Item,k=c("React").PropTypes,l={title:i._("Tablas de desglose")},m=["fb_mobile_time_between_sessions"],n=c("React").createClass({displayName:"FalcorCustomEventsBreakdownCard",willApplyFilters:function o(){return false},propTypes:{event:k.object.isRequired,filters:k.object,timeSpentEvent:k.object},getDefaultProps:function o(){return{filters:{}}},getInitialState:function o(){var p={};p[c("BonsaiApiBreakdown").COUNTRY]=true;return{loadTableData:p,activeSection:c("BonsaiApiBreakdown").COUNTRY}},componentWillMount:function o(){this._getAllBreakdowns().forEach(function(p){if(c("InsightsContext").getActiveCardName()===this.props.cardKey&&c("InsightsContext").getActiveTabName()===p.name&&!this.state.loadTableData[p.name])this._onBreakdownChange(p.name)}.bind(this))},componentWillReceiveProps:function o(p){if(this.props.event.name!==p.event.name)this.setState(this.getInitialState())},componentDidMount:function o(){c("InsightsEventLogger").logCardView(this.props.cardKey.toLowerCase(),{card_section:this.state.activeSection,event:this.props.event.name})},componentDidUpdate:function o(p,q){if(this.props.event.name!=p.event.name||this.state.activeSection!==q.activeSection)c("InsightsEventLogger").logCardView(this.props.cardKey.toLowerCase(),{card_section:this.state.activeSection,event:this.props.event.name})},_getAllBreakdowns:function o(p){p=p||this.props;var q=[];q.push(c("BonsaiApiBreakdown").COUNTRY);q.push(c("BonsaiApiBreakdown").REGION_CODE);q.push(c("BonsaiApiBreakdown").CITY_CODE);q.push(c("BonsaiApiBreakdown").TIMEZONE);q.push(c("BonsaiApiBreakdown").LOCALE);q.push(c("BonsaiApiBreakdown").DEVICE_OS);q.push(c("BonsaiApiBreakdown").DEVICE_MODEL);q.push(c("BonsaiApiBreakdown").CARRIER);q.push(c("BonsaiApiBreakdown").SCREEN_DIMENSIONS);q.push(c("BonsaiApiBreakdown").CORE_COUNT);q.push(c("BonsaiApiBreakdown").TOTAL_DISK_GB);q.push(c("BonsaiApiBreakdown").REMAINING_DISK_GB);q.push(c("BonsaiApiBreakdown").USER_AGENT);if(!c("InsightsContext").isDemoApp())q=q.concat(Object.keys(c("AppEventsAppIdentifyingBreakdowns")));q.push(c("BonsaiApiBreakdown").ACQUISITION_SOURCE);q=q.map(function(s){return{name:s,display_name:c("BonsaiText").getBreakdownName(s)}});if(Array.isArray(p.event.custom_event_fields))q=q.concat(p.event.custom_event_fields);if(p.timeSpentEvent&&Array.isArray(p.timeSpentEvent.custom_event_fields)){var r=p.timeSpentEvent.custom_event_fields;r.forEach(function(s){if(m.indexOf(s.name)!==-1)q.push(s)})}return q},_title:function o(){return l.title},_onExportClick:function o(){return this.refs.breakdownTable.getExportData()},render:function o(){var p=null,q=[],r=null,s=null;this._getAllBreakdowns().forEach(function(w){var x=c("BonsaiText").getBreakdownTooltip(w.name,false);if(x)x=c("React").createElement(c("BonsaiTooltip"),{tooltip:x});q.push(c("React").createElement(j,{key:w.name,value:w.name,label:w.display_name,tooltip:x}));if(w.name===this.state.activeSection){var y=void 0,z=void 0;if(this.props.timeSpentEvent&&m.indexOf(w.name)!==-1){y=this.props.timeSpentEvent;z=true}else{y=this.props.event;z=false}if(w.name===c("BonsaiApiBreakdown").ACQUISITION_SOURCE)s=w;r=w.display_name;p=w.name===c("BonsaiApiBreakdown").ACQUISITION_SOURCE?null:c("React").createElement(c("CustomEventBreakdownTable"),babelHelpers["extends"]({},this.props,{ref:"breakdownTable",breakdown:w,event:y,loadData:this.state.loadTableData[w.name],tableKey:w.display_name,discardValueData:z}))}}.bind(this),this);var t=c("React").createElement(c("FalcorHeaderSelector"),{activeTabKey:this.state.activeSection,headerKey:this.props.cardKey,onItemChange:this._onBreakdownChange},q);if(!p)p=c("React").createElement("div",{className:"mam"},c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:c("BonsaiText").errors.unavailable}));var u=/ +/g,v=this.props.event.display_name.replace(u,"_").toLowerCase()+"_"+r.replace(u,"_");if(this.state.activeSection===c("BonsaiApiBreakdown").ACQUISITION_SOURCE)return c("React").createElement(c("CustomEventAcquisitionSourceBreakdownTable"),babelHelpers["extends"]({},this.props,{ref:"breakdownTable",breakdown:s,breakdownTypeDropdown:t,event:this.props.event,loadData:this.state.loadTableData[c("BonsaiApiBreakdown").ACQUISITION_SOURCE],tableKey:s.display_name,discardValueData:false}));else return c("React").createElement(c("AnalyticsCard"),{dropDown:t,onSearchChange:this._onSearchChange,showLine:false,getExportData:this._onExportClick,exportFilename:v},p)},_onSearchChange:function o(p){this.refs.breakdownTable.onSearchChange(p)},_onBreakdownChange:function o(p){var q=this.state.loadTableData;q[p]=true;this.setState({loadTableData:q,activeSection:p})}});f.exports=n}),null);
__d("FalcorParamsEditNameDescriptionForm",["fbt","cx","TextAreaWithLineLimit.react","React","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m={NAME:"name",DESCRIPTION:"description"},n=4,o=80,p=50;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={name:this.props.displayName||"",description:this.props.description||""},this.$FalcorParamsEditNameDescriptionForm1=function(w,x){if(x===m.DESCRIPTION){this.setState({description:w});this.props.onChange(this.state.name,w)}else{this.setState({name:w});this.props.onChange(w,this.state.description)}}.bind(this),s}q.prototype.render=function(){"use strict";var r=c("React").createElement("div",null,c("React").createElement("div",{className:"_2pio"},c("React").createElement("div",{className:"_3423 _2pin"},h._("NOMBRE DEL PAR\u00c1METRO")),c("React").createElement("div",{className:"_14ig"},c("React").createElement("div",{className:"_14ii"},this.props.name))),c("React").createElement("div",{className:"_3423 _2pin"},h._("NOMBRE PARA MOSTRAR")),c("React").createElement(c("XUITextInput.react"),{className:"_14ij",defaultValue:this.props.displayName,height:"tall",onChange:function(event){return this.$FalcorParamsEditNameDescriptionForm1(event.target.value,m.NAME)}.bind(this),placeholder:this.props.displayName,size:p}),c("React").createElement("div",{className:"_3423 _2pin _2pif"},h._("DESCRIPCI\u00d3N")),c("React").createElement(c("TextAreaWithLineLimit.react"),{className:"_14ij",placeholder:this.props.description,value:this.state.description,onChange:function(event){return this.$FalcorParamsEditNameDescriptionForm1(event,m.DESCRIPTION)}.bind(this),maxCharacterPerLine:o,maxLines:n}));return r};q.propTypes={name:l.string.isRequired,displayName:l.string.isRequired,description:l.string.isRequired,onChange:l.func.isRequired};f.exports=q}),null);
__d("FalcorCustomEventsParamsCard",["cx","fbt","AnalyticsCard","AnalyticsQueryBreakdownUtils","BonsaiErrorNotice","BonsaiText","AnalyticsUntypedUIUtils","CustomEventActions","FalcorHeaderSelector","FalcorPaginatedDataTable","FalcorParamsEditNameDescriptionForm","GriffinButton","GriffinCardHeaderControl","GriffinDialog","GriffinSelectorOption","GriffinSelector","immutable","InsightsEventLogger","React","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){var j,k=c("FalcorHeaderSelector").Item,l=c("React").PropTypes,m=25,n={ACTIVE_PARAM_LABEL:i._("Activo"),ACTIVE_STATUS:i._("Activo"),ALL_PARAM_LABEL:i._("Todos"),PARAMETER_HELP_TITLE:i._("Par\u00e1metros"),INACTIVE_PARAM_LABEL:i._("Inactivo"),INACTIVE_STATUS:i._("Inactivo"),PARAMETER_TITLE:i._("Par\u00e1metros")},o={ACTIVATE:"activate",DEACTIVATE:"deactivate",EDIT:"edit"},p=(j={},j[o.ACTIVATE]=i._("Activar"),j[o.DEACTIVATE]=i._("Desactivar"),j[o.EDIT]=i._("Editar"),j),q=function q(D){var E={value:D.name,checked:D.checked},F=!c("AnalyticsQueryBreakdownUtils").isParamUserDefined(D.name),G=!F?null:i._("Los par\u00e1metros integrados no se pueden modificar");return c("React").createElement(c("XUICheckboxInput.react"),{checked:D.checked,disabled:F,key:D.name,onChange:function H(event){return D.onChange(E,event)},tooltip:G,value:D.name})},r=function r(D){var E=D?n.INACTIVE_STATUS:n.ACTIVE_STATUS;return c("React").createElement("div",{className:(D?"_2q1h":"")+(!D?" _2y-b":"")},E)},s={id:"check_box",label:"",cellRenderer:q,width:10,sortable:false},t={id:"display_name",label:i._("Nombre para mostrar"),width:2,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("display_name",true)},u={id:"name",label:i._("Nombre"),width:2,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("name",true)},v={id:"is_inactive",cellRenderer:r,label:i._("Estado"),width:1,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("is_inactive",false)},w={id:"description",label:i._("Descripci\u00f3n"),width:3,sortable:true,comparator:c("AnalyticsUntypedUIUtils").metricSort("description",true)},x=[s,u,t,w],y=[s,u,t,w,v],z={ACTIVE:"active",INACTIVE:"inactive",ALL:"all"},A=c("immutable").Map(),B=c("immutable").Map(),C=c("React").createClass({displayName:"FalcorCustomEventsParamsCard",propTypes:{activeParams:l.array.isRequired,inactiveParams:l.array.isRequired,isProtected:l.bool.isRequired,eventName:l.string.isRequired,paramName:l.string},getInitialState:function D(){A=c("immutable").fromJS(this.props.activeParams);B=c("immutable").fromJS(this.props.inactiveParams);return{activeSelection:z.ACTIVE,searchString:"",activeParams:c("immutable").fromJS(this.props.activeParams),inactiveParams:c("immutable").fromJS(this.props.inactiveParams),selectedParams:c("immutable").Map(),paramNameUnsaved:"",paramDescUnsaved:"",paramToEdit:"",showEditDialog:false}},getDefaultProps:function D(){return{activeParams:[],inactiveParams:[]}},componentDidMount:function D(){c("InsightsEventLogger").logCardView("edit_event_params",{event:this._paramOrEventName(),card_section:this.state.activeSelection,active_params:this.state.activeParams.count(),inactive_params:this.state.inactiveParams.count()})},componentDidUpdate:function D(E,F){if(this.state.activeSelection!==F.activeSelection)c("InsightsEventLogger").logCardView("edit_event_params",{event:this._paramOrEventName(),card_section:this.state.activeSelection,active_params:this.state.activeParams.count(),inactive_params:this.state.inactiveParams.count()})},_getSelector:function D(){return c("React").createElement(c("FalcorHeaderSelector"),{key:"param_state_selector",headerKey:this.props.cardKey,onItemChange:this._onSelectorChange},c("React").createElement(k,{key:z.ACTIVE,value:z.ACTIVE,label:n.ACTIVE_PARAM_LABEL}),c("React").createElement(k,{key:z.INACTIVE,value:z.INACTIVE,label:n.INACTIVE_PARAM_LABEL}),c("React").createElement(k,{key:z.ALL,value:z.ALL,label:n.ALL_PARAM_LABEL}))},_getActionDropdown:function D(){var E=[c("React").createElement(c("GriffinSelectorOption"),{key:o.EDIT,value:o.EDIT},p[o.EDIT])];if(this.state.activeSelection===z.ACTIVE||this.state.activeSelection===z.ALL)E.push([c("React").createElement(c("GriffinSelectorOption"),{key:o.DEACTIVATE,value:o.DEACTIVATE},p[o.DEACTIVATE])]);if(this.state.activeSelection===z.INACTIVE||this.state.activeSelection===z.ALL)E.push(c("React").createElement(c("GriffinSelectorOption"),{disabled:this.state.activeParams.count()>=m,key:o.ACTIVATE,value:o.ACTIVATE},p[o.ACTIVATE]));return c("React").createElement(c("GriffinCardHeaderControl"),null,c("React").createElement(c("GriffinSelector"),{disabled:this.state.selectedParams.isEmpty(),dropdownWidth:"sameAsSelector",onChange:this._onActionChange,placeholder:i._("Acciones")},E))},_getTableDataFromParams:function D(E,F){return E.map(function(G){return{check_box:{name:G.name,onChange:this._handleCheckBoxEvent,checked:this.state.selectedParams.has(G.name)},description:G.description,display_name:G.display_name,name:G.name,is_inactive:F,key:G.name}}.bind(this))},_getTableDataFromActiveParams:function D(E){return this._getTableDataFromParams(E,false)},_getTableDataFromInactiveParams:function D(E){return this._getTableDataFromParams(E,true)},_getTableRows:function D(){var E=[],F=this.state.activeParams.toJS(),G=this.state.inactiveParams.toJS();if(this.state.activeSelection===z.ACTIVE)E=E.concat(this._getTableDataFromActiveParams(F));else if(this.state.activeSelection===z.INACTIVE)E=E.concat(this._getTableDataFromInactiveParams(G));else E=E.concat(this._getTableDataFromActiveParams(F)).concat(this._getTableDataFromInactiveParams(G));return E},render:function D(){var E=this._getSelector(),F=this._getActionDropdown(),G=this.state.activeSelection===z.ALL?y:x,H=this._getTableRows(),I=void 0;if(H.length>0)I=c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"table",key:"data_table",columns:G,searchFieldName:"key",rows:H,searchString:this.state.searchString,pageSize:Infinity});else I=c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:c("BonsaiText").custom_events.no_custom_parameters,key:"no_params_notice"});var J={key:"CustomEventsParams",title:n.PARAMETER_HELP_TITLE};return c("React").createElement(c("AnalyticsCard"),{title:n.PARAMETER_TITLE,onSearchChange:this._onSearchChange,dropDown:E,helpText:J,buttons:F,showLine:false},this._renderEditDialog(),I)},_onActionChange:function D(E){c("InsightsEventLogger").logEvent({eventName:"appevents_edit_params_action",event:this._paramOrEventName(),newAction:E,selected_params:this.state.selectedParams.count(),active_params:this.state.activeParams.count(),inactive_params:this.state.inactiveParams.count()});switch(E){case o.EDIT:this._handleEdit();break;case o.ACTIVATE:if(!this.props.paramName)this._handleActivation();break;case o.DEACTIVATE:if(!this.props.paramName)this._handleDeactivation();break;default:return}},_getParamDetails:function D(E){var F=this.state.activeParams.filter(function(G){return G.get("name")===E});if(F.size>0)return F.first();F=this.state.inactiveParams.filter(function(G){return G.get("name")===E});return F.first()},_setNewParamDetails:function D(){var E=c("immutable").fromJS({name:this.state.paramToEdit,display_name:this.state.paramNameUnsaved,description:this.state.paramDescUnsaved}),F=this.state.activeParams.findIndex(function(I){return I.get("name")===this.state.paramToEdit}.bind(this));if(F>=0){var G=this.state.activeParams.set(F,E);this.setState({activeParams:G,paramToEdit:""});return}F=this.state.inactiveParams.findIndex(function(I){return I.get("name")===this.state.paramToEdit}.bind(this));if(F>=0){var H=this.state.inactiveParams.set(F,E);this.setState({inactiveParams:H,paramToEdit:""})}},_handleEdit:function D(){var E=this._getParamDetails(this.state.selectedParams.first().value).toJS();this.setState({paramToEdit:E.name,paramNameUnsaved:E.display_name,paramDescUnsaved:E.description,showEditDialog:true})},_renderEditDialog:function D(){if(!this.state.showEditDialog)return null;var E=c("React").createElement(c("FalcorParamsEditNameDescriptionForm"),{description:this.state.paramDescUnsaved||"",displayName:this.state.paramNameUnsaved||"",key:"name_desc_param",name:this.state.paramToEdit,onChange:this._paramNameDescUpdate}),F=c("React").createElement(c("GriffinButton"),{label:i._("Cancelar"),onClick:this._cancelParamNameDesc,size:"xlarge"}),G=c("React").createElement(c("GriffinButton"),{label:i._("Aceptar"),onClick:this._saveParamNameDesc,size:"xlarge"}),H=[G,F];return c("React").createElement(c("GriffinDialog"),{title:i._("Editar par\u00e1metro"),text:E,footerButtons:H,onClose:function(){return this.setState({showEditDialog:false})}.bind(this)})},_paramNameDescUpdate:function D(E,F){this.setState({paramNameUnsaved:E,paramDescUnsaved:F})},_cancelParamNameDesc:function D(){c("InsightsEventLogger").logEvent({eventName:"appevents_edit_params_cancel",event:this._paramOrEventName(),selected_params:this.state.selectedParams.count(),active_params:this.state.activeParams.count(),inactive_params:this.state.inactiveParams.count()});this.setState({showEditDialog:false})},_saveParamNameDesc:function D(){c("InsightsEventLogger").logEvent({eventName:"appevents_edit_params_confirm",event:this._paramOrEventName(),selected_params:this.state.selectedParams.count(),active_params:this.state.activeParams.count(),inactive_params:this.state.inactiveParams.count()});this.setState({showEditDialog:false});if(!this.state.paramToEdit)return;if(this.props.paramName){var E,F=(E={},E[this.state.paramToEdit]={display_name:this.state.paramNameUnsaved,description:this.state.paramDescUnsaved},E);c("CustomEventActions").addParamNameValueDescChange(this.props.eventName,this.props.paramName,F)}else{var G={name:this.state.paramToEdit,display_name:this.state.paramNameUnsaved,description:this.state.paramDescUnsaved};c("CustomEventActions").addParamNameDescChange(this.props.eventName,G)}this._setNewParamDetails()},_onSearchChange:function D(E){this.refs.table.onSearchChange(E)},_onSelectorChange:function D(E){this.setState({activeSelection:E,selectedParams:c("immutable").Map()})},_handleCheckBoxEvent:function D(E,event){if(E.checked)this._handleRemove(E);else this._handleAdd(E)},_handleAdd:function D(E){this.setState({selectedParams:this.state.selectedParams.set(E.value,E)})},_handleRemove:function D(E){this.setState({selectedParams:this.state.selectedParams["delete"](E.value)})},_addParamsToToggle:function D(E,F){var G=A.filter(function(I){return E.indexOf(I)<0}),H=B.filter(function(I){return F.indexOf(I)<0});G=G.toJS().map(function(I){return I.name});H=H.toJS().map(function(I){return I.name});c("CustomEventActions").addParamsToToggle(this.props.eventName,G,H);this.setState({activeParams:E,inactiveParams:F,selectedParams:c("immutable").Map()})},_handleDeactivation:function D(){if(this.state.selectedParams.size===0)return;var E=[],F=this.state.inactiveParams.toJS();this.state.activeParams.forEach(function(G){if(this.state.selectedParams.has(G.get("name")))F.push(G);else E.push(G)}.bind(this));this._addParamsToToggle(c("immutable").fromJS(E),c("immutable").fromJS(F))},_handleActivation:function D(){if(this.state.selectedParams.size===0)return;var E=this.state.activeParams.toJS(),F=[];this.state.inactiveParams.forEach(function(G){if(this.state.selectedParams.has(G.get("name")))E.push(G);else F.push(G)}.bind(this));this._addParamsToToggle(c("immutable").fromJS(E),c("immutable").fromJS(F))},_paramOrEventName:function D(){return this.props.paramName?this.props.paramName:this.props.eventName}});f.exports=C}),null);
__d("FalcorEditNameDescriptionCard",["cx","fbt","AnalyticsCard","InsightsEventLogger","React","SUIBusinessTheme","SUITextInput.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m={NAME:"name",DESCRIPTION:"description"},n=320,o=50;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={name:this.props.displayName||"",description:this.props.description||""},this.$FalcorEditNameDescriptionCard1=function(v,w){if(w===m.DESCRIPTION){this.setState({description:v});this.props.onChange(this.state.name,v)}else{this.setState({name:v});this.props.onChange(v,this.state.description)}}.bind(this),r}p.prototype.componentDidMount=function(){"use strict";c("InsightsEventLogger").logCardView("edit_name_description",{event:this.props.name})};p.prototype.render=function(){"use strict";var q=c("React").createElement("div",null,c("React").createElement("div",{className:"_2pio"},c("React").createElement("div",{className:"_3423 _2pin"},i._("NOMBRE")),c("React").createElement("div",{className:"_14ig"},c("React").createElement("div",{className:"_14ii"},this.props.name))),c("React").createElement("div",{className:"_3423 _2pin"},i._("NOMBRE PARA MOSTRAR")),c("React").createElement(c("XUITextInput.react"),{className:"_14ij",defaultValue:this.props.displayName,height:"tall",onChange:function(event){return this.$FalcorEditNameDescriptionCard1(event.target.value,m.NAME)}.bind(this),placeholder:this.props.displayName,size:o}),c("React").createElement("div",{className:"_3423 _2pin _2pif"},i._("DESCRIPCI\u00d3N")),c("React").createElement("div",null,c("React").createElement(c("SUITextInput.react"),{theme:c("SUIBusinessTheme"),className:"_14ij",placeholder:this.props.description,value:this.state.description,onChange:function(event){return this.$FalcorEditNameDescriptionCard1(event,m.DESCRIPTION)}.bind(this),maxLength:n})));return c("React").createElement(c("AnalyticsCard"),{showLine:true},q)};p.propTypes={name:l.string.isRequired,displayName:l.string.isRequired,description:l.string.isRequired,onChange:l.func.isRequired};f.exports=p}),null);
__d("GriffinCustomEventsOverviewKeyEventsCard",["cx","fbt","AnalyticsQueryAggregationMethod","AnalyticsCard","AnalyticsDateUtils","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AppCustomEventType","AppEventMetricText","BonsaiColors","BonsaiErrorNotice","CustomEventStore","FalcorLoadingCard","Grid.react","AnalyticsKPIChartCell","GriffinSegmentUtils","InsightsNumUtils","InsightsUtils","React","SUIAtlasTheme","SUITable.react","areEqual","isEmpty","keyMirrorRecursive"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("keyMirrorRecursive")({COUNT:"",VALUE:"",UNIQUES:"",VALUE_PER_USER:"",VALUE_PER_EVENT:"",COUNT_PER_USER:""}),k=c("React").createClass({displayName:"GriffinCustomEventsOverviewKeyEventsCard",mixins:[c("AnalyticsQueryDataFetcherMixin")],getInitialState:function l(){return{comparisonData:null,comparisonError:null,data:null,error:null,popData:null,popError:null}},componentWillReceiveProps:function l(m){var n=this._shouldFetchData(this.props,m)||!c("areEqual")(this.props.segment,m.segment)||!c("areEqual")(this.props.comparisonSegment,m.comparisonSegment)||this.props.isComparing!==m.isComparing;if(n){this.setState(this.getInitialState());this._fetchData(m)}},_getQuery:function l(m,n,o,p,q){var r=m.analyticsEntityID,s=m.eventName,t=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(r).setEventName(s).setAggregations(this._getAggregations(m)).setFilters(c("GriffinSegmentUtils").getFilters(n)).setIntervalsToAggregate(0).setSince(c("AnalyticsDateUtils").getTimestampForQueryAPI(o.since)).setUntil(c("AnalyticsDateUtils").getTimestampForQueryAPI(o.until)).setTag("key_events_overview");return{query:t,onQueryData:function(u){var v;return this.setState((v={},v[p]=u,v))}.bind(this),onQueryError:function(u){var v;return this.setState((v={},v[q]=u,v))}.bind(this)}},_getStandardQuery:function l(m){return this._getQuery(m,m.segment,m.visibleDateRange,"data","error")},_getComparisonQuery:function l(m){return this._getQuery(m,m.comparisonSegment,m.visibleDateRange,"comparisonData","comparisonError")},_getPeriodOverPeriodQuery:function l(m){var n=m.popDateRange,o=m.visibleDateRange;return this._getQuery(m,m.segment,n,"popData","popError")},_getQueries:function l(m){var n=m.isComparing,o=m.popDateRange,p=[this._getStandardQuery(m)];if(o)p.push(this._getPeriodOverPeriodQuery(m));if(n)p.push(this._getComparisonQuery(m));return p},_shouldShowUniqueUsers:function l(m){return m.eventName!=="fb_mobile_first_app_launch"},_getAggregations:function l(m){return!this._shouldShowUniqueUsers(m)?[c("AnalyticsQueryAggregationMethod").COUNT,c("AnalyticsQueryAggregationMethod").SUM,c("AnalyticsQueryAggregationMethod").USD_SUM]:[c("AnalyticsQueryAggregationMethod").COUNT,c("AnalyticsQueryAggregationMethod").SUM,c("AnalyticsQueryAggregationMethod").USD_SUM,c("AnalyticsQueryAggregationMethod").USERS]},_getMetrics:function l(){var m=this._getUseUSDSum(),n=m?"USD":undefined;return[{id:j.VALUE,title:c("AppEventMetricText").value_total[this.props.eventName]||c("AppEventMetricText").value_total["default"],totalFormula:function(o){return this._getValueTotal(o)}.bind(this),currencyCode:n},{id:j.COUNT,title:c("AppEventMetricText").count_total[this.props.eventName]||c("AppEventMetricText").count_total["default"],totalFormula:function o(p){var q=p.getTotals(),r=q.countTotal;return r}},{id:j.UNIQUES,title:c("AppEventMetricText").unique_users[this.props.eventName]||c("AppEventMetricText").unique_users["default"],totalFormula:function(o){return this._getUniqueTotal(o)}.bind(this)},{id:j.VALUE_PER_USER,title:c("AppEventMetricText").value_user_average[this.props.eventName]||c("AppEventMetricText").value_user_average["default"],totalFormula:function(o){var p=this._getValueTotal(o),q=this._getUniqueTotal(o);return p&&q?Math.round(p/q*10)/10:null}.bind(this),currencyCode:n},{id:j.VALUE_PER_EVENT,title:c("AppEventMetricText").value_event_average[this.props.eventName]||c("AppEventMetricText").value_event_average["default"],totalFormula:function(o){var p=o.getTotals(),q=p.countTotal,r=this._getValueTotal(o);return r&&q?Math.round(r/q*10)/10:null}.bind(this),currencyCode:n},{id:j.COUNT_PER_USER,title:c("AppEventMetricText").count_average[this.props.eventName]||c("AppEventMetricText").count_average["default"],totalFormula:function(o){var p=o.getTotals(),q=p.countTotal,r=this._getUniqueTotal(o);return q&&r?Math.round(q/r*10)/10:null}.bind(this)}]},_getUseUSDSum:function l(){var m=this.state.data;return Boolean(m&&m.getTotals().usdSumTotal)},_getValueTotal:function l(m){var n=this._getUseUSDSum(),o=m.getTotals(),p=o.sumTotal,q=o.usdSumTotal,r=n?q:p;return r},_getUniqueTotal:function l(m){return this._shouldShowUniqueUsers(this.props)?m.getUniquesTotalDangerously():0},_getSegmentTitle:function l(m){if(c("isEmpty")(m))return i._("Todos los usuarios");if(m.name)return m.name;return i._("Tu segmento")},_formatNumber:function l(m,n){if(n)return c("InsightsNumUtils").prettyShortCurrency(n,m);return Math.abs(m)>100?c("InsightsNumUtils").prettyShortInt(m):c("InsightsNumUtils").prettyFloat(Math.round(m*10)/10)},_renderComparisonTable:function l(){var m=this.props,n=m.segment,o=m.comparisonSegment,p=this.state,q=p.data,r=p.comparisonData,s=this._getMetrics().sort(this._compareMetricsForDisplayOrder).filter(function(u){var v=q&&u.totalFormula(q),w=r&&u.totalFormula(r);return v||w}),t=i._("No hay datos disponibles");return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("SUITable.react"),{theme:c("SUIAtlasTheme"),columns:[{id:"metric",label:i._("Resultado"),renderItem:function u(v){return v.title}},{id:"reference",label:this._getSegmentTitle(n),renderItem:function(u){var v=u.currencyCode,w=u.totalFormula;if(!q)return i._("-");var x=Number(w(q));return this._formatNumber(x,v)}.bind(this)},{id:"comparison",label:this._getSegmentTitle(o),renderItem:function(u){var v=u.currencyCode,w=u.totalFormula;if(!r)return i._("-");var x=Number(w(r));return this._formatNumber(x,v)}.bind(this)},{id:"difference",label:i._("Diferencia"),renderItem:function(u){var v=u.currencyCode,w=u.totalFormula;if(!(q&&r))return null;var x=Number(w(q))-Number(w(r)),y=void 0;if(x>0)y=c("BonsaiColors").ANALYTICS_GREEN;else if(x<0)y=c("BonsaiColors").ANALYTICS_RED;return c("React").createElement("span",{style:{color:y}},i._("{+ sign for positive numbers}{value}",[i.param("+ sign for positive numbers",x>0?"+":""),i.param("value",this._formatNumber(x,v))]))}.bind(this)}],items:s,noItemsMessage:t,totalItemCount:s.length}))},_compareMetricsForDisplayOrder:function l(m,n){var o=this.state.data&&this._getValueTotal(this.state.data)&&(c("CustomEventStore").isPurchaseEvent(this.props.eventName)||this.props.eventName===c("AppCustomEventType").FB_MOBILE_ADD_TO_CART),p=!o;if(p)if(m.id===j.UNIQUES)return-1;else if(n.id===j.UNIQUES)return 1;return 0},render:function l(){var m=this.props,n=m.isComparing,o=m.popDateRange,p=m.visibleDateRange;if(this.state.error)return c("React").createElement(c("BonsaiErrorNotice"),{message:this.state.error.getMessage(),className:"_3-8t"});var q=o&&!this.state.popData&&!this.state.popError,r=n&&!this.state.comparisonData&&!this.state.comparisonError;if(!this.state.data||q||r)return c("React").createElement(c("FalcorLoadingCard"),null);var s=this.state.data,t=this.state.popData;if(n)return this._renderComparisonTable();var u=p.since,v=p.until,w=c("InsightsUtils").millisecondsToDays(v-u),x=w===1?w:w+1,y=this._getMetrics().sort(this._compareMetricsForDisplayOrder).filter(function(z){return z.totalFormula(s)}).map(function(z){var A=z.currencyCode,B=z.id,C=z.title,D=z.totalFormula,E=D(s);if(!E)return null;var F=t?D(t):undefined;return c("React").createElement(c("AnalyticsKPIChartCell"),{key:B,visibleDataTotal:E,popDataTotal:F||undefined,title:C,numDaysInPeriod:x,currencyCode:A||undefined})});return c("React").createElement(c("AnalyticsCard"),{className:"_134q"},c("React").createElement(c("Grid.react"),{cols:3,alignv:"bottom",spacing:"phs"},y))}});f.exports=k}),null);
__d("HierarchicalAcquisitionSourceBreakdownTable",["invariant","AnalyticsAcquisitionSourceNames","AnalyticsCard","BonsaiApiBreakdown","BonsaiText","CustomEventBreakdownTableUtils","FalcorHeaderSelector","FalcorPaginatedDataTable","Link.react","React","Tooltip","isValidID","update"],(function a(b,c,d,e,f,g,h){var i,j,k=c("FalcorHeaderSelector").Item,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={selectedHierarchy:[]},this.onSearchChange=function(s){this.refs.falcorTable.onSearchChange(s)}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable2=function(s){var t=c("AnalyticsAcquisitionSourceNames").getBucketName(s.id);if(c("isValidID")(s.id))t+="\nID: "+s.id;var u=c("React").createElement("span",babelHelpers["extends"]({},c("Tooltip").propsFor(t),{"data-tooltip-delay":300}),s.name);if(!s.hasChildren)return u;return c("React").createElement(c("Link.react"),{onClick:this.$HierarchicalAcquisitionSourceBreakdownTable8.bind(this,s.id)},u)}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable3=function(s){if(!s)return null;var t=this.state.selectedHierarchy,u=Object.keys(s).filter(function(v){return s[v].children&&Object.keys(s[v].children).length>0}).map(function(v){return c("React").createElement(k,{key:v,value:v,label:c("AnalyticsAcquisitionSourceNames").getBucketName(v)})});return c("React").createElement(c("FalcorHeaderSelector"),{headerKey:"acquisition_source_table",activeTabKey:t[t.length-1],maxWidth:30,onItemChange:this.$HierarchicalAcquisitionSourceBreakdownTable9},u)}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable1=function(){switch(this.state.selectedHierarchy.length){case 0:return c("BonsaiApiBreakdown").ACQUISITION_SOURCE;case 1:return c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L1;case 2:return c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L2;case 3:return c("BonsaiApiBreakdown").ACQUISITION_SOURCE_L3;default:h(0);break}}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable6=function(){return this.props.getExportData(this.$HierarchicalAcquisitionSourceBreakdownTable1())}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable7=function(s){var t=/ +/g;return this.props.event.display_name.replace(t,"_").toLowerCase()+"_"+s.replace(t,"_")}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable4=function(s,t){return Object.keys(s).map(function(u){return babelHelpers["extends"]({},s[u].data,{bucket:{id:u,name:c("AnalyticsAcquisitionSourceNames").getBucketName(u,t?50:90),hasChildren:u!=="u"&&s[u].children&&Object.keys(s[u].children).length>0},searchKey:c("AnalyticsAcquisitionSourceNames").getBucketName(u)+u})})},this.$HierarchicalAcquisitionSourceBreakdownTable9=function(s){var t=this.state.selectedHierarchy.slice();t[t.length-1]=s;this.$HierarchicalAcquisitionSourceBreakdownTable10(t)}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable8=function(s){this.$HierarchicalAcquisitionSourceBreakdownTable10(c("update")(this.state.selectedHierarchy,{$push:[s]}))}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable5=function(){this.$HierarchicalAcquisitionSourceBreakdownTable10(this.state.selectedHierarchy.slice(0,this.state.selectedHierarchy.length-1))}.bind(this),this.$HierarchicalAcquisitionSourceBreakdownTable10=function(s){this.setState({selectedHierarchy:s});this.refs.falcorTable.onSearchChange({target:{value:""}})}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.state.selectedHierarchy,o=this.props.hierarchicalData,p=null;n.forEach(function(z){p=o;o=o[z].children});var q=Object.keys(o).some(function(z){return o[z].showUsdValues}),r=Object.keys(o).some(function(z){return o[z].data.value}),s=n.length>0?c("AnalyticsAcquisitionSourceNames").getBreakdownType(this.$HierarchicalAcquisitionSourceBreakdownTable1(),n[0]):"",t=c("CustomEventBreakdownTableUtils").getColumns(s,this.$HierarchicalAcquisitionSourceBreakdownTable2,function(z,A){return z.bucket.name.localeCompare(A.bucket.name)},r,q),u=this.$HierarchicalAcquisitionSourceBreakdownTable3(p),v=this.$HierarchicalAcquisitionSourceBreakdownTable4(o,r),w=n.length>1?c("AnalyticsAcquisitionSourceNames").getBucketName(n[n.length-2],20):c("BonsaiText").getBreakdownName("acquisition_source"),x=n.length>0?this.$HierarchicalAcquisitionSourceBreakdownTable5:null,y=this.state.selectedHierarchy.length===0;return c("React").createElement(c("AnalyticsCard"),{getExportData:this.$HierarchicalAcquisitionSourceBreakdownTable6,exportFilename:this.$HierarchicalAcquisitionSourceBreakdownTable7(s),dropDown:y?this.props.breakdownTypeDropdown:u,onClickBackButton:y?null:x,onSearchChange:function(z){return this.refs.falcorTable.onSearchChange(z)}.bind(this),showLine:false,title:y?null:w},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:"falcorTable",columns:t,columnToSortBy:"count",searchFieldName:"searchKey",rows:v,pageSize:Infinity}))};m.propTypes={event:l.object.isRequired,breakdownTypeDropdown:l.node,getExportData:l.func.isRequired,hierarchicalData:l.object.isRequired};f.exports=m}),null);
__d("FalcorDeveloperAPIBreakdownCard",["fbt","invariant","BonsaiApiBreakdown","BonsaiBreakdownChart","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLogCardViewMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").createClass({displayName:"FalcorDeveloperAPIBreakdownCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function k(){return this._getInitialCardState("api_error_rate")},componentWillMount:function k(){this.addMetric("api_calls_total","api_calls");this.addMetric("api_errors_total","api_errors");this.addMetric("api_avg_request_time","api_avg_request_time");this.fetchMetrics()},componentWillReceiveProps:function k(l){if(l.tab!==this.props.tab)this.setState({activeSection:l.tab})},_getHelptextMap:function k(){return{api_error_rate:"ApiDetailsErrorRate",api_calls:"ApiDetailsCalls",api_errors:"ApiDetailsErrors",api_request_time_avg:"ApiAverageRequestTime"}},_getKeyToLabel:function k(){return{api_error_rate:c("BonsaiText").api_error_rate,api_calls:c("BonsaiText").api_calls,api_errors:c("BonsaiText").api_errors,api_request_time_avg:c("BonsaiText").api_request_time_avg}},_getKeyToSection:function k(){var l=this.getData("api_calls_total"),m=this.getData("api_errors_total"),n=babelHelpers["extends"]({},this._getLegendProps(),{breakdown:c("BonsaiApiBreakdown").NONE});return{api_error_rate:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},n,{ref:"api_error_rate",data:m.divideBy(l),percentage:true,title:c("BonsaiText").api_error_rate,categories:[this._getHelptextMap().api_error_rate]}))),api_calls:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},n,{ref:"api_calls",data:l,title:c("BonsaiText").api_calls,categories:[this._getHelptextMap().api_calls]}))),api_errors:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},n,{ref:"api_errors",data:m,title:c("BonsaiText").api_errors,categories:[this._getHelptextMap().api_errors]}))),api_request_time_avg:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"api_request_time_avg",data:[this.getData("api_avg_request_time")],titles:[c("BonsaiText").api_request_time_avg_label],disableRangeSelection:true,categories:[this._getHelptextMap().api_request_time_avg]})))}},_renderCandela:function k(){var l={};switch(this.state.activeSection){case"api_error_rate":l={data:this.getData("api_errors_total").divideBy(this.getData("api_calls_total")),title:c("BonsaiText").api_error_rate,key:this.state.activeSection};break;case"api_calls":l={data:this.getData("api_calls_total"),title:c("BonsaiText").api_calls,key:this.state.activeSection};break;case"api_errors":l={data:this.getData("api_errors_total"),title:c("BonsaiText").api_errors,key:this.state.activeSection};break;case"api_request_time_avg":l={data:this.getData("api_avg_request_time"),title:c("BonsaiText").api_request_time_avg_label,key:this.state.activeSection};break;default:i(0)}this.setExportInfo([l],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false,isPercent:this.state.activeSection==="api_error_rate"})},_title:function k(){return h._("Uso y rendimiento de la API de Facebook")},_getParamsToLog:function k(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function k(l,m){return this.state.activeSection!==m.activeSection}});f.exports=j}),null);
__d("FalcorDeveloperSectionController",["FalcorDeveloperAPIBreakdownCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","OverviewDeveloperBar","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorDeveloperSectionController",statics:{getKey:function i(){return c("GriffinSections").DEVELOPERS}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewDeveloperBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig,o=j.tab;if(!n.hasAPICalls)return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"API"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("FalcorDeveloperAPIBreakdownCard"),{cardKey:"dev_api_breakdown",fullDateRange:l,key:"dev_api_breakdown",tab:o,visibleDateRange:m}))}});f.exports=h}),null);
__d("OverviewDeveloperBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewDeveloperBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").DEVELOPERS},getTitle:function j(){return h._("API")},getMetrics:function j(){return["api_calls","api_errors"]},getDataAdapters:function j(){var k=this.getData(1).divideBy(this.getData(0));return[k,this.getData(0),this.getData(1)]},getChartLocations:function j(){return[{card:"dev_api_breakdown",tab:"api_error_rate"},{card:"dev_api_breakdown",tab:"api_calls"},{card:"dev_api_breakdown",tab:"api_errors"}]},getPercentages:function j(){return[true,false,false]},getReverseDeltas:function j(){return[true,true,true]},getLabels:function j(){return[h._("Tasa de errores"),h._("Llamadas a la API"),h._("Errores")]}});f.exports=i}),null);
__d("FalcorAnalyticsFeatureSectionController",["fbt","invariant","AnalyticsDateUtils","AnalyticsNavigationUtils","FalcorAnalyticsFeatureUtils","FalcorCommonViews","GriffinButton","GriffinDefaultSectionController","GriffinHeaderActions","GriffinSections","InsightsContext","InsightsEventLogger","React","URI","isValidID"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k={featureID:j.string,view:j.string},l=c("React").createClass({displayName:"FalcorAnalyticsFeatureSectionController",propTypes:babelHelpers["extends"]({},k,{additionalHeaderProps:j.object,dateRangeType:j.string,entityStore:j.object.isRequired,fullDateRange:j.object,onRenderView:j.func.isRequired,section:j.string.isRequired,visibleDateRange:j.object}),containerPropTypes:babelHelpers["extends"]({},k),getInitialState:function m(){return{feature:null,featureList:null,featureListLoading:false,featureDeleted:false}},getDefaultProps:function m(){return{view:c("FalcorCommonViews").LIST}},componentDidUpdate:function m(n,o){if(!this.state.featureList)this._loadEntityList()},componentWillMount:function m(){var n=this.props.entityStore;n.setEntityChangeCallback(function(o){if(o!=this.state.feature&&this.isMounted()){this.setState({feature:o,featureDeleted:!o});this._updateTitle(this.props)}}.bind(this));n.setEntityDeletedCallback(function(){this.setState({featureDeleted:true})}.bind(this));n.setEntityID(this.props.featureID);n.setListChangeCallback(function(o){if(o!==this.state.featureList&&this.isMounted()){this.setState({featureList:o,featureListLoading:false});this._updateTitle(this.props)}}.bind(this));this._loadEntityList()},componentWillReceiveProps:function m(n){if(this.props.featureID!==n.featureID){n.entityStore.setEntityID(n.featureID);this._updateTitle(n)}},componentWillUnmount:function m(){this._clearTitleSelector()},render:function m(){var n=this._getViewFromProps(),o=this.state.feature||this.props.entityStore.newEntity(),p=this.props,q=p.fullDateRange,r=p.visibleDateRange;q!=null&&r!=null||i(0);var s=c("AnalyticsDateUtils").getTimePST_DO_NOT_USE(r.since),t=c("AnalyticsDateUtils").getTimePST_DO_NOT_USE(r.until),u=c("AnalyticsDateUtils").getPopDateRange(q,r),v=this.props.onRenderView(n,this.state.featureList,this.props.featureID,o,s,t,this._getSegmentID(),u);if(!v)i(0);var w=this._showSegmentsAndDatePicker(),x=this._getButtons().map(function(y){var z=y.disabled,A=y.href,B=y.onClick,C=y.text,D=y.use,E=function E(){B();if(A)new(c("URI"))(A).go()};return c("React").createElement(c("GriffinButton"),{disabled:z,label:C,onClick:E,use:D})});return c("React").createElement(c("GriffinDefaultSectionController"),babelHelpers["extends"]({},this.props,{buttons:x,showDatePicker:w,showSegments:w}),v)},_showSegmentsAndDatePicker:function m(){var n=this.props.view;if(n===c("FalcorCommonViews").LIST)return false;if(n===c("FalcorCommonViews").DETAILS)return true;return this._getIsAdHocSection()},_doesUserHavePermissionToSave:function m(n){if(this.props.view===c("FalcorCommonViews").EDIT&&!this.state.feature)return false;if(!n)return!c("InsightsContext").isReadOnly();else return c("InsightsContext").canUserCreateInternalObject()},_getIsAdHocSection:function m(){var n=this.props.section===c("GriffinSections").FUNNELS,o=this.props.section===c("GriffinSections").COHORTS,p=this.props.section===c("GriffinSections").BREAKDOWN_TABLE;return n||o||p},_getButtons:function m(){var n=this._getViewFromProps(),o=[],p=c("FalcorAnalyticsFeatureUtils").getUserPermissions(this.props.section,n,this.state.feature),q=this._getIsAdHocSection();if(q){if(n===c("FalcorCommonViews").CREATE)return[];return[this._getCreateButton(p.canCreate)]}switch(n){case c("FalcorCommonViews").LIST:o=[this._getCreateButton(p.canCreate)];break;case c("FalcorCommonViews").DETAILS:o=[this._getCreateButton(p.canCreate),this._getEditButton(p.canEdit)];break;case c("FalcorCommonViews").EDIT:o=[this._getSaveButton(p.canSave),this._getDeleteButton(p.canDelete),this._getCancelButton(c("FalcorCommonViews").DETAILS)];break;case c("FalcorCommonViews").CREATE:o=[this._getSaveInternalButton(p.canSaveInternal),this._getSaveButton(p.canSave),this._getCancelButton(c("FalcorCommonViews").LIST)]}return o.filter(function(r){return r!==null})},_getCreateButton:function m(n){var o=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,null,c("FalcorCommonViews").CREATE,{subsection:this.props.activeSubsection}),p=h._("Crear nuevo");switch(this.props.section){case c("GriffinSections").COHORTS:p=h._("Crear grupo");break;case c("GriffinSections").FUNNELS:p=h._("Crear embudo");break;case c("GriffinSections").BREAKDOWN_TABLE:p=h._("Crear desglose");break}var q={disabled:!n,onClick:function(r){this._logHeaderButtonClick("create");this.setState({feature:null})}.bind(this),href:o.toString(),text:p,use:"confirm"};return q},_getEditButton:function m(n){if(this.props.section===c("GriffinSections").BREAKDOWN_TABLE)return null;var o=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,this.props.featureID,c("FalcorCommonViews").EDIT,{subsection:this.props.activeSubsection}).toString(),p={disabled:!n,onClick:this._logHeaderButtonClick.bind(this,"edit"),href:o,text:h._("Editar")};return p},_getSaveButton:function m(n){this.props.view===c("FalcorCommonViews").EDIT||this.props.view===c("FalcorCommonViews").CREATE||i(0);var o={disabled:!n,onClick:this._onSave,text:h._("Guardar"),use:"confirm"};return o},_getSaveInternalButton:function m(n){this.props.view===c("FalcorCommonViews").CREATE||i(0);if(!n)return null;var o={onClick:this._onSaveInternal,text:h._("Guardar como interno"),use:"confirm"};return o},_getDeleteButton:function m(n){var o={disabled:!n,onClick:this._onDelete,text:h._("Eliminar")};return o},_getCancelButton:function m(n){var o=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,this.state.feature&&this.state.feature.id,n,{subsection:this.props.activeSubsection}).toString(),p={onClick:this._logHeaderButtonClick.bind(this,"cancel"),href:o,text:h._("Cancelar")};return p},_getViewFromProps:function m(){switch(this.props.view){case c("FalcorCommonViews").CREATE:case c("FalcorCommonViews").LIST:return this.props.view;case c("FalcorCommonViews").DETAILS:case c("FalcorCommonViews").EDIT:this.props.featureID&&c("isValidID")(this.props.featureID)||i(0);return this.props.view;default:return this.props.featureID?c("FalcorCommonViews").DETAILS:c("FalcorCommonViews").LIST}},_updateTitle:function m(n){var o=n.featureID,p=n.isTopLevelSection,q=o&&!p&&!this.state.featureDeleted;if(q){var r=this._buildFeatureUrlList();c("GriffinHeaderActions").updateFeatureAndList(o,r)}else this._clearTitleSelector()},_clearTitleSelector:function m(){c("GriffinHeaderActions").updateFeatureAndList()},_buildFeatureUrlList:function m(){var n=[];if(!this.state.featureList)return[];for(var o=0;o<this.state.featureList.length;o++){var p=this.state.featureList[o];n.push({id:p.id,displayName:p.name,url:c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,p.id,c("FalcorCommonViews").DETAILS,{subsection:this.props.activeSubsection}).toString()})}return n},_loadEntityList:function m(n){if(this.state.featureListLoading)return;if(this.isMounted())this.setState({featureListLoading:true});this.props.entityStore.loadEntityList(n)},_resetEntityList:function m(){if(this.isMounted())this.setState({featureList:null,featureListLoading:false})},_showDateSelector:function m(){if(this._getIsAdHocSection())return this._getViewFromProps()!==c("FalcorCommonViews").LIST;return this._getViewFromProps()===c("FalcorCommonViews").DETAILS},_onEntityCreated:function m(n){var o=this._getSegmentID(),p=o?{segmentID:o}:{};p.subsection=this.props.activeSubsection;if(this.props.entityStore.setAutoDownloadReportID)this.props.entityStore.setAutoDownloadReportID(n.id);this._loadEntityList(function(){c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,n.id,c("FalcorCommonViews").DETAILS,p).go()}.bind(this))},_onSave:function m(){c("FalcorAnalyticsFeatureUtils").saveEntity(this.props.section,this.props.entityStore,this.state.feature,this.props.view,this._onEntityCreated,function(n){if(this.props.entityStore.setAutoDownloadReportID)this.props.entityStore.setAutoDownloadReportID(this.state.feature.id);this._resetEntityList();c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,this.state.feature.id,c("FalcorCommonViews").DETAILS,{subsection:this.props.activeSubsection}).go()}.bind(this))},_onSaveInternal:function m(){c("FalcorAnalyticsFeatureUtils").saveInternalEntity(this.props.section,this.props.entityStore,this.state.feature,this.props.view,this._onEntityCreated)},_onDelete:function m(){this.setState({featureDeleted:true});c("FalcorAnalyticsFeatureUtils").deleteEntity(this.props.section,this.props.entityStore,this.state.feature,this.props.view,function(){this._resetEntityList();c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,null,null,{subsection:this.props.activeSubsection}).go()}.bind(this))},_getSegmentID:function m(){var n=c("URI").getRequestURI(),o=n.getQueryData();return o.segment_id},_logHeaderButtonClick:function m(n){var o=c("InsightsContext").getActiveSectionName().toLowerCase();c("InsightsEventLogger").logEvent({eventName:o+"_"+n+"_click",feature_id:this.props.featureID?this.props.featureID:null,view:this.props.view?this.props.view.toLowerCase():null})}});f.exports=l}),null);
__d("GEPushAPNSActions",["AnalyticsDispatcher","AnalyticsActionType"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").PUSH.APNS,i=function i(k,l){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({type:k},l)})},j={handleFetch:function k(){i(h.FETCH)},handleCreate:function k(l){i(h.CREATE,l)},handleCreateComplete:function k(l){i(h.CREATE_COMPLETE,l)},handleFetchComplete:function k(l){i(h.FETCH_COMPLETE,l)},handleDelete:function k(l){i(h.DELETE,l)},handleDeleteComplete:function k(l){i(h.DELETE_COMPLETE,l)},handleError:function k(l){i(h.ERROR,l)},handleErrorValidate:function k(l){i(h.ERROR_VALIDATE,l)},handleValidate:function k(l){i(h.VALIDATE,l)},handleValidateComplete:function k(l){i(h.VALIDATE_COMPLETE,l)}};f.exports=j}),null);
__d("XAnalyticsPushNotificationsPushTestController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/analytics/push/test/",{})}),null);
__d("GEPushAPNSDataManager",["fbt","AnalyticsErrorCodes","AsyncRequest","GEPushAPNSActions","GEPushServiceType","InsightsApiAccess","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","XAnalyticsPushNotificationsPushTestController"],(function a(b,c,d,e,f,g,h){"use strict";var i={create:h._("Ha habido un problema al guardar tu certificado"),"delete":h._("Ha habido un problema al eliminar tus certificados"),fetch:h._("Ha habido un problema al recuperar tus certificados"),validate:h._("Se ha producido un problema al validar tu certificado")},j=c("InsightsGraphAPIConstants").ANALYTICS_APNS_CREDENTIALS_EDGE,k=c("InsightsGraphAPIConstants").ANALYTICS_APNS_CREDENTIALS_NODE,l=function l(){return{access_token:c("InsightsContext").getBonsaiApiAccess().accessToken}},m={createCred:function n(o){c("InsightsGraphAPI").appEdgePost(j,babelHelpers["extends"]({p12:o},l())).done(function(p){var q=p.id;c("InsightsGraphAPI").objectGet(k,q,l()).done(function(r){c("GEPushAPNSActions").handleCreateComplete({data:r})},function(r){c("GEPushAPNSActions").handleError({errorMessage:i.create})})},function(p){var q=void 0;if(p.code===c("AnalyticsErrorCodes").ANALYTICS_PUSH_CERT_EXPIRED)q=h._("El certificado ha caducado");else if(p.code===c("AnalyticsErrorCodes").ANALYTICS_PUSH_CERT_BAD_FORMAT)q=h._("El certificado est\u00e1 protegido con contrase\u00f1a o el archivo subido no tiene el formato PKCS12");else if(p.code===c("AnalyticsErrorCodes").ANALYTICS_PUSH_CERT_INVALID)q=h._("No podemos usar este certificado porque tiene una entrada no v\u00e1lida en el campo \"Common Name\" (CN). Aseg\u00farate de que el campo CN de este certificado solo usa el valor \"Apple Development IOS Push Services\".");else q=i.create;c("GEPushAPNSActions").handleError({errorMessage:q})})},fetchCreds:function n(){c("InsightsGraphAPI").appEdgeGet(j,l()).done(function(o){c("GEPushAPNSActions").handleFetchComplete({data:o.data})},function(o){c("GEPushAPNSActions").handleError({errorMessage:i.fetch})})},deleteCred:function n(o){c("InsightsGraphAPI").objectRemove(o,l()).done(function(p){var q=p.success;if(q)c("GEPushAPNSActions").handleDeleteComplete({id:o});else c("GEPushAPNSActions").handleError({errorMessage:i["delete"]})},function(p){c("GEPushAPNSActions").handleError({errorMessage:i["delete"]})})},validateCred:function n(o,p,q){new(c("AsyncRequest"))().setURI(c("XAnalyticsPushNotificationsPushTestController").getURIBuilder().getURI()).setData({access_token:c("InsightsApiAccess").accessToken,app_id:c("InsightsContext").getObjID(),payload:p.payload,push_token:p.device_token,push_service:c("GEPushServiceType").APNS,bundle_id:p.bundle_identifier}).setMethod("POST").setHandler(function(r){if(r.payload.errorDescription)c("GEPushAPNSActions").handleErrorValidate({errorMessage:r.payload.errorDescription,processingState:q});else c("GEPushAPNSActions").handleValidateComplete({id:o,validateDevice:r.payload,processingState:q})}).setErrorHandler(function(r){c("GEPushAPNSActions").handleErrorValidate({errorMessage:h._("Se ha producido un error desconocido"),processingState:q})}).send()}};f.exports=m}),null);
__d("GEPushAPNSReduceStore",["AnalyticsDispatcher","FluxReduceStore","immutable","AnalyticsActionType","GEPushAPNSDataManager"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").PUSH.APNS,m=c("immutable").List,n={loading:false,creds:null,errorMessage:null,uploadInProgress:false,processingPush:false,processingPushCard:false,statusCode:0,statusMessage:""},o=c("GEPushAPNSDataManager").createCred,p=c("GEPushAPNSDataManager").fetchCreds,q=c("GEPushAPNSDataManager").deleteCred,r=c("GEPushAPNSDataManager").validateCred;h=babelHelpers.inherits(s,c("immutable").Record(n));i=h&&h.prototype;function s(){h.apply(this,arguments)}j=babelHelpers.inherits(t,c("FluxReduceStore"));k=j&&j.prototype;t.prototype.getInitialState=function(){return new s()};t.prototype.reduce=function(u,v){var w=v.action,x=void 0;switch(w.type){case l.CREATE:o(w.base64String);u=u.set("uploadInProgress",true);return u;case l.CREATE_COMPLETE:x=u.get("creds");if(x){x=x.unshift(w.data);u=u.set("creds",x)}else u=u.set("creds",m([w.data]));u=u.set("uploadInProgress",false);return u;case l.FETCH:if(!u.get("creds")&&!u.get("loading")){u=u.set("loading",true);p()}return u;case l.FETCH_COMPLETE:u=u.set("creds",m(w.data)).set("loading",false);return u;case l.DELETE:q(w.id);return u;case l.DELETE_COMPLETE:x=u.get("creds");if(x){x=x.filter(function(y,z){return y.id!==w.id});u=u.set("creds",x)}return u;case l.ERROR:u=u.set("errorMessage",w.errorMessage).set("loading",false).set("uploadInProgress",false);return u;case l.ERROR_VALIDATE:u=u.set("statusMessage",w.errorMessage).set(w.processingState,false);return u;case l.VALIDATE:u=u.set(w.processingState,true);r(w.id,w.params,w.processingState);return u;case l.VALIDATE_COMPLETE:u=u.set("statusMessage",w.validateDevice.error_description);u=u.set("statusCode",w.validateDevice.error_code).set(w.processingState,false);return u;default:return u}};t.prototype.getCreds=function(){return this.getState().creds};t.prototype.isLoading=function(){return this.getState().loading};t.prototype.getErrorMessage=function(){return this.getState().errorMessage};t.prototype.isUploadInProgress=function(){return this.getState().uploadInProgress};t.prototype.isProcessingPush=function(){return this.getState().processingPush};t.prototype.isProcessingPushCard=function(){return this.getState().processingPushCard};t.prototype.getStatusMessage=function(){return this.getState().statusMessage};t.prototype.getStatusCode=function(){return this.getState().statusCode};function t(){j.apply(this,arguments)}f.exports=new t(c("AnalyticsDispatcher"))}),null);
__d("GEPushCommonViews",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({CREATE:null,CREATE_AUDIENCE:null,CREATE_NOTIFICATION:null,CREATE_MESSAGE:null,EDIT:null,DETAILS:null,LIST:null});f.exports=h}),null);
__d("GEPushConstants",["fbt","memoize","URI"],(function a(b,c,d,e,f,g,h){var i=c("memoize")(function(){return new(c("URI"))(window.location.href)}),j=function j(){try{return i().getDomain()}catch(l){return"www.facebook.com"}},k={MILLISECONDS_IN_DAY:1e3*60*60*24,MILLISECONDS_IN_HOUR:1e3*60*60,SECONDS_IN_DAY:60*60*24,SECONDS_IN_HOUR:60*60,SECONDS_IN_MIN:60,LOCAL_TIME_LABEL:h._("en la hora local del destinatario"),CAMPAIGN_TYPE_LABEL:{oneoff:h._("\u00danica"),continuous:h._("Continua")},PREVIEW_DISCLAIMER:{PUSH:h._("Es posible que tu notificaci\u00f3n de inserci\u00f3n sea diferente a la de la vista previa anterior."),CARD:h._("Puede que tu notificaci\u00f3n en la aplicaci\u00f3n sea diferente a la de la vista previa anterior."),DEFAULT:h._("Puede que tus notificaciones sean diferentes a la de la vista previa anterior.")},IOS_DEVICE:"ios",ANDROID_DEVICE:"android",IPAD_DEVICE:"ipad",ONE_OFF:"oneoff",CONTINUOUS:"continuous",SIMPLE_PUSH:"simple_push",PUSH_CARD:"push_card",SEGMENT_REACH_DISCLAIMER:h._("* Las estad\u00edsticas reflejan el alcance m\u00e1ximo"),TEXTAREA_WIDTH:250,PREVIEW_STYLE:{IOS:"ios",ANDROID:"android"},DEFAULT_RIGHT_COLUMN_WIDTH:425,DETAILS_RIGHT_COLUMN_WIDTH:320,DETAILS_PUSH_CARD_RIGHT_MARGIN:30,CAMPAIGN_STATE_TYPES:{DRAFT:"DRAFT",SCHEDULED:"SCHEDULED",ACTIVE:"ACTIVE",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},STATE_MAP:{DRAFT:h._("Borrador"),SCHEDULED:h._("Programada"),ACTIVE:h._("Enviando"),CANCELLED:h._("Cancelado"),COMPLETED:h._("Completa")},PUSH_CARDS:{WIDTH:400,HEIGHT:700,SCALE:.675,SIZE:{SMALL:{WIDTH:.75,HEIGHT:.7},MEDIUM:{WIDTH:.83,HEIGHT:.9},LARGE:{WIDTH:1,HEIGHT:1}}},PUSH_CARD_PAYLOAD_LIMITS:{IOS:2048,ANDROID:4096},URI:{HELP_PUSH:"https://"+j()+"/help/analytics/1679885898939167",HELP_IN_APP:"https://"+j()+"/help/analytics/1050573188334438",HELP_ERROR:"https://"+j()+"/help/analytics/968699896561804"},APNS:"APNS",GCM:"GCM",ERROR_EVENT:"fb_gepush_push_error",PUSH_DELIVERED_EVENT:"fb_gepush_push_delivered",PROCESSED_TOKEN_EVENT:"fb_mobile_processed_push_token"};f.exports=k}),null);
__d("GEPushGCMActions",["AnalyticsDispatcher","AnalyticsActionType"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").PUSH.GCM,i=function i(k,l){c("AnalyticsDispatcher").dispatch({action:babelHelpers["extends"]({type:k},l)})},j={handleFetch:function k(){i(h.FETCH)},handleCreate:function k(l){i(h.CREATE,l)},handleCreateComplete:function k(l){i(h.CREATE_COMPLETE,l)},handleFetchComplete:function k(l){i(h.FETCH_COMPLETE,l)},handleDelete:function k(l){i(h.DELETE,l)},handleDeleteComplete:function k(l){i(h.DELETE_COMPLETE,l)},handleError:function k(l){i(h.ERROR,l)},handleErrorValidate:function k(l){i(h.ERROR_VALIDATE,l)},handleValidate:function k(l){i(h.VALIDATE,l)},handleValidateComplete:function k(l){i(h.VALIDATE_COMPLETE,l)}};f.exports=j}),null);
__d("GEPushGCMDataManager",["fbt","AsyncRequest","GEPushGCMActions","GEPushServiceType","InsightsApiAccess","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","XAnalyticsPushNotificationsPushTestController"],(function a(b,c,d,e,f,g,h){"use strict";var i={create:h._("Ha habido un problema al guardar tu clave de la API"),"delete":h._("Ha habido un problema al eliminar tu clave de la API"),fetch:h._("Ha habido un problema al recuperar la clave de la API"),validate:h._("Se ha producido un problema al validar tu clave de la API")},j=c("InsightsGraphAPIConstants").ANALYTICS_GCM_CREDENTIALS_EDGE,k=c("InsightsGraphAPIConstants").ANALYTICS_GCM_CREDENTIALS_NODE,l=function l(){return{access_token:c("InsightsContext").getBonsaiApiAccess().accessToken}},m={createCred:function n(o){c("InsightsGraphAPI").appEdgePost(j,babelHelpers["extends"]({api_key:o},l())).done(function(p){var q=p.id;c("InsightsGraphAPI").objectGet(k,q,l()).done(function(r){c("GEPushGCMActions").handleCreateComplete({data:r})},function(r){c("GEPushGCMActions").handleError({errorMessage:i.create})})},function(p){c("GEPushGCMActions").handleError({errorMessage:i.create})})},fetchCreds:function n(){c("InsightsGraphAPI").appEdgeGet(j,l()).done(function(o){c("GEPushGCMActions").handleFetchComplete({data:o.data})},function(o){c("GEPushGCMActions").handleError({errorMessage:i.fetch})})},deleteCred:function n(o){c("InsightsGraphAPI").objectRemove(o,l()).done(function(p){var q=p.success;if(q)c("GEPushGCMActions").handleDeleteComplete({id:o});else c("GEPushGCMActions").handleError({errorMessage:i["delete"]})},function(p){c("GEPushGCMActions").handleError({errorMessage:i["delete"]})})},validateCred:function n(o,p,q){new(c("AsyncRequest"))().setURI(c("XAnalyticsPushNotificationsPushTestController").getURIBuilder().getURI()).setData({access_token:c("InsightsApiAccess").accessToken,app_id:c("InsightsContext").getObjID(),payload:p.payload,push_token:p.device_token,push_service:c("GEPushServiceType").GCM}).setMethod("POST").setHandler(function(r){if(r.payload.errorDescription)c("GEPushGCMActions").handleErrorValidate({errorMessage:r.payload.errorDescription,processingState:q});else c("GEPushGCMActions").handleValidateComplete({id:o,validateDevice:r.payload,processingState:q})}).setErrorHandler(function(r){c("GEPushGCMActions").handleErrorValidate({errorMessage:h._("Se ha producido un error desconocido"),processingState:q})}).send()}};f.exports=m}),null);
__d("GEPushGCMReduceStore",["AnalyticsDispatcher","FluxReduceStore","immutable","AnalyticsActionType","GEPushGCMDataManager"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("AnalyticsActionType").PUSH.GCM,m=c("immutable").List,n={loading:false,creds:null,errorMessage:null,processingPush:false,processingPushCard:false,statusCode:0,statusMessage:""},o=c("GEPushGCMDataManager").createCred,p=c("GEPushGCMDataManager").fetchCreds,q=c("GEPushGCMDataManager").deleteCred,r=c("GEPushGCMDataManager").validateCred;h=babelHelpers.inherits(s,c("immutable").Record(n));i=h&&h.prototype;function s(){h.apply(this,arguments)}j=babelHelpers.inherits(t,c("FluxReduceStore"));k=j&&j.prototype;t.prototype.getInitialState=function(){return new s()};t.prototype.reduce=function(u,v){var w=v.action,x=void 0;switch(w.type){case l.CREATE:o(w.apiKey);return u;case l.CREATE_COMPLETE:x=u.get("creds");if(x){x=x.unshift(w.data);u=u.set("creds",x)}else u=u.set("creds",m(w.data));u=u.set("errorMessage",null);return u;case l.FETCH:if(!u.get("creds")&&!u.get("loading")){u=u.set("loading",true);p()}return u;case l.FETCH_COMPLETE:u=u.set("creds",m(w.data)).set("loading",false);return u;case l.DELETE:q(w.id);return u;case l.DELETE_COMPLETE:x=u.get("creds");if(x){x=x.filter(function(y,z){return y.id!==w.id});u=u.set("creds",x)}return u;case l.ERROR:u=u.set("errorMessage",w.errorMessage).set("loading",false);return u;case l.ERROR_VALIDATE:u=u.set("statusMessage",w.errorMessage).set(w.processingState,false);return u;case l.VALIDATE:u=u.set(w.processingState,true);r(w.id,w.params,w.processingState);return u;case l.VALIDATE_COMPLETE:u=u.set("statusMessage",w.validateDevice.error_description);u=u.set("statusCode",w.validateDevice.error_code).set(w.processingState,false);return u;default:return u}};t.prototype.getCreds=function(){return this.getState().creds};t.prototype.isLoading=function(){return this.getState().loading};t.prototype.getErrorMessage=function(){return this.getState().errorMessage};t.prototype.isProcessingPush=function(){return this.getState().processingPush};t.prototype.isProcessingPushCard=function(){return this.getState().processingPushCard};t.prototype.getStatusMessage=function(){return this.getState().statusMessage};t.prototype.getStatusCode=function(){return this.getState().statusCode};function t(){j.apply(this,arguments)}f.exports=new t(c("AnalyticsDispatcher"))}),null);
__d("GEPushFeatureSectionController",["cx","fbt","invariant","AnalyticsNavigationUtils","FalcorLoadingCard","FluxContainer","GriffinHeaderActions","GEPushAPNSActions","GEPushAPNSReduceStore","GEPushCommonViews","GEPushGCMActions","GEPushGCMReduceStore","GriffinButton","GriffinEmptyStateCard","GriffinSectionController","GriffinSectionHeader","GriffinSections","GriffinWizardSectionHeader","InsightsContext","InsightsEventLogger","PageTransitions","React","SimpleXUIDialog","isValidID","GEPushConstants"],(function a(b,c,d,e,f,g,h,i,j){var k,l=c("React").PropTypes,m=c("GriffinSections").GEPUSH,n=c("GriffinSections").GEPUSH_IN_APP,o=c("GEPushConstants").SIMPLE_PUSH,p=c("GEPushConstants").PUSH_CARD,q=(k={},k[m]=[c("GEPushCommonViews").CREATE_AUDIENCE,c("GEPushCommonViews").CREATE_NOTIFICATION],k[n]=[c("GEPushCommonViews").CREATE_AUDIENCE,c("GEPushCommonViews").CREATE_NOTIFICATION,c("GEPushCommonViews").CREATE_MESSAGE],k),r={featureID:l.string,view:l.string,subView:l.string},s=c("React").createClass({displayName:"GEPushFeatureSectionController",statics:{getStores:function t(){return[c("GEPushAPNSReduceStore"),c("GEPushGCMReduceStore")]},calculateState:function t(u){return{certificates:c("GEPushAPNSReduceStore").getCreds(),gcmIds:c("GEPushGCMReduceStore").getCreds()}},containerPropTypes:r},propTypes:babelHelpers["extends"]({},r,{additionalHeaderProps:l.any,section:l.string.isRequired,onRenderView:l.func.isRequired,entityStore:l.object,possibleStores:l.array.isRequired,validForm:l.bool.isRequired,hasValidForm:l.func.isRequired,onStartForm:l.func.isRequired,onBeforeSave:l.func.isRequired,onAfterSave:l.func.isRequired,onSaveError:l.func.isRequired,onCancel:l.func.isRequired,onChangeSubView:l.func.isRequired}),containerPropTypes:r,getDefaultProps:function t(){return{subView:c("GEPushCommonViews").CREATE_AUDIENCE}},getInitialState:function t(){return{feature:null,featureList:null,featureListLoading:false}},componentWillReceiveProps:function t(u){if(this.props.featureID!==u.featureID){u.entityStore.setEntityID(u.featureID);this._updateTitle(u)}if(this.props.entityStore!==u.entityStore&&u.entityStore!==null)this._loadEntityList(u.entityStore)},componentWillMount:function t(){c("GEPushAPNSActions").handleFetch();c("GEPushGCMActions").handleFetch();this.props.possibleStores.map(function(u){u.setEntityChangeCallback(function(v){if(v!=this.state.feature)this.setState({feature:v})}.bind(this));u.setEntityID(this.props.featureID);u.setListChangeCallback(function(v){if(v!==this.state.featureList){this.setState({featureList:v,featureListLoading:false});this._updateTitle(this.props)}}.bind(this))}.bind(this));if(this.props.entityStore)this._loadEntityList(this.props.entityStore)},componentWillUnmount:function t(){this._clearTitleSelector()},_updateTitle:function t(u){var v=u.featureID,w=u.isTopLevelSection,x=v&&!w;if(x){var y=this._buildFeatureUrlList();c("GriffinHeaderActions").updateFeatureAndList(v,y)}else this._clearTitleSelector()},_clearTitleSelector:function t(){c("GriffinHeaderActions").updateFeatureAndList()},_hasValidCredentials:function t(){var u=!!(this.state.gcmIds&&this.state.gcmIds.size===0),v=!!(this.state.certificates&&this.state.certificates.size===0);return!(u&&v)},_getSteps:function t(){var u=[{value:c("GEPushCommonViews").CREATE_AUDIENCE,label:i._("P\u00fablico")},{value:c("GEPushCommonViews").CREATE_NOTIFICATION,label:i._("Notificaci\u00f3n")}];if(this.props.section===c("GriffinSections").GEPUSH_IN_APP)u.push({value:c("GEPushCommonViews").CREATE_MESSAGE,label:i._("Notificaci\u00f3n en la aplicaci\u00f3n")});return u},_renderHeader:function t(){var u=this._getViewFromProps(),v=this._getButtons().map(function(x){var y=x.text,z=x.disabled,A=x.onClick,B=x.use;return c("React").createElement(c("GriffinButton"),{disabled:z,label:y,onClick:A,use:B})});if(u===c("GEPushCommonViews").DETAILS)return null;else if(u===c("GEPushCommonViews").CREATE){var w=this.props.subView;return c("React").createElement(c("GriffinWizardSectionHeader"),{onBack:this._onBack,onCancel:this._onCancel,onNext:this._onNext,onSave:this._onSave,selectedStep:w,steps:this._getSteps()})}return c("React").createElement(c("GriffinSectionHeader"),{buttons:v})},componentDidUpdate:function t(){var u=this._getViewFromProps();if(u===c("GEPushCommonViews").CREATE){c("PageTransitions").removeHandler(this._unsavedCampaignTransitionHandler);c("PageTransitions").registerHandler(this._unsavedCampaignTransitionHandler)}},render:function t(){var u=this._getViewFromProps(),v=void 0;if(this.state.certificates===null||this.state.gcmIds===null){var w=i._("cargando notificaciones");v=c("React").createElement(c("FalcorLoadingCard"),{key:"loading",text:w})}else if(!this._hasValidCredentials())v=c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:"PushCredentials"});else{var x=this.state.feature;if(!this.state.feature){var y=this.props.entityStore;if(y){var z=y.getEntityConfiguration();if(z)x=z;else x=y.newEntity({id:this.props.featureID})}}var A=c("InsightsContext").getCalypsoMaxDateRangeStartDate().getTime()/1e3,B=c("InsightsContext").getCalypsoMaxDateRangeEndDate().getTime()/1e3,C={since:c("InsightsContext").getCalypsoMaxDateRangeStartDate(),until:c("InsightsContext").getCalypsoMaxDateRangeEndDate()};v=this.props.onRenderView(u,this.props.subView,this.state.featureList,this.props.featureID,x,A,B,C,C)}!!v||j(0);var D=this._renderHeader();return this.props.entityStore?c("React").createElement(c("GriffinSectionController"),{header:D},v):null},_getButtons:function t(){if(!this._hasValidCredentials())return[];var u=this._getViewFromProps(),v=this.props.subView,w=[];switch(u){case c("GEPushCommonViews").LIST:if(this.props.section===c("GriffinSections").GEPUSH_IN_APP)w.push(this._getCreatePushCardButton());else w.push(this._getCreateSimplePushButton());break;case c("GEPushCommonViews").CREATE:var x=q[this.props.section],y=x.indexOf(v);if(this.props.section===m)switch(y){case 0:w=[this._getCancelButton(),this._getNextButton(x[y+1],x[y])];break;case 1:w=[this._getPreviousButton(x[y-1]),this._getSaveButton()];break}else switch(y){case 0:w=[this._getCancelButton(),this._getNextButton(x[y+1],x[y])];break;case 1:w=[this._getPreviousButton(x[y-1]),this._getNextButton(x[y+1],x[y])];break;case 2:w=[this._getPreviousButton(x[y-1]),this._getSaveButton()];break}}return w},_generateCreateButtonOnClickEventHandler:function t(u,v){var w=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,null,c("GEPushCommonViews").CREATE);return function(x){x.preventDefault();this._logHeaderButtonClick(v);this.setState({feature:null},function(){return w.go()});window.onbeforeunload=function(){return"If you leave your push campaign now, it won't be saved."};if(u!==null)this.props.onChangeSubView(u)}.bind(this)},_getCreateSimplePushButton:function t(){return{disabled:false,onClick:this._generateCreateButtonOnClickEventHandler(c("GEPushCommonViews").CREATE_AUDIENCE,"createSimplePush").bind(this),text:i._("Crear notificaci\u00f3n de inserci\u00f3n"),use:"confirm"}},_getCreatePushCardButton:function t(){return{disabled:false,onClick:this._generateCreateButtonOnClickEventHandler(null,"createPushCard").bind(this),text:i._("Crear notificaci\u00f3n en la aplicaci\u00f3n"),use:"confirm"}},_onNext:function t(u){u.preventDefault();var v=this.props.subView,w=q[this.props.section],x=w.indexOf(v),y=w[x+1];if(!this.props.hasValidForm(v))this.props.onStartForm(v);else{this._logHeaderButtonClick("nextPushStep");this.props.onChangeSubView(y)}},_getNextButton:function t(u,v){var w={disabled:false,onClick:this._onNext,text:i._("Siguiente"),use:"confirm"};return w},_onBack:function t(u){u.preventDefault();var v=q[this.props.section],w=v.indexOf(this.props.subView),x=v[w-1];this._logHeaderButtonClick("previousPushStep");this.props.onChangeSubView(x)},_getPreviousButton:function t(u){var v={disabled:false,onClick:this._onBack,text:i._("Volver")};return v},_getSaveButton:function t(){this.props.view===c("GEPushCommonViews").EDIT||this.props.view===c("GEPushCommonViews").CREATE||j(0);var u={disabled:false,onClick:this._onSave,text:i._("Siguiente"),use:"confirm"};return u},_onCancelDialog:function t(u){var v=i._("Si sales ahora de tu campa\u00f1a de inserci\u00f3n, no se guardar\u00e1. \u00bfQuieres salir sin terminarla?"),w=i._("\u00bfSalir de esta campa\u00f1a?");function x(y){if(y){window.onbeforeunload=null;c("PageTransitions").removeHandler(this._unsavedCampaignTransitionHandler);u.go(true)}}this._logHeaderButtonClick("cancel");c("SimpleXUIDialog").showConfirm(v,w,x.bind(this))},_onCancel:function t(){var u=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,null,null);this.props.onCancel();this._onCancelDialog(u)},_getCancelButton:function t(){var u={onClick:this._onCancel,text:i._("Cancelar")};return u},_unsavedCampaignTransitionHandler:function t(u){var v=u.getQueryData().section,w=this.props.section;if(v===w)return false;this._onCancelDialog(u);c("PageTransitions").transitionComplete();return true},_getViewFromProps:function t(){switch(this.props.view){case c("GEPushCommonViews").CREATE:case c("GEPushCommonViews").LIST:return this.props.view;case c("GEPushCommonViews").DETAILS:case c("GEPushCommonViews").EDIT:this.props.featureID&&c("isValidID")(this.props.featureID)||j(0);return this.props.view;default:return this.props.featureID?c("GEPushCommonViews").DETAILS:c("GEPushCommonViews").LIST}},_buildFeatureUrlList:function t(){var u=[];if(this.state.featureList)for(var v=0;v<this.state.featureList.length;v++){var w=this.state.featureList[v];u.push({id:w.id,displayName:w.name,url:c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,w.id,c("GEPushCommonViews").DETAILS,{}).toString()})}return u},_loadEntityList:function t(u){if(this.state.featureListLoading)return;this.setState({featureListLoading:true});var v=this.props.section===c("GriffinSections").GEPUSH_IN_APP?p:o;u.loadEntityList(null,v)},_resetEntityList:function t(){this.setState({featureList:null,featureListLoading:false})},_onEntityCreated:function t(u){if(u.error){this.props.onSaveError(u.error);return}this._resetEntityList();this.props.onAfterSave();c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,u.id,c("GEPushCommonViews").DETAILS,{}).go()},_onSave:function t(u){if(!this.props.hasValidForm(this.props.subView)){this.props.onStartForm(this.props.subView);u.preventDefault()}else{window.onbeforeunload=null;this._logHeaderButtonClick("save");if(this.state.feature&&this.state.feature.isValid())if(this.props.subView===c("GEPushCommonViews").CREATE_NOTIFICATION||this.props.subView===c("GEPushCommonViews").CREATE_MESSAGE)this.props.onBeforeSave(function(){this.props.entityStore||j(0);if(this.props.section===c("GriffinSections").GEPUSH_IN_APP)this.props.entityStore.createCardEntity(this._onEntityCreated);else this.props.entityStore.createEntity(this._onEntityCreated)}.bind(this))}},_logHeaderButtonClick:function t(u){var v=c("InsightsContext").getActiveSectionName().toLowerCase();c("InsightsEventLogger").logEvent({eventName:v+"_"+u+"_click",feature_id:this.props.featureID?this.props.featureID:null,view:this.props.view?this.props.view.toLowerCase():null,subView:this.props.subView?this.props.subView.toLowerCase():null})}});f.exports=c("FluxContainer").create(s)}),null);
__d("FalcorDeleteDialog",["fbt","BonsaiConfig","React","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){var i={confirmDelete:function j(k,l){var m=c("React").createElement("div",null,h._("\u00bfSeguro que quieres eliminar esto? No podr\u00e1s recuperarlo m\u00e1s adelante.")),n=h._("\u00bfSeguro?");c("SimpleXUIDialog").showConfirm(m,n,l)}};f.exports=i}),null);
__d("FalcorAnalyticsFeatureUtils",["invariant","CustomEventStore","FalcorCommonViews","FalcorDeleteDialog","InsightsContext","InsightsEventLogger"],(function a(b,c,d,e,f,g,h){var i={canCreateObject:function j(){return!c("InsightsContext").isReadOnly()},canCreateInternalObject:function j(){return c("InsightsContext").canUserCreateInternalObject()},canDeleteObject:function j(k){return k?c("InsightsContext").canUserCreateInternalObject():!c("InsightsContext").isReadOnly()},canUpdateObject:function j(k){return i.canDeleteObject(k)},getUserPermissions:function j(k,l,m){var n={canCreate:false,canEdit:false,canSave:false,canSaveInternal:false,canDelete:false};if(c("CustomEventStore").appNeedsMoreEventsToCreateFeature(k))return n;n.canCreate=true;n.canEdit=true;if(l===c("FalcorCommonViews").CREATE){n.canSave=i.canCreateObject();n.canSaveInternal=i.canCreateInternalObject()}else if(l===c("FalcorCommonViews").EDIT){n.canSave=Boolean(m&&i.canUpdateObject(m.is_internal));n.canDelete=Boolean(m&&i.canDeleteObject(m.is_internal))}return n},saveEntity:function j(k,l,m,n,o,p){c("InsightsEventLogger").logEvent({eventName:k.toLowerCase()+"_save_click",feature_id:m&&m.id?m.id:null,view:n});if(m&&m.isValid()){if(n===c("FalcorCommonViews").CREATE)l.createEntity(m,o);else if(n===c("FalcorCommonViews").EDIT)l.saveEntity(p)}else l.updateEntityConfiguration({showValidationError:{$set:true}})},saveInternalEntity:function j(k,l,m,n,o){c("InsightsEventLogger").logEvent({eventName:k.toLowerCase()+"_save_internal_click",feature_id:null,view:n});if(m&&m.isValid())l.createInternalEntity(m,o);else l.updateEntityConfiguration({showValidationError:{$set:true}})},deleteEntity:function j(k,l,m,n,o){if(!m||!m.id)return;k=k.toLowerCase();c("InsightsEventLogger").logEvent({eventName:k+"_delete_click",feature_id:m.id,view:n});c("FalcorDeleteDialog").confirmDelete(m.name,function(p){m||h(0);if(p){c("InsightsEventLogger").logEvent({eventName:k+"_delete_confirmed_click",feature_id:m.id,view:n});l.deleteEntity(o)}else c("InsightsEventLogger").logEvent({eventName:k+"_delete_canceled_click",feature_id:m.id,view:n})})}};f.exports=i}),null);
__d("InsightsFunnelListCardController",["fbt","GriffinSections","FalcorFeatureTableCard","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.componentDidMount=function(){"use strict";if(this.props.funnelList&&this.props.funnelList.length!==0)c("InsightsEventLogger").logCardView("funnels_list",{})};k.prototype.render=function(){"use strict";var l=h._("Embudos");return c("React").createElement(c("FalcorFeatureTableCard"),{title:l,data:this.props.funnelList,section:c("GriffinSections").FUNNELS,showEditButton:false,helpKey:"FunnelsListView"})};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("FalcorFunnelsTableMixin",[],(function a(b,c,d,e,f,g){var h={getColumns:function i(j){var k=[{id:"rowHeader",label:""}],l=j.getEvents(),m=j.getEventDisplayNames();for(var n=0;n<l.length;n++)k.push({id:l[n]+n,label:m[n]});return k},getSortableColumns:function i(j){var k=this.getColumns(j);k.forEach(function(l,m){if(m===0)return;l.sortable=true;l.comparator=this._compareRows(l.id)}.bind(this));return k},_compareRows:function i(j){return function(k,l){return k[j].props.exportValue-l[j].props.exportValue}}};f.exports=h}),null);
__d("InsightsFunnelBreakdownTable",["cx","fbt","AnalyticsFunnelAggregationMethod","AnalyticsAcquisitionSourceNames","AnalyticsCard","AnalyticsExportUtils","AppEventsAggregatingColumn","FalcorFunnelsTableMixin","FalcorDataTooltip","FalcorDataTooltipMixin","FalcorPaginatedDataTable","FalcorBreakdownsTextUtils","FalcorSamplingVariance","GriffinCandelaTheme","DateTime","InsightsNumUtils","InsightsTimeUtils","React","Timezone"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("Timezone").PST8PDT,l=100,m=c("React").createClass({displayName:"InsightsFunnelBreakdownTable",mixins:[c("FalcorFunnelsTableMixin"),c("FalcorDataTooltipMixin")],propTypes:{breakdownType:j.string.isRequired,funnelData:j.object.isRequired,samplingRate:j.number.isRequired,funnelName:j.string.isRequired,startTime:j.number.isRequired,endTime:j.number.isRequired,maxBreakdowns:j.number,showCard:j.bool.isRequired,showLine:j.bool.isRequired,tableType:j.oneOf(["data","timeData"]).isRequired},getDefaultProps:function n(){return{maxBreakdowns:Infinity,showCard:true,showLine:false,funnelName:"Untitled Funnel",tableType:"data"}},getInitialState:function n(){return{searchString:""}},render:function n(){var o=this.props,p=o.showLine,q=o.showCard,r=o.tableType;this.props.funnelData.setMaxBreakdowns(Infinity);var s=this.props.breakdownType,t=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(s),u=q?null:"none";if(r==="data"){var v=i._("Personas \u00fanicas por {itemName}",[i.param("itemName",t)]),w=this._getRows();return c("React").createElement(c("AnalyticsCard"),{showLine:p,title:v,getExportData:this._getExportData,onSearchChange:this._onSearchChange,searchString:this.state.searchString,style:{border:u}},c("React").createElement("div",{className:"_5i-s"},c("React").createElement(c("FalcorPaginatedDataTable"),{key:""+s,columns:this.getSortableColumns(this.props.funnelData),currentCard:"DELETEME",getExportValueFromCell:c("AnalyticsExportUtils").getExportValueFromCell,loaded:true,pageSize:l,ref:"table",rows:w,searchFieldName:"rowHeader"})))}else{var x=i._("Tiempo de finalizaci\u00f3n por {itemName}",[i.param("itemName",t)]),y=this._getTimeRows();return c("React").createElement(c("AnalyticsCard"),{showLine:p,title:x,getExportData:this._getExportData,onSearchChange:this._onSearchChange,searchString:this.state.searchString,style:{border:u}},c("React").createElement("div",{className:"_5i-s"},c("React").createElement(c("FalcorPaginatedDataTable"),{key:""+s,columns:this.getSortableColumns(this.props.funnelData),currentCard:"DELETEME",getExportValueFromCell:c("AnalyticsExportUtils").getExportValueFromCell,loaded:true,pageSize:l,ref:"table",rows:y,searchFieldName:"rowHeader"})))}},_onSearchChange:function n(o){this.setState({searchString:o.target.value});this.refs.table&&this.refs.table.onSearchChange(o)},_getRows:function n(){var o,p=this.props.funnelData.getCounts(c("AnalyticsFunnelAggregationMethod").UNIQUES),q=this.props.funnelData.getBreakdownPercentages(c("AnalyticsFunnelAggregationMethod").UNIQUES),r=this.props.samplingRate,s=this.props.funnelData.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES),t=this.props.funnelData.getSelectedBreakdownValuesFromMaxBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES,this.props.maxBreakdowns),u=t.findIndex(function(A){return A===this.props.funnelData.getOtherBreakdownName()}.bind(this)),v=this.props.funnelData.getEvents(),w=this.props.funnelData.getEventDisplayNames(),x=Array.from(c("GriffinCandelaTheme").colors.values()),y=(o={},o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L1]=1,o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L2]=2,o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L3]=3,o),z=q.some(function(A){return A.some(function(B){return B>1})});return s.map(function(A,B){var C=y[this.props.breakdownType]?c("AnalyticsAcquisitionSourceNames").getBucketLink(A,y[this.props.breakdownType]):c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(this.props.breakdownType,A),D={rowHeader:C};p[B].forEach(function(E,F){var G=i._("{count number} usuarios",[i.param("count number",c("InsightsNumUtils").prettyInt(E))]),H=function H(){return c("FalcorDataTooltip").getFunnelDataTooltip(w[F],G,c("FalcorSamplingVariance").getVarianceTooltipSentence(E,r))},I=B+" "+F,J=z?null:c("React").createElement("div",null,c("InsightsNumUtils").prettyPercent(q[B][F],2));D[v[F]+F]=c("React").createElement("div",{onMouseEnter:function(){var K=void 0;if(u===-1||B<u)K=B;else if(B+1<t.length)K=B+1;else K=u;this.onShowTooltip(I,H,x[K])}.bind(this),onMouseLeave:this.onHideTooltipWithDelay,exportValue:E.toString(),ref:I,sortValue:E,style:{display:"inline-block"},tabIndex:0},c("React").createElement("div",null,c("InsightsNumUtils").prettyShortInt(E)),J)}.bind(this));return D}.bind(this)).filter(function(A){return A})},_getTimeRows:function n(){var o,p=this.props.funnelData.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME),q=[],r=[],s=[];for(var t=0;t<p.length;t++)for(var u=0;u<p[t].length;u++)if(p[t][u]===null){q[t]=[];r[t]=[];s[t]=[];q[t].push(null);r[t].push(null);s[t].push(null)}else{q[t].push(p[t][u][0]);r[t].push(p[t][u][1]);s[t].push(p[t][u][2])}var v=this.props.samplingRate,w=this.props.funnelData.getSelectedBreakdownValues(c("AnalyticsFunnelAggregationMethod").UNIQUES),x=this.props.funnelData.getSelectedBreakdownValuesFromMaxBreakdowns(c("AnalyticsFunnelAggregationMethod").UNIQUES,this.props.maxBreakdowns),y=x.findIndex(function(D){return D===this.props.funnelData.getOtherBreakdownName()}.bind(this)),z=this.props.funnelData.getEvents(),A=this.props.funnelData.getEventDisplayNames(),B=Array.from(c("GriffinCandelaTheme").colors.values()),C=(o={},o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L1]=1,o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L2]=2,o[c("AppEventsAggregatingColumn").ACQUISITION_SOURCE_L3]=3,o);return w.map(function(D,E){var F=C[this.props.breakdownType]?c("AnalyticsAcquisitionSourceNames").getBucketLink(D,C[this.props.breakdownType]):c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(this.props.breakdownType,D),G={rowHeader:F};q[E].forEach(function(H,I){var J=r[E][I],K=s[E][I],L=null,M=null,N=null;if(H===null){var O=i._("--");L=O;M=O;N=O}else{L=c("InsightsTimeUtils").secondsToDisplay(H,false);M=c("InsightsTimeUtils").secondsToDisplay(J,false);N=c("InsightsTimeUtils").secondsToDisplay(K,false)}var P=i._("{=[top 25\u0025 completion time]Top 25\u0025} {=[top 50\u0025 completion time]Top 50\u0025} {=[top 75\u0025 completion time]Top 75\u0025}",[i.param("=[top 25% completion time]Top 25%",c("React").createElement("div",null,i._("{=[top 25\u0025 completion time]} {=Top 25\u0025}",[i.param("=[top 25% completion time]",c("React").createElement("div",{className:"_4yfo"},i._("{top 25\u0025 completion time}",[i.param("top 25% completion time",L)]))),i.param("=Top 25%",c("React").createElement("div",{className:"_4yfs"},i._("25 \u0025 de los usuarios m\u00e1s destacados")))]))),i.param("=[top 50% completion time]Top 50%",c("React").createElement("div",null,i._("{=[top 50\u0025 completion time]} {=Top 50\u0025}",[i.param("=[top 50% completion time]",c("React").createElement("div",{className:"_4yfo"},i._("{top 50\u0025 completion time}",[i.param("top 50% completion time",M)]))),i.param("=Top 50%",c("React").createElement("div",{className:"_4yfs"},i._("50 \u0025 de los m\u00e1s destacados")))]))),i.param("=[top 75% completion time]Top 75%",c("React").createElement("div",null,i._("{=[top 75\u0025 completion time]} {=Top 75\u0025}",[i.param("=[top 75% completion time]",c("React").createElement("div",{className:"_4yfo"},i._("{top 75\u0025 completion time}",[i.param("top 75% completion time",N)]))),i.param("=Top 75%",c("React").createElement("div",{className:"_4yfs"},i._("75 \u0025 de los m\u00e1s destacados")))])))]),Q=function Q(){return c("FalcorDataTooltip").getFunnelDataTooltip(A[I],P,c("FalcorSamplingVariance").getSamplingTooltipSentence(v))},R="time "+E+" "+I,S=c("React").createElement("div",null,c("React").createElement("div",null,L),c("React").createElement("div",null,M),c("React").createElement("div",null,N)),T=L.toString()+" "+M.toString()+" "+N.toString();G[z[I]+I]=c("React").createElement("div",{onMouseEnter:function(){var U=void 0;if(y===-1||E<y)U=E;else if(E+1<x.length)U=E+1;else U=y;this.onShowTooltip(R,Q,B[U])}.bind(this),onMouseLeave:this.onHideTooltipWithDelay,exportValue:T,ref:R,sortValue:H,style:{display:"inline-block"},tabIndex:0},S)}.bind(this));return G}.bind(this)).filter(function(D){return D})},_getExportData:function n(){return{data:this.refs.table.getExportData(),fileName:this._getExportFileName()}},_getExportFileName:function n(){var o=c("DateTime").fromLegacyArgs(this.props.startTime*1e3,k).format("Y-m-d"),p=c("DateTime").fromLegacyArgs(this.props.endTime*1e3,k).format("Y-m-d");return[this.props.funnelName,this.props.breakdownType,o,p].join("_")}});f.exports=m}),null);
__d("InsightsFunnelCountsTable",["cx","fbt","AnalyticsFunnelAggregationMethod","AnalyticsCard","AnalyticsExportUtils","FalcorFunnelsTableMixin","FalcorDataTooltip","FalcorDataTooltipMixin","FalcorPaginatedDataTable","FalcorSamplingVariance","DateTime","InsightsNumUtils","InsightsTimeUtils","React","Timezone"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("Timezone").PST8PDT,l={event_count_row_header:i._("Eventos"),percent_row_header:i._("Tasas de conversi\u00f3n"),user_count_row_header:i._("Personas"),events_per_user_row_header:i._("Eventos por persona"),value_row_header:i._("Valores"),title:i._("Personas \u00fanicas en el embudo")},m={event_count_row_header:i._("Eventos"),top_25_row_header:i._("25 \u0025 de los usuarios m\u00e1s destacados"),top_50_row_header:i._("50 \u0025 de los usuarios m\u00e1s destacados"),top_75_row_header:i._("75 \u0025 de usuarios m\u00e1s destacados"),title:i._("Tiempo de finalizaci\u00f3n por fase")},n=c("React").createClass({displayName:"InsightsFunnelCountsTable",_table:null,mixins:[c("FalcorDataTooltipMixin"),c("FalcorFunnelsTableMixin")],propTypes:{funnelData:j.object.isRequired,samplingRate:j.number.isRequired,funnelName:j.string.isRequired,startTime:j.number.isRequired,endTime:j.number.isRequired,showCard:j.bool.isRequired,showLine:j.bool.isRequired,tableType:j.oneOf(["data","timeData"]).isRequired},getDefaultProps:function o(){return{showCard:true,showLine:false,funnelName:"Untitled Funnel",tableType:"data"}},render:function o(){var p=this.props,q=p.showLine,r=p.showCard,s=p.tableType,t=r?null:"none";if(s==="data")return c("React").createElement(c("AnalyticsCard"),{style:{border:t},showLine:q,title:i._("Personas \u00fanicas en el embudo"),getExportData:this._getExportData,helpText:{key:"FunnelsDetailView",title:l.title}},c("React").createElement("div",{className:"_5i-s"},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:function(u){this._table=u}.bind(this),columns:this.getColumns(this.props.funnelData),rows:this._getCountRows(),getExportValueFromCell:c("AnalyticsExportUtils").getExportValueFromCell})));else return c("React").createElement(c("AnalyticsCard"),{style:{border:t},showLine:q,title:i._("Tiempo de finalizaci\u00f3n por fase"),getExportData:this._getExportData,helpText:{key:"FunnelsCompletionTimeDetailView",title:m.title}},c("React").createElement("div",{className:"_5i-s"},c("React").createElement(c("FalcorPaginatedDataTable"),{ref:function(u){this._table=u}.bind(this),columns:this.getColumns(this.props.funnelData),rows:this._getTimeRows(),getExportValueFromCell:c("AnalyticsExportUtils").getExportValueFromCell})))},_getCell:function o(p,q,r,s){return c("React").createElement("span",{exportValue:q,ref:r,onMouseOver:function(){this.onShowTooltip(r,c("FalcorDataTooltip").getFunnelDataTooltip.bind(null,s.title,s.count,s.variance),null,"right",20,-16)}.bind(this),onMouseOut:this.onHideTooltipWithDelay,tabIndex:0},p)},_getCountRows:function o(){var p=this.props.funnelData.getEvents(),q=this.props.funnelData.getEventDisplayNames(),r=this.props.samplingRate,s=c("FalcorSamplingVariance").getSamplingTooltipSentence(r),t=this.props.funnelData.getSummedCounts(c("AnalyticsFunnelAggregationMethod").COUNT),u=this.props.funnelData.getPercentages(c("AnalyticsFunnelAggregationMethod").UNIQUES),v=this.props.funnelData.getSummedCounts(c("AnalyticsFunnelAggregationMethod").UNIQUES),w=this.props.funnelData.getSummedCounts(c("AnalyticsFunnelAggregationMethod").VALUE_SUM),x=this.props.funnelData.getSummedCounts(c("AnalyticsFunnelAggregationMethod").USD_SUM),y={rowHeader:l.percent_row_header},z={rowHeader:l.user_count_row_header},A={rowHeader:l.event_count_row_header},B={rowHeader:l.value_row_header},C={rowHeader:l.events_per_user_row_header};u.forEach(function(D,E){var F=t[E],G=v[E],H=G?F/G:0,I=x[E]>0?c("InsightsNumUtils").prettyShortCurrency("USD",x[E]):c("InsightsNumUtils").prettyShortInt(w[E]),J=x[E]>0?c("InsightsNumUtils").prettyCurrency("USD",x[E]):c("InsightsNumUtils").prettyInt(w[E]),K=c("FalcorSamplingVariance").getVarianceTooltipSentence(G,r);y[p[E]+E]=this._getCell(c("InsightsNumUtils").prettyPercent(D,2),D,"percent"+E,{title:q[E],count:i._("{conversion rate} de la primera etapa",[i.param("conversion rate",c("InsightsNumUtils").prettyPercent(D,2))]),variance:s});z[p[E]+E]=this._getCell(c("InsightsNumUtils").prettyShortInt(G).toString(),G,"user"+E,{title:q[E],count:i._("{count number} usuarios",[i.param("count number",c("InsightsNumUtils").prettyInt(G))]),variance:K});C[p[E]+E]=this._getCell(c("InsightsNumUtils").prettyShortInt(H).toString(),H,"eventsPerUser"+E,{title:q[E],count:i._("{events per user number} eventos",[i.param("events per user number",c("InsightsNumUtils").prettyInt(H))]),variance:s});A[p[E]+E]=this._getCell(c("InsightsNumUtils").prettyShortInt(F).toString(),F,"event"+E,{title:q[E],count:i._("{count number} eventos",[i.param("count number",c("InsightsNumUtils").prettyInt(F))]),variance:s});B[p[E]+E]=this._getCell(I.toString(),J,"value"+E,{title:q[E],count:i._("{count number} valor del evento",[i.param("count number",J)]),variance:s})}.bind(this));return[y,z,C,A,B]},_getTimeRows:function o(){var p=this.props.funnelData.getEvents(),q=this.props.funnelData.getEventDisplayNames(),r=this.props.samplingRate,s=c("FalcorSamplingVariance").getSamplingTooltipSentence(r),t=this.props.funnelData.getCountsHidingHiddenBreakdowns(c("AnalyticsFunnelAggregationMethod").PERCENTILE_TIME),u=[],v=[],w=[];for(var x=0;x<t[0].length;x++)if(t[0][x]===null){u.push(null);v.push(null);w.push(null)}else{u.push(t[0][x][0]);v.push(t[0][x][1]);w.push(t[0][x][2])}var y={rowHeader:m.top_25_row_header},z={rowHeader:m.top_50_row_header},A={rowHeader:m.top_75_row_header};u.forEach(function(B,C){var D=null,E=null,F=null;if(B===null){var G=i._("--");D=G;E=G;F=G}else{D=c("InsightsTimeUtils").secondsToDisplay(B,false);E=c("InsightsTimeUtils").secondsToDisplay(v[C],false);F=c("InsightsTimeUtils").secondsToDisplay(w[C],false)}y[p[C]+C]=this._getCell(D,D,"top25 "+C,{title:q[C],count:i._("{completion time} de la \u00faltima fase",[i.param("completion time",D)]),variance:s});z[p[C]+C]=this._getCell(E,E,"top50 "+C,{title:q[C],count:i._("{completion time} de la \u00faltima fase",[i.param("completion time",E)]),variance:s});A[p[C]+C]=this._getCell(F,F,"top75 "+C,{title:q[C],count:i._("{completion time} de la \u00faltima fase",[i.param("completion time",F)]),variance:s})}.bind(this));return[y,z,A]},_getExportData:function o(){return{data:this._table?this._table.getExportData():null,fileName:this._getExportFileName()}},_getExportFileName:function o(){return[this.props.funnelName,c("DateTime").fromLegacyArgs(this.props.startTime*1e3,k).format("Y-m-d"),c("DateTime").fromLegacyArgs(this.props.endTime*1e3,k).format("Y-m-d")].join("_")}});f.exports=n}),null);
__d("AnalyticsOnDevicePushPreview",["cx","AnalyticsPushCampaignVerification","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props,m=l.time,n=l.pushCard,o=JSON.parse(this.props.iosPayload),p=JSON.parse(this.props.androidPayload);c("InsightsEventLogger").logEvent({eventName:"push_on_device_preview_select"});return c("React").createElement("div",{className:"_1fif"},c("React").createElement(c("AnalyticsPushCampaignVerification"),{iosPayload:o,androidPayload:p,pushCard:n,time:m}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("GEPushComposerSection",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_3j"},c("React").createElement("h2",null,this.props.title),c("React").createElement("div",{className:"_3k"},this.props.children))};function l(){i.apply(this,arguments)}l.propTypes={title:k.node.isRequired};f.exports=l}),null);
__d("GEPushInfoTooltip",["ix","AdsPopoverLink.react","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("span",{className:this.props.className},c("React").createElement(c("AdsPopoverLink.react"),{popover:this.props.tooltip,imgNormal:h("21977"),imgHover:h("21977")}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={tooltip:k.node.isRequired,className:k.string};f.exports=l}),null);
__d("GEPushToggle",["fbt","React","SUIToggle.react","SUIAnalyticsGriffinTheme"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props,m=l.onClick,n=l.value,o=babelHelpers.objectWithoutProperties(l,["onClick","value"]);return c("React").createElement(c("SUIToggle.react"),babelHelpers["extends"]({onClick:m,value:n},o))};function k(){"use strict";i.apply(this,arguments)}k.propTypes=babelHelpers["extends"]({},c("SUIToggle.react").propTypes);k.defaultProps={offText:h._("No"),onText:h._("S\u00ed"),display:"inline",theme:c("SUIAnalyticsGriffinTheme")};f.exports=k}),null);
__d("XAnalyticsPushNotificationsScheduleBackfillController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/analytics/campaign/backfill/",{})}),null);
__d("AnalyticsPushCampaignSetupCard",["cx","fbt","invariant","SegmentStoreType","AnalyticsCard","AnalyticsPushTimeSection","AsyncRequest","DateConsts","FluxContainer","GEPushComposerSection","GEPushToggle","GEPushInfoTooltip","GEPushSegmentBuilderDialog","GriffinComposerField","GriffinSections","GriffinLightweightSegmentSelector","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsEventLogger","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsUtils","PushEntrySegmentActions","PushEntrySegmentStore","PushExitSegmentActions","PushExitSegmentStore","React","SUIAnalyticsGriffinTheme","SUITextInput.react","URI","XAnalyticsPushNotificationsScheduleBackfillController","XUIDateTimePicker.react","GEPushConstants","GEPushUtils"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("SegmentStoreType").EntryPush,n=c("SegmentStoreType").ExitPush,o=c("GEPushConstants").ONE_OFF,p=c("GEPushConstants").CONTINUOUS,q=c("GEPushConstants").TEXTAREA_WIDTH,r=c("GEPushConstants").URI,s=c("React").PropTypes,t=i._("Las campa\u00f1as de inserci\u00f3n solo se pueden dirigir a segmentos que incluyan eventos de aplicaci\u00f3n o a segmentos con condiciones de informaci\u00f3n del dispositivo y eventos de aplicaci\u00f3n."),u=i._("Ninguno"),v={ONE_OFF:i._("\u00danicas"),CONTINUOUS:i._("continuas")},w={minutes:c("DateConsts").SEC_PER_MIN,hours:c("DateConsts").SEC_PER_HOUR,days:c("DateConsts").SEC_PER_DAY};function x(H,I){switch(I){case"minutes":return H*w.minutes;case"hours":return H*w.hours;case"days":return H*w.days;default:return 0}}var y=c("GEPushUtils").getTimeZone,z=c("GEPushUtils").isValidString,A=c("GEPushUtils").getLast30DaysDateRange,B=c("GEPushUtils").getPushDateRestraints,C=c("React").createElement(c("GEPushInfoTooltip"),{tooltip:c("React").createElement("div",{className:"_50ic"},i._("\u00danicamente las personas que se hayan incluido en el segmento que elijas para los \u00faltimos 28 d\u00edas cumplir\u00e1n los requisitos para recibir tu campa\u00f1a de inserci\u00f3n."))});function D(){return c("React").createElement("div",{className:"_w92"},y(new Date()))}var E="entry_segment",F="exit_segment";k=babelHelpers.inherits(G,c("React").Component);l=k&&k.prototype;function G(){var H,I;"use strict";for(var J=arguments.length,K=Array(J),L=0;L<J;L++)K[L]=arguments[L];return I=(H=l.constructor).call.apply(H,[this].concat(K)),this.state={showCreateSegmentDialog:false,dialogAnchor:null,createSegmentFieldName:null,segmentInfoType:null,delayUnit:"hours",showEndTime:false,entry_segment:null,exit_segment:null,entrySegmentCount:null,exitSegmentCount:null},this.$AnalyticsPushCampaignSetupCard3=function(){this.setState({showCreateSegmentDialog:false,dialogAnchor:null,createSegmentFieldName:null,segmentInfoType:null})}.bind(this),this.$AnalyticsPushCampaignSetupCard4=function(M){var N,O=this.props,P=O.fields,Q=O.setFields,R=this.state,S=R.createSegmentFieldName,T=R.segmentInfoType;T||j(0);this.$AnalyticsPushCampaignSetupCard1({fields:P,setFields:Q,fieldName:S,id:M?M.id:"",segmentInfo:{type:T,segment:M},selectSource:"create"});this.setState((N={},N[T]=M,N.showCreateSegmentDialog=false,N.dialogAnchor=null,N.createSegmentFieldName=null,N.segmentInfoType=null,N))}.bind(this),I}G.getStores=function(){"use strict";return[c("PushEntrySegmentStore"),c("PushExitSegmentStore")]};G.calculateState=function(){"use strict";return{entrySegmentCount:c("PushEntrySegmentStore").getSegmentTotalUsers(),exitSegmentCount:c("PushExitSegmentStore").getSegmentTotalUsers()}};G.prototype.componentDidMount=function(){"use strict";c("InsightsEventLogger").logCardView(this.props.view.toLowerCase()+"_input_form",{})};G.prototype.componentWillReceiveProps=function(H){"use strict";if(this.props.view!==H.view)c("InsightsEventLogger").logCardView(H.view.toLowerCase()+"_input_form",{})};G.prototype.$AnalyticsPushCampaignSetupCard1=function(H){var I=H.fields,J=H.setFields,K=H.fieldName,L=H.id,M=H.segmentInfo,N=H.selectSource;"use strict";c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_select_segment",type:this.props.campaignType.toLowerCase(),segment_type:K.toLowerCase(),feature_id:L,select_source:N});if(L===""){J(K,L);this.props.onChangeSegment(M);return}var O=M.type===E?c("PushEntrySegmentActions"):c("PushExitSegmentActions");O.updateActiveSegmentID({segmentID:L});O.fetchSegmentTotal(babelHelpers["extends"]({},A()));var P=this.props.campaignType===p,Q=["id","name"];if(!P){Q.push("push_backfill_status");this.$AnalyticsPushCampaignSetupCard2(M.segment.id)}this.props.onBeforeChangeSegment(M.type);c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").SEGMENT_NODE,L,{fields:Q}).done(function(R){var S=R.push_backfill_status;J(K,L);if(!(S&&S.is_ready||P))M.backfillStatus=S;this.props.onChangeSegment(M)}.bind(this),function(R){var S=i._("Se ha producido un error inesperado. Vuelve a realizar la solicitud m\u00e1s tarde.");J(K,"");this.props.onChangeSegment({type:M.type,error:S})}.bind(this))};G.prototype.$AnalyticsPushCampaignSetupCard5=function(H){"use strict";var I=this.state,J=I.showCreateSegmentDialog,K=I.dialogAnchor,L=I.segmentInfoType;if(!J||H!==L)return null;var M=L===F?c("PushExitSegmentActions"):c("PushEntrySegmentActions"),N=L===F?n:m,O=new(c("URI"))(this.props.section===c("GriffinSections").GEPUSH_IN_APP?r.HELP_IN_APP:r.HELP_PUSH).setFragment("audience"),P=c("React").createElement("a",{href:O.toString(),target:"_blank"},i._("M\u00e1s informaci\u00f3n")),Q=i._("{description} {learn more}",[i.param("description",t),i.param("learn more",P)]);return c("React").createElement(c("GEPushSegmentBuilderDialog"),{anchor:K,description:Q,onCancel:this.$AnalyticsPushCampaignSetupCard3,onSaveComplete:this.$AnalyticsPushCampaignSetupCard4,segmentActions:M,segmentType:N})};G.prototype.$AnalyticsPushCampaignSetupCard6=function(H,I,J,K,L){var M;"use strict";if(L)L=L.getAuxiliaryData();this.$AnalyticsPushCampaignSetupCard1({fields:H,setFields:I,fieldName:J,id:L?L.id:"",segmentInfo:{type:K,segment:L},selectSource:"select"});this.setState((M={},M[K]=L,M))};G.prototype.$AnalyticsPushCampaignSetupCard7=function(H,I){"use strict";this.setState({showCreateSegmentDialog:true,dialogAnchor:this.refs[I],createSegmentFieldName:H,segmentInfoType:I})};G.prototype.$AnalyticsPushCampaignSetupCard8=function(H,I,J,K,L,M,N){"use strict";var O=this.state,P=O.entrySegmentCount,Q=O.exitSegmentCount,R=L===F?c("PushExitSegmentActions"):c("PushEntrySegmentActions"),S=null;if(M&&L!==F&&!z(H))S=i._("Selecciona un segmento");var T=null;if(H&&(L===E&&P===0||L===F&&Q===0))T=i._("Este segmento no tiene usuarios");return c("React").createElement(c("GriffinLightweightSegmentSelector"),{ref:L,activeSegment:this.state[L],deleteDisabled:true,dropdownWidth:300,errorMessage:S,getTooltipForEntry:function U(V){V=V.getAuxiliaryData();return!V.is_eligible_for_push_campaign?t:null},isDisabledCheck:function U(V){return!V.is_eligible_for_push_campaign||V.id===N},onChange:function(U){this.$AnalyticsPushCampaignSetupCard6(I,J,K,L,U)}.bind(this),onCreateNew:function(){this.$AnalyticsPushCampaignSetupCard7(K,L)}.bind(this),percentage:null,placeholderText:u,segmentActions:R,selectedID:H,showAllUsersOption:false,theme:c("SUIAnalyticsGriffinTheme"),warningMessage:T})};G.prototype.render=function(){"use strict";var H=this.props,I=H.fields,J=H.setFields,K=H.campaignType,L=H.onChangeCampaignType,M=H.theme,N=H.validForm,O=B(),P=function(W,X){this.$AnalyticsPushCampaignSetupCard9(K,X,W);var Y=X.getTime();J(W,Y);if(W==="start_time"&&Y>I.end_time)J("end_time",Y);else if(W==="end_time"&&Y<I.start_time)J("start_time",Y)}.bind(this),Q=c("React").createElement(c("GriffinComposerField"),{label:i._("FECHA DE INICIO"),input:c("React").createElement("div",null,c("React").createElement(c("XUIDateTimePicker.react"),{className:"_w8x",dateRestraints:O,height:32,date:new Date(I.start_time),onChange:P.bind(this,"start_time")}),D())}),R=this.state.showEndTime?c("React").createElement("div",{style:{display:"inline-block"}},c("React").createElement(c("XUIDateTimePicker.react"),{className:"_w8x",dateRestraints:O,height:32,date:new Date(I.end_time),onChange:P.bind(this,"end_time")}),D()):null,S=function(){c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_toggle_enddate",type:this.props.campaignType.toLowerCase(),show_end_time:!this.state.showEndTime});this.setState({showEndTime:!this.state.showEndTime});J("end_time",!this.state.showEndTime?Date.now()+c("DateConsts").MS_PER_DAY:null)}.bind(this),T=K===p?c("React").createElement(c("GEPushComposerSection"),{key:"campaignDates",title:i._("Fechas de la campa\u00f1a")},Q,c("React").createElement(c("GriffinComposerField"),{label:i._("FECHA DE FINALIZACI\u00d3N"),input:c("React").createElement("div",null,c("React").createElement("div",{className:"_2-sw"},c("React").createElement(c("GEPushToggle"),{onClick:S,value:this.state.showEndTime})),R)})):null,U=[];U.push(c("React").createElement(c("GEPushComposerSection"),{key:"setup",title:i._("Ajustes")},c("React").createElement("div",{className:"_60rs"},i._("Crea una campa\u00f1a de notificaciones de inserci\u00f3n para llegar a tus clientes en el momento adecuado.")),c("React").createElement(c("GriffinComposerField"),{label:i._("NOMBRE DE LA CAMPA\u00d1A"),input:c("React").createElement(c("SUITextInput.react"),{className:"_5xgp",errorMessage:N&&!z(I.name)?i._("A\u00f1ade un nombre"):"",theme:M,placeholder:i._("Escribe aqu\u00ed el nombre de la campa\u00f1a..."),onChange:function W(X){return J("name",X)},value:this.props.fields.name})}),c("React").createElement(c("GriffinComposerField"),{label:c("React").createElement("div",null,i._("TIPO DE CAMPA\u00d1A"),c("React").createElement(c("GEPushInfoTooltip"),{tooltip:this.$AnalyticsPushCampaignSetupCard10()})),input:c("React").createElement(c("GriffinSelector"),{value:K,width:q,onChange:function(W){c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_select_type",type:W.toLowerCase()});this.setState({entry_segment:null,exit_segment:null,entrySegmentCount:null,exitSegmentCount:null});L(W)}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:o},i._("Una vez")),c("React").createElement(c("GriffinSelectorOption"),{value:p},i._("Continua")))})));if(T)U.push(T);var V=K===p?this.$AnalyticsPushCampaignSetupCard11():this.$AnalyticsPushCampaignSetupCard12();U.push(c("React").createElement(c("GEPushComposerSection"),{key:"audience",title:c("React").createElement("div",{className:"_4yy1"},i._("Segmentaci\u00f3n de p\u00fablico"))},V));U.push(c("React").createElement(c("AnalyticsPushTimeSection"),babelHelpers["extends"]({},this.props,{key:"timeSection"})));return c("React").createElement("div",null,c("React").createElement(c("AnalyticsCard"),null,U))};G.prototype.$AnalyticsPushCampaignSetupCard10=function(){"use strict";return c("React").createElement("div",{className:"_50ic"},c("React").createElement("p",null,i._("Una campa\u00f1a {onetime} env\u00eda una \u00fanica notificaci\u00f3n a los clientes que han realizado acciones concretas en el pasado. La notificaci\u00f3n se env\u00eda en la fecha y hora que eliges.",[i.param("onetime",c("React").createElement("strong",null,v.ONE_OFF))])),c("React").createElement("p",null,i._("Una campa\u00f1a {continuous} se pone en circulaci\u00f3n durante un periodo de tiempo y se dirige a clientes en funci\u00f3n de acciones futuras a medida que se producen dichas acciones.",[i.param("continuous",c("React").createElement("strong",null,v.CONTINUOUS))])))};G.prototype.$AnalyticsPushCampaignSetupCard9=function(H,I,J){"use strict";c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_select_date",type:H.toLowerCase(),dateType:J,days_from_today:c("InsightsUtils").millisecondsToDays(c("InsightsUtils").getMostRecentPacificDayBegin(I)-c("InsightsUtils").getMostRecentPacificDayBegin(new Date()))})};G.prototype.$AnalyticsPushCampaignSetupCard2=function(H){"use strict";if(c("InsightsContext").isReadOnly())return;var I=c("XAnalyticsPushNotificationsScheduleBackfillController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(I).setData({segment_id:H}).setMethod("POST").send()};G.prototype.$AnalyticsPushCampaignSetupCard11=function(){"use strict";var H=this.props,I=H.fields,J=H.setFields,K=H.theme,L=H.validForm;return[c("React").createElement("div",{key:"description"},c("React").createElement("div",{className:"_60rs"},i._("Puedes determinar qu\u00e9 segmento recibir\u00e1 tu notificaci\u00f3n eligiendo acciones aptas y no aptas durante un periodo de tiempo concreto.")),c("React").createElement("div",null),c("React").createElement("div",{className:"_60rs"},i._("Por ejemplo, \"A\u00f1adir al carrito\" podr\u00eda ser una acci\u00f3n apta y \"Comprar\", una acci\u00f3n no apta. Si un cliente a\u00f1adiera un art\u00edculo al carrito y no comprara en un per\u00edodo de 24 horas, recibir\u00eda una notificaci\u00f3n de inserci\u00f3n."))),c("React").createElement("div",{key:"entry"},c("React").createElement(c("GriffinComposerField"),{key:"entry",label:i._("SEGMENTO APTO"),input:c("React").createElement("div",null,this.$AnalyticsPushCampaignSetupCard8(I.entry_segmentid,I,J,"entry_segmentid",E,L,I.exit_segmentid))}),this.$AnalyticsPushCampaignSetupCard5("entry_segment")),c("React").createElement("div",{key:"exit"},c("React").createElement(c("GriffinComposerField"),{key:"exit",label:i._("SEGMENTO NO APTO"),input:this.$AnalyticsPushCampaignSetupCard8(I.exit_segmentid,I,J,"exit_segmentid",F,L,I.entry_segmentid)}),this.$AnalyticsPushCampaignSetupCard5("exit_segment")),c("React").createElement("div",{key:"qualification"},i._("Env\u00eda una notificaci\u00f3n a las personas en tu segmento apto si no est\u00e1n inhabilitadas en {Text and dropdown fields to get an amount of time}",[i.param("Text and dropdown fields to get an amount of time",c("React").createElement("div",{className:"_1ajd"},c("React").createElement(c("SUITextInput.react"),{theme:K,className:"_jch",isAutoSized:true,value:String(Math.floor(I.delivery_delay_sec/w[this.state.delayUnit])),onChange:function(M){var N=Number(M||0);if(!isNaN(N)&&N>=0)J("delivery_delay_sec",x(N,this.state.delayUnit))}.bind(this)}),c("React").createElement(c("GriffinSelector"),{value:this.state.delayUnit,width:100,onChange:function(M){var N=I.delivery_delay_sec/w[this.state.delayUnit]*w[M];J("delivery_delay_sec",N);this.setState({delayUnit:M})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"minutes"},i._("minuto(s)")),c("React").createElement(c("GriffinSelectorOption"),{value:"hours"},i._("hora(s)")),c("React").createElement(c("GriffinSelectorOption"),{value:"days"},i._("d\u00eda(s)")))))]))]};G.prototype.$AnalyticsPushCampaignSetupCard12=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_60rs"},i._("Puedes dirigirte a los usuarios eligiendo un segmento asociado a una acci\u00f3n realizada durante los \u00faltimos 28 d\u00edas.")),c("React").createElement("div",null),c("React").createElement("div",{className:"_60rs"},i._("Por ejemplo, \"A\u00f1adir al carrito\" podr\u00eda dirigirse a todos los clientes que hubieran a\u00f1adido un art\u00edculo a su carrito durante los \u00faltimos 28 d\u00edas.")),c("React").createElement(c("GriffinComposerField"),{label:c("React").createElement("div",null,i._("SEGMENTO"),C),input:c("React").createElement("div",null,this.$AnalyticsPushCampaignSetupCard8(this.props.fields.segment_id,this.props.fields,this.props.setFields,"segment_id",E,this.props.validForm,""))}),this.$AnalyticsPushCampaignSetupCard5("entry_segment"))};G.propTypes={fields:s.object.isRequired,setFields:s.func.isRequired,theme:s.object.isRequired,view:s.string.isRequired,validForm:s.bool.isRequired,campaignType:s.string.isRequired,onChangeSegment:s.func.isRequired,onBeforeChangeSegment:s.func.isRequired,section:s.oneOf([c("GriffinSections").GEPUSH,c("GriffinSections").GEPUSH_IN_APP]),bodyText:s.string.isRequired};f.exports=c("FluxContainer").create(G)}),null);
__d("GEPushDefaultPushPayload",["fbt"],(function a(b,c,d,e,f,g,h){var i=h._("Validaci\u00f3n correcta"),j=h._("Verificaci\u00f3n de campa\u00f1a de inserci\u00f3n"),k={aps:{alert:{body:i.toString()}}},l={data:{title:j.toString(),body:i.toString()}},m={getIOSPushPayload:function n(){return Object.assign({},k)},getAndroidPushPayload:function n(){return Object.assign({},l)}};f.exports=m}),null);
__d("AnalyticsPushCampaignVerification",["cx","fbt","FluxContainer","GEPushAPNSActions","GEPushAPNSReduceStore","GEPushDefaultPushPayload","GEPushGCMActions","GEPushGCMReduceStore","GEPushInfoTooltip","GriffinComposerField","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsEventLogger","React","SUIAnalyticsGriffinTheme","SUIButton.react","SUITextInput.react","idx","immutable"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("immutable").List,m=c("immutable").Map,n="APNS",o="GCM";j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.getStores=function(){"use strict";return[c("GEPushAPNSReduceStore"),c("GEPushGCMReduceStore")]};p.calculateState=function(q){"use strict";return{certificates:c("GEPushAPNSReduceStore").getCreds()||l(),gcmIds:c("GEPushGCMReduceStore").getCreds()||l(),processingPush:c("GEPushAPNSReduceStore").isProcessingPush()||c("GEPushGCMReduceStore").isProcessingPush(),apnsStatusMessage:c("GEPushAPNSReduceStore").getStatusMessage(),gcmStatusMessage:c("GEPushGCMReduceStore").getStatusMessage(),apnsStatusCode:c("GEPushAPNSReduceStore").getStatusCode(),gcmStatusCode:c("GEPushGCMReduceStore").getStatusCode()}};function p(q){"use strict";k.constructor.call(this,q);this.state={deviceToken:"",credentialType:n,apnsId:null};this.$AnalyticsPushCampaignVerification1=m({APNS:[],GCM:[]});var r=c("InsightsContext").getPushTokens();for(var s=0;s<r.length;s++){if(!this.$AnalyticsPushCampaignVerification1.has(r[s].credentialType))continue;this.$AnalyticsPushCampaignVerification1.get(r[s].credentialType).push(r[s].token)}if(this.$AnalyticsPushCampaignVerification1.get(n).length>0)this.state={deviceToken:this.$AnalyticsPushCampaignVerification1.get(n)[0],credentialType:n};else if(this.$AnalyticsPushCampaignVerification1.get(o).length>0)this.state={deviceToken:this.$AnalyticsPushCampaignVerification1.get(o)[0],credentialType:o}}p.prototype.componentWillMount=function(){"use strict";c("GEPushGCMActions").handleFetch();c("GEPushGCMActions").handleFetch()};p.prototype.$AnalyticsPushCampaignVerification2=function(){"use strict";var q=this.props.pushCard?Object.assign(this.props.iosPayload,{fb_push_card:this.props.pushCard}):this.props.iosPayload,r={bundle_identifier:this.$AnalyticsPushCampaignVerification3(this.state.apnsId)};return babelHelpers["extends"]({id:this.state.apnsId,payload:JSON.stringify(q),device_token:this.state.deviceToken},r)};p.prototype.$AnalyticsPushCampaignVerification4=function(){"use strict";var q=this.props.pushCard?Object.assign(this.props.androidPayload,{fb_push_card:this.props.pushCard}):this.props.androidPayload;return{id:this.$AnalyticsPushCampaignVerification5(),payload:JSON.stringify(q),device_token:this.state.deviceToken}};p.prototype.$AnalyticsPushCampaignVerification6=function(q){"use strict";var r=q?"processingPushCard":"processingPush";this.$AnalyticsPushCampaignVerification7();var s=this.state.credentialType===n?this.$AnalyticsPushCampaignVerification2():this.$AnalyticsPushCampaignVerification4(),t={id:s.id,params:s,processingState:r};c("InsightsEventLogger").logEvent(Object.assign({eventName:"push_send_test_notification"},s));return this.state.credentialType===n?c("GEPushAPNSActions").handleValidate(t):c("GEPushGCMActions").handleValidate(t)};p.prototype.$AnalyticsPushCampaignVerification7=function(){"use strict";this.setState({apnsStatusMessage:"",gcmStatusMessage:"",apnsStatusCode:0,gcmStatusCode:0})};p.prototype.$AnalyticsPushCampaignVerification5=function(){"use strict";var q=this.state.gcmIds;return q&&q.size>0?q.get(0).id:null};p.prototype.$AnalyticsPushCampaignVerification3=function(q){"use strict";var r=this.state.certificates.find(function(r){return r.id===q});return r.bundle_identifier};p.prototype.render=function(){"use strict";var q=this.state.credentialType===n?this.state.apnsStatusMessage:this.state.gcmStatusMessage,r=this.state.credentialType===n?this.state.apnsStatusCode:this.state.gcmStatusCode,s=this.state.certificates.map(function(y,z){return c("React").createElement(c("GriffinSelectorOption"),{key:"certOption"+z,value:y.id},y.bundle_identifier)}),t=this.state.credentialType===n&&s.size>0?c("React").createElement(c("GriffinComposerField"),{label:i._("CERTIFICADO APNs"),input:c("React").createElement(c("GriffinSelector"),{placeholder:i._("Selecciona un identificador de paquete..."),value:this.state.apnsId,width:250,onChange:function(y){this.setState({apnsId:y});c("InsightsEventLogger").logEvent({eventName:"push_settings_verification_apns_select"})}.bind(this)},s)}):null,u=this.$AnalyticsPushCampaignVerification8(),v=c("React").createElement(c("GriffinComposerField"),{label:c("React").createElement("div",null,i._("INSERCI\u00d3N AL DISPOSITIVO"),c("React").createElement(c("GEPushInfoTooltip"),{tooltip:c("React").createElement("div",{className:"_50ic"},i._("Para enviar notificaciones de prueba, debes tener unas credenciales y un identificador del dispositivo v\u00e1lidos."))})),input:c("React").createElement("div",null,c("React").createElement(c("SUIButton.react"),{disabled:!u||this.state.processingPush,label:this.state.processingPush?i._("Enviando notificaci\u00f3n de inserci\u00f3n..."):i._("Enviar notificaci\u00f3n de inserci\u00f3n"),style:{marginRight:"12px"},theme:c("SUIAnalyticsGriffinTheme"),use:"confirm",onClick:function(){this.setState({processingPush:true});this.$AnalyticsPushCampaignVerification6(false)}.bind(this)}))}),w=r!==0?"_diu":"",x=q?c("React").createElement(c("GriffinComposerField"),{label:i._("ESTADO"),input:c("React").createElement("div",{className:w},q)}):null;return c("React").createElement("div",null,this.$AnalyticsPushCampaignVerification9(),t,v,x)};p.prototype.$AnalyticsPushCampaignVerification8=function(){"use strict";var q=this.$AnalyticsPushCampaignVerification5(),r=this.state.deviceToken.trim()!=="",s=this.state.credentialType===n?!!this.state.apnsId:!!q;return r&&s};p.prototype.$AnalyticsPushCampaignVerification9=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("GriffinComposerField"),{label:i._("TIPO DE DISPOSITIVO"),input:c("React").createElement(c("GriffinSelector"),{value:this.state.credentialType,width:250,onChange:function(q){var r,s=((r=this.$AnalyticsPushCampaignVerification1.get(q))!=null?r[0]:r)||"";this.setState({credentialType:q,deviceToken:s});this.$AnalyticsPushCampaignVerification7();c("InsightsEventLogger").logEvent({eventName:"push_settings_verification_cred_type",value:q})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:n},"iOS"),c("React").createElement(c("GriffinSelectorOption"),{value:o},"Android"))}),c("React").createElement(c("GriffinComposerField"),{label:i._("IDENTIFICADOR DEL DISPOSITIVO"),input:c("React").createElement(c("SUITextInput.react"),{className:"_5xgp",onChange:function(q){this.setState({deviceToken:q.replace(/\s+/g,"")})}.bind(this),placeholder:i._("Introduce el identificador de tu dispositivo..."),value:this.state.deviceToken,theme:c("SUIAnalyticsGriffinTheme")})}))};p.defaultProps={androidPayload:c("GEPushDefaultPushPayload").getAndroidPushPayload(),iosPayload:c("GEPushDefaultPushPayload").getIOSPushPayload()};f.exports=c("FluxContainer").create(p)}),null);
__d("GEPushInputFormUtils",[],(function a(b,c,d,e,f,g){var h={getTitleFromIOSPayload:function i(j){try{return JSON.parse(j).aps.alert.title}catch(k){return""}},getTitleFromAndroidPayload:function i(j){try{return JSON.parse(j).data.title}catch(k){return""}},getMessageFromIOSPayload:function i(j){try{return JSON.parse(j).aps.alert.body}catch(k){return""}},getMessageFromAndroidPayload:function i(j){try{return JSON.parse(j).data.body}catch(k){return""}},iosPayloadBuilder:function i(j,k,l){var m={aps:{alert:{title:k,body:j},sound:"default"}};if(l)m.aps["content-available"]=1;return JSON.stringify(m,null,4)},isValidIOSPayload:function i(j){try{return Boolean(JSON.parse(j).aps)}catch(k){return false}},androidPayloadBuilder:function i(j,k){return JSON.stringify({data:{title:k,body:j}},null,4)},isValidAndroidPayload:function i(j){try{return Boolean(JSON.parse(j).data)}catch(k){return false}}};f.exports=h}),null);
__d("AnalyticsPushNotificationSetupCard",["cx","fbt","AnalyticsCard","GEPushComposerSection","GEPushToggle","GEPushInfoTooltip","GriffinComposerField","GriffinSections","InsightsEventLogger","React","SUITextArea.react","SUITextInput.react","GEPushConstants","GEPushInputFormUtils","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GEPushConstants").TEXTAREA_WIDTH,m=c("React").PropTypes,n=i._("Especificado en JSON"),o=i._("Introduce un valor JSON v\u00e1lido"),p=c("GEPushInputFormUtils").getTitleFromIOSPayload,q=c("GEPushInputFormUtils").getTitleFromAndroidPayload,r=c("GEPushInputFormUtils").iosPayloadBuilder,s=c("GEPushInputFormUtils").isValidIOSPayload,t=c("GEPushInputFormUtils").androidPayloadBuilder,u=c("GEPushInputFormUtils").isValidAndroidPayload,v=c("GEPushUtils").isValidString,w=c("GEPushUtils").isValidJSON;j=babelHelpers.inherits(x,c("React").Component);k=j&&j.prototype;x.prototype.componentDidMount=function(){"use strict";c("InsightsEventLogger").logCardView(this.props.view.toLowerCase()+"_input_form",{})};x.prototype.componentWillReceiveProps=function(y){"use strict";if(this.props.view!==y.view)c("InsightsEventLogger").logCardView(y.view.toLowerCase()+"_input_form",{})};x.prototype.$AnalyticsPushNotificationSetupCard1=function(y,z,A,B,C){"use strict";var D=r(z,A,this.props.section===c("GriffinSections").GEPUSH_IN_APP),E=t(z,A),F=Object.assign({},B);F.ios_push_payload_json=D;F.android_push_payload_json=E;y("ios_push_payload_json",D);y("android_push_payload_json",E)};x.prototype.$AnalyticsPushNotificationSetupCard2=function(){"use strict";return p(this.props.fields.ios_push_payload_json)||q(this.props.fields.android_push_payload_json)};x.prototype.render=function(){"use strict";var y=this.props,z=y.fields,A=y.setFields,B=y.theme,C=y.validForm,D=y.bodyText,E=[c("React").createElement(c("GEPushComposerSection"),{key:"message",title:i._("Mensaje")},c("React").createElement(c("GriffinComposerField"),{label:i._("T\u00cdTULO"),input:c("React").createElement(c("SUITextInput.react"),{className:"_5xgp",theme:B,disabled:this.props.showJSONFields,placeholder:this.props.showJSONFields?n:i._("Escribe el t\u00edtulo aqu\u00ed..."),onChange:function(F){this.$AnalyticsPushNotificationSetupCard1(A,D,F,z)}.bind(this),value:this.props.showJSONFields?"":this.$AnalyticsPushNotificationSetupCard2()})}),c("React").createElement(c("GriffinComposerField"),{label:i._("MENSAJE"),input:c("React").createElement(c("SUITextArea.react"),{style:{width:l},className:"_5xgp",theme:B,errorMessage:C&&!this.props.showJSONFields&&!v(D)?i._("Escribe un mensaje"):"",disabled:this.props.showJSONFields,placeholder:this.props.showJSONFields?n:i._("Escribe un mensaje aqu\u00ed..."),onChange:function(F){this.$AnalyticsPushNotificationSetupCard1(A,F,this.$AnalyticsPushNotificationSetupCard2(),z)}.bind(this),value:this.props.showJSONFields?"":D})})),c("React").createElement(c("GEPushComposerSection"),{key:"customData",title:i._("Datos personalizados")},c("React").createElement(c("GriffinComposerField"),{label:c("React").createElement("div",null,i._("\u00bfQUIERES ADJUNTAR DATOS JSON?"),c("React").createElement(c("GEPushInfoTooltip"),{tooltip:c("React").createElement("div",{className:"_50ic"},i._("Usa JSON para a\u00f1adir datos de clientes a tus notificaciones de inserci\u00f3n, como emoticonos, alertas, insignias, sonidos, etc."))})),key:"jsonToggle",input:c("React").createElement(c("GEPushToggle"),{onClick:function(){c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_toggle_json",type:this.props.campaignType.toLowerCase(),show_json:!this.props.showJSONFields});this.$AnalyticsPushNotificationSetupCard1(A,D,this.$AnalyticsPushNotificationSetupCard2(),z,!this.props.showJSONFields);this.props.onChangeShowJSONFields(!this.props.showJSONFields)}.bind(this),value:this.props.showJSONFields})}),this.props.showJSONFields?[c("React").createElement(c("GriffinComposerField"),{label:"iOS JSON",key:"iosInput",input:c("React").createElement("div",{className:"_2wlj"},c("React").createElement(c("SUITextArea.react"),{style:{width:l},className:"_5xgp",theme:B,errorMessage:C&&(!w(z.ios_push_payload_json)||!s(z.ios_push_payload_json))?o:"",value:z.ios_push_payload_json,placeHolder:i._("Escribe un mensaje aqu\u00ed..."),onChange:function F(G){var H=Object.assign({},z);H.ios_push_payload_json=G;A("ios_push_payload_json",G)}}))}),c("React").createElement(c("GriffinComposerField"),{label:"ANDROID JSON",key:"androidInput",input:c("React").createElement("div",{className:"_2wlj"},c("React").createElement(c("SUITextArea.react"),{style:{width:l},className:"_5xgp",theme:B,errorMessage:C&&(!w(z.android_push_payload_json)||!u(z.android_push_payload_json))?o:"",value:z.android_push_payload_json,placeHolder:i._("Escribe un mensaje aqu\u00ed..."),onChange:function F(G){var H=Object.assign({},z);H.android_push_payload_json=G;A("android_push_payload_json",G)}}))})]:null)];if(this.props.confirmationModal)E.push(c("React").createElement("div",{key:"confirmationModal"},this.props.confirmationModal));return c("React").createElement("div",null,c("React").createElement(c("AnalyticsCard"),null,E))};function x(){"use strict";j.apply(this,arguments)}x.propTypes={appID:m.string.isRequired,campaign:m.object.isRequired,campaignID:m.string,fields:m.object.isRequired,setFields:m.func.isRequired,theme:m.object.isRequired,view:m.string.isRequired,validForm:m.bool.isRequired,confirmationModal:m.node,onChangePushCard:m.func,pushCardData:m.object,campaignType:m.string.isRequired,onChangeSegment:m.func.isRequired,onBeforeChangeSegment:m.func.isRequired,section:m.oneOf([c("GriffinSections").GEPUSH,c("GriffinSections").GEPUSH_IN_APP]),bodyText:m.string.isRequired,showJSONFields:m.bool.isRequired,onChangeShowJSONFields:m.func.isRequired};f.exports=x}),null);
__d("AnalyticsPushTimeSection",["cx","fbt","GEPushComposerSection","GEPushToggle","GEPushUtils","GriffinComposerField","InsightsEventLogger","InsightsUtils","React","XUIDateTimePicker.react","GEPushConstants"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GEPushConstants").CONTINUOUS,m=function m(o){var p=!o?c("GEPushUtils").getTimeZone(new Date()):i._("en la zona horaria local del destinatario");return c("React").createElement("div",{className:"_w92"},p)};j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){"use strict";k.constructor.call(this);this.$AnalyticsPushTimeSection1=function(){var o=!this.state.sendImmediately;c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_toggle_immediate",type:this.props.campaignType.toLowerCase(),is_immediate:o});this.setState({sendImmediately:o});if(this.props.campaignType===l)this.props.setFields("delivery_time_is_local",!o);else{var p=this.props.fields.delivery_timestamp;this.props.setFields("delivery_timestamp",this.state.previousDeliveryTimestamp);this.setState({previousDeliveryTimestamp:p});if(o){this.setState({previousIsLocalizedDelivery:this.props.fields.delivery_time_is_local});this.props.setFields("delivery_time_is_local",false)}else this.props.setFields("delivery_time_is_local",this.state.previousIsLocalizedDelivery)}}.bind(this);this.state={sendImmediately:false,previousDeliveryTimestamp:Date.now(),previousIsLocalizedDelivery:true}}n.prototype.render=function(){"use strict";var o=this.props,p=o.fields,q=o.setFields,r=o.campaignType,s=c("GEPushUtils").getPushDateRestraints(),t=c("React").createElement(c("GriffinComposerField"),{label:i._("ENVIAR INMEDIATAMENTE"),input:c("React").createElement(c("GEPushToggle"),{onClick:this.$AnalyticsPushTimeSection1,value:this.state.sendImmediately})}),u=r!==l?c("React").createElement(c("GriffinComposerField"),{label:i._("PUBLICAR EN HORA LOCAL"),input:c("React").createElement(c("GEPushToggle"),{onClick:function x(){c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_toggle_local",type:r.toLowerCase(),time_is_local:!p.delivery_time_is_local});q("delivery_time_is_local",!p.delivery_time_is_local)},value:p.delivery_time_is_local})}):null,v=!this.state.sendImmediately,w=v?c("React").createElement("div",null,u,c("React").createElement(c("GriffinComposerField"),{key:"deliveryTime",label:i._("HORA DE ENTREGA"),input:c("React").createElement("div",{className:r===l?"_jci":""},c("React").createElement(c("XUIDateTimePicker.react"),{className:"_w8x",dateRestraints:s,height:32,date:new Date(p.delivery_timestamp),onChange:function(x){this.$AnalyticsPushTimeSection2(r,x,"deliverDate");q("delivery_timestamp",x.getTime())}.bind(this)}),m(p.delivery_time_is_local))})):null;return c("React").createElement(c("GEPushComposerSection"),{key:"delivery",title:i._("Entrega de notificaci\u00f3n")},c("React").createElement("div",{className:"_60rs"},i._("Enviar tu notificaci\u00f3n ahora o programarla para otro momento.")),t,w)};n.prototype.$AnalyticsPushTimeSection2=function(o,p,q){"use strict";c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_select_date",type:o.toLowerCase(),dateType:q,days_from_today:c("InsightsUtils").millisecondsToDays(c("InsightsUtils").getMostRecentPacificDayBegin(p)-c("InsightsUtils").getMostRecentPacificDayBegin(new Date()))})};f.exports=n}),null);
__d("GEPushColorPicker",["cx","joinClasses","React","BUITextInput_DEPRECATED.react","Layout.react"],(function a(b,c,d,e,f,g,h){var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes,n=function n(r){var s=r.h,t=r.s,u=r.v,v=u*t,w=v*(1-Math.abs(s/60%2-1)),x=u-v,y=0,z=0,A=0;if(s<60){y=v;z=w;A=0}else if(s<120){y=w;z=v;A=0}else if(s<180){y=0;z=v;A=w}else if(s<240){y=0;z=w;A=v}else if(s<300){y=w;z=0;A=v}else{y=v;z=0;A=w}return{r:(y+x)*255,g:(z+x)*255,b:(A+x)*255}},o=function o(r){var s=r.r,t=r.g,u=r.b,v=Math.max(s,t,u),w=Math.min(s,t,u),x=v-w,y=0;if(x===0)y=0;else if(v===s)y=(t-u)/x;else if(v===t)y=(u-s)/x+2;else if(v===u)y=(s-t)/x+4;return{h:(y*60+360)%360,s:v>0?x/v:0,v:v}},p=function p(r){var s=babelHelpers.objectWithoutProperties(r,[]);s.r=Math.floor(s.r);s.g=Math.floor(s.g);s.b=Math.floor(s.b);if(s.r>255)s.r=255;if(s.g>255)s.g=255;if(s.b>255)s.b=255;if(s.r<0)s.r=0;if(s.g<0)s.g=0;if(s.b<0)s.b=0;return s};i=babelHelpers.inherits(q,c("React").Component);j=i&&i.prototype;function q(r){"use strict";j.constructor.call(this,r);this.$GEPushColorPicker1=function(s,t){switch(s){case"r":this.setState({stashedR:t});break;case"g":this.setState({stashedG:t});break;case"b":this.setState({stashedB:t});break}var u=parseInt(t,10);if(u>=0&&u<=255){var v=babelHelpers["extends"]({},this.props.color);v[s]=u;this.props.onChange(v)}}.bind(this);this.$GEPushColorPicker2=function(s){if(s.length===6){var t=parseInt(s.slice(0,2),16),u=parseInt(s.slice(2,4),16),v=parseInt(s.slice(4,6),16);if(isNaN(t)||isNaN(u)||isNaN(v))this.setState({stashedHex:s});else this.props.onChange({r:t,g:u,b:v,a:this.props.color.a})}else this.setState({stashedHex:s})}.bind(this);this.$GEPushColorPicker3=function(s){this.setState({stashedA:s});var t=parseFloat(s);if(!isNaN(t)&&t>=0&&t<=1){var u=babelHelpers["extends"]({},this.props.color);u.a=t;this.props.onChange(u)}}.bind(this);this.$GEPushColorPicker4=function(s){if(s.buttons===1){var t=this.refs.hueInput.getBoundingClientRect(),u=s.clientY-t.top,v=o(this.props.color);v.h=(210-u)/210*360%360;v.v/=255;var w=p(n(v));w.a=this.props.color.a;this.props.onChange(w);this.setState({previousHue:v.h})}}.bind(this);this.$GEPushColorPicker5=function(s){if(s.buttons===1){var t=this.refs.saturationValueInput.getBoundingClientRect(),u=s.clientY-t.top,v=s.clientX-t.left,w=o(this.props.color);w.s=v/210;w.v=(210-u)/210;if(w.h===0)w.h=this.state.previousHue;var x=p(n(w));x.a=this.props.color.a;this.props.onChange(x)}}.bind(this);this.$GEPushColorPicker6=function(){if(this.state.stashedHex)return this.state.stashedHex;var s=("0"+this.props.color.r.toString(16)).slice(-2),t=("0"+this.props.color.g.toString(16)).slice(-2),u=("0"+this.props.color.b.toString(16)).slice(-2);return s+t+u}.bind(this);this.state={stashedR:"",stashedG:"",stashedB:"",stashedA:"",previousHue:0,stashedHex:null}}q.prototype.componentWillReceiveProps=function(r){var s=r.color,t=s.r,u=s.g,v=s.b,w=s.a;"use strict";if(parseFloat(this.state.stashedA)!=w)this.setState({stashedA:w});this.setState({stashedR:t.toString(),stashedG:u.toString(),stashedB:v.toString(),stashedHex:undefined});if(o({r:t,g:u,b:v}).s>0)this.setState({previousHue:o({r:t,g:u,b:v}).h})};q.prototype.render=function(){"use strict";var r=o(this.props.color),s=r.s,t=r.v,u=n({h:this.state.previousHue,s:1,v:1}),v="linear-gradient(to right, #fff, rgb("+Math.round(u.r)+","+Math.round(u.g)+","+Math.round(u.b)+"))",w="calc("+(360-this.state.previousHue)*100/360+"% - 4px)";return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,null,c("React").createElement("div",{className:"_4nq2",style:{background:v}},c("React").createElement("div",{className:"_4nqe",ref:"saturationValueInput",onMouseMove:this.$GEPushColorPicker5,onMouseDown:this.$GEPushColorPicker5},c("React").createElement("div",{className:"_4nqf",style:{top:"calc("+(100*(1-t/255)).toString()+"% - 6px)",left:"calc("+(100*s).toString()+"% - 6px)"}})))),c("React").createElement(k,null,c("React").createElement("div",{className:c("joinClasses")("_3-8v","_4nqg"),ref:"hueInput",onMouseMove:this.$GEPushColorPicker4,onMouseDown:this.$GEPushColorPicker4},c("React").createElement("div",{style:{top:w},className:"_4nqh"}))),c("React").createElement(l,null,c("React").createElement("div",{className:"_4nqi"},c("React").createElement("span",{className:"_gaq"},"R "),c("React").createElement(c("BUITextInput_DEPRECATED.react"),{height:"xtall",onChange:function(x){return this.$GEPushColorPicker1("r",x.target.value)}.bind(this),value:this.state.stashedR,className:c("joinClasses")("_3-95","_4nqj")})),c("React").createElement("div",{className:"_4nqi"},c("React").createElement("span",{className:"_gaq"},"G "),c("React").createElement(c("BUITextInput_DEPRECATED.react"),{height:"xtall",onChange:function(x){return this.$GEPushColorPicker1("g",x.target.value)}.bind(this),value:this.state.stashedG,className:c("joinClasses")("_3-95","_4nqj")})),c("React").createElement("div",{className:"_4nqi"},c("React").createElement("span",{className:"_gaq"},"B "),c("React").createElement(c("BUITextInput_DEPRECATED.react"),{height:"xtall",onChange:function(x){return this.$GEPushColorPicker1("b",x.target.value)}.bind(this),value:this.state.stashedB,className:c("joinClasses")("_3-95","_4nqj")})),c("React").createElement("div",{className:"_4nqi"},c("React").createElement("span",{className:"_gaq"},"A "),c("React").createElement(c("BUITextInput_DEPRECATED.react"),{height:"xtall",onChange:function(x){return this.$GEPushColorPicker3(x.target.value)}.bind(this),value:this.state.stashedA.toString(),className:c("joinClasses")("_3-95","_4nqj")})),c("React").createElement("div",{className:"_4nqi"},c("React").createElement("span",{className:"_gaq"},"# "),c("React").createElement(c("BUITextInput_DEPRECATED.react"),{height:"xtall",onChange:function(x){return this.$GEPushColorPicker2(x.target.value)}.bind(this),value:this.$GEPushColorPicker6(),className:"_4nqk"}))))};q.propTypes={color:m.object.isRequired,onChange:m.func.isRequired};f.exports=q}),null);
__d("GEPushColorPickerDropdown",["cx","joinClasses","ContextualLayer.react","LayerHideOnBlur","LayerHideOnEscape","React","GEPushColorPicker","XUICard.react"],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";var p=[];for(var q=0;q<25;q++){var r=q%2==0?"_5jhf":"_5jhg";p.push(c("React").createElement("div",{className:r,key:q.toString()}))}return c("React").createElement("div",{className:"_5ji9"},c("React").createElement("div",{className:"_5jia",style:{background:"rgba("+Math.round(this.props.color.r)+","+Math.round(this.props.color.g)+","+Math.round(this.props.color.b)+","+this.props.color.a+")"}}),p)};function n(){"use strict";i.apply(this,arguments)}k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={visible:false},this.toggle=function(){this.setState({visible:!this.state.visible})}.bind(this),this.onToggle=function(u){this.setState({visible:u})}.bind(this),this.renderLayers=function(){var u=c("React").createElement(c("GEPushColorPicker"),{color:this.props.color,onChange:this.props.onChange});return c("React").createElement(c("ContextualLayer.react"),{behaviors:{LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")},contextRef:function(){return this.refs.button}.bind(this),position:"below",ref:"layer",shown:this.state.visible,onToggle:this.onToggle,key:"layer"},c("React").createElement(c("XUICard.react"),{className:c("joinClasses")("_5jib","_2pi1")},u))}.bind(this),q}o.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement("div",{className:(!this.props.showFullDetails?"_5tcu":"")+" _5jic",onClick:this.toggle,ref:"button",role:"presentation"},c("React").createElement(n,{color:this.props.color}),this.props.showFullDetails?c("React").createElement("span",{className:"_5jid"},"rgba("+this.props.color.r+", "+this.props.color.g+", "+this.props.color.b+", "+this.props.color.a+")"):null,this.props.showFullDetails?c("React").createElement("div",{className:"_5jie"},c("React").createElement("div",{className:"_5jif"})):null),this.renderLayers())};o.propTypes={color:m.object.isRequired,onChange:m.func.isRequired,showFullDetails:m.bool};f.exports=o}),null);
__d("GEPushCardFontSelection",["cx","fbt","GEPushColorPickerDropdown","GriffinComposerField","GriffinSelector","GriffinSelectorOption","React","SUITextInput.react","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l,m=c("React").PropTypes,n=(l={},l["system-regular"]=i._("System Font Regular"),l["system-light"]=i._("System Font Light"),l["system-italic"]=i._("System Font Italic"),l["system-bold"]=i._("System Font Bold"),l["system-bolditalic"]=i._("System Font Bold Italic"),l),o=c("GEPushUtils").convertHexToRGBA,p=c("GEPushUtils").convertRGBAToHex;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;q.prototype.render=function(){"use strict";var r=this.props,s=r.theme,t=r.fontInfo,u=r.onChangeFontType,v=r.onChangeFontSize,w=r.onChangeFontColor,x=[];for(var y in n)x.push(c("React").createElement(c("GriffinSelectorOption"),{key:"fontType"+y,value:y},n[y]));return c("React").createElement(c("GriffinComposerField"),{className:"_1czy",style:{position:"relative",top:"-7px"},label:i._("FUENTE"),labelClass:"_9ug",input:[c("React").createElement(c("GriffinSelector"),{key:"fontType",className:"_2-wr",width:153,value:t.font||"system-regular",onChange:function z(y){u(y)}},x),c("React").createElement(c("GEPushColorPickerDropdown"),{key:"fontColor",color:o(t.color),onChange:function z(A){w(p(A))},showFullDetails:false}),c("React").createElement(c("SUITextInput.react"),{key:"fontSize",theme:s,className:"_2-x2",placeholder:i._("Escribe aqu\u00ed el tama\u00f1o de la letra..."),onChange:function z(A){if(!isNaN(Number(A)))v(Number(A))},value:String(t.size)})]})};function q(){"use strict";j.apply(this,arguments)}q.propTypes={fontInfo:m.object.isRequired,onChangeFontType:m.func.isRequired,onChangeFontSize:m.func.isRequired,onChangeFontColor:m.func.isRequired};f.exports=q}),null);
__d("GEPushCardBodySection",["cx","fbt","GEPushCardFontSelection","GriffinComposerField","GEPushComposerSection","GriffinSelector","GriffinSelectorOption","InsightsEventDebounceLogger","InsightsEventLogger","React","SUITextArea.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$GEPushCardBodySection1=function(n,o){"use strict";var p=babelHelpers["extends"]({eventName:"push_campaign_card_body",type:this.props.campaignType.toLowerCase()},n);o?c("InsightsEventDebounceLogger").logEvent(p,o):c("InsightsEventLogger").logEvent(p)};m.prototype.render=function(){"use strict";var n=this.props,o=n.theme,p=n.pushCardData,q=n.onChange,r=[c("React").createElement(c("GriffinComposerField"),{key:"bodyText",label:i._("TEXTO DEL CUERPO"),input:c("React").createElement(c("SUITextArea.react"),{className:"_5xgp",theme:o,placeholder:i._("Escribe aqu\u00ed el texto del cuerpo..."),onChange:function(s){q(["body","content","text"],s);this.$GEPushCardBodySection1({property:"content",propertyType:"text"},"card_body_content_text")}.bind(this),value:p.body.content.text})}),c("React").createElement(c("GEPushCardFontSelection"),{key:"bodyFont",theme:o,fontInfo:p.body.content,onChangeFontColor:function(s){q(["body","content","color"],s);this.$GEPushCardBodySection1({property:"content",propertyType:"color",value:s},"card_body_content_color")}.bind(this),onChangeFontType:function(s){q(["body","content","font"],s);this.$GEPushCardBodySection1({property:"content",propertyType:"font",value:s})}.bind(this),onChangeFontSize:function(s){q(["body","content","size"],s);this.$GEPushCardBodySection1({property:"content",propertyType:"size",value:s},"card_body_content_size")}.bind(this)}),c("React").createElement(c("GriffinComposerField"),{key:"textAlign",label:i._("ALINEACI\u00d3N DE TEXTO"),input:c("React").createElement(c("GriffinSelector"),{value:p.body.content.align,width:250,onChange:function(s){q(["body","content","align"],s);this.$GEPushCardBodySection1({property:"content",propertyType:"align",value:s})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"left"},i._("Izquierda")),c("React").createElement(c("GriffinSelectorOption"),{value:"center"},i._("Centrar")),c("React").createElement(c("GriffinSelectorOption"),{value:"right"},i._("Derecha")))})];return c("React").createElement(c("GEPushComposerSection"),{title:i._("Texto")},r)};function m(){"use strict";j.apply(this,arguments)}m.propTypes={theme:l.object.isRequired,pushCardData:l.object.isRequired,onChange:l.func.isRequired,campaignType:l.string.isRequired};f.exports=m}),null);
__d("GEPushRangeInput",["cx","Event","React","UserAgent_DEPRECATED","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={value:this.props.value||this.props.min,pressed:false},this.$GEPushRangeInput3=function(event){if(!this.props.disabled){c("Event").prevent(event);this.setState({pressed:true,dragStartValue:this.state.value,dragStartX:event.nativeEvent.clientX})}}.bind(this),this.$GEPushRangeInput1=function(event){if(this.state.pressed){var r=this.refs.track.getBoundingClientRect(),s=event.clientX-r.left,t=s/(r.right-r.left);t=t<0?0:t;t=t>1?1:t;var u=this.props.max,v=this.props.min,w=v+t*(u-v);this.setState({value:w});this.$GEPushRangeInput4()}}.bind(this),this.$GEPushRangeInput2=function(event){if(this.state.pressed)this.setState({pressed:false})}.bind(this),this.$GEPushRangeInput4=function(){if(this.props.onChange){var r=this.state.value,s=this.props.step;if(s){r=Math.round(r/s)*s;this.props.onChange(r)}}}.bind(this),this.getThumb=function(){return this.refs&&this.refs.thumbWrapper}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";var m=c("UserAgent_DEPRECATED").ie()<9?document.documentElement:window;c("Event").listen(m,{mousemove:function(n){return this.$GEPushRangeInput1(n)}.bind(this),mouseup:function(n){return this.$GEPushRangeInput2(n)}.bind(this)})};l.prototype.componentWillReceiveProps=function(m){"use strict";if(m.value!==this.props.value)this.setState({value:m.value})};l.prototype.render=function(){"use strict";var m=this.props,n=this.state,o=m.max-m.min,p=(n.value-m.min)/o,q="_4hwi"+(m.disabled?" _4hwj":"");return c("React").createElement("div",babelHelpers["extends"]({},this.props,{ref:"track",className:c("joinClasses")(this.props.className,q)}),c("React").createElement("div",{style:{width:p*100+"%"},className:"_4hwk"}),c("React").createElement("div",{className:"_4hwl",ref:"thumbWrapper",style:{left:p*100+"%"},onDragStart:c("Event").prevent,onMouseDown:m.disabled?null:this.$GEPushRangeInput3},c("React").createElement("div",{className:"_4hwp"+(n.pressed?" _4hwq":"")})))};l.propTypes={className:k.string,min:k.number.isRequired,max:k.number.isRequired,step:k.number,value:k.number,disabled:k.bool,onChange:k.func.isRequired};f.exports=l}),null);
__d("GEPushTooltipRangeInput",["cx","GEPushRangeInput","React","ReactDOM","Tooltip","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$GEPushTooltipRangeInput1=function(){var r=c("ReactDOM").findDOMNode(this.refs.rangeInput.getThumb()),s=this.props.tooltip;if(s)c("Tooltip").set(r,s,"above","center");else c("Tooltip").remove(r)}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement(c("GEPushRangeInput"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_154g"),ref:"rangeInput"}))};l.prototype.componentDidMount=function(){"use strict";this.$GEPushTooltipRangeInput1()};l.prototype.componentDidUpdate=function(){"use strict";this.$GEPushTooltipRangeInput1()};l.propTypes={min:k.number.isRequired,max:k.number.isRequired,step:k.number,value:k.number,tooltip:k.string,onChange:k.func};f.exports=l}),null);
__d("GEPushCardButtonOverviewSection",["cx","fbt","GriffinComposerField","GEPushComposerSection","GEPushTooltipRangeInput","InsightsEventDebounceLogger","InsightsEventLogger","React"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$GEPushCardButtonOverviewSection1=function(n,o){"use strict";var p=babelHelpers["extends"]({eventName:"push_campaign_card_button_overview",type:this.props.campaignType.toLowerCase()},n);o?c("InsightsEventDebounceLogger").logEvent(p,o):c("InsightsEventLogger").logEvent(p)};m.prototype.render=function(){"use strict";var n=this.props,o=n.pushCardData,p=n.onChange;return c("React").createElement(c("GEPushComposerSection"),{key:"buttons",title:i._("Botones")},c("React").createElement(c("GriffinComposerField"),{label:i._("ESQUINAS REDONDEADAS"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:32,step:1,tooltip:String(o.actions.cornerRadius),value:o.actions.cornerRadius,onChange:function(q){p(["actions","cornerRadius"],q);this.$GEPushCardButtonOverviewSection1({property:"cornerRadius",value:q},"card_button_overview_corner_radius")}.bind(this)}))}),c("React").createElement(c("GriffinComposerField"),{label:i._("ALTURA"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:44,max:64,step:1,tooltip:String(o.actions.height),value:o.actions.height,onChange:function(q){p(["actions","height"],q);this.$GEPushCardButtonOverviewSection1({property:"height",value:q},"card_button_overview_height")}.bind(this)}))}),c("React").createElement(c("GriffinComposerField"),{label:i._("Bot\u00f3n de espaciado"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:64,step:1,tooltip:String(o.actions.topInset),value:o.actions.topInset,onChange:function(q){p(["actions","topInset"],q);p(["actions","contentInset"],q);this.$GEPushCardButtonOverviewSection1({property:"buttonSpacing",value:q},"card_button_overview_button_spacing")}.bind(this)}))}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={campaignType:l.string.isRequired,pushCardData:l.object.isRequired,onChange:l.func.isRequired};f.exports=m}),null);
__d("GEPushCardButtonSection",["cx","fbt","GEPushCardFontSelection","GEPushColorPickerDropdown","GEPushComposerSection","GEPushTooltipRangeInput","GriffinComposerField","GriffinSelector","GriffinSelectorOption","InsightsEventDebounceLogger","InsightsEventLogger","React","SUITextInput.react","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GEPushUtils").convertHexToRGBA,m=c("GEPushUtils").convertRGBAToHex,n=c("GEPushUtils").isValidScheme;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$GEPushCardButtonSection2=function(u,v){var w=this.props,x=w.theme,y=w.onChange,z=w.includeUrl,A=w.onChangeIncludeUrl,B=w.solidStyle,C=w.onChangeSolidStyle,D=w.validForm,E=[],F=z?"link":"close",G=B?"solid":"outline";E.push(c("React").createElement(c("GriffinComposerField"),{key:"actionType",label:i._("TIPO DE ACCI\u00d3N"),input:c("React").createElement(c("GriffinSelector"),{value:F,width:250,onChange:function(I){A(I==="link");y(["actions","actions",v,"url"],I==="link"?"":null);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"actionType",value:I})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"link"},i._("Enlace profundo\/URL de sitio web")),c("React").createElement(c("GriffinSelectorOption"),{value:"close"},i._("Descartar al tocar")))}));if(z){var H=D&&!n(u.url)?i._("Introduce una URL o un enlace profundo v\u00e1lidos"):"";E.push(c("React").createElement(c("GriffinComposerField"),{label:i._("ENLACE PROFUNDO"),input:c("React").createElement(c("SUITextInput.react"),{errorMessage:H,className:"_5xgp",theme:x,value:u.url,onChange:function(I){y(["actions","actions",v,"url"],I);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"url"},"card_button_url")}.bind(this)})}))}E.push(c("React").createElement(c("GriffinComposerField"),{key:"labelText",label:i._("TEXTO DE ETIQUETA"),input:c("React").createElement(c("SUITextInput.react"),{className:"_5xgp",theme:x,value:u.content.text,onChange:function(I){y(["actions","actions",v,"content","text"],I);this.$GEPushCardButtonSection1({property:"button"+v+"Content",propertyType:"text"},"card_button_content")}.bind(this)})}));E.push(c("React").createElement(c("GriffinComposerField"),{key:"buttonColor",label:i._("COLOR DEL BOT\u00d3N"),input:c("React").createElement(c("GEPushColorPickerDropdown"),{color:l(u.backgroundColor),onChange:function(I){var J=m(I);y(["actions","actions",v,"backgroundColor"],J);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"backgroundColor",value:J},"card_button_background_color")}.bind(this),showFullDetails:true})}));E.push(c("React").createElement(c("GEPushCardFontSelection"),{key:"buttonFont",theme:x,fontInfo:u.content,onChangeFontColor:function(I){y(["actions","actions",v,"content","color"],I);this.$GEPushCardButtonSection1({property:"button"+v+"Content",propertyType:"color",value:I},"card_button_content_color")}.bind(this),onChangeFontType:function(I){y(["actions","actions",v,"content","font"],I);this.$GEPushCardButtonSection1({property:"button"+v+"Content",propertyType:"font",value:I},"card_button_content_font")}.bind(this),onChangeFontSize:function(I){y(["actions","actions",v,"content","size"],I);this.$GEPushCardButtonSection1({property:"button"+v+"Content",propertyType:"size",value:I},"card_button_content_size")}.bind(this)}));E.push(c("React").createElement(c("GriffinComposerField"),{key:"style",label:i._("ESTILO"),input:c("React").createElement(c("GriffinSelector"),{value:G,width:250,onChange:function(I){var J=I==="solid";C(J);y(["actions","actions",v,"borderWidth"],J?0:3);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"borderWidthType",value:v})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"solid"},i._("Color s\u00f3lido")),c("React").createElement(c("GriffinSelectorOption"),{value:"outline"},i._("Contorno")))}));if(!B){E.push(c("React").createElement(c("GriffinComposerField"),{key:"borderWidth",label:i._("ANCHO DEL BORDE"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:10,step:1,tooltip:String(u.borderWidth),value:u.borderWidth,onChange:function(I){y(["actions","actions",v,"borderWidth"],I);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"borderWidth",value:I},"card_button_border_width")}.bind(this)}))}));E.push(c("React").createElement(c("GriffinComposerField"),{key:"borderColor",label:i._("COLOR DEL BORDE"),input:c("React").createElement(c("GEPushColorPickerDropdown"),{color:l(u.borderColor),onChange:function(I){var J=m(I);y(["actions","actions",v,"borderColor"],J);this.$GEPushCardButtonSection1({property:"button"+v,propertyType:"borderColor",value:J},"card_button_border_color")}.bind(this),showFullDetails:true})}))}return E}.bind(this),q}o.prototype.$GEPushCardButtonSection1=function(p,q){"use strict";var r=babelHelpers["extends"]({eventName:"push_campaign_card_button",type:this.props.campaignType.toLowerCase()},p);q?c("InsightsEventDebounceLogger").logEvent(r,q):c("InsightsEventLogger").logEvent(r)};o.prototype.render=function(){"use strict";var p=this.props,q=p.index,r=p.title,s=p.action;return c("React").createElement(c("GEPushComposerSection"),{title:r},this.$GEPushCardButtonSection2(s,q))};f.exports=o}),null);
__d("GEPushCardGeneralSection",["cx","fbt","GriffinComposerField","GEPushComposerSection","React","GEPushColorPickerDropdown","GEPushTooltipRangeInput","InsightsEventDebounceLogger","InsightsEventLogger","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=c("GEPushUtils").convertHexToRGBA,n=c("GEPushUtils").convertRGBAToHex;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.$GEPushCardGeneralSection1=function(p,q){"use strict";var r=babelHelpers["extends"]({eventName:"push_campaign_card_general",type:this.props.campaignType.toLowerCase()},p);q?c("InsightsEventDebounceLogger").logEvent(r,q):c("InsightsEventLogger").logEvent(r)};o.prototype.render=function(){"use strict";var p=this.props,q=p.pushCardData,r=p.onChange;return c("React").createElement(c("GEPushComposerSection"),{title:i._("General")},c("React").createElement(c("GriffinComposerField"),{label:i._("COLOR DE TRASFONDO"),input:c("React").createElement(c("GEPushColorPickerDropdown"),{color:m(q.backdropColor),onChange:function(s){var t=n(s);r("backdropColor",t);this.$GEPushCardGeneralSection1({property:"backdropColor",value:t},"card_general_backdrop_color")}.bind(this),showFullDetails:true})}),c("React").createElement(c("GriffinComposerField"),{label:i._("COLOR DE FONDO"),input:c("React").createElement(c("GEPushColorPickerDropdown"),{color:m(q.fb_dashboard.background.rgbaHex),onChange:function(s){var t=n(s);r(["fb_dashboard","background","rgbaHex"],t);if(q.actions.style==="attached")r(["actions","background","rgbaHex"],t);r(["body","background","rgbaHex"],t);this.$GEPushCardGeneralSection1({property:"backgroundColor",value:t},"card_general_background_color")}.bind(this),showFullDetails:true})}),c("React").createElement(c("GriffinComposerField"),{label:i._("ESQUINAS REDONDEADAS"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:80,step:1,tooltip:String(q.cornerRadius),value:q.cornerRadius,onChange:function(s){r("cornerRadius",s);this.$GEPushCardGeneralSection1({property:"cornerRadius",value:s},"card_general_corner_radius")}.bind(this)}))}),c("React").createElement(c("GriffinComposerField"),{label:i._("ESPACIADO GENERAL"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:80,step:1,tooltip:String(q.contentInset),value:q.contentInset,onChange:function(s){r("contentInset",s);this.$GEPushCardGeneralSection1({property:"contentInset",value:s},"card_general_content_inset")}.bind(this)}))}))};function o(){"use strict";j.apply(this,arguments)}o.propTypes={theme:l.object.isRequired,pushCardData:l.object.isRequired,onChange:l.func.isRequired,campaignType:l.string.isRequired};f.exports=o}),null);
__d("GEPushCardImagesActions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({GET_FILES:null,CREATE_FILE:null})}),null);
__d("GEPushCardImagesStore",["EventEmitter","InsightsGraphAPI","InsightsGraphAPIConstants","GEPushCardImagesActions"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("GEPushCardImagesActions").GET_FILES;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(){i.constructor.call(this);this.$GEPushCardImagesStore1=c("InsightsGraphAPIConstants").ANALYTICS_PUSH_CARD_IMAGES_EDGE;this.$GEPushCardImagesStore2=c("InsightsGraphAPIConstants").ANALYTICS_PUSH_CARD_IMAGES_NODE;this.$GEPushCardImagesStore3=null}k.prototype.getFiles=function(){if(this.$GEPushCardImagesStore3)this.emit(j,this.$GEPushCardImagesStore3);else c("InsightsGraphAPI").appEdgeGet(this.$GEPushCardImagesStore1).done(function(m){this.$GEPushCardImagesStore3=m.data;this.emit(j,m.data)}.bind(this),function(m){})};k.prototype.createFile=function(m,n){c("InsightsGraphAPI").appEdgePost(this.$GEPushCardImagesStore1,m).done(function(o){var p=o.id;if(p)c("InsightsGraphAPI").objectGet(this.$GEPushCardImagesStore2,p).done(function(q){if(q){if(n)n(q);this.$GEPushCardImagesStore3.unshift(q);this.getFiles()}}.bind(this))}.bind(this))};k.prototype.subscribe=function(m,n){return this.addListener(m,n)};k.prototype.unsubscribe=function(m){return this.removeCurrentListener(m)};var l=new k();f.exports=l}),null);
__d("GEPushCardHeroSection",["cx","fbt","GEPushCardMediaFileSelector","GEPushCardImagesStore","GEPushColorPickerDropdown","GriffinComposerField","GEPushCardFontSelection","GEPushComposerSection","GEPushToggle","GEPushTooltipRangeInput","GriffinSelector","GriffinSelectorOption","InsightsEventDebounceLogger","InsightsEventLogger","React","SUITextInput.react","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=5e6,n=c("GEPushUtils").isGIF,o=c("GEPushUtils").convertHexToRGBA,p=c("GEPushUtils").convertRGBAToHex,q={_type:"Color",rgbaHex:"#768C97FF"},r={topLeft:{textAlign:"left",verticalAlign:"top"},topCenter:{textAlign:"center",verticalAlign:"top"},topRight:{textAlign:"right",verticalAlign:"top"},centerLeft:{textAlign:"left",verticalAlign:"center"},centerCenter:{textAlign:"center",verticalAlign:"center"},centerRight:{textAlign:"right",verticalAlign:"center"},bottomLeft:{textAlign:"left",verticalAlign:"bottom"},bottomCenter:{textAlign:"center",verticalAlign:"bottom"},bottomRight:{textAlign:"right",verticalAlign:"bottom"}},s={SIZE:i._("El tama\u00f1o del archivo no debe superar los 5 MB"),EMPTY_FILE:i._("Debes seleccionar un archivo multimedia")},t=function t(w){return w.verticalAlign+w.textAlign[0].toUpperCase()+w.textAlign.slice(1)},u=function u(w){return JSON.stringify(w)==JSON.stringify({})};j=babelHelpers.inherits(v,c("React").Component);k=j&&j.prototype;function v(){var w,x;"use strict";for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.state={selectedFile:{},errorMessage:""},this.$GEPushCardHeroSection2=function(B){this.setState({selectedFile:B});this.props.onChange(["hero","background"],{_type:n(B.mime_type)?"GIF":"Image",url:B.image_url});this.props.onChange(["fb_dashboard","hero_image_id"],B.id);this.props.onChange(["fb_dashboard","hero_image_handle"],B.image_handle);this.setState({errorMessage:""})}.bind(this),this.$GEPushCardHeroSection3=function(B){var C=!B?{_type:"Image",url:""}:q;this.props.onChange(["hero","background"],C);this.props.onChange(["fb_dashboard","hero_image_id"],null);this.props.onChange(["fb_dashboard","hero_image_handle"],null)}.bind(this),this.$GEPushCardHeroSection4=function(B,C){var D=B.target?B.target.files:B,E=D[0];if(D&&E){if(E.size>m){this.setState({errorMessage:s.SIZE});return}var F=new FormData();F.append("image_file",E);c("GEPushCardImagesStore").createFile(F,function(G){if(C)this.$GEPushCardHeroSection2(G);this.setState({errorMessage:""})}.bind(this))}}.bind(this),x}v.prototype.$GEPushCardHeroSection1=function(w,x){"use strict";var y=babelHelpers["extends"]({eventName:"push_campaign_card_hero",type:this.props.campaignType.toLowerCase()},w);x?c("InsightsEventDebounceLogger").logEvent(y,x):c("InsightsEventLogger").logEvent(y)};v.prototype.render=function(){"use strict";var w=this.props,x=w.theme,y=w.pushCardData,z=w.onChange,A=w.customHeight,B=w.onToggleCustomHeight,C=w.includeText,D=w.onToggleIncludeText,E=w.mediaType,F=w.onChangeMediaType,G=w.validForm,H={textAlign:y.hero&&y.hero.content?y.hero.content.align:"center",verticalAlign:y.hero?y.hero.contentAlign:"center"},I=t(H),J=this.state.errorMessage;if(G&&!this.state.selectedFile.image_url&&!J)J=i._("Debes elegir un archivo multimedia.");var K=E==="color"?c("React").createElement(c("GriffinComposerField"),{label:i._("COLOR DE MEDIOS"),input:c("React").createElement(c("GEPushColorPickerDropdown"),{color:o(y.hero.background.rgbaHex),onChange:function(L){var M=p(L);z(["hero","background","rgbaHex"],M);this.$GEPushCardHeroSection1({property:"background",propertyType:"color",value:M},"card_hero_background_color")}.bind(this),showFullDetails:true})}):c("React").createElement(c("GriffinComposerField"),{label:i._("SUBIR ARCHIVO MULTIMEDIA"),input:c("React").createElement(c("GEPushCardMediaFileSelector"),{theme:x,hasError:G&&u(this.state.selectedFile),selectedFile:this.state.selectedFile,onFileChange:function(L){this.$GEPushCardHeroSection4(L,true)}.bind(this),onFileRemove:function(){this.setState({selectedFile:{}});this.$GEPushCardHeroSection3(true)}.bind(this),onModalFileChange:this.$GEPushCardHeroSection4,onModalSelectFile:this.$GEPushCardHeroSection2,allowedFileTypes:["image/gif","image/png","image/jpeg"],errorMessage:J})});return c("React").createElement(c("GEPushComposerSection"),{title:i._("Archivos multimedia")},c("React").createElement(c("GriffinComposerField"),{label:i._("TIPO DE ARCHIVO MULTIMEDIA"),input:c("React").createElement(c("GriffinSelector"),{value:E,width:250,onChange:function(E){var L=E==="color";if(L)this.setState({selectedFile:{}});this.$GEPushCardHeroSection3(L);F(E);this.setState({errorMessage:""});this.$GEPushCardHeroSection1({property:"mediaType",value:E})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"color"},i._("Color s\u00f3lido")),c("React").createElement(c("GriffinSelectorOption"),{value:"image"},i._("Imagen")))}),K,c("React").createElement(c("GriffinComposerField"),{label:i._("PERSONALIZAR ALTURA"),input:c("React").createElement(c("GEPushToggle"),{onClick:function(){z(["hero","height"],A?null:.3);B();this.$GEPushCardHeroSection1({property:"customHeight",value:String(!A)})}.bind(this),value:A})}),A?c("React").createElement(c("GriffinComposerField"),{label:i._("ALTURA"),input:c("React").createElement("div",{className:"_45by"},c("React").createElement(c("GEPushTooltipRangeInput"),{min:0,max:1,step:.01,tooltip:(y.hero.height*100).toFixed(0)+"%",value:y.hero.height,onChange:function(L){var M=Number(L.toFixed(2));z(["hero","height"],M);this.$GEPushCardHeroSection1({property:"height",value:M},"card_hero_height")}.bind(this)}))}):null,c("React").createElement(c("GriffinComposerField"),{label:i._("\u00bfINCLUIR TEXTO?"),input:c("React").createElement(c("GEPushToggle"),{onClick:function(){var L=C?null:{$GEPushCardHeroSection5:"StyledText",align:"center",size:15,text:"Hero Text",color:"#EDEDED"};D();z(["hero","content"],L);this.$GEPushCardHeroSection1({property:"toggleText",value:!C},"card_hero_toggle_text")}.bind(this),value:C})}),C?[c("React").createElement(c("GriffinComposerField"),{key:"titleTextField",label:i._("TEXTO DEL T\u00cdTULO"),input:c("React").createElement(c("SUITextInput.react"),{className:"_5xgp",theme:x,placeholder:i._("Escribe aqu\u00ed el t\u00edtulo del archivo multimedia..."),onChange:function(L){z(["hero","content","text"],L);this.$GEPushCardHeroSection1({property:"content"},"card_hero_content")}.bind(this),value:y.hero.content.text})}),c("React").createElement(c("GEPushCardFontSelection"),{key:"fontField",theme:x,fontInfo:y.hero.content,onChangeFontColor:function(L){z(["hero","content","color"],L);this.$GEPushCardHeroSection1({property:"content",propertyType:"color"},"card_hero_content_color")}.bind(this),onChangeFontType:function(L){z(["hero","content","font"],L);this.$GEPushCardHeroSection1({property:"content",propertyType:"font",value:L})}.bind(this),onChangeFontSize:function(L){z(["hero","content","size"],L);this.$GEPushCardHeroSection1({property:"content",propertyType:"size",value:L},"card_hero_content_size")}.bind(this)}),c("React").createElement(c("GriffinComposerField"),{key:"textAlignField",label:i._("ALINEACI\u00d3N DE TEXTO"),input:c("React").createElement(c("GriffinSelector"),{value:I,width:250,onChange:function(L){var M=r[L];z(["hero","content","align"],M.textAlign);z(["hero","contentAlign"],M.verticalAlign);this.$GEPushCardHeroSection1({property:"textAlign",value:L})}.bind(this)},c("React").createElement(c("GriffinSelectorOption"),{value:"topLeft"},i._("Arriba a la izquierda")),c("React").createElement(c("GriffinSelectorOption"),{value:"topCenter"},i._("Arriba al centro")),c("React").createElement(c("GriffinSelectorOption"),{value:"topRight"},i._("Arriba a la derecha")),c("React").createElement(c("GriffinSelectorOption"),{value:"centerLeft"},i._("Centro izquierda")),c("React").createElement(c("GriffinSelectorOption"),{value:"centerCenter"},i._("Centrar")),c("React").createElement(c("GriffinSelectorOption"),{value:"centerRight"},i._("Centro derecha")),c("React").createElement(c("GriffinSelectorOption"),{value:"bottomLeft"},i._("Abajo a la izquierda")),c("React").createElement(c("GriffinSelectorOption"),{value:"bottomCenter"},i._("Abajo al centro")),c("React").createElement(c("GriffinSelectorOption"),{value:"bottomRight"},i._("Abajo derecha")))})]:null)};v.propTypes={theme:l.object.isRequired,pushCardData:l.object.isRequired,onChange:l.func.isRequired,customHeight:l.bool.isRequired,onToggleCustomHeight:l.func.isRequired,includeText:l.bool.isRequired,onToggleIncludeText:l.func.isRequired,validForm:l.bool.isRequired,campaignType:l.string.isRequired};f.exports=v}),null);
__d("GEPushCardInAppForm",["fbt","GEPushCardBodySection","GEPushCardButtonSection","GEPushCardButtonOverviewSection","GEPushCardGeneralSection","GEPushCardHeroSection","GEPushCardLayoutSection","React","GEPushConstants"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes,l=[h._("Bot\u00f3n uno"),h._("Bot\u00f3n dos")],m=c("GEPushConstants").ONE_OFF,n=c("GEPushConstants").CONTINUOUS;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={customHeight:false,includeText:false,spaceOutButtons:false,notificationLayout:"notificationLayout1",buttonLayout:"buttonLayout2",mediaType:"image",solidStyle0:true,solidStyle1:true},this.$GEPushCardInAppForm1=function(u,v){var w=Object.assign({},this.props.pushCardData);if(u.constructor===String)w[u]=v;else{var x=w,y=0;for(;y<u.length-1;y++){if(!x[u[y]])return;x=x[u[y]]}x[u[y]]=v}this.props.onChange(w)}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";this.props.onChange(this.props.pushCardData)};o.prototype.$GEPushCardInAppForm2=function(){"use strict";var p=this.props,q=p.pushCardData,r=p.theme,s=p.validForm,t=p.campaignType,u=q.actions.actions||[];return u.map(function(v,w){return c("React").createElement(c("GEPushCardButtonSection"),{key:"buttons"+w,theme:r,action:v,onChange:this.$GEPushCardInAppForm1,index:w,includeUrl:this.state["includeUrl"+w]||false,onChangeIncludeUrl:function(x){var y;this.setState((y={},y["includeUrl"+w]=x,y))}.bind(this),title:l[w],solidStyle:this.state["solidStyle"+w],onChangeSolidStyle:function(x){var y;this.setState((y={},y["solidStyle"+w]=x,y))}.bind(this),validForm:s,campaignType:t})}.bind(this))};o.prototype.render=function(){"use strict";var p=this.props,q=p.pushCardData,r=p.theme,s=p.validForm,t=p.campaignType,u=q.body?c("React").createElement(c("GEPushCardBodySection"),{key:"body",theme:r,pushCardData:q,onChange:this.$GEPushCardInAppForm1,campaignType:t}):null,v=q.hero?c("React").createElement(c("GEPushCardHeroSection"),{key:"media",theme:r,pushCardData:q,onChange:this.$GEPushCardInAppForm1,customHeight:this.state.customHeight,onToggleCustomHeight:function(){this.setState({customHeight:!this.state.customHeight})}.bind(this),includeText:this.state.includeText,onToggleIncludeText:function(){this.setState({includeText:!this.state.includeText})}.bind(this),mediaType:this.state.mediaType,onChangeMediaType:function(x){this.setState({mediaType:x})}.bind(this),validForm:s,campaignType:t}):null,w=this.$GEPushCardInAppForm2();return c("React").createElement("div",null,c("React").createElement(c("GEPushCardLayoutSection"),{key:"layout",pushCardData:q,onChange:this.$GEPushCardInAppForm1,onChangeLayout:function(x){var q=x.pushCardData,y=x.notificationLayout,z=x.buttonLayout;this.setState({notificationLayout:y,buttonLayout:z});this.props.onChange(q)}.bind(this),notificationLayout:this.state.notificationLayout,buttonLayout:this.state.buttonLayout,campaignType:t}),c("React").createElement(c("GEPushCardGeneralSection"),{key:"general",theme:r,pushCardData:q,onChange:this.$GEPushCardInAppForm1,campaignType:t}),v,u,c("React").createElement(c("GEPushCardButtonOverviewSection"),{key:"buttons",theme:r,pushCardData:q,onChange:this.$GEPushCardInAppForm1,campaignType:t}),w)};o.propTypes={theme:k.object.isRequired,pushCardData:k.object.isRequired,onChange:k.func.isRequired,validForm:k.bool.isRequired,campaignType:k.oneOf([m,n])};f.exports=o}),null);
__d("GEPushCardConstants",["fbt"],(function a(b,c,d,e,f,g,h){var i={borderWidth:0,borderColor:"#ABABABFF"},j=babelHelpers["extends"]({},i,{backgroundColor:"#3A84C5FF",content:{_type:"StyledText",align:"center",size:15,text:h._("Bot\u00f3n uno").toString(),color:"#FFFFFFFF"}}),k=babelHelpers["extends"]({},i,{backgroundColor:"#89A9C4FF",content:{_type:"StyledText",align:"center",size:15,text:h._("Bot\u00f3n dos").toString(),color:"#FFFFFFFF"}}),l={attached:"attached",detached:"detached"},m={horizontal:"horizontal",vertical:"vertical"},n={height:null,background:{_type:"Image",url:""},contentAlign:"center"},o={background:{_type:"Color",rgbaHex:"#FFFFFFFF"},content:{_type:"StyledText",align:"center",size:15,text:h._("Texto del cuerpo").toString(),color:"#333333FF"},contentAlign:"center"},p={defaultPushCardSettings:{version:"1.0",size:"medium",cornerRadius:12,contentInset:20,backdropColor:"#333333CC",dismissColor:"#000000E6",hero:n,body:o,actions:{background:{_type:"Color",rgbaHex:"#FFFFFFFF"},style:"attached",layoutStyle:"horizontal",height:44,topInset:12,cornerRadius:10,contentInset:10,actions:[j,k]},fb_dashboard:{background:{_type:"Color",rgbaHex:"#FFFFFFFF"}}},notificationLayouts:{notificationLayout1:{hero:n,body:o},notificationLayout2:{hero:n,body:null},notificationLayout3:{hero:null,body:o}},buttonLayouts:{buttonLayout1:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.attached,layoutStyle:m.horizontal,actions:[j]}},buttonLayout2:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.attached,layoutStyle:m.horizontal,actions:[j,k]}},buttonLayout3:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.attached,layoutStyle:m.vertical,actions:[j,k]}},buttonLayout4:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.detached,layoutStyle:m.horizontal,actions:[j]}},buttonLayout5:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.detached,layoutStyle:m.horizontal,actions:[j,k]}},buttonLayout6:{actions:{topInset:10,cornerRadius:10,contentInset:10,style:l.detached,layoutStyle:m.vertical,actions:[j,k]}}}};f.exports=p}),null);
__d("GEPushLayoutItem",["cx","joinClasses","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props,n=m.className,o=m.selected,p=m.onClick;return c("React").createElement(c("ShimButton.react"),{className:"_58s3"+(o?" _58s4":""),form:"link",onClick:p},c("React").createElement("div",{className:c("joinClasses")("_58s6",n)}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={className:k.string.isRequired,selected:k.bool,onClick:k.func};f.exports=l}),null);
__d("GEPushLayoutList",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$GEPushLayoutList1=function(r){if(this.props.value!==r)this.props.onChange(r)}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.props,n=m.children,o=m.value,p=this.$GEPushLayoutList1,q=c("React").Children.map(n,function(s){var t=o===s.props.value;return c("React").cloneElement(s,{selected:t,onClick:p.bind(null,s.props.value)})}),r=[];q.forEach(function(s,t){r.push(c("React").createElement("li",{key:"item"+t},s))});return c("React").createElement("ul",{className:"_i5g"},r)};l.propTypes={value:k.string.isRequired,onChange:k.func.isRequired};f.exports=l}),null);
__d("GEPushCardLayoutSection",["cx","fbt","GriffinComposerField","GEPushComposerSection","GEPushLayoutItem","GEPushLayoutList","GriffinSelector","GriffinSelectorOption","InsightsEventLogger","React","GEPushCardConstants"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=c("GEPushCardConstants").notificationLayouts,n=c("GEPushCardConstants").buttonLayouts;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={buttonLayout:"buttonLayout1",notificationLayout:"notificationLayoutIcon1"},q}o.prototype.render=function(){"use strict";var p=this.props,q=p.pushCardData,r=p.onChange,s=p.onChangeLayout,t=p.notificationLayout,u=p.buttonLayout,v=p.campaignType,w=Number(u.replace(/^\D+/g,""));return c("React").createElement(c("GEPushComposerSection"),{title:i._("Dise\u00f1o")},c("React").createElement(c("GriffinComposerField"),{label:i._("TAMA\u00d1O"),input:c("React").createElement(c("GriffinSelector"),{width:250,value:q.size,onChange:function(x){function r(y){return x.apply(this,arguments)}r.toString=function(){return x.toString()};return r}(function(x){r("size",x);c("InsightsEventLogger").logEvent({eventName:"push_campaign_card_size",type:v.toLowerCase(),value:x})})},c("React").createElement(c("GriffinSelectorOption"),{value:"large"},i._("Grande")),c("React").createElement(c("GriffinSelectorOption"),{value:"medium"},i._("Medio")),c("React").createElement(c("GriffinSelectorOption"),{value:"small"},i._("Peque\u00f1o")))}),c("React").createElement(c("GriffinComposerField"),{labelClass:"_4o7q",label:i._("DISE\u00d1O DE LA NOTIFICACI\u00d3N"),input:c("React").createElement(c("GEPushLayoutList"),{value:t,onChange:function r(x){var y=Object.assign({},q);Object.assign(y.actions,m[x].actions);y.body=m[x].body;y.hero=m[x].hero;s({pushCardData:y,notificationLayout:x,buttonLayout:u});c("InsightsEventLogger").logEvent({eventName:"push_campaign_card_layout",type:v.toLowerCase(),notificationLayout:x,buttonLayout:u})}},c("React").createElement(c("GEPushLayoutItem"),{value:"notificationLayout1",className:(w===1?"_9-3":"")+(w===2?" _9-6":"")+(w===3?" _9-7":"")+(w===4?" _9-8":"")+(w===5?" _9-9":"")+(w===6?" _9-c":"")}),c("React").createElement(c("GEPushLayoutItem"),{value:"notificationLayout2",className:(w===1?"_9-d":"")+(w===2?" _9-e":"")+(w===3?" _9-f":"")+(w===4?" _9-i":"")+(w===5?" _9-j":"")+(w===6?" _9-k":"")}),c("React").createElement(c("GEPushLayoutItem"),{value:"notificationLayout3",className:(w===1?"_9-o":"")+(w===2?" _9-p":"")+(w===3?" _9-q":"")+(w===4?" _9-r":"")+(w===5?" _9-s":"")+(w===6?" _9-t":"")}))}),c("React").createElement(c("GriffinComposerField"),{labelClass:"_4o7q",label:i._("DISE\u00d1O DEL BOT\u00d3N"),input:c("React").createElement(c("GEPushLayoutList"),{value:u,onChange:function r(x){var y=Object.assign({},q);Object.assign(y.actions,n[x].actions);var z=y.actions.style==="detached"?"#00000000":y.fb_dashboard.background.rgbaHex;y.actions.background.rgbaHex=z;s({pushCardData:y,notificationLayout:t,buttonLayout:x});c("InsightsEventLogger").logEvent({eventName:"push_campaign_card_layout",type:v.toLowerCase(),notificationLayout:t,buttonLayout:x})}},c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout1",className:"_4o7-"}),c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout2",className:"_4o7_"}),c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout3",className:"_4o80"}),c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout4",className:"_4o84"}),c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout5",className:"_9-u"}),c("React").createElement(c("GEPushLayoutItem"),{value:"buttonLayout6",className:"_9-v"}))}))};o.propTypes={pushCardData:l.object.isRequired,onChange:l.func.isRequired,onChangeLayout:l.func.isRequired,notificationLayout:l.string.isRequired,buttonLayout:l.string.isRequired,campaignType:l.string.isRequired};f.exports=o}),null);
__d("GEPushContinuousModel",["GEPushUtils","GEPushConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("GEPushUtils").isValidString,i=c("GEPushUtils").isValidJSON,j=c("GEPushUtils").stripFormatedJSON,k=c("GEPushConstants").MILLISECONDS_IN_HOUR,l=function l(o){var p=o.getTimezoneOffset()*60*1e3,q=new Date(o.getTime()-p);return q},m={isValid:function o(){if(!h(this.name))return false;if(!h(this.entry_segmentid))return false;if(!i(this.ios_push_payload_json))return false;if(!h(this.android_push_payload_json))return false;return true},getWireFormat:function o(){var p=l(new Date(this.delivery_timestamp)),q=this.delivery_time_is_local?Math.round(p.getTime()/1e3):Math.round(this.delivery_timestamp/1e3);return{id:this.id,name:this.name,state:this.start_time<Date.now()?"ACTIVE":"SCHEDULED",start_time:Math.round(this.start_time/1e3),end_time:this.end_time?Math.round(this.end_time/1e3):null,delivery_timestamp:q,delivery_time_is_local:this.delivery_time_is_local,delivery_should_expire:this.delivery_should_expire,delivery_expires_after_sec:this.delivery_expires_after_sec,delivery_delay_sec:this.delivery_delay_sec,ios_push_payload_json:j(this.ios_push_payload_json),android_push_payload_json:j(this.android_push_payload_json),entry_segmentid:this.entry_segmentid,exit_segmentid:this.exit_segmentid,push_card_data:this.push_card_data}}};function n(o){var p={id:"",name:"",state:"SCHEDULED",start_time:Date.now()+k,delivery_timestamp:Date.now()+k,delivery_time_is_local:true,delivery_should_expire:false,delivery_expires_after_sec:0,delivery_delay_sec:0,ios_push_payload_json:"{}",android_push_payload_json:"{}",entry_segmentid:"",exit_segmentid:""},q=babelHelpers["extends"]({},m,Object.assign(p,o));return q}f.exports=n}),null);
__d("GEPushEntityStore",["invariant","AnalyticsDateUtils","InsightsGraphAPI","InsightsGraphAPIConstants","update","GEPushUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("GEPushUtils").convertUTCToLocal,j=c("GEPushUtils").deleteNullProperties;function k(l,m,n){this.$GEPushEntityStore1=l;this.$GEPushEntityStore2=m;this.$GEPushEntityStore3=n}k.prototype.newEntity=function(l){this.$GEPushEntityStore4=this.$GEPushEntityStore3(l);return this.$GEPushEntityStore4};k.prototype.getEntityConfiguration=function(){return this.$GEPushEntityStore4};k.prototype.setEntityChangeCallback=function(l){this.$GEPushEntityStore6=l};k.prototype.setListChangeCallback=function(l){this.$GEPushEntityStore5=l};k.prototype.setEntityID=function(l){this.$GEPushEntityStore7=l;this.$GEPushEntityStore8={};this.setEntityConfiguration(null);this.loadEntity()};k.prototype.setEntityConfiguration=function(l){this.$GEPushEntityStore4=l;if(this.$GEPushEntityStore6)this.$GEPushEntityStore6(this.$GEPushEntityStore4)};k.prototype.setEntityList=function(l){this.$GEPushEntityStore9=l;if(this.$GEPushEntityStore5)this.$GEPushEntityStore5(this.$GEPushEntityStore9)};k.prototype.updateEntityConfiguration=function(l){var m=c("update")(this.$GEPushEntityStore4,l);this.setEntityConfiguration(m)};k.prototype.loadEntityList=function(l,m){var n=function(o){var p=o.data;p.forEach(function(q){var r=Object.assign({},q);q.name_data={id:q.id,name:q.name};var s=c("AnalyticsDateUtils").getBrowserSupportedDateTime(q.delivery_time);if(q.delivery_time_is_local)s=i(s);q.open_count_data={id:q.id};q.delivery_count_data={id:q.id};q.delivery_time_info={delivery_time_is_local:q.delivery_time_is_local,delivery_time:s,isContinuous:!!q.start_time};if(q.start_time){var t=c("AnalyticsDateUtils").getBrowserSupportedDateTime(q.start_time);q.start_time=t}q.actions_data=r});if(l)l(p);this.setEntityList(p)}.bind(this);c("InsightsGraphAPI").appEdgeGet(this.$GEPushEntityStore1,{filter_type:m}).done(n)};k.prototype.loadEntity=function(l){if(this.$GEPushEntityStore7)c("InsightsGraphAPI").objectGet(this.$GEPushEntityStore2,this.$GEPushEntityStore7).done(function(m){var n=this.$GEPushEntityStore3(m);if(l)l(n);this.setEntityConfiguration(n)}.bind(this));else!l||h(0)};k.prototype.saveEntityWithOptions=function(l,m,n){n||h(0);c("InsightsGraphAPI").objectPost(this.$GEPushEntityStore2,m,n).done(function(o){if(l)l(o)})};k.prototype.saveEntity=function(l){this.$GEPushEntityStore4||h(0);c("InsightsGraphAPI").objectPost(this.$GEPushEntityStore2,this.$GEPushEntityStore7,this.$GEPushEntityStore4.getWireFormat()).done(function(m){if(l)l()})};k.prototype.createCardEntity=function(l){this.$GEPushEntityStore4||h(0);var m=function m(u){if(l)l(u)},n=function n(u){if(l)l({error:u})},o=this.$GEPushEntityStore4.getWireFormat(),p=o.push_card_data,q=babelHelpers.objectWithoutProperties(o,["push_card_data"]),r=p.fb_dashboard.hero_image_id,s=p.fb_dashboard.hero_image_handle,t=JSON.parse(JSON.stringify(p));if(t.hero&&t.hero.background&&r&&s)t.hero.background.url=r+"_"+s;delete t.fb_dashboard;j(t);c("InsightsGraphAPI").appEdgePost(c("InsightsGraphAPIConstants").ANALYTICS_PUSH_CARD_EDGE,{ios_push_payload_json:t,android_push_payload_json:t,hero_image_id:r}).done(function(u){var v=u.id;c("InsightsGraphAPI").appEdgePost(this.$GEPushEntityStore1,babelHelpers["extends"]({},q,{push_card_id:v})).done(m,n)}.bind(this),function(){})};k.prototype.createEntity=function(l){this.$GEPushEntityStore4||h(0);var m=function m(o){if(l)l(o)},n=function n(o){if(l)l({error:o})};c("InsightsGraphAPI").appEdgePost(this.$GEPushEntityStore1,this.$GEPushEntityStore4.getWireFormat()).done(m,n)};k.prototype.deleteEntity=function(l){c("InsightsGraphAPI").objectRemove(this.$GEPushEntityStore7).done(function(m){if(l)l(m)})};f.exports=k}),null);
__d("GEPushContinuousStore",["GEPushContinuousModel","GEPushEntityStore","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=null;function i(){if(!h)h=new(c("GEPushEntityStore"))(c("InsightsGraphAPIConstants").CONTINUOUS_PUSH_CAMPAIGNS_EDGE,c("InsightsGraphAPIConstants").CONTINUOUS_PUSH_CAMPAIGNS_NODE,c("GEPushContinuousModel"));return h}f.exports=i()}),null);
__d("GEPushOneOffModel",["GEPushUtils","GEPushConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("GEPushUtils").isValidString,i=c("GEPushUtils").isValidJSON,j=c("GEPushUtils").stripFormatedJSON,k=c("GEPushConstants").MILLISECONDS_IN_HOUR,l=function l(o){var p=o.getTimezoneOffset()*60*1e3,q=new Date(o.getTime()-p);return q},m={isValid:function o(){if(!h(this.name))return false;if(!i(this.ios_push_payload_json))return false;if(!i(this.android_push_payload_json))return false;if(!h(this.segment_id))return false;return true},getWireFormat:function o(){var p=l(new Date(this.delivery_timestamp)),q=this.delivery_time_is_local?Math.round(p.getTime()/1e3):Math.round(this.delivery_timestamp/1e3);return{id:this.id,name:this.name,state:"SCHEDULED",delivery_timestamp:q,delivery_time_is_local:this.delivery_time_is_local,delivery_should_expire:this.delivery_should_expire,delivery_expires_after_sec:this.delivery_expires_after_sec,ios_push_payload_json:j(this.ios_push_payload_json),android_push_payload_json:j(this.android_push_payload_json),segment_id:this.segment_id,push_card_data:this.push_card_data}}};function n(o){var p={id:"",name:"",state:"SCHEDULED",delivery_timestamp:Date.now()+k,delivery_time_is_local:true,delivery_should_expire:false,delivery_expires_after_sec:0,ios_push_payload_json:"{}",android_push_payload_json:"{}",segment_id:""},q=babelHelpers["extends"]({},m,Object.assign(p,o));return q}f.exports=n}),null);
__d("GEPushOneOffStore",["GEPushOneOffModel","GEPushEntityStore","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=null;function i(){if(!h)h=new(c("GEPushEntityStore"))(c("InsightsGraphAPIConstants").ONEOFF_PUSH_CAMPAIGNS_EDGE,c("InsightsGraphAPIConstants").ONEOFF_PUSH_CAMPAIGNS_NODE,c("GEPushOneOffModel"));return h}f.exports=i()}),null);
__d("GEPushCardSectionController",["GriffinSections","GEPushContinuousStore","GEPushFeatureSectionController","GEPushOneOffStore","React","GEPushSectionUtilMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"GEPushCardSectionController",statics:{getKey:function i(){return c("GriffinSections").GEPUSH_IN_APP}},_sectionKey:c("GriffinSections").GEPUSH_IN_APP,mixins:[c("GEPushSectionUtilMixin")],render:function i(){return c("React").createElement(c("GEPushFeatureSectionController"),babelHelpers["extends"]({},this.props,{subView:this.state.subView,onRenderView:this._onRenderView,section:this._sectionKey,entityStore:this.state.store,possibleStores:[c("GEPushOneOffStore"),c("GEPushContinuousStore")],validForm:this.state.validForm[this.state.subView]||false,hasValidForm:this._hasValidForm,onStartForm:function(j){var k=Object.assign({},this.state.validForm);k[j]=true;this.setState({validForm:k})}.bind(this),onBeforeSave:function(j){this.setState({showConfirmationModal:true,onSaveCallback:j,confirmationError:null})}.bind(this),onAfterSave:this._resetState,onSaveError:function(j){this.setState({confirmationError:j})}.bind(this),onCancel:this._resetState,onChangeSubView:function(j){this.setState({subView:j})}.bind(this)}))}});f.exports=h}),null);
__d("GEPushConfirmationModal",["cx","fbt","GEPushInfoTooltip","InsightsContext","InsightsEventLogger","joinClasses","React","SUIButton.react","SUICloseButton.react","SUIModalDEPRECATED.react","GEPushConstants","GriffinSections","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("GEPushConstants").ONE_OFF,l=c("GEPushConstants").CONTINUOUS,m=c("GEPushConstants").LOCAL_TIME_LABEL,n=c("GEPushConstants").PUSH_CARD_PAYLOAD_LIMITS,o=n.IOS-400,p=c("GriffinSections").GEPUSH,q=c("GriffinSections").GEPUSH_IN_APP,r=c("GEPushUtils").getFormattedTime,s=c("GEPushUtils").getFormattedDateTime,t=c("GEPushUtils").getLengthInUtf8Bytes,u=c("GEPushUtils").getUsersTotalData,v=c("GEPushUtils").deleteNullProperties,w=i._("notificaci\u00f3n en la aplicaci\u00f3n"),x=c("React").createClass({displayName:"GEPushConfirmationModal",propTypes:{theme:j.object.isRequired,width:j.number.isRequired,onCancel:j.func.isRequired,onSave:j.func.isRequired,data:j.object.isRequired,error:j.object,campaignType:j.oneOf([k,l]).isRequired,notificationType:j.oneOf([p,q]).isRequired,pushCardData:j.object.isRequired,backfillStatus:j.object},componentWillMount:function y(){var z=this.props,A=z.startTime,B=z.endTime,C=z.segmentInfo,D=C.segment;u(A,B,{event_rules:D.event_rules,event_info_rules:D.event_info_rules,percentile_rules:D.percentile_rules,user_property_rules:D.user_property_rules,web_param_rules:D.web_param_rules},this.onDataLoad,this.onError)},componentDidMount:function y(){c("InsightsEventLogger").logCardView("confirmation",{type:this.props.campaignType.toLowerCase()})},componentWillReceiveProps:function y(z){if(z.error)this.setState({saveDisabled:false})},onError:function y(z){this.setState({metricError:z.getMessage()})},onDataLoad:function y(z){this.setState({segmentTotalUsers:z.getUniquesTotalDangerously()})},getInitialState:function y(){return{saveDisabled:false,metricError:null,segmentTotalUsers:null}},render:function y(){var z=this.props,A=z.data,B=z.error,C=z.campaignType,D=z.notificationType,E=z.segmentInfo,F=z.backfillStatus,G=this._calculatePayloadSize(),H=o-G<0,I=n.IOS-G<0,J=H?c("React").createElement("span",{className:"_2_-e"+(I?" _vnr":"")},G):null,K=A.delivery_time_is_local?" "+m:"",L=[];if(this.state.segmentTotalUsers!==null){var M=this.state.segmentTotalUsers===1?i._("persona"):i._("personas");L.push(c("React").createElement("li",{key:"segmentInfo"},i._("Tu campa\u00f1a se dirige a un p\u00fablico estimado de {segmentCount} {personContent}",[i.param("segmentCount",c("React").createElement("strong",null,this.state.segmentTotalUsers)),i.param("personContent",M)])))}if(C===k){var N=s(new Date(A.delivery_timestamp),A.delivery_time_is_local)+K;L.push(c("React").createElement("li",{key:"deliveryTime"},i._("Tu campa\u00f1a se entregar\u00e1 a las {deliveryTime}",[i.param("deliveryTime",c("React").createElement("strong",null,N))])))}else{var O=A.delivery_time_is_local?r(new Date(A.delivery_timestamp))+K:i._("Enviar inmediatamente"),P=s(new Date(A.start_time)),Q=A.end_time?s(new Date(A.end_time)):null;L.push(c("React").createElement("li",{key:"startDate"},i._("Tu campa\u00f1a comienza el {startDate}",[i.param("startDate",c("React").createElement("strong",null,P))])));if(Q)L.push(c("React").createElement("li",{key:"endDate"},i._("Tu campa\u00f1a finaliza el {endDate}",[i.param("endDate",c("React").createElement("strong",null,Q))])));L.push(c("React").createElement("li",{key:"deliveryTime"},i._("Tu campa\u00f1a se entregar\u00e1 a las {deliveryTime}",[i.param("deliveryTime",c("React").createElement("strong",null,O))])))}if(A.delivery_should_expire)L.push(c("React").createElement("li",{key:"expirationInfo"},i._("Tu campa\u00f1a expira en {deliveryTime} hora(s)",[i.param("deliveryTime",c("React").createElement("strong",null,A.delivery_expires_after_sec/(60*60)))])));if(D===q)L.push(c("React").createElement("li",{key:"notificationTypeInfo"},i._("Tu campa\u00f1a incluye un {notificationType}",[i.param("notificationType",c("React").createElement("strong",null,w))])));if(B)L.push(c("React").createElement("li",{key:"errorInfo",className:c("joinClasses")("_vnr","_pd3")},i._("Se ha producido un error inesperado. Vuelve a intentarlo m\u00e1s tarde.")));if(J)L.push(c("React").createElement("li",{key:"payloadSize"},i._("Tu notificaci\u00f3n ocupa aproximadamente {notificationPayloadSize} bytes.",[i.param("notificationPayloadSize",J)]),c("React").createElement(c("GEPushInfoTooltip"),{tooltip:i._("El l\u00edmite para iOS 8 y versiones superiores de este sistema es de 2 KB. El l\u00edmite para los dispositivos Android es de 4 KB.")})));var R=void 0;if(F&&!F.is_ready){var S=Number(F.backfill_progress).toFixed(2);S=parseInt(S,10);R=c("React").createElement("div",{className:"_11rx _3-8w"},i._("Tu segmento {name of segment} se ha procesado en un {percentage} \u0025. Si haces clic en \"{send}\", la campa\u00f1a no se enviar\u00e1 hasta el segmento se haya procesado por completo.",[i.param("name of segment",c("React").createElement("strong",null,E.segment.name)),i.param("percentage",S),i.param("send",c("React").createElement("strong",null,"schedule"))]))}return c("React").createElement(c("SUIModalDEPRECATED.react"),{key:"confirmationModal",header:c("React").createElement("div",{className:"_w7p"},i._("Confirma la campa\u00f1a")),theme:this.props.theme,width:this.props.width,headerButtons:[c("React").createElement(c("SUICloseButton.react"),{size:"large",onClick:this.props.onCancel,theme:this.props.theme,useLegacyPadding:true})],footer:c("React").createElement("div",{className:"_w7q"},c("React").createElement(c("SUIButton.react"),{disabled:this.state.saveDisabled||c("InsightsContext").isReadOnly(),label:this.state.saveDisabled?i._("Programando..."):i._("Programar"),theme:this.props.theme,onClick:function(){this.setState({saveDisabled:true});c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_confirm_click",type:C.toLowerCase(),notificationType:D.toLowerCase()});this.props.onSave()}.bind(this),use:"confirm"}),c("React").createElement(c("SUIButton.react"),{label:i._("Cancelar"),theme:this.props.theme,onClick:function(){c("InsightsEventLogger").logEvent({eventName:"push_campaign_builder_cancel_click",type:C.toLowerCase(),notificationType:D.toLowerCase()});this.props.onCancel()}.bind(this)}))},c("React").createElement("div",{className:c("joinClasses")("_w7r","_49v9")},i._("Dedica un momento a revisar los detalles de tu campa\u00f1a: {summary}",[i.param("summary",L)]),R))},_calculatePayloadSize:function y(){var z=JSON.parse(this.props.data.ios_push_payload_json);if(this.props.notificationType===q){var A=JSON.parse(JSON.stringify(this.props.pushCardData));delete A.fb_dashboard;v(A);var B={fb_push_payload:{campaign:"00000000000000000"},fb_push_card:babelHelpers["extends"]({},z,A)};return t(JSON.stringify(B))}else return t(JSON.stringify(babelHelpers["extends"]({fb_push_payload:{campaign:"00000000000000000"}},z)))}});f.exports=x}),null);
__d("GEPushPreview",["cx","fbt","Image.react","InsightsContext","React","formatDate","GEPushConstants"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GEPushConstants").PREVIEW_STYLE,m=15;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";var o=this.props,p=o.style,q=o.time,r=o.previewSize,s=o.notificationInfo,t=q?new Date(q):new Date(),u=c("formatDate")(t,"G\\:i",{skipPatternLocalization:true}),v=c("formatDate")(t,"l, F j"),w=s.title,x=s.body,y=r==="small",z=c("InsightsContext").getThumbnail(),A=z?c("React").createElement(c("Image.react"),{className:"_1fin",src:z,width:m,height:m}):c("React").createElement("div",{className:"_1fin"});return c("React").createElement("div",{className:"_1fif"+(y?" _3kj3":"")},c("React").createElement("div",{className:"_1fig"+(p===l.IOS?" _1fih":"")+(p===l.ANDROID?" _1fii":"")},c("React").createElement("div",{className:"_1fij"},c("React").createElement("div",{className:"_1fik"},u),c("React").createElement("div",{className:"_1fil"},v),x.trim()!==""||w.trim()!==""?c("React").createElement("div",{className:"_1fim"},A,c("React").createElement("div",{className:"_1fio"},w||c("InsightsContext").getObjName()),c("React").createElement("div",{className:"_1fip"},i._("ahora")),c("React").createElement("div",{className:"_1fiq"},x)):null)))};function n(){"use strict";j.apply(this,arguments)}f.exports=n}),null);
__d("GEPushPreviewInApp",["cx","React","ReactDOM","GEPushConstants","GEPushUtils"],(function a(b,c,d,e,f,g,h){var i,j,k=615/420,l=c("GEPushConstants").PREVIEW_STYLE,m=c("GEPushConstants").PUSH_CARDS,n=c("GEPushUtils").convertHexToStyle,o=m.WIDTH,p=m.HEIGHT,q=m.SIZE,r=m.SCALE,s=null,t={top:"top",center:"middle",bottom:"bottom"},u=function u(w){switch(w){case"system-light":return{fontStyle:"normal",fontWeight:"lighter"};case"system-italic":return{fontStyle:"italic",fontWeight:"normal"};case"system-bold":return{fontStyle:"normal",fontWeight:"bold"};case"system-bolditalic":return{fontStyle:"italic",fontWeight:"bold"};case"system-regular":default:return{fontStyle:"normal",fontWeight:"normal"}}};i=babelHelpers.inherits(v,c("React").Component);j=i&&i.prototype;function v(){var w,x;"use strict";for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=j.constructor).call.apply(w,[this].concat(z)),this.state={bodyHeight:0,aspectRatio:1},this.heroImageUrl="",x}v.prototype.componentDidMount=function(){"use strict";var w=c("ReactDOM").findDOMNode(this.refs.body),x=this.props.pushCardData.body&&w?Math.round(Number(w.offsetHeight)):0;this.setState({bodyHeight:x})};v.prototype.componentDidUpdate=function(){"use strict";if(s)clearTimeout(s);s=setTimeout(function(){var w=c("ReactDOM").findDOMNode(this.refs.body),x=this.props.pushCardData.body&&w?Math.round(Number(w.offsetHeight)):0;if(Math.abs(x-this.state.bodyHeight)>=2)this.setState({bodyHeight:x})}.bind(this),100)};v.prototype.$GEPushPreviewInApp1=function(w){"use strict";var x=q[w].HEIGHT*p*r,y=this.$GEPushPreviewInApp2(),z=this.state.bodyHeight,A=this.$GEPushPreviewInApp3();return Math.max(x-y-z-A,0)};v.prototype.$GEPushPreviewInApp3=function(){"use strict";var w=this.props.pushCardData.actions,x=w.contentInset,y=1;if(w.layoutStyle==="vertical"&&w.actions.length===2)y++;return(x*y+w.topInset)*r};v.prototype.$GEPushPreviewInApp2=function(){"use strict";var w=this.props.pushCardData.actions,x=w.height,y=1;if(w.layoutStyle==="vertical"&&w.actions.length===2)y++;return x*y*r};v.prototype.$GEPushPreviewInApp4=function(w){var x,y=this;"use strict";var z=w._type;switch(z){case"Image":case"GIF":if(!w.url)return{};if(w.url!==this.heroImageUrl)(function(){y.heroImageUrl=w.url;var A=new Image();A.src=w.url;A.onload=function(){var B=A.width,C=A.height;this.setState({aspectRatio:B/C})}.bind(y)})();return{backgroundImage:"url("+w.url+")"};case"Color":return{background:n(w.rgbaHex)};default:return{}}};v.prototype.$GEPushPreviewInApp5=function(){"use strict";var w=this.props.pushCardData;return q[w.size.toUpperCase()].WIDTH*r*o||0};v.prototype.$GEPushPreviewInApp6=function(){"use strict";var w=this.props.type==="ipad"?.8:1;r=m.SCALE*w};v.prototype.render=function(){var w;"use strict";var x=this.props,y=x.style,z=x.previewSize,A=x.pushCardData,B=x.fixedPreview;this.$GEPushPreviewInApp6();var C=z==="small",D={large:A.size==="large",medium:A.size==="medium",small:A.size==="small"},E=(A.cornerRadius||0)*r,F=[];if(A.actions&&A.actions.actions)(function(){var P=A.actions.contentInset,Q=A.actions.actions.length,R=A.actions.layoutStyle==="vertical",S=A.actions.style==="attached";F=A.actions.actions.map(function(T,U){var V=T.content,y=babelHelpers["extends"]({backgroundColor:n(T.backgroundColor),borderStyle:"solid",borderColor:n(T.borderColor),borderWidth:T.borderWidth*r,borderRadius:A.actions.cornerRadius*r,color:n(V.color),fontSize:V.size*r},u(V.font),{height:A.actions.height*r,marginBottom:P*r,marginLeft:0,marginRight:0,width:"50%"});if(Q===1||R){y.width="100%";var W=0;if(S){y.marginLeft=P*r;y.marginRight=P*r;W=2}y.marginBottom=P*r;var X=P*W*r;y.width="calc(100% - "+(X+"px")+")"}else if(Q===2&&!R){var Y=S?1.5:.5,Z=P*Y*r;y.width="calc(50% - "+(Z+"px")+")";if(U===1){y.marginRight=S?P*r:0;y.marginLeft=P*r}else y.marginLeft=S?P*r:0}return c("React").createElement("button",{key:"button"+U,style:y,title:T.url},V.text)})})();var G=A.size==="large"?this.$GEPushPreviewInApp2()+this.$GEPushPreviewInApp3():0,H=A.hero&&A.hero.height!==null?A.hero.height*this.$GEPushPreviewInApp1(A.size.toUpperCase()):"100%",I=0,J=0;if(A.size==="large"&&!A.body){I=this.$GEPushPreviewInApp2()+this.$GEPushPreviewInApp3();if(A.actions.style==="detached")J="0 0 "+E+"px "+E+"px"}var K=A.hero&&A.hero.background?this.$GEPushPreviewInApp4(A.hero.background):{};if(K.backgroundImage&&(A.hero.height===null||A.hero.height===undefined))H=Math.min(this.$GEPushPreviewInApp5()/this.state.aspectRatio,this.$GEPushPreviewInApp1(A.size.toUpperCase()));var L=A.hero&&A.hero.background&&A.hero.background._type!=="Color"&&A.hero.background.url==="";if(L)H=Math.min(this.$GEPushPreviewInApp5()/k,this.$GEPushPreviewInApp1(A.size.toUpperCase()));var M=A.hero?c("React").createElement("div",{style:babelHelpers["extends"]({height:H,marginBottom:I,borderRadius:J},K),ref:"hero",className:"_3ab"+(L?" _1j5m":"")},A.hero.content?c("React").createElement("div",{style:{textAlign:A.hero.content.align},className:"_3ac"},c("React").createElement("h2",{style:babelHelpers["extends"]({verticalAlign:t[A.hero.contentAlign],padding:A.contentInset*r,color:n(A.hero.content.color),fontSize:A.hero.content.size*r},u(A.hero.content.font))},A.hero.content.text)):null):null,N=A.body?c("React").createElement("div",{style:babelHelpers["extends"]({background:n(A.body.background.rgbaHex),padding:A.contentInset*r,color:n(A.body.content.color),fontSize:A.body.content.size*r},u(A.body.content.font),{textAlign:A.body.content.align,marginBottom:G,borderRadius:A.actions.style==="detached"?"0 0 "+E+"px "+E+"px":0}),ref:"body",className:"_3ad"},A.body.content.text):null,O=n(this.props.pushCardData.actions.background.rgbaHex);return c("React").createElement("div",{className:"_39z"+(C?" _39-":"")+(B?" _1z_d":"")},c("React").createElement("div",{className:"_39_"+(y===l.IOS?" _3a0":"")+(y===l.ANDROID?" _3a1":"")},c("React").createElement("div",{className:"_3a4",style:{width:o*r,height:p*r}},c("React").createElement("div",{className:"_3a5",style:{background:n(A.backdropColor)}}),c("React").createElement("div",{className:"_3a6"+(D.large?" _3a7":"")+(D.medium?" _3a8":"")+(D.small?" _3a9":""),style:{minHeight:this.$GEPushPreviewInApp2(),borderRadius:A.actions.style==="attached"?E:0,backgroundColor:O,width:Math.floor(q[A.size.toUpperCase()].WIDTH*r*o)}},c("React").createElement("div",{ref:"pushCard",style:{borderRadius:A.actions.style!=="attached"?E:0},className:"_3aa"},M,N),c("React").createElement("div",{ref:"buttonsWrap",style:{paddingTop:this.props.pushCardData.actions.topInset*r,background:O},className:"_3ae"},F)))))};f.exports=v}),null);
__d("AnalyticsPushPreview",["GEPushPreview","GEPushPreviewInApp","React"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.pushCard,m=k.info,n=k.time,o=k.style,p=[];if(l)p.push(c("React").createElement(c("GEPushPreviewInApp"),{key:"pushPreviewInApp",style:o,pushCardData:l}));p.push(c("React").createElement(c("GEPushPreview"),{key:"pushPreview",style:o,notificationInfo:m,time:n}));return c("React").createElement("div",null,p)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("AnalyticsAndroidPushPreview",["AnalyticsPushPreview","React","GEPushConstants"],(function a(b,c,d,e,f,g){var h,i,j=c("GEPushConstants").PREVIEW_STYLE;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";var l=this.props,m=l.payload,n=l.time,o=l.pushCard,p=this.$AnalyticsAndroidPushPreview1(m);return c("React").createElement(c("AnalyticsPushPreview"),{style:j.ANDROID,pushCard:o,info:p,time:n})};k.prototype.$AnalyticsAndroidPushPreview1=function(l){"use strict";var m={title:"",body:""};try{var n=JSON.parse(l);if(n.data){m.title=n.data.title||"";m.body=n.data.body||""}}catch(o){}return m};function k(){"use strict";h.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsIOSPushPreview",["AnalyticsPushPreview","React","GEPushConstants"],(function a(b,c,d,e,f,g){var h,i,j=c("GEPushConstants").PREVIEW_STYLE;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";var l=this.props,m=l.payload,n=l.time,o=l.pushCard,p=this.$AnalyticsIOSPushPreview1(m);return c("React").createElement(c("AnalyticsPushPreview"),{style:j.IOS,pushCard:o,info:p,time:n})};k.prototype.$AnalyticsIOSPushPreview1=function(l){"use strict";var m={title:"",body:""};try{var n=JSON.parse(l);if(n.aps&&n.aps.alert){m.title=n.aps.alert.title||"";m.body=n.aps.alert.body||""}}catch(o){}return m};function k(){"use strict";h.apply(this,arguments)}f.exports=k}),null);
__d("GEPushPreviewTab",["cx","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:"_26vf"+(this.props.selected?" _26vh":"")+(!this.props.selected?" _43ik":""),form:"link",onClick:this.props.onClick},this.props.label)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("GEPushPreviewTabGroup",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=c("React").Children.map(this.props.children,function(m,n){var o=m.props.width;return c("React").createElement("li",{style:{width:o},key:"item"+n},m)});return c("React").createElement("ul",{className:"_1xtl"},l)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("AnalyticsPushPreviewSection",["cx","GEPushPreviewTab","GEPushPreviewTabGroup","React"],(function a(b,c,d,e,f,g,h){var i,j,k=85,l=k,m=405,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(p){window.setTimeout(p,1e3/60)};i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={selectedIndex:0,fixedPreview:false},this.$AnalyticsPushPreviewSection1=function(){n(function(){var u=window.scrollY||document.documentElement.scrollTop||0;if(u>k)this.setState({fixedPreview:true});else if(u<=k)this.setState({fixedPreview:false})}.bind(this))}.bind(this),q}o.prototype.componentWillReceiveProps=function(p){"use strict";if(this.props.fixedPreview!==p.fixedPreview)if(p.fixedPreview)window.addEventListener("scroll",this.$AnalyticsPushPreviewSection1);else window.removeEventListener("scroll",this.$AnalyticsPushPreviewSection1)};o.prototype.componentDidMount=function(){"use strict";if(this.props.fixedPreview)window.addEventListener("scroll",this.$AnalyticsPushPreviewSection1)};o.prototype.componentWillUnmount=function(){"use strict";if(this.props.fixedPreview)window.removeEventListener("scroll",this.$AnalyticsPushPreviewSection1)};o.prototype.render=function(){"use strict";var p=this.props,q=p.fixedPreview,r=p.disclaimer,s=p.children;if(!s)return null;var t=this.state.fixedPreview&&q?{position:"fixed",top:l}:{},u=c("React").Children.toArray(s).filter(function(y){return y!=null}),v=u.length,w=null,x=u.map(function(y,z){var A=z===this.state.selectedIndex;if(A)w=y;return c("React").createElement(c("GEPushPreviewTab"),{key:z,label:y.props.label,width:m/v,selected:A,onClick:function(){return this.setState({selectedIndex:z})}.bind(this)})}.bind(this));return c("React").createElement("div",{style:t},c("React").createElement("div",{className:"_2syk"},c("React").createElement("div",null,c("React").createElement(c("GEPushPreviewTabGroup"),null,x)),w),c("React").createElement("div",{className:"_2syl"},r))};f.exports=o}),null);
__d("GEPushCard",["cx","joinClasses","React","XUICard.react"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.error?"_35sf":"";return c("React").createElement(c("XUICard.react"),{className:c("joinClasses")(m,"_1ze4",this.props.className)},this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={className:k.string,error:k.bool};f.exports=l}),null);
__d("GEPushSetupOverviewCard",["cx","fbt","joinClasses","parseISODate","React","Layout.react","GEPushConstants","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("React").PropTypes,o=c("GEPushConstants").ONE_OFF,p=c("GEPushConstants").CONTINUOUS,q=c("GEPushConstants").CAMPAIGN_TYPE_LABEL,r=c("GEPushConstants").STATE_MAP,s=c("GEPushConstants").LOCAL_TIME_LABEL,t=c("GEPushConstants").DEFAULT_RIGHT_COLUMN_WIDTH,u=c("GEPushConstants").DETAILS_PUSH_CARD_RIGHT_MARGIN,v=c("GEPushUtils").getFormattedDate,w=c("GEPushUtils").getFormattedTime,x=c("GEPushUtils").getFormattedDateTime,y=function y(B){var C=B.label,D=B.value,E=B.className;return c("React").createElement("div",{className:["_21gx",E].join(" ")},c("React").createElement("div",{className:c("joinClasses")("_21gy","_1tmn")},C),c("React").createElement("div",{className:"_21gz"},D))},z=i._("Enviar inmediatamente");j=babelHelpers.inherits(A,c("React").Component);k=j&&j.prototype;A.prototype.render=function(){"use strict";var B=this.props.item,C="N/A",D="N/A",E=null,F="N/A";if(B.state)C=r[B.state];var G=B.start_time?p:o;if(G===o){if(B.delivery_time){var H=new Date(B.delivery_time);if(isNaN(H.getTime()))H=c("parseISODate")(B.delivery_time);D=v(H,B.delivery_time_is_local);if(B.delivery_time_is_local)F=w(H,true)+" "+s;else F=z}}else{if(B.start_time){var I=new Date(B.start_time);if(isNaN(I.getTime()))I=c("parseISODate")(B.start_time);D=x(I)}if(B.end_time){var J=new Date(B.end_time);if(isNaN(J.getTime()))J=c("parseISODate")(B.end_time);E=x(J)}if(B.delivery_time){var K=new Date(B.delivery_time);if(isNaN(K.getTime()))K=c("parseISODate")(B.delivery_time);if(B.delivery_time_is_local)F=w(K,true)+" "+s;else F=z}}return c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(y,{label:i._("TIPO DE CAMPA\u00d1A"),value:q[G]}),c("React").createElement(y,{label:i._("HORA DE ENTREGA"),value:F}),c("React").createElement(y,{label:i._("FECHA DE INICIO"),value:D}),E?c("React").createElement(y,{label:i._("FECHA DE FINALIZACI\u00d3N"),value:E}):null),c("React").createElement(l,{style:{width:t-u}},c("React").createElement(y,{className:"_soc",label:i._("ESTADO DE LA CAMPA\u00d1A"),value:C})))};function A(){"use strict";j.apply(this,arguments)}A.propTypes={item:n.object.isRequired};f.exports=A}),null);
__d("GriffinPushJSONPayloadSection",["cx","fbt","GEPushCard","Layout.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Layout.react").Column,m=c("React").PropTypes,n=function n(p){return JSON.stringify(JSON.parse(p),null,4)};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.campaignData;return c("React").createElement("div",null,c("React").createElement(c("Layout.react"),null,c("React").createElement(l,{className:"_4fzq"},c("React").createElement(c("GEPushCard"),{className:"_4fzr"},c("React").createElement("div",{className:"_4fzs"},i._("JSON en iOS")),c("React").createElement("div",{className:"_4fzt"},n(p.ios_push_payload_json)))),c("React").createElement(l,{className:"_4fzq"},c("React").createElement(c("GEPushCard"),{className:"_4fzu"},c("React").createElement("div",{className:"_4fzs"},i._("JSON en ANDROID")),c("React").createElement("div",{className:"_4fzt"},n(p.android_push_payload_json))))))};function o(){j.apply(this,arguments)}o.propTypes={campaignData:m.object.isRequired};f.exports=o}),null);
__d("GEPushDetailsCard",["cx","fbt","AnalyticsAndroidPushPreview","AnalyticsIOSPushPreview","AnalyticsPushPreviewSection","d3/time/day","FalcorLoadingCard","GEPushCard","GEPushDetailsSegmentCard","GEPushNotificationEventsTrendsCardChart","GEPushSetupOverviewCard","GriffinPushEventsBarChart","GriffinPushErrorsCard","GriffinPushJSONPayloadSection","GriffinOverviewSummaryWidget","InsightsEventLogger","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsUtils","Layout.react","parseISODate","React","SegmentModel","GEPushConstants","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("GEPushConstants").CONTINUOUS,o=c("GEPushConstants").DEFAULT_RIGHT_COLUMN_WIDTH,p=c("GEPushConstants").PREVIEW_DISCLAIMER,q=c("GEPushConstants").PREVIEW_BUTTON_WIDTH,r=c("GEPushUtils").convertUTCToLocal,s=c("GEPushUtils").getMetricsFilter;j=babelHelpers.inherits(t,c("React").Component);k=j&&j.prototype;function t(){var u,v;"use strict";for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=k.constructor).call.apply(u,[this].concat(x)),this.state={campaignData:null,startTime:null,endTime:null,visibleDateRange:null},this.mounted=false,v}t.prototype.componentWillMount=function(){"use strict";this.$GEPushDetailsCard1(this.props)};t.prototype.componentWillUnmount=function(){"use strict";this.mounted=false};t.prototype.componentWillReceiveProps=function(u){"use strict";var v=u.campaignId!==this.props.campaignId,w=u.startTime!==this.props.startTime||u.endTime!==this.props.endTime;if(v||w)this.$GEPushDetailsCard1(u)};t.prototype.componentDidMount=function(){"use strict";this.mounted=true;c("InsightsEventLogger").logCardView(this.props.cardKey,{feature_id:this.props.campaignId})};t.prototype.render=function(){"use strict";return c("React").createElement("div",null,this.$GEPushDetailsCard2())};t.prototype.$GEPushDetailsCard3=function(u,v){"use strict";var w=u.actions&&u.actions.actions?u.actions.actions[v]:null,x=w&&w.content?w.content.text:"";return x};t.prototype.$GEPushDetailsCard4=function(){"use strict";var u=this.props.campaignId,v=this.state,w=v.campaignData,x=v.startTime,y=v.endTime,z=v.visibleDateRange,A=[],B=s("fb_gepush_push_delivered",u),C=[{aggregateBy:"COUNT",event_name:"fb_gepush_push_delivered",title:i._("Operaciones de inserci\u00f3n entregadas"),filter:B},{aggregateBy:"COUNT",event_name:"fb_mobile_push_opened",title:i._("Operaciones de inserci\u00f3n abiertas"),filter:s("fb_mobile_push_opened",u)},{aggregateBy:"COUNT",event_name:"fb_gepush_push_error",title:i._("Errores en operaciones de inserci\u00f3n"),filter:s("fb_gepush_push_error",u)}],D=[],E=null;if(this.state.campaignData&&this.state.campaignData.push_card){var F=JSON.parse(this.state.campaignData.push_card.ios_push_payload_json),G=this.$GEPushDetailsCard3(F,0),H=this.$GEPushDetailsCard3(F,1);D=[{aggregateBy:"COUNT",event_name:"fb_mobile_push_card_action_primary",title:G,filter:s("fb_mobile_push_card_action_primary",u)},{aggregateBy:"COUNT",event_name:"fb_mobile_push_card_action_secondary",title:H,filter:s("fb_mobile_push_card_action_secondary",u)},{aggregateBy:"COUNT",event_name:"fb_mobile_push_card_action_dismiss",title:i._("Ignorar acci\u00f3n"),filter:s("fb_mobile_push_card_action_dismiss",u)}];var I=i._("Notificaciones en la aplicaci\u00f3n");if(w.campaign_type===n)E=c("React").createElement(c("GEPushNotificationEventsTrendsCardChart"),{title:I,key:"inAppTrendsLineChart",cardKey:"inAppTrendsLineChart",visibleDateRange:z,metrics:D});else E=c("React").createElement(c("GriffinPushEventsBarChart"),{title:I,key:"inAppTrendsBarChart",cardKey:"inAppTrendsBarChar",visibleDateRange:z,metrics:D})}if(x){A.push(c("React").createElement(c("GriffinOverviewSummaryWidget"),{startTime:x,endTime:y,visibleDateRange:z,className:"_1umk",key:"_SummaryWidget",widgetKey:"summary",metrics:C.concat(D),hasHeader:false}));var J=i._("Notificaciones");if(w&&w.campaign_type===n)A.push(c("React").createElement(c("GEPushNotificationEventsTrendsCardChart"),{title:J,key:"trendsLineChart",cardKey:"trendsLineChart",visibleDateRange:z,metrics:C}));else A.push(c("React").createElement(c("GriffinPushEventsBarChart"),{title:J,key:"trendsBarChart",cardKey:"trendsBarChart",visibleDateRange:z,metrics:C}))}if(E!==null)A.push(E);return A};t.prototype.$GEPushDetailsCard2=function(){"use strict";var u=this.state.campaignData;if(!u)return c("React").createElement(c("GEPushCard"),null,c("React").createElement(c("FalcorLoadingCard"),{showCard:false,onlySpinner:true}));var v=void 0,w=void 0;if(u.segment)v=c("SegmentModel")(u.segment);else{if(u.entry_segment_id)v=c("SegmentModel")(u.entry_segment_id);if(u.exit_segment_id)w=c("SegmentModel")(u.exit_segment_id)}var x=this.$GEPushDetailsCard4(),y=this.$GEPushDetailsCard5(u),z=this.$GEPushDetailsCard6(),A=v?c("React").createElement(c("GEPushDetailsSegmentCard"),{campaignType:u.campaign_type,entrySegmentEntity:v,exitSegmentEntity:w,visibleDateRange:z}):null,B=[];B.push(c("React").createElement(c("AnalyticsIOSPushPreview"),{key:0,payload:u.ios_push_payload_json||"{}",time:y,label:"iOS",pushCard:this.$GEPushDetailsCard7(u.push_card)}));B.push(c("React").createElement(c("AnalyticsAndroidPushPreview"),{key:1,payload:u.android_push_payload_json||"{}",time:y,label:"Android",pushCard:this.$GEPushDetailsCard7(u.push_card)}));var C=B.length>1?p.DEFAULT:p.PUSH,D=c("React").createElement(c("AnalyticsPushPreviewSection"),{fixedPreview:false,disclaimer:C},B);return c("React").createElement("div",null,c("React").createElement(c("GEPushCard"),null,c("React").createElement(c("GEPushSetupOverviewCard"),{item:u})),c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,A,x,c("React").createElement(c("GriffinPushErrorsCard"),babelHelpers["extends"]({campaignId:this.props.campaignId},this.state)),c("React").createElement(c("GriffinPushJSONPayloadSection"),{campaignData:u})),c("React").createElement(l,{style:{width:o}},c("React").createElement("div",{style:{width:q,marginLeft:20}},D))))};t.prototype.$GEPushDetailsCard5=function(u){"use strict";var v=new Date(u.delivery_time);if(isNaN(v.getTime()))v=c("parseISODate")(u.delivery_time);if(u.delivery_time_is_local)v=r(v);v=v;return v.getTime()};t.prototype.$GEPushDetailsCard1=function(u){"use strict";this.setState({campaignData:null});var v={start_date:u.startTime,end_date:u.endTime},w=c("InsightsGraphAPIConstants").ONEOFF_PUSH_CAMPAIGNS_NODE;if(u.campaignType===n)w=c("InsightsGraphAPIConstants").CONTINUOUS_PUSH_CAMPAIGNS_NODE;c("InsightsGraphAPI").objectGet(w,u.campaignId,v).done(function(x){if(!this.mounted)return;var y=c("InsightsUtils").pstTimeToUTCDay(new Date(this.$GEPushDetailsCard5(x)-60*60*24*1e3)),z=new Date(u.visibleDateRange.since<y?y:u.visibleDateRange.since),A={since:z,until:u.visibleDateRange.until};this.setState({campaignData:x,startTime:Math.max(u.startTime,y.getTime()/1e3),endTime:u.endTime,visibleDateRange:A})}.bind(this))};t.prototype.$GEPushDetailsCard7=function(u){"use strict";if(!u)return null;var v=null;try{v=JSON.parse(u.ios_push_payload_json);var w=u.hero_image;if(w)v.hero.background.url=w.image_url}catch(x){}return v};t.prototype.$GEPushDetailsCard6=function(){"use strict";var u=this.state.campaignData.segment||this.state.campaignData.entry_segment_id,v=new Date(u.time_last_updated*1e3),w=c("d3/time/day").offset(v,-30);return{since:w,until:v}};f.exports=t}),null);
__d("GEPushInputForm",["AnalyticsCard","AnalyticsPushCampaignSetupCard","AnalyticsPushNotificationSetupCard","GEPushCardInAppForm","GEPushCommonViews","GriffinSections","InsightsEventLogger","React"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.componentDidMount=function(){"use strict";c("InsightsEventLogger").logCardView(this.props.view.toLowerCase()+"_input_form",{})};k.prototype.componentWillReceiveProps=function(l){"use strict";if(this.props.view!==l.view)c("InsightsEventLogger").logCardView(l.view.toLowerCase()+"_input_form",{})};k.prototype.render=function(){"use strict";var l=this.props,m=l.theme,n=l.onChangePushCard,o=l.pushCardData,p=l.validForm,q=[];switch(this.props.view){case c("GEPushCommonViews").CREATE_AUDIENCE:return c("React").createElement(c("AnalyticsPushCampaignSetupCard"),this.props);case c("GEPushCommonViews").CREATE_NOTIFICATION:return c("React").createElement(c("AnalyticsPushNotificationSetupCard"),this.props);case c("GEPushCommonViews").CREATE_MESSAGE:q.push(c("React").createElement(c("GEPushCardInAppForm"),{key:"inAppForm",theme:m,validForm:p,pushCardData:o,onChange:n,campaignType:this.props.campaignType}));if(this.props.confirmationModal)q.push(c("React").createElement("div",{key:"confirmationModal"},this.props.confirmationModal));return c("React").createElement(c("AnalyticsCard"),null,q)}return null};function k(){"use strict";h.apply(this,arguments)}k.propTypes={appID:j.string.isRequired,campaign:j.object.isRequired,campaignID:j.string,fields:j.object.isRequired,setFields:j.func.isRequired,theme:j.object.isRequired,view:j.string.isRequired,validForm:j.bool.isRequired,confirmationModal:j.node,onChangePushCard:j.func,pushCardData:j.object,campaignType:j.string.isRequired,onChangeSegment:j.func.isRequired,onBeforeChangeSegment:j.func.isRequired,section:j.oneOf([c("GriffinSections").GEPUSH,c("GriffinSections").GEPUSH_IN_APP]),bodyText:j.string.isRequired,showJSONFields:j.bool.isRequired,onChangeShowJSONFields:j.func.isRequired};f.exports=k}),null);
__d("GEPushNotificationEventsTrendsCardChart",["AnalyticsCard","AnalyticsQueryAggregationMethod","AnalyticsQueryDataFetcherMixin","InternalAnalyticsQueryBuilder","AppEventsSegmentShape","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiStyle","FalcorErrorNotice","FalcorLoadingCard","FalcorLoadingAndErrorChart","InsightsContext","InsightsUtils","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"GEPushNotificationEventsTrendsCardChart",resolvedQueryCount:0,rejectedQueryCount:0,mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{cardKey:h.string.isRequired,title:h.node.isRequired,visibleDateRange:h.object.isRequired,metrics:h.arrayOf(h.shape({event_name:h.string.isRequired,filter:c("AppEventsSegmentShape"),title:h.node,aggregateBy:h.string.isRequired})).isRequired},getInitialState:function j(){return{data:null,error:null}},componentWillReceiveProps:function j(k){if(this._shouldFetchData(k,this.props)){this.setState({data:null,error:null});this._fetchData(k)}},render:function j(){if(this.state.error&&this.rejectedQueryCount>=this.props.metrics.length)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:this.state.error.getMessage()}));if(!this.state.data||this.resolvedQueryCount+this.rejectedQueryCount<this.props.metrics.length)return c("React").createElement(c("FalcorLoadingCard"),null);var k=this._getChartConfigs();return c("React").createElement(c("AnalyticsCard"),{cardKey:this.props.cardKey,title:this.props.title},c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:k.configs,activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey}))},_getQueries:function j(k){var l=c("InsightsContext").getObjID(),m=k.metrics.map(function(n,o){return{query:new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(l).setAggregations([n.aggregateBy]).setEventName(n.event_name).setFilters(n.filter).setSince(c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(k.visibleDateRange.until).getTime()/1e3).setTag(n.event_name),onQueryData:function(p){this.resolvedQueryCount++;var q=Object.assign({},this.state.data);q[n.event_name]=p;this.setState({data:q})}.bind(this),onQueryError:function(p){this.rejectedQueryCount++;this.setState({error:p})}.bind(this)}}.bind(this));return m},_getChartConfigs:function j(){var k=null,l=[];this.props.metrics.forEach(function(m,n){var o=this._makeChartConfig(this._getDataAdapter(c("AnalyticsQueryAggregationMethod").COUNT,this.state.data[m.event_name]),m.title,c("BonsaiStyle").CHART_THEME.areas.colors[n],m.event_name),p=o.data;if(p&&p.getData()&&p.getData().length>0)l.push(o)}.bind(this));return{configs:l,currency:k}},_makeChartConfig:function j(k,l,m,n){return{data:k,title:l,type:"lines",color:m,key:n}},_getDataAdapter:function j(k,l){if(!l)return null;var m=new(c("BonsaiApiDataAdapter"))(l.getResult([k]).formatResultsForBonsaiApiDataAdapter_DEPRECATED(),null,true);return m}});f.exports=i}),null);
__d("GEPushSectionController",["GriffinSections","GEPushContinuousStore","GEPushFeatureSectionController","GEPushOneOffStore","GEPushSectionUtilMixin","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"GEPushSectionController",statics:{getKey:function i(){return c("GriffinSections").GEPUSH}},_sectionKey:c("GriffinSections").GEPUSH,mixins:[c("GEPushSectionUtilMixin")],render:function i(){return c("React").createElement(c("GEPushFeatureSectionController"),babelHelpers["extends"]({},this.props,{subView:this.state.subView,onRenderView:this._onRenderView,section:this._sectionKey,entityStore:this.state.store,possibleStores:[c("GEPushOneOffStore"),c("GEPushContinuousStore")],validForm:this.state.validForm[this.state.subView]||false,hasValidForm:this._hasValidForm,onStartForm:function(j){var k=Object.assign({},this.state.validForm);k[j]=true;this.setState({validForm:k})}.bind(this),onBeforeSave:function(j){this.setState({showConfirmationModal:true,onSaveCallback:j,confirmationError:null})}.bind(this),onAfterSave:this._resetState,onSaveError:function(j){this.setState({confirmationError:j})}.bind(this),onCancel:this._resetState,onChangeSubView:function(j){this.setState({subView:j})}.bind(this)}))}});f.exports=h}),null);
__d("GEPushSegmentRulesCard",["cx","GriffinSegmentConditions","React"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.errorMessage?c("React").createElement("div",{className:"_11rx"},this.props.errorMessage):null;return c("React").createElement("div",{className:"_1wkl"},c("React").createElement("div",{className:"_1tmn"},this.props.title),c("React").createElement(c("GriffinSegmentConditions"),{segmentEntity:this.props.segment}),m)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={segment:k.object.isRequired,title:k.node.isRequired,errorMessage:k.node};f.exports=l}),null);
__d("GEPushSegmentSizeCard",["cx","fbt","ProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_bfd _3-97 _1tmn"},i._("ALCANCE DEL SEGMENTO")),c("React").createElement(c("ProgressBar.react"),{className:"_2ps_",value:0,size:"small"}),c("React").createElement("div",{className:"_3-8x _1g1q"},i._("No se ha elegido ning\u00fan segmento")),this.props.errorMessage?c("React").createElement("div",{className:"_5gxb"},this.props.errorMessage):null)};function m(){"use strict";j.apply(this,arguments)}m.propTypes={errorMessage:l.string};f.exports=m}),null);
__d("GEPushSectionUtilMixin",["cx","fbt","AnalyticsAndroidPushPreview","AnalyticsIOSPushPreview","AnalyticsNavigationUtils","AnalyticsOnDevicePushPreview","AnalyticsPushPreviewSection","FalcorLoadingCard","GEPushCard","GEPushCommonViews","GEPushConfirmationModal","GEPushContinuousStore","GEPushDetailsCard","GEPushFeatureSectionController","GEPushFeatureTableCard","GEPushInputForm","GEPushOneOffStore","GEPushSegmentRulesCard","GEPushSegmentSizeCard","GriffinPeopleSegmentUsersCard","GriffinSections","immutable","InsightsContext","Layout.react","PeopleStore","React","SegmentModel","SUIAnalyticsGriffinTheme","GEPushConstants","GEPushCardConstants","GEPushUtils","GEPushInputFormUtils"],(function a(b,c,d,e,f,g,h,i){var j=c("Layout.react").Column,k=c("Layout.react").FillColumn,l=c("immutable").List,m=714,n=c("GEPushConstants").CAMPAIGN_STATE_TYPES,o=c("GEPushConstants").MILLISECONDS_IN_DAY,p=c("GEPushConstants").MILLISECONDS_IN_HOUR,q=c("GEPushConstants").ONE_OFF,r=c("GEPushConstants").CONTINUOUS,s=c("GEPushConstants").DEFAULT_RIGHT_COLUMN_WIDTH,t=c("GEPushConstants").PREVIEW_DISCLAIMER,u=c("GEPushConstants").PUSH_CARD,v=c("GEPushConstants").SIMPLE_PUSH,w=c("GEPushCardConstants").defaultPushCardSettings,x=c("GEPushUtils").isValidJSON,y=c("GEPushUtils").isValidString,z=c("GEPushUtils").isValidScheme,A=c("GEPushInputFormUtils").getMessageFromIOSPayload,B=c("GEPushInputFormUtils").getMessageFromAndroidPayload,C=c("GEPushInputFormUtils").isValidIOSPayload,D=c("GEPushInputFormUtils").isValidAndroidPayload,E={oneoff:c("GEPushOneOffStore"),continuous:c("GEPushContinuousStore")},F={getInitialState:function G(){var H,I={};if(this.state&&this.state.campaignType===r){I.delivery_delay_sec=0;I.entry_segmentid="";I.exit_segmentid="";I.start_time=Date.now()+p}else I.segment_id="";var J={name:"",delivery_timestamp:Date.now()+p,delivery_time_is_local:true,delivery_should_expire:false,delivery_expires_after_sec:0,ios_push_payload_json:"{}",android_push_payload_json:"{}"},K=this.props.view===c("GEPushCommonViews").DETAILS||!this.props.view&&this.props.featureID;return{campaignType:q,store:K?null:E[q],subView:c("GEPushCommonViews").CREATE_AUDIENCE,inputFields:babelHelpers["extends"]({},J,I),validForm:(H={},H[c("GEPushCommonViews").CREATE_AUDIENCE]=false,H[c("GEPushCommonViews").CREATE_NOTIFICATION]=false,H[c("GEPushCommonViews").CREATE_MESSAGE]=false,H),showConfirmationModal:false,onSaveCallback:function L(){},pushCardData:w,confirmationError:null,segmentInfo:{},loadingSegment:{},listTransition:false,showJSONFields:false,backfillStatus:null}},propTypes:babelHelpers["extends"]({},c("GEPushFeatureSectionController").containerPropTypes),_resetState:function G(){var H=this.getInitialState(),I=this.state.store;H.campaignType=this.state.campaignType;H.store=I;H.listTransition=true;this.setState(H);this._loadEntityList(I)},_getUpdatedInputFields:function G(H){var I=this.state.inputFields;if(H!==c("GEPushContinuousStore")){delete I.delivery_delay_sec;delete I.entry_segmentid;delete I.exit_segmentid;delete I.start_time;I.segment_id=""}else{delete I.segment_id;I.delivery_delay_sec=0;I.entry_segmentid="";I.exit_segmentid="";I.start_time=Date.now()+p}H.newEntity({id:this.props.app_id});Object.keys(I).forEach(function(J){this._updateEntityConfiguration(J,I[J],H)}.bind(this));return I},_getDefaultValidForm:function G(){var H;return H={},H[c("GEPushCommonViews").CREATE_AUDIENCE]=false,H[c("GEPushCommonViews").CREATE_NOTIFICATION]=false,H[c("GEPushCommonViews").CREATE_MESSAGE]=false,H},_loadEntityList:function G(H){var I=this._sectionKey===c("GriffinSections").GEPUSH_IN_APP?u:v;H.loadEntityList(function(J){H.setEntityList(J);this.setState({listTransition:false})}.bind(this),I)},_onRenderView:function G(H,I,J,K,L,M,N,O,P){switch(H){case c("GEPushCommonViews").LIST:return c("React").createElement(c("GEPushFeatureTableCard"),{key:"list",appID:c("InsightsContext").getObjID(),data:J,section:this._sectionKey,campaignType:this.state.campaignType,listTransition:this.state.listTransition,visibleDateRange:O,onChangeCampaignType:function(T){var U=E[T];this.setState({inputFields:this._getUpdatedInputFields(U),store:U,campaignType:T,listTransition:true});this._loadEntityList(U)}.bind(this),onClickEndCampaign:function(T){this.state.store.saveEntityWithOptions(function(U){var V=U.success;if(V){var W=l(J).toArray(),X=W.findIndex(function(Y){if(Y.id===T)return true;return false});W[X].state=n.CANCELLED;this.state.store.setEntityList(W)}}.bind(this),T,{state:n.CANCELLED})}.bind(this),onClickCopyCampaign:function(T){var U,V=c("AnalyticsNavigationUtils").getSectionInsightsURI(this._sectionKey,null,c("GEPushCommonViews").CREATE);V.go();var W={name:T.name,delivery_timestamp:Date.now(),delivery_time_is_local:T.delivery_time_is_local,delivery_should_expire:T.delivery_should_expire,delivery_expires_after_sec:T.delivery_expires_after_sec,ios_push_payload_json:T.ios_push_payload_json,android_push_payload_json:T.android_push_payload_json},X=this.state.campaignType===q?babelHelpers["extends"]({},W,{segment_id:""}):babelHelpers["extends"]({},W,{start_time:Date.now()+p,entry_segmentid:"",exit_segmentid:""}),Y=E[this.state.campaignType];Y.newEntity({id:this.props.app_id});Object.keys(X).forEach(function($){this._updateEntityConfiguration($,X[$],Y)}.bind(this));var Z=(U={},U[c("GEPushCommonViews").CREATE_AUDIENCE]=false,U[c("GEPushCommonViews").CREATE_NOTIFICATION]=false,U[c("GEPushCommonViews").CREATE_MESSAGE]=false,U);this.setState({inputFields:X,validForm:Z})}.bind(this)});case c("GEPushCommonViews").CREATE:var Q=this._getRightColumnInfo(I);return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,{className:"_4b14"},this._getInputForm({view:I,item:L,id:K})),c("React").createElement(j,{style:{width:Q.width}},Q.view));case c("GEPushCommonViews").DETAILS:if(this.state.store===null&&L!==null)this.setState({store:E[L.campaign_type],campaignType:L.campaign_type});var R=M||Date.now()-o*7,S=N||Date.now();return K&&L!==null?c("React").createElement(c("GEPushDetailsCard"),{campaignId:K,cardKey:"campaign_details",startTime:R,endTime:S,campaignType:L.campaign_type,visibleDateRange:O,popDateRange:P}):c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})}return null},_getInputForm:function G(H){var I=H.view,J=H.item,K=H.id,L=this.state.showConfirmationModal?c("React").createElement(c("GEPushConfirmationModal"),{error:this.state.confirmationError,theme:c("SUIAnalyticsGriffinTheme"),width:m,onCancel:function(){this.setState({showConfirmationModal:false})}.bind(this),onSave:this.state.onSaveCallback,data:this.state.inputFields,pushCardData:this.state.pushCardData,campaignType:this.state.campaignType,notificationType:this._sectionKey,segmentInfo:this.state.segmentInfo.entry_segment,backfillStatus:this.state.backfillStatus}):null;return c("React").createElement(c("GEPushInputForm"),{view:I,theme:c("SUIAnalyticsGriffinTheme"),fields:this.state.inputFields,validForm:this.state.validForm[I]||false,setFields:function(M,N){this._updateEntityConfiguration(M,N);var O=this.state.inputFields;O[M]=N;this.setState({inputFields:O})}.bind(this),campaignType:this.state.campaignType,section:this._sectionKey,onChangeCampaignType:function(M){this.setState({segmentInfo:{},validForm:this._getDefaultValidForm(),inputFields:this._getUpdatedInputFields(E[M]),store:E[M],campaignType:M})}.bind(this),appID:c("InsightsContext").getObjID(),campaign:J,campaignID:K,confirmationModal:L,onChangePushCard:function(M){this._updateEntityConfiguration("push_card_data",M);this.setState({pushCardData:M})}.bind(this),pushCardData:this.state.pushCardData,onBeforeChangeSegment:function(M){var N=Object.assign({},this.state.loadingSegment);N[M]=true;this.setState({loadingSegment:N})}.bind(this),onChangeSegment:function(M){var N=M.type,O=M.segment,P=M.error,Q=M.backfillStatus,R=Object.assign({},this.state.segmentInfo),S=Object.assign({},this.state.loadingSegment);R[N]={segment:O,error:P};if(N==="entry_segment")c("PeopleStore").setSegmentEntity(c("SegmentModel")(O));S[N]=false;this.setState({segmentInfo:R,loadingSegment:S,backfillStatus:Q})}.bind(this),bodyText:this._getBodyText(),showJSONFields:this.state.showJSONFields,onChangeShowJSONFields:function(M){this.setState({showJSONFields:M})}.bind(this)})},_getRightColumnInfo:function G(H,I){switch(H){case c("GEPushCommonViews").CREATE_AUDIENCE:var J=this.state.segmentInfo.entry_segment&&this.state.campaignType===r?c("React").createElement("div",{className:"_3-8-"},i._("* Las estad\u00edsticas reflejan el alcance m\u00e1ximo")):null,K=this.state.segmentInfo.entry_segment?c("React").createElement(c("GriffinPeopleSegmentUsersCard"),{segmentEntity:c("SegmentModel")(this.state.segmentInfo.entry_segment.segment),note:J,useFlexBox:false,showConditions:false}):c("React").createElement(c("GEPushCard"),null,c("React").createElement(c("GEPushSegmentSizeCard"),null)),L=this.state.segmentInfo.entry_segment&&(this.state.segmentInfo.entry_segment.segment||this.state.segmentInfo.entry_segment.error),M=this.state.segmentInfo.exit_segment&&(this.state.segmentInfo.exit_segment.segment||this.state.segmentInfo.exit_segment.error);return{view:c("React").createElement("div",{className:"_wc8"},K,L?c("React").createElement(c("GEPushCard"),{error:Boolean(this.state.segmentInfo.entry_segment.error)},!this.state.loadingSegment.entry_segment?c("React").createElement(c("GEPushSegmentRulesCard"),{segment:c("SegmentModel")(this.state.segmentInfo.entry_segment.segment),title:i._("INCLUIR CONDICIONES DEL SEGMENTO"),errorMessage:this.state.segmentInfo.entry_segment.error}):c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})):null,M?c("React").createElement(c("GEPushCard"),{error:Boolean(this.state.segmentInfo.exit_segment.error)},!this.state.loadingSegment.exit_segment?c("React").createElement(c("GEPushSegmentRulesCard"),{segment:c("SegmentModel")(this.state.segmentInfo.exit_segment.segment),title:i._("EXCLUIR CONDICIONES DEL SEGMENTO"),errorMessage:this.state.segmentInfo.exit_segment.error}):c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})):null),width:s};case c("GEPushCommonViews").CREATE_NOTIFICATION:return{view:this._renderPushPreviewSection(false,false),width:s};case c("GEPushCommonViews").CREATE_MESSAGE:return{view:this._renderPushPreviewSection(true,true),width:s};default:return{view:null,width:s}}},_renderPushPreviewSection:function G(H,I){var J=H?this.state.pushCardData:null,K=c("React").createElement(c("AnalyticsOnDevicePushPreview"),{androidPayload:this.state.inputFields.android_push_payload_json,iosPayload:this.state.inputFields.ios_push_payload_json,time:this.state.inputFields.delivery_timestamp,label:i._("En el dispositivo"),pushCard:J});return c("React").createElement("div",{className:"_wc8"},c("React").createElement(c("AnalyticsPushPreviewSection"),{fixedPreview:I,disclaimer:t.PUSH},c("React").createElement(c("AnalyticsIOSPushPreview"),{payload:this.state.inputFields.ios_push_payload_json,time:this.state.inputFields.delivery_timestamp,label:"iOS",pushCard:J}),c("React").createElement(c("AnalyticsAndroidPushPreview"),{payload:this.state.inputFields.android_push_payload_json,time:this.state.inputFields.delivery_timestamp,label:"Android",pushCard:J}),K))},_hasValidCreateAudience:function G(H){if(!y(H.name))return false;if(this.state.campaignType===r){if(!y(H.entry_segmentid))return false}else if(!y(H.segment_id))return false;return true},_hasValidCreateNotification:function G(H,I,J){if(J){if(!x(H.android_push_payload_json)||!x(H.ios_push_payload_json)||!C(H.ios_push_payload_json)||!D(H.android_push_payload_json))return false}else if(!y(I||""))return false;return true},_hasValidCreateMessage:function G(){var H=this.state.pushCardData;if(H&&H.hero&&H.hero.background&&H.hero.background.url==="")return false;if(H&&H.actions&&H.actions.actions){var I=H.actions.actions;return!I.some(function(J){if(J.url!==null&&J.url!==undefined)return!z(J.url);else return false})}return true},_getBodyText:function G(){return A(this.state.inputFields.ios_push_payload_json)||B(this.state.inputFields.android_push_payload_json)},_hasValidForm:function G(H){var I=this.state.inputFields,J=this._getBodyText(),K=this.state.showJSONFields,L=true;switch(H){case c("GEPushCommonViews").CREATE_AUDIENCE:if(!this._hasValidCreateAudience(I))L=false;break;case c("GEPushCommonViews").CREATE_NOTIFICATION:if(!this._hasValidCreateNotification(I,J,K))L=false;break;case c("GEPushCommonViews").CREATE_MESSAGE:if(!this._hasValidCreateMessage())L=false;break}return L},_updateEntityConfiguration:function G(H,I,J){var K={},L=J||this.state.store;K[H]={$set:I};L.updateEntityConfiguration(K)}};f.exports=F}),null);
__d("GEPushSegmentBuilderDialog",["cx","fbt","invariant","ix","AnalyticsErrorBoundary","BonsaiColors","d3/time/day","FalcorLoadingCard","FalcorSegmentRuleUtils","FluxContainer","GriffinButton","GriffinContextualDrawer","GriffinEditFeatureDialog","GriffinPieChart","GriffinSegmentInputForm","GriffinSegmentUtils","Image.react","InsightsContext","InsightsEventLogger","InsightsNumUtils","PushEntrySegmentStore","PushExitSegmentStore","React","SUIAnalyticsGriffinTheme","SUIModalBackgroundDEPRECATED.react","immutable","CandelaConstants","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n=c("immutable").Map,o=c("CandelaConstants").ScaleType,p=c("CandelaStackScaleBuilder").stack;l=babelHelpers.inherits(q,c("React").Component);m=l&&l.prototype;q.getStores=function(){return[c("PushEntrySegmentStore"),c("PushExitSegmentStore")]};q.calculateState=function(){var r=[c("PushEntrySegmentStore"),c("PushExitSegmentStore")].map(function(s){var t=s.getModifiedSegment();return{error:s.getSizeError(),orderedRules:t.orderedRules,percentileRule:t.percentileRule,showPercentile:s.getShowPercentile(),totalUsers:s.getTotalUsers(),segmentTotal:s.getSegmentTotalUsers()}});return{entry_push:r[0],exit_push:r[1]}};function q(){m.constructor.call(this);this.$GEPushSegmentBuilderDialog2=function(){c("InsightsEventLogger").logEvent({eventName:"segments_builder_add_rule",feature_id:null});var r=this.props,s=r.segmentActions,t=r.segmentType,u=this.state[t].orderedRules;if(!u)u=[];s.modifySegment({orderedRules:u.concat(null)})}.bind(this);this.$GEPushSegmentBuilderDialog1=function(){c("InsightsEventLogger").logEvent({eventName:"segments_builder_show_percentile",feature_id:null});this.props.segmentActions.toggleShowPercentile({showPercentile:true})}.bind(this);this.onSaveAsClose=function(){c("InsightsEventLogger").logEvent({eventName:"segments_save_as_canceled_click",feature_id:null});this.setState({showCreateDialog:false,segmentName:null,isLoading:false})}.bind(this);this.onTextChange=function(r){this.setState({segmentName:r})}.bind(this);this.onSaveAs=function(){var r=this.state.segmentName;r||j(0);c("InsightsEventLogger").logEvent({eventName:"segments_save_as_click",feature_id:null});var s=this.props.segmentActions;s.createSegment({isInternal:false,segmentName:r,callback:function(t){if(!t)return;s.clearSegment();this.props.onSaveComplete(t)}.bind(this)});this.setState({segmentName:null,isLoading:true})}.bind(this);this.onBuilderCancel=function(){this.props.segmentActions.clearSegment();this.props.onCancel()}.bind(this);this.$GEPushSegmentBuilderDialog4=function(r){var s=this.props.segmentActions;s.modifySegment({orderedRules:r});s.fetchSegmentTotal({orderedRules:r})}.bind(this);this.$GEPushSegmentBuilderDialog5=function(r){var s=this.props.segmentActions;s.modifySegment({percentileRule:r});s.fetchSegmentTotal({percentileRule:r})}.bind(this);this.$GEPushSegmentBuilderDialog6=function(r){this.props.segmentActions.toggleShowPercentile({showPercentile:r})}.bind(this);this.$GEPushSegmentBuilderDialog1=this.$GEPushSegmentBuilderDialog1.bind(this);this.state={entry_push:{},exit_push:{},isLoading:false,segmentName:null,showCreateDialog:false}}q.prototype.componentWillMount=function(){var r=this.getLast28Days(),s=this.props.segmentActions;s.fetchTotalUsers(babelHelpers["extends"]({},r));s.fetchSegmentTotal(babelHelpers["extends"]({},r))};q.prototype.getLast28Days=function(){var r=new Date();r.setUTCHours(0,0,0,0);var s=c("d3/time/day").offset(r,-28),t=s.getTime()/1e3,u=r.getTime()/1e3;return{startTime:t,endTime:u}};q.prototype.renderSizeEstimator=function(){var r=i._("Cargando\u2026"),s=this.state[this.props.segmentType],t=s.totalUsers,u=s.segmentTotal,v=s.error;if(t==null||u==null){var w=v?v:c("React").createElement(c("FalcorLoadingCard"),{showCard:false,text:r});return c("React").createElement("div",{className:"_4du5"},w)}if(t===0)return c("React").createElement("div",{className:"_4du5"},i._("No hay usuarios en el intervalo de fechas seleccionado"));if(u>t)u=t;var x=u/t,y=c("InsightsNumUtils").prettyPercent(u/t,2),z=x<.01&&x>0?i._("\u003C 0,01 \u0025"):y,A=[],B={},C={},D={segmentTotal:c("BonsaiColors").ANALYTICS_BLUE,totalRemainder:c("BonsaiColors").LIGHT_BLUE};if(u){A.push("segmentTotal");B.segmentTotal=u;C.segmentTotal={type:o.NUMBER}}var E=t-u;if(E){A.push("totalRemainder");B.totalRemainder=E;C.totalRemainder={type:o.NUMBER}}return c("React").createElement("div",{className:"_4du5"},c("React").createElement("div",{className:"_4du7"},z),c("React").createElement(c("GriffinPieChart"),{autoColors:n(D),data:[B],schema:C,plotAngle:p.apply(this,A).from(0),height:100,width:100,innerRadiusRatio:.75}),c("React").createElement("div",{className:"_3-8x"},i._("{segment_total} \u0025 de un total de {total_users} usuarios",[i.param("segment_total",c("InsightsNumUtils").prettyShortInt(u)),i.param("total_users",c("InsightsNumUtils").prettyShortInt(t))])))};q.prototype.$GEPushSegmentBuilderDialog3=function(){return c("FalcorSegmentRuleUtils").getRuleConflicts(this.state[this.props.segmentType].orderedRules)};q.prototype.canCreateSegment=function(){var r=this.state[this.props.segmentType],s=r.orderedRules,t=r.percentileRule,u=c("GriffinSegmentUtils").hasEmptyRules(s,t),v=s&&c("FalcorSegmentRuleUtils").hasRuleConflicts(s),w=!u&&!v,x=c("InsightsContext").isReadOnly();return w&&!x};q.prototype.renderCreateDialog=function(){if(!this.state.showCreateDialog)return null;return c("React").createElement(c("GriffinEditFeatureDialog"),{descriptionText:i._("A\u00f1ade un nombre a tu nuevo segmento para poder buscarlo m\u00e1s adelante."),isLoading:this.state.isLoading,loadingText:i._("Creando segmento"),name:this.state.segmentName,onButtonClick:this.onSaveAs,onClose:this.onSaveAsClose,onNameChange:this.onTextChange,title:i._("Crear segmento"),showTextInput:true})};q.prototype.renderBuilderDialog=function(){if(this.state.showCreateDialog)return null;var r=this.$GEPushSegmentBuilderDialog3(),s=this.state[this.props.segmentType],t=s.orderedRules,u=s.percentileRule,v=s.showPercentile,w=i._("A\u00f1adir condici\u00f3n"),x=i._("A\u00f1adir percentil"),y=i._("Crear segmento"),z=i._("Cancelar"),A=c("React").createElement(c("Image.react"),{src:k("82642")}),B=!this.canCreateSegment();return c("React").createElement("div",null,c("React").createElement(c("SUIModalBackgroundDEPRECATED.react"),{theme:c("SUIAnalyticsGriffinTheme")}),c("React").createElement(c("GriffinContextualDrawer"),{anchor:this.props.anchor,cardKey:"push_segment_builder",className:"_4du8"},c("React").createElement("div",{className:"_4du9"},this.renderSizeEstimator(),c("React").createElement("div",{className:"_4dua"},c("React").createElement(c("AnalyticsErrorBoundary"),{cardKey:"push_segment_input"},c("React").createElement(c("GriffinSegmentInputForm"),{conflictingRules:r,disablePushConditions:true,onChangeOrderedRules:this.$GEPushSegmentBuilderDialog4,onChangePercentileRule:this.$GEPushSegmentBuilderDialog5,onToggleShowPercentileRule:this.$GEPushSegmentBuilderDialog6,orderedRules:t,percentileRule:u,showPercentile:v})),c("React").createElement("div",{className:"_4dub"},c("React").createElement(c("GriffinButton"),{className:"_3-90",icon:A,label:w,onClick:this.$GEPushSegmentBuilderDialog2}),c("React").createElement(c("GriffinButton"),{disabled:v,icon:A,label:x,onClick:this.$GEPushSegmentBuilderDialog1})))),c("React").createElement("div",{className:"_4q6h"}),c("React").createElement("div",{className:"_4du9 _2d1_"},c("React").createElement("div",{className:"_4dua _3mme"},this.props.description),c("React").createElement("div",{className:"_4duk"},c("React").createElement(c("GriffinButton"),{className:"_3-90",label:z,onClick:this.onBuilderCancel}),c("React").createElement(c("GriffinButton"),{label:y,disabled:B,onClick:function(){c("InsightsEventLogger").logEvent({eventName:"push_segment_create",feature_id:null,section:c("InsightsContext").getActiveSectionName().toLowerCase()});this.setState({showCreateDialog:true})}.bind(this),use:"confirm"})))))};q.prototype.render=function(){var r=this.renderCreateDialog(),s=this.renderBuilderDialog();return c("React").createElement("div",null,s,r)};f.exports=c("FluxContainer").create(q)}),null);
__d("GriffinPushEventsBarChart",["AnalyticsCard","AnalyticsQueryDataFetcherMixin","InternalAnalyticsQueryBuilder","AppEventsSegmentShape","FalcorErrorNotice","FalcorLoadingCard","FalcorResizableChartMixin","FalcorVerticalBarChart","InsightsContext","InsightsUtils","React","CandelaGroupScaleBuilder","CandelaConstants","GEPushConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("CandelaGroupScaleBuilder").group,i=c("CandelaConstants").ScaleType,j=c("React").PropTypes,k=c("GEPushConstants").DETAILS_PUSH_CARD_RIGHT_MARGIN,l=c("React").createClass({displayName:"GriffinPushEventsBarChart",resolvedQueryCount:0,rejectedQueryCount:0,_domNode:HTMLElement,mixins:[c("AnalyticsQueryDataFetcherMixin"),c("FalcorResizableChartMixin")],propTypes:{cardKey:j.string.isRequired,title:j.node.isRequired,visibleDateRange:j.object.isRequired,metrics:j.arrayOf(j.shape({event_name:j.string.isRequired,filter:c("AppEventsSegmentShape"),title:j.node,aggregateBy:j.string.isRequired})).isRequired},getInitialState:function m(){return{data:null,error:null,chartWidth:0}},componentWillReceiveProps:function m(n){if(this._shouldFetchData(n,this.props)){this.setState({data:null,error:null});this._fetchData(n)}},_getQueries:function m(n){var o=c("InsightsContext").getObjID(),p=n.metrics.map(function(q,r){return{query:new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(o).setAggregations([q.aggregateBy]).setEventName(q.event_name).setFilters(q.filter).setSince(c("InsightsUtils").utcTimeToPacificDay(n.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(n.visibleDateRange.until).getTime()/1e3).setTag(q.event_name),onQueryData:function(s){this.resolvedQueryCount++;var t=Object.assign({},this.state.data);t[q.event_name]=s;this.setState({data:t})}.bind(this),onQueryError:function(s){this.rejectedQueryCount++;this.setState({error:s})}.bind(this)}}.bind(this));return p},render:function m(){if(this.state.error&&this.rejectedQueryCount>=this.props.metrics.length)return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:this.state.error.getMessage()}));if(!this.state.data||this.resolvedQueryCount+this.rejectedQueryCount<this.props.metrics.length)return c("React").createElement(c("FalcorLoadingCard"),null);var n=this.props.metrics.map(function(o){var p=this.state.data[o.event_name].getTotals().countTotal;return{bucket:o.title,value:p}}.bind(this));return c("React").createElement(c("AnalyticsCard"),{cardKey:this.props.cardKey,title:this.props.title},c("React").createElement(c("FalcorVerticalBarChart"),{data:n,height:300,schema:this._getBarChartSchema(),width:this.state.chartWidth,plotX:h("bucket"),plotY:[h("value").from(0).extendInput(0,.25)]}))},_getBarChartSchema:function m(){return{bucket:{type:i.CATEGORY},value:{type:i.NUMBER}}},_getCandelaWidth:function m(){var n=window.getComputedStyle(this._domNode).width;return parseFloat(n)-k}});f.exports=l}),null);
__d("GEPushCardMediaFileSelector",["fbt","cx","ix","DragDropTarget","Image.react","InlineBlock.react","GEPushUploadFileModal","React","ReactDOM","SUIButton.react","TooltipMixin","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes,n=c("React").createClass({displayName:"GEPushMediaError",mixins:[c("TooltipMixin")],render:function p(){return c("React").createElement(c("Image.react"),{className:"_2ite",src:j("316099")})}});k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={showUploadFileModal:false},this.$GEPushCardMediaFileSelector1=function(u){this.props.onFileChange(u)}.bind(this),this.$GEPushCardMediaFileSelector2=function(){var u=void 0;if(this.props.selectedFile&&this.props.selectedFile.id){var v=this.props.selectedFile.name;u=c("React").createElement("div",{className:"_1sua"},c("React").createElement(c("Image.react"),{width:36,height:36,src:this.props.selectedFile.image_url,className:"_1sub"}),c("React").createElement("div",{className:"_2b2g"},v),c("React").createElement(c("Image.react"),{className:"_1suc",onClick:this.props.onFileRemove,src:j("125922")}))}else u=c("React").createElement("div",null,h._("Arrastra y suelta tu archivo aqu\u00ed o haz clic en")," ",c("React").createElement(c("SUIButton.react"),{use:"confirm",theme:this.props.theme,label:h._("Elige un archivo"),onClick:function(){this.setState({showUploadFileModal:true})}.bind(this)}));var w=this.props.errorMessage?c("React").createElement(n,{tooltip:c("React").createElement("div",{className:"_50ic"},this.props.errorMessage)}):null;return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:56},u,w)}.bind(this),this.$GEPushCardMediaFileSelector3=function(){return this.state.showUploadFileModal?c("React").createElement(c("GEPushUploadFileModal"),{theme:this.props.theme,width:615,height:600,onCancel:function(){this.setState({showUploadFileModal:false})}.bind(this),onFileSelect:function(u){this.props.onModalSelectFile(u);this.setState({showUploadFileModal:false})}.bind(this),onFileChange:this.props.onModalFileChange,errorMessage:this.props.errorMessage}):null}.bind(this),q}o.prototype.componentDidMount=function(){new(c("DragDropTarget"))(c("ReactDOM").findDOMNode(this)).setOnFilesDropCallback(this.$GEPushCardMediaFileSelector1).enable()};o.prototype.render=function(){return c("React").createElement("div",{className:"_1sue"+(this.props.selectedFile&&this.props.selectedFile.name?" _1suf":"")+(this.props.errorMessage?" _1sug":"")},this.$GEPushCardMediaFileSelector2(),this.$GEPushCardMediaFileSelector3())};o.propTypes={onFileChange:m.func.isRequired,onFileRemove:m.func.isRequired,selectedFile:m.object,errorMessage:m.node,allowedFileTypes:m.array,theme:m.object.isRequired,onModalFileChange:m.func.isRequired,onModalSelectFile:m.func.isRequired};f.exports=o}),null);
__d("GEPushDetailsSegmentCard",["cx","fbt","GEPushCard","GEPushPeopleSegmentUsersCard","GEPushSegmentRulesCard","Layout.react","React","GEPushConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Layout.react").Column,m=c("GEPushConstants").SEGMENT_REACH_DISCLAIMER,n=c("GEPushConstants").CONTINUOUS;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){var p=this.props,q=p.campaignType,r=p.entrySegmentEntity,s=p.exitSegmentEntity,t=p.visibleDateRange,u=this.props.exitSegmentEntity?c("React").createElement("div",{className:"_3-8-"},m):null,v=r?c("React").createElement(c("GEPushSegmentRulesCard"),{key:"entrySegment",segment:r,title:i._("INCLUIR")}):null,w=s?c("React").createElement(c("GEPushSegmentRulesCard"),{key:"exitSegment",segment:s,title:i._("EXCLUIR")}):null,x=q===n?null:c("React").createElement(l,{className:"_1wzi"},c("React").createElement(c("GEPushPeopleSegmentUsersCard"),{segmentEntity:r,note:u,showConditions:false,visibleDateRange:t}));return c("React").createElement(c("GEPushCard"),null,c("React").createElement(c("Layout.react"),null,x,c("React").createElement(l,{className:"_1wzj"},v),c("React").createElement(l,{className:"_1wzk"},w)))};function o(){j.apply(this,arguments)}f.exports=o}),null);
__d("GEPushMetricsCell",["AnalyticsQueryAggregationMethod","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AppEventsSegmentShape","CustomEventStore","InsightsContext","InsightsUtils","React","XUISpinner.react","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("React").PropTypes,j=c("React").createClass({displayName:"GEPushMetricsCell",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{metrics:i.arrayOf(i.shape({event_name:i.string.isRequired,aggregateBy:i.string.isRequired,filter:c("AppEventsSegmentShape")})),visibleDateRange:i.shape({since:i.instanceOf(Date).isRequired,until:i.instanceOf(Date).isRequired}).isRequired,widgetKey:i.string.isRequired,cellValueCallback:i.func.isRequired},getInitialState:function k(){return{metricData:h(),metricErrors:h()}},componentWillReceiveProps:function k(l){if(this._shouldFetchData(this.props,l)){this.setState(this.getInitialState());this._fetchData(l)}},_getQueries:function k(l){var m=l.metrics,n=l.visibleDateRange,o=[],p=c("InsightsContext").getObjID();m.forEach(function(q,r){var s=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(p).setEventName(q.event_name).setAggregations([q.aggregateBy]).setIntervalsToAggregate(0).setFilters(q.filter).setSince(c("InsightsUtils").utcTimeToPacificDay(n.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(n.until).getTime()/1e3).setTag(q.event_name);o.push({query:s,onQueryData:function(t){this.setState({metricData:this.state.metricData.set(r,t),metricErrors:this.state.metricErrors.set(r,null)})}.bind(this),onQueryError:function(t){this.setState({metricData:this.state.metricData.set(r,null),metricErrors:this.state.metricErrors.set(r,t)})}.bind(this)})}.bind(this));return o},_getTotal:function k(l,m){if(!m)return null;var n=m.getTotals();switch(l.aggregateBy){case c("AnalyticsQueryAggregationMethod").COUNT:return n.countTotal;default:return null}},_getVisibleTotal:function k(l,m){return this._getTotal(l,this.state.metricData.get(m))},_renderItem:function k(l,m){var n=this.state.metricErrors[m];if(n)return c("React").createElement("div",null,"0");var o=l.event_name,p=l.title;if(!p)p=c("CustomEventStore").getAppEventDisplayName(o);var q=this._getVisibleTotal(l,m);this.props.cellValueCallback(q||0);return c("React").createElement("div",{key:l.event_name+l.aggregateBy},q||0)},render:function k(){var l=void 0,m=!this.state.metricData.some(function(o){return o}),n=this.state.metricErrors.every(function(o){return o});if(m&&n)l=c("React").createElement(c("XUISpinner.react"),{background:"light",size:"small"});else if(this.props.metrics)l=this.props.metrics.map(this._renderItem);return c("React").createElement("div",null,l)}});f.exports=j}),null);
__d("GEPushPeopleSegmentUsersCard",["cx","fbt","AnalyticsQueryAggregationMethod","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","AppCustomEventType","BonsaiTooltip","d3/time/day","FalcorLoadingCard","GriffinPushSegmentPieChart","GriffinSegmentUtils","immutable","InsightsContext","InsightsNumUtils","InsightsUtils","Layout.react","LeftRight.react","React","GEPushConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("Layout.react").Column,k=c("React").PropTypes,l=c("GEPushConstants").PROCESSED_TOKEN_EVENT,m="u",n=c("React").createClass({displayName:"GEPushPeopleSegmentUsersCard",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{segmentEntity:k.object.isRequired,showConditions:k.bool,note:k.node,visibleDateRange:k.object},getInitialState:function o(){return{hasPushTokenQueryData:null,hasPushTokenQueryError:null,noPushTokenQueryData:null,noPushTokenQueryError:null,allUsersData:null,allUsersError:null}},getDefaultProps:function o(){return{showConditions:true,useFlexBox:true}},componentWillReceiveProps:function o(p){if(this._shouldFetchData(p,this.props)){this.setState({data:null,error:null});this._fetchData(p)}},_getQueries:function o(p){return[this._getHasPushTokenQuery(p),this._getNoPushTokenQuery(p),this._getAllUsersQuery(p)]},_getHasPushTokenQuery:function o(p){var q=c("immutable").fromJS(this.props.segmentEntity).toJS(),event=c("GriffinSegmentUtils").getDefaultEventName(q);q.event_rules.push(this._getHasPushTokenEventRule(event));var r=this._getBaseQuery(p).setEventName(event).setFilters(this.getFilter(q));return{query:r,onQueryData:function(s){return this.setState({hasPushTokenQueryData:s})}.bind(this),onQueryError:function(s){return this.setState({hasPushTokenQueryError:s})}.bind(this)}},_getNoPushTokenQuery:function o(p){var q=c("immutable").fromJS(this.props.segmentEntity).toJS(),event=c("GriffinSegmentUtils").getDefaultEventName(q);q.event_rules.push(babelHelpers["extends"]({},this._getHasPushTokenEventRule(event),{negate_rule:true}));var r=this._getBaseQuery(p).setEventName(event).setFilters(this.getFilter(q));return{query:r,onQueryData:function(s){return this.setState({noPushTokenQueryData:s})}.bind(this),onQueryError:function(s){return this.setState({noPushTokenQueryError:s})}.bind(this)}},_getAllUsersQuery:function o(p){var q=this._getBaseQuery(p).setEventName(c("AppCustomEventType").FB_BASE_EVENT);return{query:q,onQueryData:function(r){return this.setState({allUsersData:r})}.bind(this),onQueryError:function(r){return this.setState({allUsersError:r})}.bind(this)}},_getBaseQuery:function o(p){return new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setAggregations([c("AnalyticsQueryAggregationMethod").USERS]).setIntervalsToAggregate(0).setSince(c("InsightsUtils").utcTimeToPacificDay(p.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(p.visibleDateRange.until).getTime()/1e3).setTag("people_segment")},_getHasPushTokenEventRule:function o(event){return{event_rule:{application:c("InsightsContext").getObjID(),event_name:l,parameters:[]},negate_rule:false}},getFilter:function o(p){return{event_rules:p.event_rules,event_info_rules:p.event_info_rules,percentile_rules:p.percentile_rules,user_property_rules:p.user_property_rules,web_param_rules:p.web_param_rules}},render:function o(){if(this._hasError())return null;if(this._isLoading())return c("React").createElement("div",{style:{width:300}},c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}));var p=this.state,q=p.hasPushTokenQueryData,r=p.noPushTokenQueryData,s=p.allUsersData,t=q.getUniquesTotalDangerously(),u=r.getUniquesTotalDangerously(),v=s.getUniquesTotalDangerously();return c("React").createElement("div",{className:"_20cj"},c("React").createElement("div",{className:"_1tmn _3-98"},i._("ALCANCE DEL SEGMENTO")),c("React").createElement(c("Layout.react"),null,c("React").createElement(j,{className:"_1wzi"},c("React").createElement(c("GriffinPushSegmentPieChart"),{allUsersCount:v,eligibleCount:t,ineligibleCount:u,showPushIcon:true})),c("React").createElement(j,null,this._renderLabels(v,t,u))))},_renderLabels:function o(p,q,r){var s=0,t=0;if(p>0){s=q/p;t=r/p}return c("React").createElement("div",null,c("React").createElement("div",{className:"_3-96"},c("React").createElement(c("LeftRight.react"),{direction:"left"},c("React").createElement("div",{className:"_20ck _20cr"}),c("React").createElement("div",{className:"_20cs"},i._("Apto para la inserci\u00f3n"))),c("React").createElement("div",{className:"_20ct"},i._("{Count} - {Percentage} de usuarios",[i.param("Count",c("InsightsNumUtils").prettyShortInt(q)),i.param("Percentage",c("InsightsNumUtils").prettyPercent(s))]))),c("React").createElement("div",null,c("React").createElement(c("LeftRight.react"),{direction:"left"},c("React").createElement("div",{className:"_20cu _20cr"}),c("React").createElement("div",{className:"_20cs"},i._("No es apto para inserci\u00f3n"),c("React").createElement(c("BonsaiTooltip"),{tooltip:i._("Los usuarios no cumplen con los requisitos para recibir campa\u00f1as de inserci\u00f3n cuando no tienen el identificador de ninguno de sus dispositivos.")}))),c("React").createElement("div",{className:"_20ct"},i._("{Count} - {Percentage} de usuarios",[i.param("Count",c("InsightsNumUtils").prettyShortInt(r)),i.param("Percentage",c("InsightsNumUtils").prettyPercent(t))]))))},_isLoading:function o(){var p=this.state,q=p.hasPushTokenQueryData,r=p.noPushTokenQueryData,s=p.allUsersData;return q===null||r===null||s===null},_hasError:function o(){var p=this.state,q=p.hasPushTokenQueryError,r=p.noPushTokenQueryError,s=p.allUsersError;return q!==null||r!==null||s!==null},_getLast30DaysSinceSegmentCreated:function o(){var p=this.props.segmentEntity,q=new Date(p.time_last_updated*1e3),r=c("d3/time/day").offset(q,-30),s=r.getTime()/1e3,t=q.getTime()/1e3;return{startTime:s,endTime:t}}});f.exports=n}),null);
__d("GEPushUploadFileItem",["cx","ix","BackgroundImage.react","Image.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props,o=n.info,p=n.selected,q=n.onClick;return c("React").createElement(c("ShimButton.react"),{form:"link",onClick:q},c("React").createElement(c("FBOverlayContainer.react"),{className:"_4pix"+(p?" _4pi_":"")},c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("BackgroundImage.react"),{src:o.image_url,width:120,height:100,backgroundSize:"contain",loadingIndicatorStyle:"large"})),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"fit",vertical:"fit"},c("React").createElement("div",{className:"_4pj0"+(!this.props.selected?" hidden_elem":"")})),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement(c("Image.react"),{className:"_4ie4"+(!this.props.selected?" hidden_elem":""),src:i("23112")}))))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={value:l.string.isRequired,info:l.shape({id:l.string.isRequired,image_url:l.string.isRequired,image_handle:l.string.isRequired,name:l.string}).isRequired,selected:l.bool,onClick:l.func};f.exports=m}),null);
__d("GEPushUploadFileList",["cx","fbt","AdsPlusBox.react","FileInput.react","React"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$GEPushUploadFileList1=function(s,t){if(this.props.value!==s)this.props.onChange(t)}.bind(this),this.$GEPushUploadFileList2=function(){return c("React").createElement(c("FileInput.react"),{accept:["images/png","images/gif","images/jpeg"].join(", "),onChange:this.props.onFileChange},c("React").createElement(c("AdsPlusBox.react"),{className:"_50j9"},i._("Subir archivo")))}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.props,o=n.children,p=n.value,q=this.$GEPushUploadFileList1,r=c("React").Children.map(o,function(t){var u=p===t.props.value;return c("React").cloneElement(t,{selected:u,onClick:q.bind(null,t.props.info.id,t.props.info)})})||[],s=[c("React").createElement("li",{key:"uploadItem"},this.$GEPushUploadFileList2())];r.forEach(function(t,u){s.push(c("React").createElement("li",{key:"item"+u},t))});return c("React").createElement("ul",{className:"_50jc"},s)};m.propTypes={value:l.string,onChange:l.func.isRequired,onFileChange:l.func.isRequired};f.exports=m}),null);
__d("GEPushUploadFileModal",["cx","fbt","GEPushCardImagesStore","GEPushUploadFileItem","GEPushUploadFileList","InsightsEventLogger","InsightsLoadingIndicator.react","React","SUIButton.react","SUICloseButton.react","SUIModalDEPRECATED.react","GEPushCardImagesActions"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=c("GEPushCardImagesActions").GET_FILES;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={fileInfo:{},files:[],loading:true},this.subscription=null,this.$GEPushUploadFileModal1=function(t){this.setState({files:t,loading:false})}.bind(this),p}n.prototype.componentDidMount=function(){"use strict";this.subscription=c("GEPushCardImagesStore").subscribe(m,this.$GEPushUploadFileModal1);c("GEPushCardImagesStore").getFiles();c("InsightsEventLogger").logCardView("uploadFileModal",{})};n.prototype.componentWillUnmount=function(){"use strict";if(this.subscription)this.subscription.remove()};n.prototype.render=function(){"use strict";var o=this.state.files.map(function(r){return c("React").createElement(c("GEPushUploadFileItem"),{key:r.id,value:r.id,info:r})}),p=this.state.loading?c("React").createElement("div",{style:{height:this.props.height}},c("React").createElement(c("InsightsLoadingIndicator.react"),{className:"_1fjf"})):c("React").createElement(c("GEPushUploadFileList"),{onFileChange:this.props.onFileChange,value:this.state.fileInfo.id,onChange:function(r){this.setState({fileInfo:r})}.bind(this)},o),q=this.props.errorMessage?c("React").createElement("div",{className:"_-ob"},this.props.errorMessage):null;return c("React").createElement(c("SUIModalDEPRECATED.react"),{key:"uploadFileModal",header:c("React").createElement("div",{className:"_w7p"},i._("Elige un archivo")),theme:this.props.theme,width:this.props.width,height:this.props.height,headerbuttons:[c("React").createElement(c("SUICloseButton.react"),{size:"large",onClick:this.props.onCancel,theme:this.props.theme,useLegacyPadding:true})],footer:c("React").createElement("div",{className:"_w7q"},c("React").createElement(c("SUIButton.react"),{disabled:!this.state.fileInfo.id,label:i._("Seleccionar"),theme:this.props.theme,onClick:function(){c("InsightsEventLogger").logEvent({eventName:"push_card_select_file_click"});this.props.onFileSelect(this.state.fileInfo)}.bind(this),use:"confirm"}),c("React").createElement(c("SUIButton.react"),{label:i._("Cancelar"),theme:this.props.theme,onClick:function(){c("InsightsEventLogger").logEvent({eventName:"push_card_cancel_file_click"});this.props.onCancel()}.bind(this)}))},c("React").createElement("div",{className:"_w7r"},q,p))};n.propTypes={theme:l.object.isRequired,height:l.number.isRequired,width:l.number.isRequired,onCancel:l.func.isRequired,onFileSelect:l.func.isRequired,onFileChange:l.func.isRequired,errorMessage:l.node};f.exports=n}),null);
__d("AnalyticsPushErrors",["errorDesc","errorSummary","GEPushConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("GEPushConstants").APNS,j=c("GEPushConstants").GCM,k={ANALYTICS_PUSH_ERRORS:[{code:"GEPUSH__NO_APNS_CREDENTIAL",summary:c("errorSummary")._(function(l){return l._("Falta el certificado de inserci\u00f3n de APNs")}),description:h._(function(l,m){return l._("Falta el certificado de inserci\u00f3n de APNs. S\u00fabelo antes de enviar notificaciones de inserci\u00f3n a dispositivos iOS.")},{}),service:i},{code:"GEPUSH__BAD_DEVICE_TOKEN",summary:c("errorSummary")._(function(l){return l._("El identificador de dispositivo no coincide con el entorno del certificado")}),description:h._(function(l,m){return l._("El identificador del dispositivo no coincide con el entorno del certificado. Por ejemplo, el identificador del dispositivo se ha creado en una versi\u00f3n de desarrollo pero el certificado de inserci\u00f3n que se ha subido es para la fase de producci\u00f3n. Se recomienda subir un certificado de inserci\u00f3n universal.")},{}),service:i},{code:"GEPUSH__UNREGISTERED",summary:c("errorSummary")._(function(l){return l._("Identificador del dispositivo inactivo")}),description:h._(function(l,m){return l._("El identificador del dispositivo est\u00e1 inactivo probablemente porque se haya desinstalado la aplicaci\u00f3n o porque el dispositivo haya estado desconectado de internet durante mucho tiempo.")},{}),service:i},{code:"GEPUSH__DEVICE_TOKEN_NOT_FOR_TOPIC",summary:c("errorSummary")._(function(l){return l._("El identificador del dispositivo no coincide con el identificador del paquete especificado")}),description:h._(function(l,m){return l._("El identificador del dispositivo no coincide con el identificador de paquete especificado. Comprueba si el certificado de inserci\u00f3n subido es para otra aplicaci\u00f3n.")},{}),service:i},{code:"GEPUSH__UNKNOWN_BUNDLE_ID",summary:c("errorSummary")._(function(l){return l._("Identificador del paquete no encontrado")}),description:h._(function(l,m){return l._("Ninguno de los certificados de inserci\u00f3n existentes coincide con el identificador del paquete.")},{}),service:i},{code:"GEPUSH__NO_GCM_CREDENTIAL",summary:c("errorSummary")._(function(l){return l._("Falta el identificador del remitente de FCM")}),description:h._(function(l,m){return l._("No se encuentra el identificador del remitente de FCM. Compl\u00e9talo antes de enviar notificaciones de inserci\u00f3n a dispositivos Android.")},{}),service:j},{code:"GEPUSH__NOT_REGISTERED",summary:c("errorSummary")._(function(l){return l._("Identificador del dispositivo inactivo")}),description:h._(function(l,m){return l._("El identificador de registro est\u00e1 inactivo probablemente porque se haya desinstalado la aplicaci\u00f3n o porque el FCM haya actualizado un nuevo identificador pero sigas usando el antiguo.")},{}),service:j},{code:"GEPUSH__INVALID_REGISTRATION",summary:c("errorSummary")._(function(l){return l._("Identificador del dispositivo no v\u00e1lido")}),description:h._(function(l,m){return l._("Comprueba si el identificador de registro coincide con el que recibe la aplicaci\u00f3n del cliente al registrarse en FCM. No elimines ni a\u00f1adas caracteres.")},{}),service:j},{code:"GEPUSH__MISMATCH_SENDER_ID",summary:c("errorSummary")._(function(l){return l._("El identificador del dispositivo no coincide con el identificador del remitente de FCM.")}),description:h._(function(l,m){return l._("Un identificador de registro est\u00e1 vinculado a un determinado grupo de remitentes. Cuando la aplicaci\u00f3n de un cliente se registra en FCM, debe especificar qu\u00e9 remitentes tienen permiso para enviar mensajes. Deber\u00e1s usar uno de estos identificadores de remitente cuando env\u00edes mensajes a la aplicaci\u00f3n del cliente. Si cambias a otro remitente, los identificadores de registro existentes no funcionar\u00e1n.")},{}),service:j},{code:"GEPUSH__SENDER_UNAUTHENTICATED",summary:c("errorSummary")._(function(l){return l._("Identificador del remitente de FCM no v\u00e1lido")}),description:h._(function(l,m){return l._("No se ha podido autenticar la cuenta del remitente usada para enviar un mensaje. Probablemente se deba a que se ha enviado un n\u00famero de proyecto no v\u00e1lido como clave o a que la clave es v\u00e1lida, pero el servicio FCM est\u00e1 desactivado. Otra posibilidad es que nuestros servidores no est\u00e9n incluidos en la lista de IP de claves de servidor.")},{}),service:j},{code:"GEPUSH__INTERNAL_ERROR",summary:c("errorSummary")._(function(l){return l._("Se ha producido un error del servidor interno")}),description:h._(function(l,m){return l._("Se ha producido un error del servidor interno. Lo solucionaremos en breve.")},{}),service:null}]};f.exports=k}),null);
__d("GriffinPushErrorsCard",["fbt","invariant","AnalyticsQueryAggregationMethod","AnalyticsCard","InternalAnalyticsQueryBuilder","AnalyticsQueryDataFetcherMixin","BonsaiApiBreakdown","BonsaiText","BonsaiTooltip","FalcorErrorNotice","FalcorLoadingCard","FalcorPaginatedDataTable","InsightsContext","InsightsNumUtils","InsightsUtils","React","compactArray","immutable","AnalyticsPushErrors","GEPushConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").Map,k=c("AnalyticsPushErrors").ANALYTICS_PUSH_ERRORS,l=c("React").PropTypes,m=c("GEPushConstants").URI,n=c("GEPushConstants").APNS,o=c("GEPushConstants").GCM,p=c("GEPushConstants").ERROR_EVENT,q=c("GEPushConstants").PUSH_DELIVERED_EVENT,r=1e-4,s=c("React").createClass({displayName:"GriffinPushErrorsCard",mixins:[c("AnalyticsQueryDataFetcherMixin")],propTypes:{campaignId:l.string.isRequired,startTime:l.number.isRequired,endTime:l.number.isRequired,visibleDateRange:l.shape({since:l.instanceOf(Date).isRequired,until:l.instanceOf(Date).isRequired}).isRequired,popDateRange:l.shape({since:l.instanceOf(Date).isRequired,until:l.instanceOf(Date).isRequired})},getInitialState:function t(){return{displayDetails:false,metricData:j(),metricErrors:j(),pushesDeliveredData:null,pushesDeliveredError:null}},_getQueries:function t(u){var v=this._getErrorQueries(u);v.push(this._getTotalPushesQuery(u));return v},_getErrorQueries:function t(u){return k.map(function(v){var w=this._getFilters(p,[{operator:"eq",parameter_name:c("BonsaiApiBreakdown").PUSH_CAMPAIGN,values:[this.props.campaignId]},{operator:"eq",parameter_name:"error_message",values:[v.code]}]),x=new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(p).setAggregations([c("AnalyticsQueryAggregationMethod").COUNT]).setFilters(w).setIntervalsToAggregate(0).setSince(c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.until).getTime()/1e3).setTag("error_"+v.code);return{query:x,onQueryData:function(y){return this.setState({metricData:this.state.metricData.set(v.code,y)})}.bind(this),onQueryError:function(y){return this.setState({metricErrors:this.state.metricErrors.set(v.code,y)})}.bind(this)}}.bind(this))},_getTotalPushesQuery:function t(u){var v=this._getFilters(q,[{operator:"eq",parameter_name:c("BonsaiApiBreakdown").PUSH_CAMPAIGN,values:[this.props.campaignId]}]);return{query:new(c("InternalAnalyticsQueryBuilder"))().setAnalyticsEntityID(c("InsightsContext").getObjID()).setEventName(q).setAggregations([c("AnalyticsQueryAggregationMethod").COUNT]).setFilters(v).setIntervalsToAggregate(0).setSince(c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.since).getTime()/1e3).setUntil(c("InsightsUtils").utcTimeToPacificDay(u.visibleDateRange.until).getTime()/1e3).setTag("total_pushes"),onQueryData:function(w){return this.setState({pushesDeliveredData:w})}.bind(this),onQueryError:function(w){return this.setState({pushesDeliveredError:w})}.bind(this)}},render:function t(){if(this._isError())return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable}));if(this._isLoading())return c("React").createElement(c("FalcorLoadingCard"),null);return c("React").createElement(c("AnalyticsCard"),null,c("React").createElement(c("FalcorPaginatedDataTable"),{columns:this._getColumns(),rows:this._getRows(),pageSize:Infinity}))},_isLoading:function t(){var u=this.state,v=u.metricData,w=u.metricErrors,x=u.pushesDeliveredData,y=u.pushesDeliveredError;return v.size+w.size<k.length||x===null&&y===null},_isError:function t(){var u=this.state,v=u.metricErrors,w=u.pushesDeliveredError;return v.size>0||w!==null},_getRows:function t(){var u=this.state,v=u.metricData,w=u.pushesDeliveredData;w!=null||i(0);v!=null||i(0);var x=w.getTotals().countTotal;x!=null||i(0);var y=0;v.forEach(function(A){return y+=A.getTotals().countTotal});var z=k.map(function(A){var B=v.get(A.code).getTotals().countTotal;if(B===0||B==null)return null;var C=null;switch(A.service){case n:C=h._("iOS (APNS)");break;case o:C=h._("Android (FCM)");break}var D=B/(y+x);if(D<r)return null;var E=D<.01?2:0;return{error:c("React").createElement("div",null,c("React").createElement("a",{href:m.HELP_ERROR,target:"_blank"},A.summary),c("React").createElement(c("BonsaiTooltip"),{tooltip:A.description})),platform:C,count:c("InsightsNumUtils").prettyInt(B),percentage:c("InsightsNumUtils").prettyPercent(D,E)}});return c("compactArray")(z)},_getColumns:function t(){return[{id:"error",label:h._("Error")},{id:"platform",label:h._("Plataforma")},{id:"count",label:h._("Total")},{id:"percentage",label:h._("\u0025 de enviado")}]},_getFilters:function t(u,v){return{event_rules:[{event_rule:{application:c("InsightsContext").getObjID(),event_name:u,parameters:v},negate_rule:false}],event_info_rules:[],user_property_rules:[],percentile_rules:[],web_param_rules:[]}}});f.exports=s}),null);
__d("FalcorInvitesFunnelCard",["fbt","BonsaiApiDataAdapter","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","BonsaiSectionDataLoaderMixin","BonsaiText","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"FalcorInvitesFunnelCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],INVITE_ACTION_TYPE:"308507229350008",getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("app_invite_send_dialog_opens"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},_metrics:["app_invite_send_dialog_opens","app_invite_send_dialog_submits","app_invite_send_dialog_ctr","app_invite_recipeints","app_invite_installs"],_dialogMetrics:{app_invite_send_dialog_opens:"invite_dialog_impressions",app_invite_send_dialog_submits:"invite_dialog_submits",app_invite_installs:"app_invite_accepts"},_ogStructuredMetrics:{app_invite_recipeints:"structured_request_sends"},_ctrMetrics:{app_invite_send_dialog_ctr:["app_invite_send_dialog_submits","app_invite_send_dialog_opens"]},_getHelptextMap:function j(){return{app_invite_send_dialog_opens:"InvitesDialogLoad",app_invite_send_dialog_submits:"InvitesDialogSubmit",app_invite_send_dialog_ctr:"InvitesDialogCTR",app_invite_recipeints:"InvitesRequestCreated",app_invite_installs:"InvitesRequestAccepts"}},_getKeyToLabel:function j(){var k={};this._metrics.forEach(function(l){k[l]=c("BonsaiText")[l]});return k},componentWillMount:function j(){Object.keys(this._dialogMetrics).forEach(function(k){this.addMetric(k,this._dialogMetrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT]})}.bind(this));Object.keys(this._ogStructuredMetrics).forEach(function(k){return this.addMetric(k,this._ogStructuredMetrics[k],{breakdowns:[c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").CLIENT]},function(l){return new(c("BonsaiApiDataAdapter"))(l).filterBy(c("BonsaiApiBreakdown").ACTION_TYPE,"=",[this.INVITE_ACTION_TYPE])}.bind(this))}.bind(this));this.fetchMetrics()},_title:function j(){return h._("Rendimiento de las invitaciones a aplicaciones")},_getTabbedSection:function j(k){var l=void 0,m=void 0,n=void 0;m=this._ctrMetrics[k];if(m){l=this.getData(m[0]).divideBy(this.getData(m[1]));n=true}else{l=this.getData(k);n=false}return c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:k,currentCard:this.props.cardKey,categories:[this._getHelptextMap()[k]]},c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:l,key:c("BonsaiApiBreakdown").NONE,title:c("BonsaiText").total,percentage:n}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:this.props.cardKey,data:l,key:c("BonsaiApiBreakdown").CLIENT,percentage:n}))},_getKeyToSection:function j(){var k={};this._metrics.forEach(function(l){k[l]=this._getTabbedSection(l)}.bind(this));return k},_renderCandela:function j(){var k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT],l=void 0,m=false,n=this._ctrMetrics[this.state.activeSection];if(n){l=this.getData(n[0]).divideBy(this.getData(n[1]));m=true}else l=this.getData(this.state.activeSection);var o={data:l,title:c("BonsaiText").total,key:this.state.activeSection};this.setExportInfo([o],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[o],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true,isPercent:m})},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})}});f.exports=i}),null);
__d("FalcorInvitesSectionController",["GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","FalcorInvitesFunnelCard","OverviewInvitesBar","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorInvitesSectionController",statics:{getKey:function i(){return c("GriffinSections").INVITES}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewInvitesBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig;if(!n.hasAppInvites)return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"AppInvites"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("FalcorInvitesFunnelCard"),{cardKey:"invites_funnel",fullDateRange:l,key:"invites_funnel",visibleDateRange:m}))}});f.exports=h}),null);
__d("OverviewInvitesBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewInvitesBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").INVITES},getTitle:function j(){return h._("Invitaciones a aplicaciones")},getMetrics:function j(){return["invite_dialog_impressions","invite_dialog_submits","app_invite_accepts"]},getDataAdapters:function j(){return[this.getData(0),this.getData(1),this.getData(1).divideBy(this.getData(0)),this.getData(2)]},getChartLocations:function j(){return[{card:"invites_funnel",tab:"dialog"},{card:"invites_funnel",tab:"submit"},{card:"invites_funnel",tab:"submit"},{card:"invites_funnel",tab:"submit"}]},getPercentages:function j(){return[false,false,true,false]},getPrecision:function j(){return[0,0,1,0]},getLabels:function j(){return[h._("Invitaciones iniciadas"),h._("Invitaciones enviadas"),h._("Porcentaje de finalizaci\u00f3n del cuadro de di\u00e1logo de invitaci\u00f3n"),h._("Descargas desde invitaciones")]}});f.exports=i}),null);
__d("FalcorLinkSharingSectionController",["fbt","GriffinDefaultSectionController","GriffinSections","InsightsContext","LinkSharingURLDetailCard","LinkSharingOverviewCard","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"FalcorLinkSharingSectionController",statics:{getKey:function j(){return c("GriffinSections").LINK_SHARING}},_getURL:function j(){return c("InsightsContext").getPageState().url},_getTitle:function j(){return c("InsightsContext").getPageState().title},_isDetailedView:function j(){if(this._getURL())return true;return false},getSummary:function j(){return null},getDefaultTitle:function j(){return h._("Estad\u00edsticas del contenido compartido")},render:function j(){var k=this.props,l=k.dateRangeType,m=k.fullDateRange,n=k.visibleDateRange,o=void 0;if(this._isDetailedView())o=c("React").createElement(c("LinkSharingURLDetailCard"),{key:"LinkSharingURLDetailCard",url:this._getURL()});else o=c("React").createElement(c("LinkSharingOverviewCard"),{key:"LinkSharingOverviewCard"});return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:l,fullDateRange:m,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:n},o)}});f.exports=i}),null);
__d("LinkSharingDetailCard",["cx","AnalyticsCard","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.$LinkSharingDetailCard1=function(){var m=this.props.legend;if(!m)return null;return c("React").createElement("span",null,c("React").createElement("span",{className:"_1hok"}," / "),c("React").createElement("span",{className:"_52va"},m))};l.prototype.render=function(){return c("React").createElement(c("AnalyticsCard"),{showLine:false},c("React").createElement("div",{className:"_9xr"},c("React").createElement("div",{className:"_9xs"},c("React").createElement("div",{className:"_9xt"},this.props.title,this.$LinkSharingDetailCard1()),c("React").createElement("div",{className:"_9xu"},this.props.buttons),c("React").createElement("div",{className:"_9xv"},this.props.children))))};f.exports=l}),null);
__d("LinkSharingError",["cx","fbt","FalcorNotice","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("FalcorNotice").NoticeTypes,k={getErrorNotice:function l(){return c("React").createElement(c("FalcorNotice"),{className:"_2shl",message:"Error",noticeType:j.ERROR,subtext:c("React").createElement("span",null,i._("Se ha producido un error. Prueba a actualizar esta p\u00e1gina, pero si el problema no se resuelve, puedes {report a bug link}",[i.param("report a bug link",c("React").createElement(c("Link.react"),{href:"https://developers.facebook.com/bugs/"},i._("informar de un error.")))]))})}};f.exports=k}),null);
__d("LinkSharingAggregator",["ISO8601","Map"],(function a(b,c,d,e,f,g){"use strict";var h="UNKNOWN",i="UNKNOWN",j={aggregateAgeGenderHistogram:function k(l){var m=[];if(l==null)return m;var n={};for(var o=0;o<l.length;o++){var p=l[o];if(!p)continue;var q=p.breakdowns;if(!q)continue;var r=q.age_gender;if(!r)continue;for(var s=0;s<r.length;s++){var t=r[s].age_range,u=r[s].gender;if(t===h||u===i)continue;if(!n[t])n[t]={ageRange:t,female:0,male:0,unknown:0};n[t][u.toLowerCase()]+=r[s].count}}for(var v in n)m.push(n[v]);return m.sort(function(w,x){return w.ageRange.localeCompare(x.ageRange)})},aggregateCountryHistogram:function k(l){var m=[];if(!l)return m;var n={};for(var o=0;o<l.length;o++){var p=l[o],q=p.breakdowns;if(!q)continue;var r=q.country;if(!r)continue;for(var s=0;s<r.length;s++){var t=r[s];if(n[t.country_code])n[t.country_code].count+=t.count;else n[t.country_code]={countryCode:t.country_code,count:t.count}}}for(var u in n)m.push(n[u]);return m},getCityLongForm:function k(l){var m=[];m.push(l.city);if(l.region)m.push(l.region);if(l.country)m.push(l.country);return m.join(", ")},aggregateCityHistogram:function k(l){var m=[];if(!l)return m;var n={};for(var o=0;o<l.length;o++){var p=l[o],q=p.breakdowns;if(!q)continue;var r=q.city;if(!r)continue;for(var s=0;s<r.length;s++){var t=r[s],u=j.getCityLongForm(t);if(n[u])n[u].count+=t.count;else n[u]={city:t.city,region:t.region,country:t.country,cityLongForm:u,count:t.count}}}for(var v in n)m.push(n[v]);return m},aggregateShareTimeSeries:function k(l){var m=[];if(!l)return m;var n=new(c("Map"))();l.forEach(function(o){var p=o.timestamp||"",q=c("ISO8601").toDate(p).getTime()/1e3,r=n.get(q);if(r==null){r={comments:0,posts:0,time:q,total:0};n.set(q,r)}var s=o.event_name||"",t=s.toLowerCase();r.total+=o.total;if(t==="comment")r.comments+=o.total;else r.posts+=o.total});n.forEach(function(o,p,q){m.push(o)});m.sort(function(o,p){return o.time-p.time});return m}};f.exports=j}),null);
__d("LinkSharingConstants",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={DemographicsBreakdownEnum:{age:{label:h._("Edad")},gender:{label:h._("SEXO")},locale:{label:h._("LOCALE")},country:{label:h._("PA\u00cdS")},city:{label:h._("CIUDAD")}},EventTypeEnum:{post:{label:h._("Publicaciones")},comment:{label:h._("Comentarios")}},HistogramDisplayPropertiesEnum:{age:{sort:false,maxElements:7},gender:{sort:false,maxElements:3},locale:{sort:true,maxElements:5},country:{sort:true,maxElements:5},city:{sort:true,maxElements:4}},Gender:{female:h._("Mujer"),male:h._("Hombre"),unknown:h._("Desconocido")},GraphAPIVersion:"2.6"};f.exports=i}),null);
__d("LinkSharingGraphAPIClient",["GraphAPI","GraphAPIPaging","InsightsUtils","InsightsContext","LinkSharingConstants","Log","ReloadPage","UTCUtils"],(function a(b,c,d,e,f,g){"use strict";var h="link_share_analytics_queries",i="link_share_analytics_results",j="PROCESSING",k=170,l=15*60*1e3,m=25,n=21,o=["POST","COMMENT"],p="EVENT_COUNT",q=["url","event_name","timestamp","total","breakdowns"];function r(s,t){this.isReady=function(){return this.status==="READY"}.bind(this);this.isLoading=function(){return this.status==="LOADING"}.bind(this);this.isErrored=function(){return this.status==="ERROR"}.bind(this);this.getStatus=function(){return this.status}.bind(this);this.getData=function(){if(this.response==null)return null;return this.response.data}.bind(this);this.getProgress=function(){return this.expectedNumberOfResults!==0?this.resultsLoadedCount/this.expectedNumberOfResults:0}.bind(this);this.getErrorMessage=function(){return this.errorMessage}.bind(this);this.registerCallback=function(u){this.callbacks.push(u)}.bind(this);this.start=function(){var u={fields:"query_id",breakdowns:this.queryParameters.breakdowns,breakdown_limit:n,event_names:this.queryParameters.eventNames?this.queryParameters.eventNames:o,aggregation_period:this.determineAggregationPeriod(),aggregation_type:this.queryParameters.aggregationType||p,since:this.queryParameters.since,until:this.queryParameters.until,url_limit:this.queryParameters.urls||this.queryParameters.aggregationType==="APP_WIDE_EVENT_COUNT"?null:m,urls:this.queryParameters.urls};c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).object("application",this.queryParameters.appID).edge(h).post(u).done(this.$LinkSharingGraphAPIClient1,this.$LinkSharingGraphAPIClient2);this.$LinkSharingGraphAPIClient7("LOADING")}.bind(this);this.$LinkSharingGraphAPIClient1=function(u){this.queryID=u.query_id;this.$LinkSharingGraphAPIClient3()}.bind(this);this.$LinkSharingGraphAPIClient2=function(u){this.errorMessage=u.message;c("Log").error(u.message);r.handleSessionExpired(u);this.$LinkSharingGraphAPIClient7("ERROR")}.bind(this);this.$LinkSharingGraphAPIClient3=function(){var u={query_id:this.queryID,fields:this.queryParameters.fields?this.queryParameters.fields.join(","):q.join(","),summary:true,pretty:false,limit:1e4};c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).object("application",this.queryParameters.appID).edge(i).get(u).then(c("GraphAPIPaging").eachPage(this.$LinkSharingGraphAPIClient4,k)).done(this.$LinkSharingGraphAPIClient5,this.$LinkSharingGraphAPIClient6)}.bind(this);this.$LinkSharingGraphAPIClient4=function(u){if(u.summary==null)this.expectedNumberOfResults=0;else if(!u.summary.total_count)this.expectedNumberOfResults=0;else this.expectedNumberOfResults=u.summary.total_count;this.resultsLoadedCount+=u.data.length;this.$LinkSharingGraphAPIClient7("LOADING")}.bind(this);this.$LinkSharingGraphAPIClient5=function(u){this.response=u;if(u.summary!==null&&u.summary!==undefined)if(u.summary.status===j){if(this.timeout>l){this.$LinkSharingGraphAPIClient7("ERROR");return}setTimeout(this.$LinkSharingGraphAPIClient3,this.timeout);this.timeout*=2;return}else if(u.summary.status!=="SUCCESS"){this.$LinkSharingGraphAPIClient7("ERROR");return}this.resultsLoadedCount=u.data.length;if(!u.summary||!u.summary.total_count)this.expectedNumberOfResults=0;else this.expectedNumberOfResults=u.summary.total_count;this.$LinkSharingGraphAPIClient7("READY")}.bind(this);this.$LinkSharingGraphAPIClient6=function(u){this.errorMessage=u.message;r.handleSessionExpired(u);this.$LinkSharingGraphAPIClient7("ERROR")}.bind(this);this.queryParameters=s;if(r.isUTCMidnight(this.queryParameters.until)&&r.isUTCMidnight(this.queryParameters.since))this.queryParameters.until=r.toNextDay(r.convertUtcToPst(this.queryParameters.until));else this.queryParameters.until=r.convertUtcToPst(this.queryParameters.until);this.queryParameters.since=r.convertUtcToPst(this.queryParameters.since);if(t)this.callbacks=t;else this.callbacks=[];this.response=null;this.expectedNumberOfResults=0;this.resultsLoadedCount=0;this.errorMessage=null;this.queryID="";this.status="NOT_STARTED";this.timeout=500}r.handleSessionExpired=function(s){if(s.code===190&&s.error_subcode===463&&s.type==="OAuthException")c("ReloadPage").now()};r.prototype.$LinkSharingGraphAPIClient7=function(s){this.status=s;for(var t=0;t<this.callbacks.length;t++)try{this.callbacks[t](this)}catch(u){c("Log").error(u.message)}};r.isUTCMidnight=function(s){var t=new Date(s*1e3);return t.getUTCHours()===0};r.toNextDay=function(s){var t=s+24*60*60,u=Date.now()/1e3;while(t>u)t-=60*60;return t};r.convertUtcToPst=function(s){var t=s*1e3,u=c("UTCUtils").getPacificOffsetAt(t);return(t-u)/1e3};r.prototype.determineAggregationPeriod=function(){if(this.queryParameters.aggregationPeriod)return this.queryParameters.aggregationPeriod;var s=this.queryParameters.since,t=this.queryParameters.until,u=t-s,v=u/60/60;if(this.queryParameters.urls||this.queryParameters.aggregationType==="APP_WIDE_EVENT_COUNT"){if(v<k)return"HOUR_1";var w=v/24;if(w<k)return"DAY_1";var x=w/7;if(x<k)return"DAY_7";return"DAY_28"}else return"ENTIRE_RANGE"};f.exports=r}),null);
__d("LinkSharingOverallSharesData",["InsightsContext","LinkSharingAggregator","LinkSharingGraphAPIClient","Log"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.range=i;this.stateChangeCallbacks=[];this.appID=c("InsightsContext").getObjID();this.timeSeriesClient=new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:null,aggregationType:"APP_WIDE_EVENT_COUNT",appID:this.appID,breakdowns:null,eventNames:null,fields:null,since:i.since,until:i.until,urls:null});this.timeSeriesClient.registerCallback(this.onTimeSeriesStateChange.bind(this));this.timeSeriesClient.start()}h.prototype.notifyListeners=function(){for(var i=0;i<this.stateChangeCallbacks.length;i++)try{this.stateChangeCallbacks[i](this)}catch(j){c("Log").error(j.message,j)}};h.prototype.registerStateChangeCallback=function(i){this.stateChangeCallbacks.push(i)};h.prototype.isTimeSeriesReady=function(){return this.timeSeriesClient.isReady()};h.prototype.isTimeSeriesError=function(){return this.timeSeriesClient.isErrored()};h.prototype.getTimeSeriesErrorMessage=function(){return this.timeSeriesClient.getErrorMessage()};h.prototype.isTimeSeriesLoading=function(){return this.timeSeriesClient.isLoading()};h.prototype.isShareTimeSeriesAggregatedHourly=function(){return this.timeSeriesClient.determineAggregationPeriod()==="HOUR_1"};h.prototype.getTimeSeries=function(){return this.timeSeriesData};h.prototype.onTimeSeriesStateChange=function(i){if(this.timeSeriesClient.isReady()){this.timeSeriesData=c("LinkSharingAggregator").aggregateShareTimeSeries(this.timeSeriesClient.getData());this.notifyListeners()}else if(this.timeSeriesClient.isErrored()){c("Log").error(this.timeSeriesClient.getErrorMessage());this.notifyListeners()}};f.exports=h}),null);
__d("LinkSharingDemoAppURL",["DateTime","Timezone","URI"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=new(c("URI"))(i),k=j.getPath().replace(/^\/+|\/+$/gm,""),l=k&&k.length>=9&&/^[0-9]+$/.test(k);if(!l)return;var m=Number(k.substring(0,4)),n=Number(k.substring(4,6)),o=Number(k.substring(6,8)),p=Number(k.substring(8)),q=new Date(m,n-1,o),r=c("DateTime").create(q.getTime()/1e3,c("Timezone").UTC),s=r.format("M j, Y");this.title="Article "+p+". Published on "+s+"."}h.prototype.getTitle=function(){return this.title};f.exports=h}),null);
__d("LinkSharingOpenGraphURLClient",["GraphAPI","LinkSharingConstants","Log"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){this.start=function(){c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).urls(this.$LinkSharingOpenGraphURLClient3).get({fields:"og_object.fields(title)"}).done(this.$LinkSharingOpenGraphURLClient4,function(k){c("Log").error(k.message,k)})}.bind(this);this.$LinkSharingOpenGraphURLClient4=function(k){this.$LinkSharingOpenGraphURLClient2=k;this.$LinkSharingOpenGraphURLClient1(this)}.bind(this);this.getResponse=function(){return this.$LinkSharingOpenGraphURLClient2}.bind(this);this.$LinkSharingOpenGraphURLClient3=i;this.$LinkSharingOpenGraphURLClient1=j;this.$LinkSharingOpenGraphURLClient2=null}f.exports=h}),null);
__d("LinkSharingOverviewData",["InsightsContext","LinkSharingConstants","LinkSharingDemoAppURL","LinkSharingGraphAPIClient","LinkSharingOpenGraphURLClient","Log","Map"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.onURLStateChange=function(j){if(this.dataSources.urls.isReady()){this.dataSets.urls=this.getUrls();var k=this.$LinkSharingOverviewData2("AGE_GENDER");this.dataSources.ageGenderBreakdown=k;k.registerCallback(this.onAgeGenderBreakdownStateChange);k.start();var l=this.$LinkSharingOverviewData2("COUNTRY");this.dataSources.countryBreakdown=l;l.registerCallback(this.onCountryBreakdownStateChange);l.start();if(c("InsightsContext").isDemoApp())this.setDemoURLTitles();else if(this.dataSets.urls!=null){var m=this.dataSets.urls,n=new(c("LinkSharingOpenGraphURLClient"))(m,this.onTitleStateChange);this.dataSources.titles=n;n.start()}this.notifyListeners();return}if(this.dataSources.urls.isErrored()){this.notifyListeners();return}}.bind(this);this.onTitleStateChange=function(j){if(this.dataSources.titles==null)return;var k=this.dataSources.titles.getResponse();if(k==null)return;var l=new(c("Map"))();for(var m in k)if(k[m]&&k[m].og_object&&k[m].og_object.title)l.set(m,k[m].og_object.title);this.dataSets.titles=l;this.notifyListeners()}.bind(this);this.onAgeGenderBreakdownStateChange=function(j){if(this.dataSources.ageGenderBreakdown==null)return;var k=this.dataSources.ageGenderBreakdown;if(k.isReady()){this.dataSets.ageGenderBreakdown=k.getData();this.notifyListeners()}else if(k.isErrored()){c("Log").error(k.getErrorMessage());this.notifyListeners()}}.bind(this);this.onCountryBreakdownStateChange=function(j){if(this.dataSources.countryBreakdown==null)return;var k=this.dataSources.countryBreakdown;if(k.isReady()){this.dataSets.countryBreakdown=k.getData();this.notifyListeners()}else if(k.isErrored()){c("Log").error(k.getErrorMessage());this.notifyListeners()}}.bind(this);this.getTableView=function(){var j=this.dataSources.urls.getData(),k={},l=[];if(!j)return l;var m=this.getAgeGenderValues(),n=this.getCountryValues();j.forEach(function(p){var q=p.url;if(!q)return;if(!k[q])k[q]=this.$LinkSharingOverviewData3(q,m,n);k[q][p.event_name]+=p.total}.bind(this));if(this.dataSets.ageGenderBreakdown)this.dataSets.ageGenderBreakdown.forEach(function(p){var q;if(p.breakdowns&&p.breakdowns.age_gender)(function(){var r=p.url,s=p.event_name;k[r].populatedDemographics.age_gender=true;p.breakdowns.age_gender.forEach(function(t){k[r].age[t.age_range][s]+=t.count;k[r].gender[t.gender][s]+=t.count})})()});if(this.dataSets.countryBreakdown)this.dataSets.countryBreakdown.forEach(function(p){var q;if(p.breakdowns&&p.breakdowns.country)(function(){var r=p.url;k[r].populatedDemographics.country=true;p.breakdowns.country.forEach(function(s){k[r].country[s.country_code][p.event_name]+=s.count})})()});for(var o in k)l.push(k[o]);return l}.bind(this);this.registerCallback=function(j){this.stateChangeCallbacks.push(j)}.bind(this);this.isReady=function(){return this.dataSources.urls.isReady()}.bind(this);this.isError=function(){return this.dataSources.urls.isErrored()}.bind(this);this.isLoading=function(){return this.dataSources.urls.isLoading()}.bind(this);this.range=i;this.stateChangeCallbacks=[];this.appID=c("InsightsContext").getObjID();this.dataSets={urls:null,ageGenderBreakdown:null,countryBreakdown:null,titles:null};this.dataSources={urls:new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:"ENTIRE_RANGE",aggregationType:"EVENT_COUNT",appID:this.appID,breakdowns:null,eventNames:null,fields:null,since:i.since,until:i.until,urls:null}),ageGenderBreakdown:null,countryBreakdown:null,titles:null};this.dataSources.urls.registerCallback(this.onURLStateChange);this.$LinkSharingOverviewData1()}h.prototype.notifyListeners=function(){for(var i=0;i<this.stateChangeCallbacks.length;i++)try{this.stateChangeCallbacks[i](this)}catch(j){c("Log").error(j.message,j)}};h.prototype.$LinkSharingOverviewData2=function(i){return new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:"ENTIRE_RANGE",aggregationType:"EVENT_COUNT",appID:this.appID,breakdowns:[i],eventNames:null,fields:null,since:this.range.since,until:this.range.until,urls:this.dataSets.urls})};h.prototype.setDemoURLTitles=function(){var i=this.dataSets.urls;if(i==null)return;var j=new(c("Map"))();i.forEach(function(k){var l=new(c("LinkSharingDemoAppURL"))(k),m=l.getTitle();if(m)j.set(k,m)});this.dataSets.titles=j};h.prototype.getAgeGenderValues=function(){if(!this.dataSets.ageGenderBreakdown)return null;var i={age:[],gender:[]};this.dataSets.ageGenderBreakdown.forEach(function(j){if(!j||!j.breakdowns||!j.breakdowns.age_gender)return;j.breakdowns.age_gender.forEach(function(k){if(!i.age.includes(k.age_range))i.age.push(k.age_range);if(!i.gender.includes(k.gender))i.gender.push(k.gender)})});return i};h.prototype.getCountryValues=function(){if(!this.dataSets.countryBreakdown)return null;var i=[];this.dataSets.countryBreakdown.forEach(function(j){if(!j||!j.breakdowns||!j.breakdowns.country)return;j.breakdowns.country.forEach(function(k){if(!i.includes(k.country_code))i.push(k.country_code)})});return i};h.prototype.$LinkSharingOverviewData3=function(i,j,k){var l=j&&j.age,m=j&&j.gender;return{url:i,COMMENT:0,POST:0,populatedDemographics:{age_gender:false,country:false},title:this.dataSets.titles?this.dataSets.titles.get(i)||null:null,age:this.$LinkSharingOverviewData4(l),gender:this.$LinkSharingOverviewData4(m),country:this.$LinkSharingOverviewData4(k)}};h.prototype.$LinkSharingOverviewData4=function(i){if(i==null)return{};var j={};i.forEach(function(k){j[k]={COMMENT:0,POST:0}});return j};h.prototype.$LinkSharingOverviewData1=function(){this.dataSources.urls.start()};h.prototype.getErrorMessage=function(){return this.dataSources.urls.getErrorMessage()};h.prototype.hasAgeGenderBreakdown=function(){return this.dataSets.ageGenderBreakdown!==null};h.prototype.hasCountryBreakdown=function(){return this.dataSets.countryBreakdown!==null};h.prototype.getUrls=function(){if(this.dataSets.urls)return this.dataSets.urls;var i={},j=this.dataSources.urls.getData();if(j==null||this.dataSources.urls.isErrored())return[];for(var k=0;k<j.length;k++)if(j[k].url)i[j[k].url]=true;return Object.keys(i)};f.exports=h}),null);
__d("LinkSharingOverviewCard",["InsightsContext","LinkSharingOverviewOverallSharesCard","LinkSharingOverviewRecentURLsCard","LinkSharingOverviewURLTableCard","LinkSharingOverallSharesData","LinkSharingOverviewData","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);var l=c("InsightsContext").getVisibleDateRangeFromPageStateOrDefault(),m={since:l.since.getTime()/1e3,until:l.until.getTime()/1e3};this.state={data:new(c("LinkSharingOverviewData"))(m),range:m}}j.prototype.componentWillReceiveProps=function(){var k=c("InsightsContext").getVisibleDateRangeFromPageStateOrDefault(),l={since:k.since.getTime()/1e3,until:k.until.getTime()/1e3};if(this.state.range.since===l.since&&this.state.range.until===l.until)return;this.setState({data:new(c("LinkSharingOverviewData"))(l),range:l})};j.prototype.render=function(){var k=[c("React").createElement(c("LinkSharingOverviewOverallSharesCard"),{range:this.state.range,width:800,precision:0,key:"LinkSharingOverviewOverallSharesCard"})];k.push(c("React").createElement(c("LinkSharingOverviewRecentURLsCard"),{width:800,key:"LinkSharingOverviewRecentURLsCard"}));k.push(c("React").createElement(c("LinkSharingOverviewURLTableCard"),{data:this.state.data,maxURLs:50,width:800,height:600,precision:0,key:"LinkSharingOverviewURLTableCard"}));return c("React").createElement("div",null,k)};f.exports=j}),null);
__d("GriffinTextInput",["React","SUIAnalyticsGriffinTheme","SUITextInput.react"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.prototype.render=function(){return c("React").createElement(c("SUITextInput.react"),babelHelpers["extends"]({},this.props,{theme:c("SUIAnalyticsGriffinTheme")}))};function k(){h.apply(this,arguments)}k.defaultProps=c("SUITextInput.react").defaultProps;f.exports=k}),null);
__d("XDeveloperOGObjectDebugController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/tools/debug/og/object/",{q:{type:"String"},locale:{type:"String"}})}),null);
__d("LinkSharingOverviewDetailSearchCard",["cx","fbt","AnalyticsCard","AnalyticsNavigationUtils","FalcorNotice","GraphAPI","GriffinButton","GriffinSections","GriffinTextInput","AbstractTextInput.react","InsightsContext","InsightsEventLogger","Link.react","LinkSharingDemoAppURL","LinkSharingConstants","Log","React","ReactFragment","URI","XDeveloperOGObjectDebugController","XUIDialog.react","XUIDialogBody.react","classWithMixins","mixin","ads-lib-urllib"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component,m=c("FalcorNotice").NoticeTypes,n={NO_DATA:{title:i._("No hemos encontrado contenido en esta URL"),body:function p(q,r){return c("React").createElement("span",null,i._("Comprueba que la URL es correcta."))}},INSUFFICIENT_DATA:{title:i._("Esta URL no se ha compartido suficientes veces para mostrarse."),body:function p(q,r){return c("React").createElement("span",null,i._("Vuelve a comprobarlo m\u00e1s tarde, cuando esta URL se haya compartido m\u00e1s veces."))}},OG_ERROR:{title:i._("Esta URL tiene errores de Open Graph."),body:function p(q,r){var s=c("XDeveloperOGObjectDebugController").getURIBuilder().setString("q",r).getURI().setSubdomain("developers");return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{id:"OpenGraphLink",href:s,target:"_blank"},i._("Rev\u00edsalos y corr\u00edgelos para obtener estad\u00edsticas del contenido compartido.")))}},BAD_OWNER:{title:i._("Esta URL no est\u00e1 asociada con tu aplicaci\u00f3n."),body:function p(q,r){var s=c("XDeveloperOGObjectDebugController").getURIBuilder().setString("q",r).getURI().setSubdomain("developers"),t=new(c("URI"))("/help/analytics/464251093784948");return c("React").createElement("div",null,i._("Revisa cualquier {open_graph_error} y aseg\u00farate de que la p\u00e1gina web est\u00e9 asociada con el identificador de la aplicaci\u00f3n. {learn_more}",[i.param("open_graph_error",c("React").createElement(c("Link.react"),{id:"OpenGraphLink",href:s,target:"_blank"},i._("Errores de Open Graph"))),i.param("learn_more",c("React").createElement(c("Link.react"),{id:"LearnMoreLink",href:t,target:"_blank"},i._("M\u00e1s informaci\u00f3n.")))]))}},BAD_URL:{title:i._("Esta cadena no se reconoce como una URL v\u00e1lida."),body:function p(q,r){return c("React").createElement("div",null,'"',r,'" '," ",i._("no se reconoce como una URL v\u00e1lida."))}}};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={dialogShown:false,notice:null,url:null},this.getErrorCard=function(u){var v=u.body(c("InsightsContext").getObjID(),this.state.url);return c("React").createElement(c("FalcorNotice"),{className:"_2shl",message:u.title,noticeType:m.ERROR,subtext:v})}.bind(this),this.setError=function(u){this.setState({notice:this.getErrorCard(u)})}.bind(this),this.$LinkSharingOverviewDetailSearchCard1=function(event){var u=this.state.url;if(!c("ads-lib-urllib").isUrl(u)){this.setError(n.BAD_URL);return}u=c("ads-lib-urllib").normalize(u);if(c("InsightsContext").isDemoApp()){var v=new(c("LinkSharingDemoAppURL"))(u),w=v.getTitle();if(w){c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").LINK_SHARING,u,"url",{title:w}).go();return}}c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).urls([u]).get({fields:"og_object.fields(title,application.fields(id))"}).done(function(x){if(x==null||x[u]==null||x[u].og_object==null){this.setError(n.NO_DATA);return}var y=x[u].og_object,z=y.title,A=y.application?parseInt(y.application.id,10):null,B=parseInt(c("InsightsContext").getObjID(),10);if(A===B)c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").LINK_SHARING,u,"url",{title:String(z)}).go();else this.setError(n.BAD_OWNER)}.bind(this),function(x){c("Log").error(x.message);this.setError(n.OG_ERROR)}.bind(this))}.bind(this),this.$LinkSharingOverviewDetailSearchCard2=function(u){this.setState({dialogVisible:u,url:""})}.bind(this),this.$LinkSharingOverviewDetailSearchCard3=function(u){this.setState({url:u})}.bind(this),this.renderLayers=function(){return c("ReactFragment").create({dialog:this.$LinkSharingOverviewDetailSearchCard4()})}.bind(this),this.onHeaderButtonClick=function(){this.setState({dialogVisible:true,notice:null})}.bind(this),q}o.prototype.componentDidUpdate=function(p,q){if(this.state.dialogVisible&&!q.dialogVisible)c("InsightsEventLogger").logCardView("search",{})};o.prototype.$LinkSharingOverviewDetailSearchCard4=function(){var p=i._("Busca una URL"),q=this.props.defaultString||i._("Busca una URL"),r=i._("Buscar URL");return c("React").createElement(c("XUIDialog.react"),{onToggle:this.$LinkSharingOverviewDetailSearchCard2,shown:this.state.dialogVisible,width:800},c("React").createElement(c("XUIDialogBody.react"),{className:"_2shn"},c("React").createElement(c("AnalyticsCard"),{className:"_-aq",title:p},this.state.notice,c("React").createElement("div",{className:"_2sho"},i._("Introduce una URL de tu sitio web para ver las estad\u00edsticas del contenido compartido. Solo puedes ver estad\u00edsticas de las URL que se hayan compartido m\u00e1s de 100 veces en Facebook.")),c("React").createElement("form",{className:"_5d81",onSubmit:this.$LinkSharingOverviewDetailSearchCard1},c("React").createElement(c("GriffinTextInput"),{className:"_5d82",onChange:this.$LinkSharingOverviewDetailSearchCard3,placeholder:q,value:this.state.url}),c("React").createElement(c("GriffinButton"),{className:"_2shr",label:r,onClick:this.$LinkSharingOverviewDetailSearchCard1,use:"confirm"})))))};o.prototype.render=function(){var p=i._("Buscar una URL");return c("React").createElement("span",null,c("React").createElement(c("GriffinButton"),babelHelpers["extends"]({},this.props,{label:p,onClick:this.onHeaderButtonClick})),this.renderLayers())};f.exports=o}),null);
__d("GriffinExportButton",["ix","BlobFactory","GriffinButton","Image.react","React","Set","UserAgent","fbglyph","formatDate"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$GriffinExportButton1=function(){var r=this.props.exportData;if(!r)return;var s=this.$GriffinExportButton2(r),t=s.data,u=s.times,v=u.reduce(function(v,C){v.max=C>v.max?C:v.max;v.min=C<v.min?C:v.min;return v},{max:Number.MIN_VALUE,min:Number.MAX_VALUE}),w=[v.min,v.max].map(function(C){return c("formatDate")(C,"jMY",{utc:true,skipPatternLocalization:true})}).join("_"),x=[this.props.fileName.replace(/ /g,"_"),w].join("_")+".csv",y=c("BlobFactory").getBlob([t],{type:"text/csv"});if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(y,x);else{var z=b.URL||b.webkitURL,A=z.createObjectURL(y);if(c("UserAgent").isBrowser("Safari")){window.open(A);return}var B=document.createElement("a");document.body.appendChild(B);B.href=A;B.download=x;B.click()}}.bind(this),n}l.prototype.render=function(){var m=b.URL||b.webkitURL,n=window.navigator&&window.navigator.msSaveBlob;if(!c("BlobFactory").isSupported()||!(m&&m.createObjectURL||n))return null;return c("React").createElement(c("GriffinButton"),{key:"export",icon:c("React").createElement(c("Image.react"),{src:h("142785")}),onClick:this.$GriffinExportButton1,width:32})};l.prototype.$GriffinExportButton2=function(m){var n=[],o=["Date"],p=new(c("Set"))();m.forEach(function(s){var t={};o.push(s.header);s.body.forEach(function(u){var v=u.time;p.add(v);t[v]=t[v]?t[v]+u.value:u.value});n.push(t)});var q=Array.from(p).sort(),r=q.map(function(s){var t=n.map(function(v){return v[s]}),u=new Date().setTime(s);t.unshift(c("formatDate")(u,"m/d/Y",{utc:true}));return t});r.unshift(o);return{data:this.$GriffinExportButton3(r),times:q}};l.prototype.$GriffinExportButton3=function(m){return m.map(function(n){return n.map(function(o){return o?o.toString():"-"}).map(function(o){return o.indexOf(",")===-1?o:'"'+o+'"'}).join(",")}).join("\n")};l.propTypes={className:k.string,exportData:k.arrayOf(k.object),fileName:k.string.isRequired};f.exports=l}),null);
__d("GriffinLineAreaChart",["CandelaGroupScaleBuilder","CandelaStackScaleBuilder","FalcorInsightsHoverCardChart","HighlightChartSeriesOnHoverMixin","immutable","InsightsLineAreaChart.react","InsightsThemeableChartMixin","React","ReactComponentWithPureRenderMixin","GriffinCandelaTheme"],(function a(b,c,d,e,f,g){var h=c("immutable").OrderedSet,i=c("React").PropTypes,j=i.oneOfType([i.instanceOf(c("CandelaGroupScaleBuilder")),i.instanceOf(c("CandelaStackScaleBuilder"))]),k=300,l=c("React").createClass({displayName:"GriffinLineAreaChart",mixins:[c("HighlightChartSeriesOnHoverMixin"),c("InsightsThemeableChartMixin")(function(){return c("GriffinCandelaTheme")}),c("ReactComponentWithPureRenderMixin")],propTypes:{auxiliaryItems:i.instanceOf(h),hoverCardPosition:i.oneOf(["above","below","left","right"]),items:i.instanceOf(h).isRequired,tooltipFormatterFactory:i.func,axisMarkFormatterFactory:i.func,data:i.oneOfType([i.arrayOf(i.object)]).isRequired,height:i.number,onMouseMove:i.func,plotX:j.isRequired,plotY:i.arrayOf(j).isRequired,schema:i.object.isRequired,width:i.number},statics:{getComponentTheming:function m(){return{styleSheet:{'gridline[orientation="horizontal"]:last-child':{visibility:"hidden"},'gridline[orientation="horizontal"]:last-child:only-child':{visibility:"visible"}}}}},getDefaultProps:function m(){return{hoverCardPosition:"right",width:window.outerWidth,height:k}},render:function m(){var n=this.props,o=n.auxiliaryItems,p=n.hoverCardPosition,q=n.items,r=n.tooltipFormatterFactory;return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:o,hoverCardPosition:p,items:q,formatterFactory:r},c("React").createElement(c("InsightsLineAreaChart.react"),babelHelpers["extends"]({},this.props,{highlights:this.state.highlights,onMouseEnter:this._onMouseEnter,onMouseOut:this._onMouseOut,theme:this.state.theme})))}});f.exports=l}),null);
__d("GriffinTimeSeriesChart",["CandelaTimeScale","DateTime","GriffinLineAreaChart","InsightsFormatterFactories","React","Timezone","immutable","CandelaConstants"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").OrderedSet,k=c("CandelaConstants").Orientation,l=c("CandelaConstants").ScaleType,m=c("React").PropTypes,n=c("Timezone").PST8PDT;h=babelHelpers.inherits(o,c("React").Component);i=h&&h.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=i.constructor).call.apply(p,[this].concat(s)),this.state={date:Date.now()/1e3},this.$GriffinTimeSeriesChart3=function(u){var v=this.$GriffinTimeSeriesChart1();if(!u||!u.data||!u.data[v])return;var w=u.data[v].value;if(w!==this.state.date)this.setState({date:w})}.bind(this),this.axisMarkFormatterFactory=function(u,v){if(u instanceof c("CandelaTimeScale")&&v===k.HORIZONTAL)return this.$GriffinTimeSeriesChart4;if(v===k.VERTICAL&&this.props.yAxisFormatter)return this.props.yAxisFormatter;return c("InsightsFormatterFactories").axisMarkFormatterFactory(u,v)}.bind(this),this.$GriffinTimeSeriesChart4=function(u){var v=c("DateTime").create(u.instant,n);if(this.props.isHourlyTimeSeries)return v.format("g:ia");return v.format("M d")}.bind(this),q}o.prototype.$GriffinTimeSeriesChart1=function(){var p=Object.keys(this.props.schema).find(function(q){return this.props.schema[q].type===l.TIME}.bind(this));return p};o.prototype.$GriffinTimeSeriesChart2=function(p){var q=c("DateTime").create(p,n),r={skipPatternLocalization:true};if(this.props.isHourlyTimeSeries)return q.format("D M j, Y g:ia",r);else return q.format("D M j, Y",r)};o.prototype.render=function(){var p=j([{key:"date",value:this.$GriffinTimeSeriesChart2(this.state.date)}]);return c("React").createElement(c("GriffinLineAreaChart"),babelHelpers["extends"]({},this.props,{auxiliaryItems:p,axisMarkFormatterFactory:this.axisMarkFormatterFactory,onMouseMove:this.$GriffinTimeSeriesChart3}))};o.propTypes={yAxisFormatter:m.func,isHourlyTimeSeries:m.bool};o.defaultProps={isHourlyTimeSeries:false};f.exports=o}),null);
__d("LinkSharingMissingContentCard",["cx","fbt","ix","Image.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.message||i._("Ver\u00e1s los datos aqu\u00ed despu\u00e9s de que esta URL se haya compartido m\u00e1s veces en Facebook.");return c("React").createElement("div",{className:"_55il"},c("React").createElement("div",{className:"_5d7_"},c("React").createElement(c("Image.react"),{src:j("96536")})),o)};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("LinkSharingOverallBreakdownData",["InsightsContext","LinkSharingGraphAPIClient","Log"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){this.range=i;this.stateChangeCallbacks=[];this.appID=c("InsightsContext").getObjID();this.breakdownClient=new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:"ENTIRE_RANGE",aggregationType:"APP_WIDE_EVENT_COUNT",appID:this.appID,breakdowns:[j],eventNames:null,fields:null,since:i.since,until:i.until,urls:null});this.breakdownClient.registerCallback(this.onStateChange.bind(this));this.breakdownClient.start()}h.prototype.notifyListeners=function(){for(var i=0;i<this.stateChangeCallbacks.length;i++)try{this.stateChangeCallbacks[i](this)}catch(j){c("Log").error(j.message,j)}};h.prototype.registerStateChangeCallback=function(i){this.stateChangeCallbacks.push(i)};h.prototype.isError=function(){return this.breakdownClient.isErrored()};h.prototype.isLoading=function(){return this.breakdownClient.isLoading()};h.prototype.isReady=function(){return this.breakdownClient.isReady()};h.prototype.getErrorMessage=function(){return this.breakdownClient.getErrorMessage()};h.prototype.getData=function(){return this.breakdownClient.getData()};h.prototype.onStateChange=function(i){if(this.breakdownClient.isReady())this.notifyListeners();else if(this.breakdownClient.isErrored()){c("Log").error(this.breakdownClient.getErrorMessage());this.notifyListeners()}};f.exports=h}),null);
__d("LinkSharingOverviewOverallSharesCard",["cssVar","fbt","AnalyticsCard","AnalyticsGKs","AnalyticsGKNames","AppEventsAggregatingColumn","AppEventsCombinedBreakdowns","BonsaiTooltip","CandelaStyleSheet","CreateCustomAudienceComponent","FalcorDataTooltip","FalcorLoadingCard","FalcorVerticalBarChart","GriffinButtonGroup","GriffinChartContainer","GriffinChartLayout","GriffinTimeSeriesChart","GriffinSelector","GriffinSelectorOption","InsightsContext","InsightsFormatterFactoryFactories","LinkSharingAggregator","LinkSharingConstants","LinkSharingError","LinkSharingMissingContentCard","LinkSharingOverallBreakdownData","LinkSharingOverallSharesData","LinkSharingOverviewDetailSearchCard","GriffinExportButton","Log","Map","React","Timezone","immutable","CandelaConstants","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component,m=c("immutable").OrderedSet,n=c("CandelaConstants").ScaleType,o=c("Timezone").UTC,p=c("CandelaGroupScaleBuilder").group,q=c("CandelaStackScaleBuilder").stack;j=babelHelpers.inherits(r,l);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.state={activeBreakdown:"overall"};this.$LinkSharingOverviewOverallSharesCard1=null;this.$LinkSharingOverviewOverallSharesCard2=null;this.$LinkSharingOverviewOverallSharesCard3=null;this.$LinkSharingOverviewOverallSharesCard4=null}r.prototype.componentWillMount=function(){this.$LinkSharingOverviewOverallSharesCard5(this.state.activeBreakdown,this.props.range)};r.prototype.componentWillReceiveProps=function(s){if(this.props.range.since===s.range.since&&this.props.range.until===s.range.until)return;this.$LinkSharingOverviewOverallSharesCard1=null;this.$LinkSharingOverviewOverallSharesCard2=null;this.$LinkSharingOverviewOverallSharesCard3=null;this.$LinkSharingOverviewOverallSharesCard4=null;this.$LinkSharingOverviewOverallSharesCard5(this.state.activeBreakdown,s.range)};r.prototype.$LinkSharingOverviewOverallSharesCard5=function(s,t){switch(s){case"age_gender":if(this.$LinkSharingOverviewOverallSharesCard1!==null)return;this.$LinkSharingOverviewOverallSharesCard1=new(c("LinkSharingOverallBreakdownData"))(t,"AGE_GENDER");this.$LinkSharingOverviewOverallSharesCard1.registerStateChangeCallback(this.$LinkSharingOverviewOverallSharesCard6.bind(this));break;case"overall":if(this.$LinkSharingOverviewOverallSharesCard2!==null)return;this.$LinkSharingOverviewOverallSharesCard2=new(c("LinkSharingOverallSharesData"))(t);this.$LinkSharingOverviewOverallSharesCard2.registerStateChangeCallback(this.$LinkSharingOverviewOverallSharesCard6.bind(this));break;case"top_cities":if(this.$LinkSharingOverviewOverallSharesCard3!==null)return;this.$LinkSharingOverviewOverallSharesCard3=new(c("LinkSharingOverallBreakdownData"))(t,"CITY");this.$LinkSharingOverviewOverallSharesCard3.registerStateChangeCallback(this.$LinkSharingOverviewOverallSharesCard6.bind(this));break;case"top_countries":if(this.$LinkSharingOverviewOverallSharesCard4!==null)return;this.$LinkSharingOverviewOverallSharesCard4=new(c("LinkSharingOverallBreakdownData"))(t,"COUNTRY");this.$LinkSharingOverviewOverallSharesCard4.registerStateChangeCallback(this.$LinkSharingOverviewOverallSharesCard6.bind(this));break}};r.prototype.$LinkSharingOverviewOverallSharesCard6=function(){this.forceUpdate()};r.prototype.$LinkSharingOverviewOverallSharesCard7=function(){return i._("Contenido compartido general")};r.prototype.$LinkSharingOverviewOverallSharesCard8=function(s){var t=i._("Publicaciones"),u=i._("Comentarios"),v=i._("Total de veces compartido"),w=i._("Muestra todas las veces que se ha compartido esta aplicaci\u00f3n, incluidas las veces que se ha compartido en publicaciones y comentarios."),x=c("React").createElement(c("BonsaiTooltip"),{aligntH:"left",position:"below",tooltip:w}),y={comments:{label:u,renderAs:"line",type:"number"},posts:{label:t,renderAs:"line",type:"number"},time:{timezoneID:o,type:"time"},total:{label:v,legendTooltip:x,renderAs:"line",type:"number"}},z=s.getTimeSeries(),A=s.isShareTimeSeriesAggregatedHourly(),B=0,C=0;if(z!=null&&z.length>0){B=z[0].time;C=z[z.length-1].time}var D=m([{key:"comments",label:u},{key:"posts",label:t},{key:"total",label:v}]);return c("React").createElement(c("GriffinTimeSeriesChart"),{data:z,height:this.$LinkSharingOverviewOverallSharesCard9(),isHourlyTimeSeries:A,items:D,plotX:p("time").from(B).to(C).extendInput(.3),plotY:[p("total","posts","comments")],schema:y,width:this.$LinkSharingOverviewOverallSharesCard10()})};r.prototype.$LinkSharingOverviewOverallSharesCard11=function(s){s.sort(function(v,w){return w.count-v.count});var t={ageRange:{type:n.CATEGORY,label:i._("Edad")},male:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.male},female:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.female},unknown:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.unknown}},u=c("InsightsFormatterFactoryFactories").totalPercentageBarLabelFormatterFactoryFactory(s,t,"ageRange");return c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:u,breakdownType:c("AppEventsCombinedBreakdowns").AGE_GENDER,data:s,height:this.$LinkSharingOverviewOverallSharesCard9(),key:"LocationBarChart",plotX:p("ageRange"),plotY:[q("female","male").from(0).extendInput(0,.25)],schema:t,styleSheet:this.$LinkSharingOverviewOverallSharesCard12(),unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE,width:this.$LinkSharingOverviewOverallSharesCard10()})};r.prototype.$LinkSharingOverviewOverallSharesCard13=function(s,t,u,v){s.sort(function(E,F){return F.count-E.count});var w=s.slice(0,t),x=s.slice(t);if(x&&x.length>0){var y=0;for(var z=0;z<x.length;z++)y+=x[z].count;var A={count:y};A[u]="Other";w.push(A)}var B={count:{type:n.NUMBER}};B[u]={type:n.CATEGORY};var C=c("InsightsFormatterFactoryFactories").seriesPercentageBarLabelFormatterFactoryFactory(s,B,u),D=u+"LocationBarChart";return c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:C,breakdownType:v,data:w,height:this.$LinkSharingOverviewOverallSharesCard9(),key:D,plotX:p(u),plotY:[p("count").from(0).extendInput(0,.25)],schema:B,styleSheet:this.$LinkSharingOverviewOverallSharesCard12(),unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE,width:this.$LinkSharingOverviewOverallSharesCard10()})};r.prototype.$LinkSharingOverviewOverallSharesCard9=function(){return 230};r.prototype.$LinkSharingOverviewOverallSharesCard10=function(){return 700};r.prototype.$LinkSharingOverviewOverallSharesCard12=function(){return c("CandelaStyleSheet").fromJS({barlabel:{visibility:"hidden"},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:6}})};r.prototype.$LinkSharingOverviewOverallSharesCard14=function(s){var t=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return c("React").createElement(c("GriffinChartContainer"),{chartKey:"link_sharing_overall_shares",dependentScaleName:"plotY",hideLegend:t,selector:this.$LinkSharingOverviewOverallSharesCard15(),selectorLabel:this.$LinkSharingOverviewOverallSharesCard16()},s)};r.prototype.$LinkSharingOverviewOverallSharesCard15=function(){return c("React").createElement(c("GriffinSelector"),{onChange:this.$LinkSharingOverviewOverallSharesCard17.bind(this),value:this.state.activeBreakdown,width:150},this.$LinkSharingOverviewOverallSharesCard18())};r.prototype.$LinkSharingOverviewOverallSharesCard16=function(){return i._("MOSTRAR POR")};r.prototype.$LinkSharingOverviewOverallSharesCard18=function(){var s=new(c("Map"))();s.set("overall",i._("En general"));s.set("age_gender",i._("Edad y sexo"));s.set("top_cities",i._("Ciudades principales"));s.set("top_countries",i._("Pa\u00edses principales"));var t=[];s.forEach(function(u,v,w){t.push(c("React").createElement(c("GriffinSelectorOption"),{key:v,label:u,value:v},u))});return t};r.prototype.$LinkSharingOverviewOverallSharesCard19=function(){var s={display:"flex",flexDirection:"column",height:this.$LinkSharingOverviewOverallSharesCard9(),justifyContent:"center"},t=c("React").createElement("div",{style:s},c("React").createElement(c("LinkSharingMissingContentCard"),{key:"BreakdownMissingData"}));return c("React").createElement(c("GriffinChartLayout"),{chart:t,chartKey:"link_sharing_missing_data",selector:this.$LinkSharingOverviewOverallSharesCard15(),selectorLabel:this.$LinkSharingOverviewOverallSharesCard16()})};r.prototype.$LinkSharingOverviewOverallSharesCard17=function(s){this.setState({activeBreakdown:s});this.$LinkSharingOverviewOverallSharesCard5(s,this.props.range)};r.prototype.$LinkSharingOverviewOverallSharesCard20=function(){return c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})};r.prototype.$LinkSharingOverviewOverallSharesCard21=function(){var s=this.$LinkSharingOverviewOverallSharesCard2;if(s&&s.isTimeSeriesReady()){var t=s.getTimeSeries();if(t==null||t.length===0)return null;return this.$LinkSharingOverviewOverallSharesCard14(this.$LinkSharingOverviewOverallSharesCard8(s))}else if(s&&s.isTimeSeriesError()){c("Log").error(s.getTimeSeriesErrorMessage());return c("LinkSharingError").getErrorNotice()}return this.$LinkSharingOverviewOverallSharesCard20()};r.prototype.$LinkSharingOverviewOverallSharesCard22=function(){var s=null;switch(this.state.activeBreakdown){case"age_gender":s=this.$LinkSharingOverviewOverallSharesCard1;break;case"top_cities":s=this.$LinkSharingOverviewOverallSharesCard3;break;case"top_countries":s=this.$LinkSharingOverviewOverallSharesCard4;break}if(s&&s.isReady()){var t=null,u=false,v=null;switch(this.state.activeBreakdown){case"age_gender":v=c("LinkSharingAggregator").aggregateAgeGenderHistogram(s.getData());if(v.length>0)t=this.$LinkSharingOverviewOverallSharesCard11(v);break;case"top_cities":v=c("LinkSharingAggregator").aggregateCityHistogram(s.getData());if(v.length>0)t=this.$LinkSharingOverviewOverallSharesCard13(v,5,"city",c("AppEventsAggregatingColumn").CITY_CODE);u=true;break;case"top_countries":v=c("LinkSharingAggregator").aggregateCountryHistogram(s.getData());if(v.length>0)t=this.$LinkSharingOverviewOverallSharesCard13(v,5,"countryCode",c("AppEventsAggregatingColumn").COUNTRY);u=true;break}if(t)return this.$LinkSharingOverviewOverallSharesCard14(t,u);return this.$LinkSharingOverviewOverallSharesCard19()}else if(s&&s.isError()){c("Log").error(s.getErrorMessage());return c("LinkSharingError").getErrorNotice()}return this.$LinkSharingOverviewOverallSharesCard20()};r.prototype.$LinkSharingOverviewOverallSharesCard23=function(s){if(!s)return null;var t=s.getData();if(!t)return null;return{}};r.prototype.$LinkSharingOverviewOverallSharesCard24=function(s){if(!s)return null;var t=s.getTimeSeries();if(!t)return null;var u=[{header:i._("Total de veces compartido"),body:t.map(function(v){return{time:v.time,value:v.total}})},{header:i._("Publicaciones"),body:t.map(function(v){return{time:v.time,value:v.posts}})},{header:i._("Comentarios"),body:t.map(function(v){return{time:v.time,value:v.comments}})}];return{data:u,name:i._("Contenido compartido general")}};r.prototype.$LinkSharingOverviewOverallSharesCard25=function(){var s=this.state.activeBreakdown;switch(s){case"age_gender":return this.$LinkSharingOverviewOverallSharesCard23(this.$LinkSharingOverviewOverallSharesCard1);case"overall":return this.$LinkSharingOverviewOverallSharesCard24(this.$LinkSharingOverviewOverallSharesCard2);case"top_cities":return this.$LinkSharingOverviewOverallSharesCard23(this.$LinkSharingOverviewOverallSharesCard3);case"top_countries":return this.$LinkSharingOverviewOverallSharesCard23(this.$LinkSharingOverviewOverallSharesCard4);default:return null}};r.prototype.render=function(){var s=i._("Contenido compartido general"),t=this.state.activeBreakdown==="overall"?this.$LinkSharingOverviewOverallSharesCard21():this.$LinkSharingOverviewOverallSharesCard22();if(t===null)return null;var u=c("AnalyticsGKs").get(c("AnalyticsGKNames").LINK_SHARING_CUSTOM_AUDIENCES)?c("React").createElement(c("CreateCustomAudienceComponent"),{queryData:{aln:"engagement_audience",alc:JSON.stringify({application:c("InsightsContext").getObjID().toString()})}}):null,v=this.$LinkSharingOverviewOverallSharesCard25(),w=v?v.data:null,x=v?v.name:"",y=c("React").createElement(c("GriffinButtonGroup"),null,c("React").createElement(c("LinkSharingOverviewDetailSearchCard"),{key:"JumpToURLButton"}),c("React").createElement(c("GriffinExportButton"),{exportData:w,fileName:x}),u);return c("React").createElement(c("AnalyticsCard"),{buttons:y,showLine:true,title:s},t)};f.exports=r}),null);
__d("LinkSharingViralityData",["GraphAPI","InsightsContext","LinkSharingConstants","LinkSharingGraphAPIClient","Log"],(function a(b,c,d,e,f,g){"use strict";function h(){this.$LinkSharingViralityData1=c("InsightsContext").getObjID();this.$LinkSharingViralityData4=[];c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).object("application",this.$LinkSharingViralityData1).edge("link_share_analytics_viralities").get().done(this.$LinkSharingViralityData6.bind(this),this.$LinkSharingViralityData7.bind(this));this.$LinkSharingViralityData8("LOADING")}h.prototype.$LinkSharingViralityData6=function(i){this.$LinkSharingViralityData3=i;this.$LinkSharingViralityData8("READY")};h.prototype.$LinkSharingViralityData7=function(i){this.$LinkSharingViralityData2=i.message;c("Log").error(i.message);c("LinkSharingGraphAPIClient").handleSessionExpired(i);this.$LinkSharingViralityData8("ERROR")};h.prototype.$LinkSharingViralityData8=function(i){this.$LinkSharingViralityData5=i;this.$LinkSharingViralityData4.forEach(function(j){try{j(this)}catch(k){c("Log").error(k.message)}}.bind(this))};h.prototype.registerStateChangeCallback=function(i){this.$LinkSharingViralityData4.push(i)};h.prototype.isError=function(){return this.$LinkSharingViralityData5==="ERROR"};h.prototype.isLoading=function(){return this.$LinkSharingViralityData5==="LOADING"};h.prototype.isReady=function(){return this.$LinkSharingViralityData5==="READY"};h.prototype.getErrorMessage=function(){return this.$LinkSharingViralityData2};h.prototype.getResult=function(){return this.$LinkSharingViralityData3};f.exports=h}),null);
__d("LinkSharingOverviewRecentURLsCard",["fbt","AnalyticsCard","BonsaiTooltip","FalcorLoadingCard","FalcorPaginatedDataTable","Image.react","LinkSharingMissingContentCard","LinkSharingOpenGraphURLClient","LinkSharingOverviewURLTableCard","LinkSharingViralityData","React","Stars.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.componentWillMount=function(){this.$LinkSharingOverviewRecentURLsCard1=new(c("LinkSharingViralityData"))();this.$LinkSharingOverviewRecentURLsCard1.registerStateChangeCallback(this.$LinkSharingOverviewRecentURLsCard3)}.bind(this);this.$LinkSharingOverviewRecentURLsCard4=function(){var n,o=this;if(this.$LinkSharingOverviewRecentURLsCard1&&this.$LinkSharingOverviewRecentURLsCard1.isReady()&&this.$LinkSharingOverviewRecentURLsCard2===null){var p=this.$LinkSharingOverviewRecentURLsCard5();if(p.length>0)(function(){var q=[];p.forEach(function(r){q.push(r.share.url)});o.$LinkSharingOverviewRecentURLsCard2=new(c("LinkSharingOpenGraphURLClient"))(q,o.$LinkSharingOverviewRecentURLsCard3);o.$LinkSharingOverviewRecentURLsCard2.start()})()}}.bind(this);this.$LinkSharingOverviewRecentURLsCard3=function(){this.forceUpdate();this.$LinkSharingOverviewRecentURLsCard4()}.bind(this);this.$LinkSharingOverviewRecentURLsCard6=function(){return c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})};this.$LinkSharingOverviewRecentURLsCard7=function(n){if(!this.$LinkSharingOverviewRecentURLsCard2)return null;var o=this.$LinkSharingOverviewRecentURLsCard2.getResponse();if(o==null)return null;if(o[n]&&o[n].og_object&&o[n].og_object.title)return o[n].og_object.title;return null}.bind(this);this.$LinkSharingOverviewRecentURLsCard5=function(){var n=[];if(this.$LinkSharingOverviewRecentURLsCard1==null)return n;var o=this.$LinkSharingOverviewRecentURLsCard1.getResult();if(!o||!Array.isArray(o.data))return n;o.data.forEach(function(p){n.push({share:{title:this.$LinkSharingOverviewRecentURLsCard7(p.url),url:p.url},virality:p.virality})}.bind(this));return n}.bind(this);this.$LinkSharingOverviewRecentURLsCard8=function(){function n(t){var u=c("LinkSharingOverviewURLTableCard").getDisplayURL(t.url,100),v=c("LinkSharingOverviewURLTableCard").getDisplayTitle(t.title,100),w=c("LinkSharingOverviewURLTableCard").getTitleElement(u,v,t.url,t.title,true),x=c("LinkSharingOverviewURLTableCard").getSubtitleElement(u,v,t.url);return c("React").createElement("div",null,w,x)}function o(t){t=Math.min(5,Math.max(1,Math.floor(t)));return c("React").createElement(c("Stars.react"),{size:"large",count:t,max:5})}var p=h._("Estas son las URL m\u00e1s virales de tu sitio web que las personas han compartido \u00faltimamente en Facebook."),q=c("React").createElement("span",null,h._("T\u00edtulos y URL"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:p})),r=h._("Te muestra lo viral que se ha convertido una URL de tu sitio web en Facebook recientemente ordenado en funci\u00f3n de la difusi\u00f3n."),s=c("React").createElement("span",null,h._("Difusi\u00f3n"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:r}));return[{cellRenderer:n,label:q,id:"share",width:100,sortable:false},{cellRenderer:o,label:s,id:"virality",width:70,sortable:false}]};this.$LinkSharingOverviewRecentURLsCard9=function(){var n=this.$LinkSharingOverviewRecentURLsCard5();if(n.length===0){var o=h._("Cuando las URL de tu sitio web se compartan con frecuencia en un breve periodo de tiempo, los datos se mostrar\u00e1n aqu\u00ed."),p={display:"flex",flexDirection:"column",justifyContent:"center"};return c("React").createElement("div",{style:p},c("React").createElement(c("LinkSharingMissingContentCard"),{message:o}))}return c("React").createElement(c("FalcorPaginatedDataTable"),{rows:n,columns:this.$LinkSharingOverviewRecentURLsCard8(),showHeader:true,pageSize:Infinity,ref:"recentURLsTable"})}.bind(this);this.$LinkSharingOverviewRecentURLsCard1=null;this.$LinkSharingOverviewRecentURLsCard2=null}l.prototype.render=function(){var m=h._("URL virales recientes"),n=this.$LinkSharingOverviewRecentURLsCard1&&this.$LinkSharingOverviewRecentURLsCard1.isReady()?this.$LinkSharingOverviewRecentURLsCard9():this.$LinkSharingOverviewRecentURLsCard6();return c("React").createElement(c("AnalyticsCard"),{showLine:true,title:m},n)};f.exports=l}),null);
__d("LinkSharingOverviewURLTableCard",["cssVar","cx","fbt","AnalyticsCard","AnalyticsNavigationUtils","BonsaiTooltip","FalcorLoadingCard","FalcorPaginatedDataTable","GriffinButton","GriffinButtonGroup","GriffinContextualDrawer","GriffinEmptyStateCard","GriffinSections","InsightsEventLogger","InsightsCountryNames","InsightsUtils","Link.react","LinkSharingConstants","LinkSharingError","LoadingIndicator.react","Log","ObjectSort","React","SUIAnalyticsGriffinTheme","SUISearchableSelector.react","SearchableEntry","StaticSearchSource","UnicodeUtils","URI","intlNumUtils"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;function n(p){l.constructor.call(this,p);o.call(this);this.ageGenderValues=null;this.countryValues=null;var q=c("URI").getNextURI(),r=this.getDemographicsColumnsForQueryData(q.getQueryData()),s=q.getQueryData().dataset||"Total Shares",t=2;if(p.precision!=null)t=p.precision;this.state={precision:t,dataset:s,datasetSelection:this.getSelectionForDataset(s),hideSettingsBar:false,demographicsColumns:r};this.props.data.registerCallback(this.onDataStateChange);c("InsightsEventLogger").logCardViewWithDateRange("overview",{since:new Date(p.data.range.since*1e3),until:new Date(p.data.range.until*1e3)},{})}n.prototype.getSelectionForDataset=function(p){if(p==="POST")return new(c("SearchableEntry"))({title:j._("Publicaciones"),uniqueID:"POST"});else if(p==="COMMENT")return new(c("SearchableEntry"))({title:j._("Comentarios"),uniqueID:"COMMENT"});else return new(c("SearchableEntry"))({title:"Total Shares",uniqueID:"Total Shares"})};n.prototype.getDemographicsColumnsForQueryData=function(p){var q={label:c("LinkSharingConstants").DemographicsBreakdownEnum.gender.label,id:"gender",segment:"FEMALE",selectedItem:new(c("SearchableEntry"))({title:"Female",uniqueID:"FEMALE"}),visible:true};if(p.gender)if(p.gender==="hide"){q.segment="hide";q.selectedItem=new(c("SearchableEntry"))({title:j._("Ocultar"),uniqueID:"hide"});q.visible=false}else{q.segment=p.gender;q.selectedItem=new(c("SearchableEntry"))({title:this.capitalize(p.gender),uniqueID:p.gender});q.visible=true}var r={label:c("LinkSharingConstants").DemographicsBreakdownEnum.age.label,id:"age",segment:p.age||"18-24",selectedItem:new(c("SearchableEntry"))({title:p.age||"18-24",uniqueID:p.age||"18-24"}),visible:!p.gender||p.gender!="hide"},s={label:c("LinkSharingConstants").DemographicsBreakdownEnum.country.label,id:"country",segment:p.country||"US",selectedItem:new(c("SearchableEntry"))({title:p.country?c("InsightsCountryNames")[p.country]||p.country:"United States of America",uniqueID:p.country||"US"}),visible:!p.country||p.country!="hide"},t={gender:q,age:r,country:s};return t};n.prototype.componentWillReceiveProps=function(p){if(this.props.data.range.since!==p.data.range.since||this.props.data.range.until!==p.data.range.until)c("InsightsEventLogger").logCardViewWithDateRange("overview",{since:new Date(p.data.range.since*1e3),until:new Date(p.data.range.until*1e3)},{});p.data.registerCallback(this.onDataStateChange)};n.prototype.$LinkSharingOverviewURLTableCard5=function(p,q){var r=this.state.demographicsColumns;if(q.getUniqueID()==="hide")r[p]={id:this.state.demographicsColumns[p].id,label:this.state.demographicsColumns[p].label,segment:"hide",selectedItem:null,visible:false};else r[p]={id:this.state.demographicsColumns[p].id,label:this.state.demographicsColumns[p].label,segment:q.getUniqueID(),selectedItem:q,visible:true};c("InsightsEventLogger").logEvent({$LinkSharingOverviewURLTableCard9:"link_sharing_column_select",column:p.toLowerCase(),value:q.getUniqueID().toLowerCase()});this.setState({demographicsColumns:r});var s=c("URI").getNextURI(),t={};t[p]=q.getUniqueID();s.addQueryData(t);s.go()};n.prototype.capitalize=function(p){var q=p.toLowerCase(),r=q.substr(0,1),s=q.substr(1);return r.toUpperCase().concat(s)};n.prototype.$LinkSharingOverviewURLTableCard10=function(){if(this.ageGenderValues===null)this.ageGenderValues=this.props.data.getAgeGenderValues();return this.ageGenderValues};n.prototype.$LinkSharingOverviewURLTableCard11=function(){if(this.countryValues===null)this.countryValues=this.props.data.getCountryValues();return this.countryValues};n.prototype.$LinkSharingOverviewURLTableCard12=function(p,q){var r,s=this,t=[];t.push(new(c("SearchableEntry"))({title:j._("Ocultar"),uniqueID:"hide"}));if(q!=null)(function(){var u=[],v={};q.forEach(function(w){var x=w;if(p==="gender")x=this.capitalize(x);else if(p==="country")if(c("InsightsCountryNames")[x])x=c("InsightsCountryNames")[x];v[x]=w;u.push(x)}.bind(s));u=u.sort(function(w,x){return w.localeCompare(x)});u.forEach(function(w){return t.push(new(c("SearchableEntry"))({title:w,uniqueID:v[w]}))})})();return c("React").createElement("div",{className:"_1k_9",key:p},c("React").createElement("div",{className:"_1k_a"},c("LinkSharingConstants").DemographicsBreakdownEnum[p].label),c("React").createElement(c("SUISearchableSelector.react"),{emptySearchResultsContent:"No matching results.",onChange:this.$LinkSharingOverviewURLTableCard5.bind(this,p),placeholder:c("LinkSharingConstants").DemographicsBreakdownEnum[p].label,searchSource:new(c("StaticSearchSource"))(t),theme:c("SUIAnalyticsGriffinTheme"),value:this.state.demographicsColumns[p].selectedItem||t[0],width:"100%"}))};n.prototype.$LinkSharingOverviewURLTableCard13=function(){var p=[];p.push(new(c("SearchableEntry"))({title:j._("Total de veces compartido"),uniqueID:"Total Shares"}));p.push(new(c("SearchableEntry"))({title:j._("Publicaciones"),uniqueID:"POST"}));p.push(new(c("SearchableEntry"))({title:j._("Comentarios"),uniqueID:"COMMENT"}));var q=j._("El total de veces que se ha compartido indica todas las veces que se ha compartido esta URL, incluidas las veces que se ha compartido en publicaciones y comentarios.");return c("React").createElement("div",{className:"_1k_9",key:"dataset"},c("React").createElement("div",{className:"_1k_a"},j._("TIPO DE CONTENIDO COMPARTIDO"),c("React").createElement(c("BonsaiTooltip"),{alignH:"left",position:"below",tooltip:q})),c("React").createElement(c("SUISearchableSelector.react"),{emptySearchResultsContent:"No matching results.",onChange:this.$LinkSharingOverviewURLTableCard4,placeholder:j._("Tipo de contenido compartido"),searchSource:new(c("StaticSearchSource"))(p),theme:c("SUIAnalyticsGriffinTheme"),value:this.state.datasetSelection,width:"100%"}))};n.prototype.$LinkSharingOverviewURLTableCard6=function(){if(!this.props.data.isReady()||this.state.hideSettingsBar)return null;var p=this.$LinkSharingOverviewURLTableCard10(),q=this.$LinkSharingOverviewURLTableCard11(),r=p!=null?p.age:null,s=p!=null?p.gender:null;return c("React").createElement(c("GriffinContextualDrawer"),{anchor:this.refs.settingsButton,cardKey:"link_sharing_setting_builder",className:"_3vxw"},c("React").createElement("div",{className:"_1k_b"},this.$LinkSharingOverviewURLTableCard13(),this.$LinkSharingOverviewURLTableCard12("gender",s),this.$LinkSharingOverviewURLTableCard12("age",r),this.$LinkSharingOverviewURLTableCard12("country",q)))};n.getDisplayURL=function(p,q){if(c("UnicodeUtils").strlen(p)<q)return p;var r=(q-3)/2;return c("UnicodeUtils").substr(p,0,r).concat("...").concat(c("UnicodeUtils").substr(p,c("UnicodeUtils").strlen(p)-r,r))};n.getDisplayTitle=function(p,q){if(!p||c("UnicodeUtils").strlen(p)<q)return p;return c("UnicodeUtils").substr(p,0,q-3).concat("...")};n.getTitleElement=function(p,q,r,s){var t=arguments.length<=4||arguments[4]===undefined?false:arguments[4],u=c("URI").getNextURI().getQueryData();delete u.section;delete u.since;delete u.until;delete u.url;u.title=s;var v=c("AnalyticsNavigationUtils").getSectionInsightsURI(c("GriffinSections").LINK_SHARING,r,"url",u);if(t){var w=c("InsightsUtils").getNowOffsetByPacificTimezone().setMinutes(0,0,0),x=w-12*60*60*1e3,y={since:x,until:w};v.addQueryData(y)}return c("React").createElement(c("Link.react"),{href:v,onClick:function z(A){A.stopPropagation()},title:s},q||p)};n.getSubtitleElement=function(p,q,r){return q?c("React").createElement("div",{title:r},p):null};n.prototype.$LinkSharingOverviewURLTableCard14=function(){var p=this.state;function q(w){var x=n.getDisplayURL(w.url,53),y=n.getDisplayTitle(w.title,53),z=n.getTitleElement(x,y,w.url,w.title),A=n.getSubtitleElement(x,y,w.url);return c("React").createElement("div",null,z,A)}function r(w){if(typeof w==="number"){var x=p.precision,y=w*100;if(x===0&&y<1&&y>=.1)x=1;return y.toFixed(x)+"%"}else return w}function s(w){return c("intlNumUtils").formatNumberWithThousandDelimiters(w)}var t=[];function u(w,x){return w.url.url.localeCompare(x.url.url)}t.push({cellRenderer:q,label:j._("URL"),id:"url",width:40,comparator:u,sortable:true});t.push({cellRenderer:s,label:p.dataset==="Total Shares"?p.dataset:this.capitalize(p.dataset),id:"total",width:40,comparator:c("ObjectSort").getNumericSortFunction("total"),sortable:true});var v=p.demographicsColumns;if(v.gender.visible)t.push({cellRenderer:r,label:this.capitalize(v.gender.segment),id:v.gender.id,width:40,comparator:c("ObjectSort").getNumericSortFunction(v.gender.id),sortable:true});if(v.age.visible)t.push({cellRenderer:r,label:v.age.segment,id:v.age.id,width:40,comparator:c("ObjectSort").getNumericSortFunction(v.age.id),sortable:true});if(v.country.visible)t.push({cellRenderer:r,label:c("InsightsCountryNames")[v.country.segment]||v.country.segment,id:v.country.id,width:40,comparator:c("ObjectSort").getNumericSortFunction(v.country.id),sortable:true});return t};n.prototype.$LinkSharingOverviewURLTableCard2=function(){if(this.props.data.isReady())return c("React").createElement(c("FalcorPaginatedDataTable"),{rows:this.state?this.$LinkSharingOverviewURLTableCard3():[],columns:this.$LinkSharingOverviewURLTableCard14(),searchFieldName:"searchField",showHeader:true,pageSize:Infinity,ref:"dataTable"});else if(this.props.data.isError()){c("Log").error(this.props.data.getErrorMessage());return c("LinkSharingError").getErrorNotice()}else return c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true})};n.prototype.$LinkSharingOverviewURLTableCard3=function(){var p=[],q=this.props.data.getTableView(),r=this.state.demographicsColumns,s=this.state.dataset;function t(B,C,D,E){if(!E)return c("React").createElement(c("LoadingIndicator.react"),{size:"medium",color:"white"});if(C){if(B)return s=="Total Shares"?(B.POST+B.COMMENT)/D:B[s]/D;return 0}else{var F=c("React").createElement(c("BonsaiTooltip"),{alignH:"right",position:"right",tooltip:j._("Ver\u00e1s estos datos demogr\u00e1ficos cuando como m\u00ednimo 100 personas hayan compartido esta URL en Facebook.")});return c("React").createElement("div",null,"N/A",F)}}var u=this.props.data.hasAgeGenderBreakdown(),v=this.props.data.hasCountryBreakdown();for(var w=0;w<q.length;w++){var x=q[w],y=t(x,true,1,true),z=typeof y==="string"?parseInt(y,10):typeof y==="number"?y:0,A={url:{title:x.title,url:x.url},searchField:x.url.concat(" ").concat(x.title),total:z,gender:t(x.gender[r.gender.segment],x.populatedDemographics.age_gender,z,u),age:t(x.age[r.age.segment],x.populatedDemographics.age_gender,z,u),country:t(x.country[r.country.segment],x.populatedDemographics.country,z,v)};p.push(A)}return p.sort(function(B,C){return C.total-B.total})};n.prototype.render=function(){if(this.props.data.isReady()&&this.props.data.getTableView().length===0)return c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:"SharingInsights"});var p=c("React").createElement(c("GriffinButtonGroup"),null,this.$LinkSharingOverviewURLTableCard8());return c("React").createElement(c("AnalyticsCard"),{className:"_2v-z",title:j._("Principales URL"),onSearchChange:this.$LinkSharingOverviewURLTableCard1,buttons:p,showLine:this.state.hideSettingsBar},this.$LinkSharingOverviewURLTableCard6(),this.$LinkSharingOverviewURLTableCard2())};var o=function o(){this.onDataStateChange=function(p){this.forceUpdate()}.bind(this);this.$LinkSharingOverviewURLTableCard7=function(){c("InsightsEventLogger").logEvent({$LinkSharingOverviewURLTableCard9:"link_sharing_settings_click",shown:!this.state.hideSettingsBar});this.setState({hideSettingsBar:!this.state.hideSettingsBar})}.bind(this);this.$LinkSharingOverviewURLTableCard8=function(){var p=this.state.hideSettingsBar?null:"#3A84C5";return c("React").createElement(c("GriffinButton"),{onClick:this.$LinkSharingOverviewURLTableCard7,key:"SettingsButton",iconName:"settings",iconStyle:{color:p},width:32,ref:"settingsButton"})}.bind(this);this.$LinkSharingOverviewURLTableCard4=function(p){c("InsightsEventLogger").logEvent({$LinkSharingOverviewURLTableCard9:"link_sharing_column_select",column:"share_type",value:p.getUniqueID().toLowerCase()});this.setState({dataset:p.getUniqueID(),datasetSelection:p});var q=c("URI").getNextURI();q.addQueryData({dataset:p.getUniqueID()});q.go()}.bind(this);this.$LinkSharingOverviewURLTableCard1=function(p){this.refs.dataTable.onSearchChange(p)}.bind(this)};f.exports=n}),null);
__d("LinkSharingURLDetailAgeGenderCard",["cx","cssVar","fbt","AnalyticsPredefinedBreakdownValues","AppEventsCombinedBreakdowns","CandelaStyleSheet","FalcorDataTooltip","GriffinCandelaTheme","FalcorLoadingCard","FalcorVerticalBarChart","GriffinResizableChart","immutable","InsightsFormatterFactoryFactories","InsightsLegend_DEPRECATED.react","InsightsLegendAreaKey.react","LinkSharingConstants","LinkSharingDetailCard","LinkSharingMissingContentCard","React","CandelaConstants","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=c("CandelaConstants").ScaleType,o=c("immutable").OrderedSet,p=c("CandelaGroupScaleBuilder").group,q=c("CandelaStackScaleBuilder").stack;k=babelHelpers.inherits(r,m);l=k&&k.prototype;function r(s){l.constructor.call(this,s);this.$LinkSharingURLDetailAgeGenderCard1=function(t){this.forceUpdate()}.bind(this);this.render=function(){if(!this.props.data.isReady())return c("React").createElement(c("LinkSharingDetailCard"),{title:this.$LinkSharingURLDetailAgeGenderCard3()},c("React").createElement(c("FalcorLoadingCard"),{key:"LoadingIndicator",showCard:false}));return c("React").createElement(c("LinkSharingDetailCard"),{title:this.$LinkSharingURLDetailAgeGenderCard3(),legend:this.$LinkSharingURLDetailAgeGenderCard4()},c("React").createElement(c("GriffinResizableChart"),null,this.$LinkSharingURLDetailAgeGenderCard2()))}.bind(this);this.props.data.registerCallback(this.$LinkSharingURLDetailAgeGenderCard1)}r.prototype.componentWillReceiveProps=function(s){s.data.registerCallback(this.$LinkSharingURLDetailAgeGenderCard1)};r.prototype.$LinkSharingURLDetailAgeGenderCard2=function(){var s=this.props.data.getAgeGenderHistogram();if(s.length===0)return c("React").createElement(c("LinkSharingMissingContentCard"),{key:"AgeGenderMissingData"});var t={ageRange:{type:n.CATEGORY,label:j._("Edad")},male:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.male},female:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.female},unknown:{type:n.NUMBER,label:c("LinkSharingConstants").Gender.unknown}},u=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"]':{visibility:"hidden"},barlabel:{visibility:"hidden"},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:6},gridline:{visibility:"hidden"}}),v=c("InsightsFormatterFactoryFactories").totalPercentageBarLabelFormatterFactoryFactory(s,t,"ageRange");return c("React").createElement(c("FalcorVerticalBarChart"),{breakdownType:c("AppEventsCombinedBreakdowns").AGE_GENDER,key:"AgeGenderBarChart",barLabelFormatterFactory:v,data:s,height:160,plotX:p("ageRange"),plotY:[q("female","male").from(0).extendInput(0,.25)],schema:t,styleSheet:u,unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE})};r.prototype.$LinkSharingURLDetailAgeGenderCard3=function(){return j._("Edad y sexo")};r.prototype.$LinkSharingURLDetailAgeGenderCard4=function(){var s=[c("AnalyticsPredefinedBreakdownValues").gender.F,c("AnalyticsPredefinedBreakdownValues").gender.M],t=s.map(function(u,v){return c("React").createElement(c("InsightsLegendAreaKey.react"),{color:c("GriffinCandelaTheme").colors.toArray()[v],key:"legend_"+v.toString()},c("React").createElement("span",{className:"_5qvg"},u))});return c("React").createElement(c("InsightsLegend_DEPRECATED.react"),{layout:c("InsightsLegend_DEPRECATED.react").layout.FLOATED},t)};f.exports=r}),null);
__d("JournalFeelingsList",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={great:{src:"/images/icons/pulse/great_48.png",name:h._("great")},happy:{src:"/images/icons/pulse/happy_48.png",name:h._("happy")},good:{src:"/images/icons/pulse/good_48.png",name:h._("good")},blue:{src:"/images/icons/pulse/blue_48.png",name:h._("blue")},sad:{src:"/images/icons/pulse/sad_48.png",name:h._("sad")},mad:{src:"/images/icons/pulse/mad_48.png",name:h._("mad")},lucky:{src:"/images/icons/pulse/lucky_48.png",name:h._("lucky")},amazing:{src:"/images/icons/pulse/amazing_48.png",name:h._("amazing")},bad:{src:"/images/icons/pulse/bad_48.png",name:h._("bad")},asleep:{src:"/images/icons/pulse/asleep_48.png",name:h._("asleep")},blessed:{src:"/images/icons/pulse/blessed_48.png",name:h._("blessed")},brave:{src:"/images/icons/pulse/brave_48.png",name:h._("brave")},broken:{src:"/images/icons/pulse/broken_48.png",name:h._("broken")},meh:{src:"/images/icons/pulse/meh_48.png",name:h._("meh")},butterflies:{src:"/images/icons/pulse/butterflies_48.png",name:h._("butterflies")},challenged:{src:"/images/icons/pulse/challenged_48.png",name:h._("challenged")},clown:{src:"/images/icons/pulse/clown_48.png",name:h._("clown")},cold:{src:"/images/icons/pulse/cold_48.png",name:h._("cold")},connected:{src:"/images/icons/pulse/connected_48.png",name:h._("connected")},cool:{src:"/images/icons/pulse/cool_48.png",name:h._("cool")},naked:{src:"/images/icons/pulse/naked_48.png",name:h._("naked")},crazy:{src:"/images/icons/pulse/crazy_48.png",name:h._("crazy")},defeated:{src:"/images/icons/pulse/defeated_48.png",name:h._("defeated")},depressed:{src:"/images/icons/pulse/depressed_48.png",name:h._("depressed")},dirty:{src:"/images/icons/pulse/dirty_48.png",name:h._("dirty")},emotional:{src:"/images/icons/pulse/emotional_48.png",name:h._("emotional")},exhausted:{src:"/images/icons/pulse/exhausted_48.png",name:h._("exhausted")},nostalgic:{src:"/images/icons/pulse/nostalgic_48.png",name:h._("nostalgic")},weird:{src:"/images/icons/pulse/weird_48.png",name:h._("weird")},funky:{src:"/images/icons/pulse/funky_48.png",name:h._("funky")},funny:{src:"/images/icons/pulse/funny_48.png",name:h._("funny")},grateful:{src:"/images/icons/pulse/grateful_48.png",name:h._("grateful")},hot:{src:"/images/icons/pulse/hot_48.png",name:h._("hot")},important:{src:"/images/icons/pulse/important_48.png",name:h._("important")},ok:{src:"/images/icons/pulse/ok_48.png",name:h._("ok")},incomplete:{src:"/images/icons/pulse/incomplete_48.png",name:h._("incomplete")},inspired:{src:"/images/icons/pulse/inspired_48.png",name:h._("inspired")},jealous:{src:"/images/icons/pulse/jealous_48.png",name:h._("jealous")},lame:{src:"/images/icons/pulse/lame_48.png",name:h._("lame")},lost:{src:"/images/icons/pulse/lost_48.png",name:h._("lost")},loved:{src:"/images/icons/pulse/loved_48.png",name:h._("loved")},old:{src:"/images/icons/pulse/old_48.png",name:h._("old")},pained:{src:"/images/icons/pulse/pained_48.png",name:h._("pained")},perplexed:{src:"/images/icons/pulse/perplexed_48.png",name:h._("perplexed")},wonderful:{src:"/images/icons/pulse/wonderful_48.png",name:h._("wonderful")},privileged:{src:"/images/icons/pulse/privileged_48.png",name:h._("privileged")},relieved:{src:"/images/icons/pulse/relieved_48.png",name:h._("relieved")},restless:{src:"/images/icons/pulse/restless_48.png",name:h._("restless")},rough:{src:"/images/icons/pulse/rough_48.png",name:h._("rough")}}}),null);
__d("LinkSharingMockPulseDataClient",["JournalFeelingsList","md5","Log","PulseEmotionalMapping"],(function a(b,c,d,e,f,g){"use strict";var h=15e3,i=3,j=3,k=5,l=['"Most people might think of cotton as thin and flimsy. But it can pack a real punch with these new, SPF-infused versions. Essential buys for skin safety this summer."','"We were pumped to see cotton rocking the runways this season. Hot!"','"Rainy day? No problem. Keep the kids busy inside with these easy cotton crafting ideas. I couldn\'t believe how much fun I had with my family when we tried this."','"You buy organic fruit and vegetables for your family. But have you thought about making sure your cotton clothes are sustainable too? It\'s an important way to protect your health and support a greener world."'],m=["cotton","organic","sustainable","SPF-infused","fruit and vegetables","Hot","clothes"];function n(o){this.setStatus=function(q){this.status=q;for(var r=0;r<this.callbacks.length;r++)try{this.callbacks[r](this)}catch(s){c("Log").error(s.message)}}.bind(this);this.url=o;this.status="NOT_STARTED";this.callbacks=[];this.errorMessage=null;this.data=null;this.randomInvocations=0;var p=c("md5")(this.url);this.seed=parseInt(p.substr(p.length-4),16);this.genReactions();this.genPhrases();this.genQuotes()}n.prototype.start=function(){setTimeout(function(){this.setStatus("READY")}.bind(this),250)};n.prototype.registerCallback=function(o){this.callbacks.push(o)};n.prototype.isReady=function(){return true};n.prototype.isErrored=function(){return false};n.prototype.isLoading=function(){return false};n.prototype.getErrorMessage=function(){return null};n.prototype.hasQuoteData=function(){return true};n.prototype.hasPhraseData=function(){return true};n.prototype.hasReactionData=function(){return true};n.prototype.getReactionData=function(){return this.reactions};n.prototype.genReactions=function(){var o=[],p=[],q=Object.keys(c("PulseEmotionalMapping")),r=q.filter(function(t,u,v){var w=c("PulseEmotionalMapping")[t];if(p.indexOf(w)==-1){p.push(w);return true}return false}),s=this.randomSubset(r,j);s.forEach(function(t,u,v){var w=c("PulseEmotionalMapping")[t];if(c("JournalFeelingsList")[w])o.push({count:this.randomInt()%h,name:c("PulseEmotionalMapping")[t],icon:{width:48,height:48,uri:c("JournalFeelingsList")[w].src,alt:c("JournalFeelingsList")[w].name}})}.bind(this));this.reactions=o};n.prototype.getPhraseData=function(){return this.phrases};n.prototype.genPhrases=function(){var o=[],p=this.randomSubset(m,k);p.forEach(function(q,r,s){o.push({count:this.randomInt()%h,phrase:q})}.bind(this));this.phrases=o};n.prototype.getQuoteData=function(){return this.quotes};n.prototype.genQuotes=function(){var o=[],p=this.randomSubset(l,i);p.forEach(function(q,r,s){o.push({quote:q,count:this.randomInt()%h})}.bind(this));this.quotes=o};n.prototype.randomSubset=function(o,p){if(o.length<=p)return o;var q=[];for(var r=0;r<p;r++){var s=this.randomInt()%o.length;while(q.indexOf(o[s])!=-1)s=(s+1)%o.length;q.push(o[s])}return q};n.prototype.randomInt=function(){var o=4294967296,p=Math.pow(this.seed,1+this.randomInvocations++/10);return Math.floor(p)%o};f.exports=n}),null);
__d("LinkSharingAnalyticsPulseDataQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1550611511633578"};j.getQueryID=function(){"use strict";return"375349136169434"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("LinkSharingPulseDataClient",["AsyncRequest","LinkSharingAnalyticsPulseDataQueryWebGraphQLQuery","Log"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.graphQLAPICallback=function(j){if(j.error!==0){this.errorMessage=j.errorSummary;this.setStatus("ERROR")}else{this.data=j.payload[this.url];this.setStatus("READY")}}.bind(this);this.url=i;this.status="NOT_STARTED";this.callbacks=[];this.errorMessage=null;this.data=null}h.prototype.start=function(){new(c("AsyncRequest"))(c("LinkSharingAnalyticsPulseDataQueryWebGraphQLQuery").getLegacyURI({url:this.url})).setHandler(this.graphQLAPICallback).send()};h.prototype.registerCallback=function(i){this.callbacks.push(i)};h.prototype.setStatus=function(i){this.status=i;for(var j=0;j<this.callbacks.length;j++)try{this.callbacks[j](this)}catch(k){c("Log").error(k.message)}};h.prototype.isReady=function(){return this.status==="READY"};h.prototype.isErrored=function(){return this.status==="ERROR"};h.prototype.isLoading=function(){return this.status==="LOADING"};h.prototype.getErrorMessage=function(){return this.errorMessage};h.prototype.hasQuoteData=function(){return this.data!=null&&this.data.quotes_analysis!=null};h.prototype.hasPhraseData=function(){return this.data!=null&&this.data.phrases_analysis!=null};h.prototype.hasReactionData=function(){return this.data!=null&&this.data.emotional_analysis!=null};h.prototype.getReactionData=function(){if(this.data==null)return null;var i=this.data.emotional_analysis;if(i==null)return null;if(i.emotions==null)return null;return i.emotions.edges.map(function(j){return{count:j.node.count,name:j.node.mood_page.name,icon:j.node.icon_image}})};h.prototype.getPhraseData=function(){if(this.data===null||this.data===undefined)return null;var i=this.data.phrases_analysis;if(i===null||i===undefined)return null;var j=[];for(var k=0;k<i.phrases.edges.length;k++)j.push({count:i.phrases.edges[k].node.count,phrase:i.phrases.edges[k].node.phrase});return j};h.prototype.getQuoteData=function(){if(this.data===null||this.data===undefined)return null;var i=this.data.quotes_analysis;if(i===null||i===undefined)return null;return i.quotes.edges.map(function(j){return{count:j.node.count,quote:j.node.quote}})};f.exports=h}),null);
__d("LinkSharingURLDetailData",["InsightsContext","ISO8601","GraphAPI","LinkSharingAggregator","LinkSharingGraphAPIClient","LinkSharingConstants","Log","Map","Set"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){this.url=i;this.range=j;this.stateChangeCallbacks=[];this.appID=c("InsightsContext").getObjID();this.recentActivityMap={};this.recentActivityRequested=false;this.ogTitleMap={};this.ogTitlesRequested=false;this.now=Math.floor(Date.now()/1e3);var k=["CITY","COUNTRY","AGE_GENDER","LOCALE","REF_PARAM","REGION"];this.demographicClient=new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:"ENTIRE_RANGE",aggregationType:"EVENT_COUNT",appID:this.appID,breakdowns:k,eventNames:null,fields:null,since:j.since,until:j.until,urls:this.url?[this.url]:null});this.timeSeriesClient=new(c("LinkSharingGraphAPIClient"))({aggregationPeriod:null,aggregationType:"EVENT_COUNT",appID:this.appID,breakdowns:null,eventNames:null,fields:null,since:j.since,until:j.until,urls:this.url?[this.url]:null});this.timeSeriesClient.registerCallback(this.onTimeSeriesStateChange.bind(this));this.demographicClient.registerCallback(this.onStateChange.bind(this));this.$LinkSharingURLDetailData1()}h.prototype.getDemographicValues=function(){var i=this.demographicClient.getData(),j={age:[],gender:[],city:[],cityDescriptions:{},country:[],locale:[],region:[],refParam:[]};if(!i)return j;for(var k=0;k<i.length;k++){var l=i[k];if(!l)continue;var m=l.breakdowns;if(!m)continue;if(m.age_gender)m.age_gender.forEach(function(n){if(!j.age.includes(n.age_range))j.age.push(n.age_range);if(!j.gender.includes(n.gender))j.gender.push(n.gender)});if(m.country)m.country.forEach(function(n){if(!j.country.includes(n.country_code))j.country.push(n.country_code)});if(m.city)m.city.forEach(function(n){var o=c("LinkSharingAggregator").getCityLongForm(n);if(!j.city.includes(o)){j.city.push(o);var p={city:n.city,longForm:c("LinkSharingAggregator").getCityLongForm(n)};j.cityDescriptions[o]=p}});if(m.locale)m.locale.forEach(function(n){if(!j.locale.includes(n.locale))j.locale.push(n.locale)});if(m.region)m.region.forEach(function(n){if(!j.region.includes(n.region))j.region.push(n.region)})}return j};h.prototype.$LinkSharingURLDetailData2=function(i,j){var k={url:i,COMMENT:0,POST:0,populatedDemographics:{age_gender:false,country:false,city:false,locale:false,ref_param:false},activity:this.recentActivityMap[i]||0,title:this.ogTitleMap[i]||null};for(var l in j){k[l]={};for(var m=0;m<j[l].length;m++)k[l][j[l][m]]={COMMENT:0,POST:0}}return k};h.prototype.$LinkSharingURLDetailData3=function(i,j){var k=j.event_name,l=j.url;i[l][k]+=j.total;if(!j.breakdowns)return;if(j.breakdowns.age_gender){i[l].populatedDemographics.age_gender=true;j.breakdowns.age_gender.forEach(function(m){i[l].age[m.age_range][k]+=m.count;i[l].gender[m.gender][k]+=m.count})}if(j.breakdowns.country){i[l].populatedDemographics.country=true;j.breakdowns.country.forEach(function(m){i[l].country[m.country_code][k]+=m.count})}if(j.breakdowns.city){i[l].populatedDemographics.city=true;j.breakdowns.city.forEach(function(m){i[l].city[c("LinkSharingAggregator").getCityLongForm(m)][k]+=m.count})}if(j.breakdowns.locale){i[l].populatedDemographics.locale=true;j.breakdowns.locale.forEach(function(m){i[l].locale[m.locale][k]+=m.count})}if(j.breakdowns.ref_param){i[l].populatedDemographics.ref_param=true;j.breakdowns.locale.forEach(function(m){i[l].refParam[m.ref_param][k]+=m.count})}};h.prototype.getTableView=function(){var i=this.getDemographicValues(),j=this.demographicClient.getData(),k={},l=[];if(!j)return l;for(var m=0;m<j.length;m++){if(!j[m])continue;var n=j[m].url||"";if(!k[n])k[n]=this.$LinkSharingURLDetailData2(n,i);this.$LinkSharingURLDetailData3(k,j[m])}for(var o in k)l.push(k[o]);return l};h.prototype.registerCallback=function(i){this.stateChangeCallbacks.push(i)};h.prototype.$LinkSharingURLDetailData1=function(){this.demographicClient.start();if(this.timeSeriesClient!=null)this.timeSeriesClient.start()};h.prototype.onStateChange=function(i){if(this.demographicClient.isReady()||this.demographicClient.isErrored())for(var j=0;j<this.stateChangeCallbacks.length;j++)try{this.stateChangeCallbacks[j](this)}catch(k){c("Log").error(k.message)}};h.prototype.onTimeSeriesStateChange=function(i){if(this.timeSeriesClient==null)return;var j=this.timeSeriesClient;if(j.isReady()||j.isErrored())for(var k=0;k<this.stateChangeCallbacks.length;k++)try{this.stateChangeCallbacks[k](this)}catch(l){c("Log").error(l.message)}};h.prototype.isReady=function(){return this.demographicClient.isReady()};h.prototype.isError=function(){return this.demographicClient.isErrored()};h.prototype.isLoading=function(){return this.demographicClient.isLoading()};h.prototype.getAgeGenderHistogram=function(){return c("LinkSharingAggregator").aggregateAgeGenderHistogram(this.demographicClient.getData())};h.prototype.getCountryHistogram=function(){return c("LinkSharingAggregator").aggregateCountryHistogram(this.demographicClient.getData())};h.prototype.getRefParamHistogram=function(){var i={},j=[],k=this.demographicClient.getData();if(!k)return j;k.forEach(function(m){var n=m.breakdowns;if(!n)return;var o=n.ref_param;if(!o)return;o.forEach(function(p){if(i[p.ref_param])i[p.ref_param].count+=p.count;else i[p.ref_param]={refParam:p.ref_param,count:p.count}})});for(var l in i)j.push(i[l]);return j};h.prototype.getCityHistogram=function(){return c("LinkSharingAggregator").aggregateCityHistogram(this.demographicClient.getData())};h.prototype.hasTimeSeriesData=function(){return this.timeSeriesClient!=null&&this.timeSeriesClient.isReady()};h.prototype.isShareTimeSeriesAggregatedHourly=function(){return!!(this.timeSeriesClient&&this.timeSeriesClient.determineAggregationPeriod()==="HOUR_1")};h.prototype.getShareTimeSeries=function(){return c("LinkSharingAggregator").aggregateShareTimeSeries(this.timeSeriesClient!=null?this.timeSeriesClient.getData():null)};h.prototype.getUrls=function(){var i={},j=this.demographicClient.getData();if(j==null||this.demographicClient.isErrored())return[];for(var k=0;k<j.length;k++)if(j[k].url)i[j[k].url]=true;return Object.keys(i)};h.prototype.requestOgTitles=function(){if(this.ogTitlesRequested)return;var i=this.getUrls();if(i.length===0)return;c("GraphAPI")(c("LinkSharingConstants").GraphAPIVersion).urls(i).get({fields:"og_object.fields(title)"}).done(function(j){for(var k=Object.entries(j),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}var o=n,p=o[0],q=o[1];if(q.og_object!=null&&q.og_object.title!=null)this.ogTitleMap[p]=q.og_object.title}}.bind(this),function(j){c("Log").error(j.message)});this.ogTitlesRequested=true};f.exports=h}),null);
__d("LinkSharingURLDetailCard",["cx","GriffinGrid","InsightsContext","InsightsEventLogger","LinkSharingMockPulseDataClient","LinkSharingPulseDataClient","LinkSharingURLDetailAgeGenderCard","LinkSharingURLDetailData","LinkSharingURLDetailLocationCard","LinkSharingURLDetailLocationCityCard","LinkSharingURLDetailQuotesCard","LinkSharingURLDetailRefParamCard","LinkSharingURLDetailSentimentDetailCard","LinkSharingURLDetailTalkingPointsCard","LinkSharingURLDetailTimeSeriesCard","Map","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(m){j.constructor.call(this,m);var n=c("InsightsContext").getVisibleDateRangeFromPageStateOrDefault();this.existingRange=n;this.pulseClient=c("InsightsContext").isDemoApp()?new(c("LinkSharingMockPulseDataClient"))(this.props.url):new(c("LinkSharingPulseDataClient"))(this.props.url);this.pulseClient.start();this.state={data:new(c("LinkSharingURLDetailData"))(this.props.url,{since:n.since.getTime()/1e3,until:n.until.getTime()/1e3},"DETAIL")};c("InsightsEventLogger").logCardViewWithDateRange("detail",n,{url:this.props.url})}l.prototype.componentWillReceiveProps=function(m){var n=c("InsightsContext").getVisibleDateRangeFromPageStateOrDefault();if(this.existingRange&&this.existingRange.since.getTime()===n.since.getTime()&&this.existingRange.until.getTime()===n.until.getTime())return;this.existingRange=n;c("InsightsEventLogger").logCardViewWithDateRange("detail",n,{url:this.props.url});this.setState({data:new(c("LinkSharingURLDetailData"))(this.props.url,{since:n.since.getTime()/1e3,until:n.until.getTime()/1e3},"DETAIL")})};l.prototype.render=function(){var m=[];m=[c("React").createElement(c("LinkSharingURLDetailAgeGenderCard"),{key:"ageGenderCard",ref:"ageGenderCard",url:this.props.url,data:this.state.data}),c("React").createElement(c("LinkSharingURLDetailLocationCard"),{key:"locationCard",ref:"locationCard",url:this.props.url,data:this.state.data}),c("React").createElement(c("LinkSharingURLDetailLocationCityCard"),{key:"locationCityCard",ref:"locationCityCard",url:this.props.url,data:this.state.data}),c("React").createElement(c("LinkSharingURLDetailSentimentDetailCard"),{key:"sentimentCard",ref:"sentimentCard",url:this.props.url,client:this.pulseClient}),c("React").createElement(c("LinkSharingURLDetailTalkingPointsCard"),{key:"talkingPointsCard",ref:"talkingPointsCard",url:this.props.url,client:this.pulseClient}),c("React").createElement(c("LinkSharingURLDetailQuotesCard"),{key:"quotesCard",ref:"quotesCard",url:this.props.url,client:this.pulseClient}),c("React").createElement(c("LinkSharingURLDetailRefParamCard"),{key:"refParamCard",ref:"refParamCard",url:this.props.url,data:this.state.data})];return c("React").createElement("div",null,c("React").createElement(c("LinkSharingURLDetailTimeSeriesCard"),{key:"TimeSeriesCard",ref:"TimeSeriesCard",data:this.state.data}),c("React").createElement(c("GriffinGrid"),{key:"detailGrid",columns:3},m))};f.exports=l}),null);
__d("LinkSharingURLDetailLocationCard",["cssVar","cx","fbt","AnalyticsCard","AppEventsAggregatingColumn","CandelaStyleSheet","FalcorDataTooltip","FalcorLoadingCard","FalcorPaginatedDataTable","FalcorVerticalBarChart","GriffinResizableChart","InsightsCountryNames","InsightsEventLogger","InsightsFormatterFactoryFactories","Link.react","LinkSharingDetailCard","LinkSharingMissingContentCard","ObjectSort","React","SimpleXUIDialog","CandelaConstants","intlNumUtils","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=c("CandelaConstants").ScaleType,o=c("CandelaGroupScaleBuilder").group,p=c("CandelaStackScaleBuilder").stack;k=babelHelpers.inherits(q,m);l=k&&k.prototype;function q(r){l.constructor.call(this,r);this.$LinkSharingURLDetailLocationCard1=function(s){this.forceUpdate()}.bind(this);this.$LinkSharingURLDetailLocationCard2=function(){c("InsightsEventLogger").logCardView("country_show_all",{url:this.props.url});function s(w){return c("intlNumUtils").formatNumberWithThousandDelimiters(w)}function t(w){return c("InsightsCountryNames")[w]||w}var u=[{cellRenderer:t,label:j._("C\u00f3digo del pa\u00eds"),id:"countryCode",comparator:c("ObjectSort").getStringSortFunction("countryCode"),sortable:true},{cellRenderer:s,label:j._("Total"),id:"count",comparator:c("ObjectSort").getNumericSortFunction("count"),sortable:true}],v=this.props.data.getCountryHistogram();v.sort(function(w,x){return x.count-w.count});c("SimpleXUIDialog").show(c("React").createElement(c("AnalyticsCard"),{className:"_1rk6",key:"LocationPopupCard",showLine:false,title:j._("Lugares")},c("React").createElement(c("FalcorPaginatedDataTable"),{key:"DataTable",columns:u,rows:v,pageSize:v.length})))}.bind(this);this.render=function(){if(!this.props.data.isReady())return c("React").createElement(c("LinkSharingDetailCard"),{title:this.$LinkSharingURLDetailLocationCard3()},c("React").createElement(c("FalcorLoadingCard"),{showCard:false,key:"LoadingIndicator"}));return c("React").createElement(c("LinkSharingDetailCard"),{buttons:this.$LinkSharingURLDetailLocationCard5(),title:this.$LinkSharingURLDetailLocationCard3()},c("React").createElement(c("GriffinResizableChart"),null,this.$LinkSharingURLDetailLocationCard4()))}.bind(this);this.props.data.registerCallback(this.$LinkSharingURLDetailLocationCard1)}q.prototype.componentWillReceiveProps=function(r){r.data.registerCallback(this.$LinkSharingURLDetailLocationCard1)};q.prototype.$LinkSharingURLDetailLocationCard3=function(){return j._("PRINCIPALES PA\u00cdSES")};q.prototype.$LinkSharingURLDetailLocationCard4=function(){var r=this.props.data.getCountryHistogram();if(r.length===0)return c("React").createElement(c("LinkSharingMissingContentCard"),{key:"LocationMissingData"});r.sort(function(z,A){return A.count-z.count});var s=r.slice(0,3),t=r.slice(3);if(t&&t.length>0){var u=0;for(var v=0;v<t.length;v++)u+=t[v].count;s.push({countryCode:"Other",count:u})}var w={countryCode:{type:n.CATEGORY},count:{type:n.NUMBER}},x=c("InsightsFormatterFactoryFactories").seriesPercentageBarLabelFormatterFactoryFactory(r,w,"countryCode"),y=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"]':{visibility:"hidden"},barlabel:{visibility:"hidden"},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:6},gridline:{visibility:"hidden"}});return c("React").createElement(c("FalcorVerticalBarChart"),{barLabelFormatterFactory:x,breakdownType:c("AppEventsAggregatingColumn").COUNTRY,data:s,height:160,key:"LocationBarChart",plotX:o("countryCode"),plotY:[p("count").from(0).extendInput(0,.25)],schema:w,styleSheet:y,unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE})};q.prototype.$LinkSharingURLDetailLocationCard5=function(){if(this.props.data.getCountryHistogram().length===0)return null;return c("React").createElement(c("Link.react"),{key:"ViewAllPopupLink",className:"_3pln",onClick:this.$LinkSharingURLDetailLocationCard2},j._("Ver todas"))};f.exports=q}),null);
__d("LinkSharingURLDetailLocationCityCard",["cssVar","cx","fbt","AnalyticsCard","AppEventsAggregatingColumn","CandelaStyleSheet","FalcorDataTooltip","FalcorLoadingCard","FalcorPaginatedDataTable","FalcorVerticalBarChart","GriffinResizableChart","InsightsEventLogger","InsightsFormatterFactoryFactories","Link.react","LinkSharingDetailCard","LinkSharingMissingContentCard","ObjectSort","React","SimpleXUIDialog","immutable","CandelaConstants","intlNumUtils","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=c("immutable").OrderedMap,o=c("CandelaConstants").ScaleType,p=c("CandelaGroupScaleBuilder").group,q=11;k=babelHelpers.inherits(r,m);l=k&&k.prototype;function r(s){l.constructor.call(this,s);this.$LinkSharingURLDetailLocationCityCard1=function(t){this.forceUpdate()}.bind(this);this.$LinkSharingURLDetailLocationCityCard2=function(){c("InsightsEventLogger").logCardView("city_show_all",{url:this.props.url});function t(x){return c("intlNumUtils").formatNumberWithThousandDelimiters(x)}function u(x){if(x!=null&&x.length>0)return x;else return"-"}var v=[{cellRenderer:u,label:j._("Ciudad"),id:"city",comparator:c("ObjectSort").getStringSortFunction("city"),sortable:true},{cellRenderer:u,label:j._("Regi\u00f3n"),id:"region",comparator:c("ObjectSort").getStringSortFunction("region"),sortable:true},{cellRenderer:u,label:j._("Pa\u00eds"),id:"country",comparator:c("ObjectSort").getStringSortFunction("country"),sortable:true},{cellRenderer:t,label:j._("Total"),id:"count",comparator:c("ObjectSort").getNumericSortFunction("count"),sortable:true}],w=this.props.data.getCityHistogram();w.sort(function(x,y){return y.count-x.count});c("SimpleXUIDialog").show(c("React").createElement(c("AnalyticsCard"),{className:"_1rk6",key:"LocationPopupCard",showLine:false,title:j._("Ciudades")},c("React").createElement(c("FalcorPaginatedDataTable"),{key:"DataTable",columns:v,rows:w,pageSize:w.length})),null,null,{width:600})}.bind(this);this.render=function(){if(!this.props.data.isReady())return c("React").createElement(c("LinkSharingDetailCard"),{title:this.$LinkSharingURLDetailLocationCityCard3()},c("React").createElement(c("FalcorLoadingCard"),{showCard:false,key:"LoadingIndicator"}));return c("React").createElement(c("LinkSharingDetailCard"),{title:this.$LinkSharingURLDetailLocationCityCard3(),buttons:this.$LinkSharingURLDetailLocationCityCard5()},c("React").createElement(c("GriffinResizableChart"),null,this.$LinkSharingURLDetailLocationCityCard4()))}.bind(this);this.props.data.registerCallback(this.$LinkSharingURLDetailLocationCityCard1)}r.prototype.componentWillReceiveProps=function(s){s.data.registerCallback(this.$LinkSharingURLDetailLocationCityCard1)};r.prototype.$LinkSharingURLDetailLocationCityCard3=function(){return j._("PRINCIPALES CIUDADES")};r.prototype.$LinkSharingURLDetailLocationCityCard4=function(){var s=this.props.data.getCityHistogram();if(s.length===0)return c("React").createElement(c("LinkSharingMissingContentCard"),{key:"LocationMissingData"});s.sort(function(A,B){return B.count-A.count});var t=s.slice(0,3),u=s.slice(3);if(u&&u.length>0){var v=0;for(var w=0;w<u.length;w++)v+=u[w].count;t.push({city:"Other",count:v})}var x={city:{type:o.CATEGORY},count:{type:o.NUMBER}},y=c("InsightsFormatterFactoryFactories").seriesPercentageBarLabelFormatterFactoryFactory(s,x,"city"),z=c("CandelaStyleSheet").fromJS({'axis[orientation="vertical"]':{visibility:"hidden"},barlabel:{visibility:"hidden"},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:10},gridline:{visibility:"hidden"}});return c("React").createElement(c("FalcorVerticalBarChart"),{key:"LocationBarChart",barLabelFormatterFactory:y,breakdownType:c("AppEventsAggregatingColumn").CITY_CODE,data:t,height:160,plotX:p("city"),plotY:[p("count").from(0).extendInput(0,.25)],schema:x,styleSheet:z,truncateLabels:true,unitLabel:c("FalcorDataTooltip").UnitLabels.PEOPLE})};r.prototype.$LinkSharingURLDetailLocationCityCard5=function(){if(this.props.data.getCityHistogram().length===0)return null;return c("React").createElement(c("Link.react"),{key:"ViewAllPopupLink",className:"_3pln",onClick:this.$LinkSharingURLDetailLocationCityCard2},j._("Ver todas"))};f.exports=r}),null);
__d("SlidingSelector",["cx","Log","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").Component,l=0,m=5,n=11,o=1,p="SlidingSelectorSelection";i=babelHelpers.inherits(q,k);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.onMouseClick=function(event){if(event===null||event===undefined){c("Log").error("onMouseClick invoked with no event.");return}var s=event.currentTarget;if(s===null||s===undefined){c("Log").error("onMouseClick invoked with no valid target.");return}var t=s.id,u=this.props.name.concat(p);if(t===null||t===undefined||t.indexOf(u)!==0){c("Log").error("onMouseClick invoked with on an invalid element.");return}var v=parseInt(t.replace(u,""),10);this.currentSelection=v;if(this.callbacks!==null&&this.callbacks!==undefined)if(Array.isArray(this.callbacks))this.callbacks.forEach(function(w){w(v)});else this.callbacks(v);this.setState({currentSelection:this.currentSelection})}.bind(this);this.props=r;this.callbacks=r.callbacks;this.currentSelection=r.defaultSelection||l;this.numberOfSelections=r.numberOfSelections||m;this.state={currentSelection:this.currentSelection}}q.prototype.getCurrentSelection=function(){return this.currentSelection};q.prototype.render=function(){var r=[];for(var s=0;s<this.numberOfSelections;s++){var t=this.props.name.concat(p.concat(s.toFixed(0)));if(s===this.currentSelection)r.push(c("React").createElement("div",{className:"_tgb _tgc",id:t,key:t,onClick:this.onMouseClick,role:"button",tabIndex:"0"}));else r.push(c("React").createElement("div",{className:"_tgd _tgc",id:t,key:t,onClick:this.onMouseClick,role:"button",tabIndex:"0"}))}var u=this.props.name.concat("SlidingSelectorWrapper");return c("React").createElement("div",{className:"_tge",key:u,id:u,style:{width:(n+o*2)*this.numberOfSelections}},r)};f.exports=q}),null);
__d("LinkSharingURLDetailQuotesCard",["cx","fbt","ix","FalcorLoadingCard","Image.react","InsightsEventLogger","LinkSharingDetailCard","LinkSharingMissingContentCard","React","SlidingSelector"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=i._("POPULAR QUOTES"),o=5;k=babelHelpers.inherits(p,m);l=k&&k.prototype;function p(r){l.constructor.call(this,r);q.call(this);this.props.client.registerCallback(this.callback);var s="LOADING";if(this.props.client.isReady())s="READY";else if(this.props.client.isErrored())s="ERROR";this.state={activeQuote:0,quotes:null,state:s}}p.prototype.$LinkSharingURLDetailQuotesCard1=function(){return c("React").createElement(c("LinkSharingDetailCard"),{title:n},c("React").createElement(c("FalcorLoadingCard"),{key:"loadingIndicator",showCard:false}))};p.prototype.$LinkSharingURLDetailQuotesCard2=function(){return null};p.prototype.$LinkSharingURLDetailQuotesCard3=function(){if(this.state.quotes==null)return c("React").createElement(c("LinkSharingDetailCard"),{title:n},c("React").createElement(c("LinkSharingMissingContentCard"),{key:"QuotesMissingDataCard"}));var r=null,s=null,t=this.state.quotes,u=Math.min(t.length,o);if(u>1)s=c("React").createElement(c("SlidingSelector"),{callbacks:this.selectorCallback,name:"QuoteSlidingSelector",numberOfSelections:u,defaultSelection:this.state.activeQuote});var v=t[this.state.activeQuote].count.toLocaleString();r=c("React").createElement("div",null,c("React").createElement("div",{className:"_2_bf"},t[this.state.activeQuote].quote),c("React").createElement("div",{className:"_3-8w _2ac-"},c("React").createElement(c("Image.react"),{src:j("96534"),className:"_3-8_ _2ac_"}),"Shared by "+v+" people."));return c("React").createElement(c("LinkSharingDetailCard"),{title:n,buttons:s},r)};var q=function q(){this.selectorCallback=function(r){c("InsightsEventLogger").logCardView("quotes",{index:r,url:this.props.url});this.setState({activeQuote:r})}.bind(this);this.callback=function(r){var s="ERROR",t=null;if(r.isReady()){s="READY";t=r.getQuoteData();if(t)t=t.sort(function(u,v){return v.count-u.count}).slice(0,o)}else if(r.isLoading())s="LOADING";this.setState({state:s,quotes:t})}.bind(this);this.render=function(){if(this.state.state=="LOADING")return this.$LinkSharingURLDetailQuotesCard1();else if(this.state.state=="ERROR")return this.$LinkSharingURLDetailQuotesCard2();else return this.$LinkSharingURLDetailQuotesCard3()}.bind(this)};f.exports=p}),null);
__d("LinkSharingURLDetailRefParamCard",["cssVar","cx","fbt","AnalyticsCard","BonsaiTooltip","CandelaStyleSheet","FalcorChartFormatters","FalcorInsightsHorizontalBarChart","FalcorLoadingCard","FalcorPaginatedDataTable","GriffinResizableChart","InsightsEventLogger","Link.react","LinkSharingDetailCard","LinkSharingMissingContentCard","ObjectSort","React","SimpleXUIDialog","CandelaConstants","intlNumUtils","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=c("CandelaConstants").ScaleType,o=c("CandelaGroupScaleBuilder").group,p=5,q=12;k=babelHelpers.inherits(r,m);l=k&&k.prototype;function r(s){l.constructor.call(this,s);this.$LinkSharingURLDetailRefParamCard1=function(t){this.forceUpdate()}.bind(this);this.$LinkSharingURLDetailRefParamCard2=function(){c("InsightsEventLogger").logCardView("ref_param_show_all",{url:this.props.url});function t(y){return c("intlNumUtils").formatNumberWithThousandDelimiters(y)}function u(y){return y}var v=[{cellRenderer:u,label:j._("Valor de referencia"),id:"refParam",comparator:c("ObjectSort").getStringSortFunction("refParam"),sortable:true},{cellRenderer:t,label:j._("Total"),id:"count",comparator:c("ObjectSort").getNumericSortFunction("count"),sortable:true}],w=this.props.data.getRefParamHistogram();w.sort(function(y,z){return z.count-y.count});var x=j._("Valores de par\u00e1metro de referencia");c("SimpleXUIDialog").show(c("React").createElement(c("AnalyticsCard"),{className:"_1rk6",key:"RefParamPopupCard",showLine:false,title:x},c("React").createElement(c("FalcorPaginatedDataTable"),{key:"DataTable",columns:v,rows:w,pageSize:w.length})))}.bind(this);this.props.data.registerCallback(this.$LinkSharingURLDetailRefParamCard1)}r.prototype.componentWillReceiveProps=function(s){s.data.registerCallback(this.$LinkSharingURLDetailRefParamCard1)};r.prototype.$LinkSharingURLDetailRefParamCard3=function(){var s=this.props.data.getRefParamHistogram();if(s.length===0){var t=j._("Para ver datos, a\u00f1ade un par\u00e1metro a la URL, como \"&ref=valor\", donde \"valor\" es una variable din\u00e1mica.");return c("React").createElement(c("LinkSharingMissingContentCard"),{key:"RefParamMissingData",message:t})}s.sort(function(w,x){return x.count-w.count});s=s.slice(0,p);var u={refParam:{type:n.CATEGORY},count:{type:n.NUMBER}},v=c("CandelaStyleSheet").fromJS({'axis[orientation="horizontal"]':{visibility:"hidden"},'axis[orientation="vertical"]':{width:95},barlabel:{},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:4},gridline:{visibility:"hidden"}});return c("React").createElement(c("FalcorInsightsHorizontalBarChart"),{axisMarkFormatterFactory:c("FalcorChartFormatters").getEllipsisAxisFormatter(q),key:"LocationBarChart",data:s,height:160,width:160,plotY:o("refParam"),plotX:[o("count").from(0)],schema:u,styleSheet:v})};r.prototype.$LinkSharingURLDetailRefParamCard4=function(){if(this.props.data.getRefParamHistogram().length===0)return null;return c("React").createElement(c("Link.react"),{key:"ViewAllPopupLink",className:"_3pln",onClick:this.$LinkSharingURLDetailRefParamCard2},j._("Ver todo"))};r.prototype.render=function(){var s=j._("Puedes a\u00f1adir valores de par\u00e1metro de referencia a las URL para medir las campa\u00f1as, la actividad de la sesi\u00f3n u otra informaci\u00f3n. Deben tener el formato \"&ref=valor\", donde \"valor\" es una variable din\u00e1mica."),t=c("React").createElement("span",null,j._("VALORES DE REFERENCIA PRINCIPALES"),c("React").createElement(c("BonsaiTooltip"),{position:"right",tooltip:s}));if(!this.props.data.isReady())return c("React").createElement(c("LinkSharingDetailCard"),{title:t},c("React").createElement(c("FalcorLoadingCard"),{showCard:false,key:"LoadingIndicator"}));return c("React").createElement(c("LinkSharingDetailCard"),{buttons:this.$LinkSharingURLDetailRefParamCard4(),title:t},c("React").createElement(c("GriffinResizableChart"),null,this.$LinkSharingURLDetailRefParamCard3()))};f.exports=r}),null);
__d("LinkSharingURLDetailSentimentDetailCard",["cx","fbt","FalcorLoadingCard","Image.react","LinkSharingDetailCard","LinkSharingMissingContentCard","List.react","React","intlSummarizeNumber"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component,m=3,n=i._("SENTIMENT");j=babelHelpers.inherits(o,l);k=j&&j.prototype;function o(q){k.constructor.call(this,q);p.call(this);this.props.client.registerCallback(this.callback);var r="LOADING";if(this.props.client.isReady())r="READY";else if(this.props.client.isErrored())r="ERROR";this.state={state:r}}o.prototype.$LinkSharingURLDetailSentimentDetailCard1=function(){return c("React").createElement(c("LinkSharingDetailCard"),{title:n},c("React").createElement(c("FalcorLoadingCard"),{key:"loadingIndicator",showCard:false}))};o.prototype.$LinkSharingURLDetailSentimentDetailCard2=function(){return null};o.prototype.capitalize=function(q){return q&&q.charAt(0).toUpperCase()+q.substr(1).toLowerCase()};o.prototype.$LinkSharingURLDetailSentimentDetailCard3=function(){var q=[],r=this.props.client.getReactionData();if(!r)return c("React").createElement(c("LinkSharingDetailCard"),{title:n},c("React").createElement(c("LinkSharingMissingContentCard"),{key:"SentimentMissingDataCard"}));for(var s=0;s<r.length&&s<m;s++){var t=r[s];q.push(c("React").createElement("li",{key:t.name,className:"_42kk"},c("React").createElement("div",{className:"_42kl"},c("React").createElement(c("Image.react"),{width:t.icon.width,height:t.icon.height,src:t.icon.uri,alt:t.icon.name}),c("React").createElement("div",{className:"_3zcb"},this.capitalize(t.name)),c("React").createElement("div",{className:"_3zcc"},c("intlSummarizeNumber")(t.count)))))}return c("React").createElement(c("LinkSharingDetailCard"),{title:n},c("React").createElement(c("List.react"),{className:"_a3n"},q))};var p=function p(){this.callback=function(q){var r="ERROR";if(q.isReady())r="READY";else if(q.isLoading())r="LOADING";this.setState({state:r})}.bind(this);this.render=function(){if(this.state.state=="LOADING")return this.$LinkSharingURLDetailSentimentDetailCard1();else if(this.state.state=="ERROR")return this.$LinkSharingURLDetailSentimentDetailCard2();else return this.$LinkSharingURLDetailSentimentDetailCard3()}.bind(this)};f.exports=o}),null);
__d("LinkSharingURLDetailTalkingPointsCard",["cssVar","fbt","CandelaStyleSheet","FalcorChartFormatters","FalcorInsightsHorizontalBarChart","FalcorLoadingCard","GriffinResizableChart","LinkSharingDetailCard","LinkSharingMissingContentCard","React","immutable","CandelaConstants","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component,m=c("immutable").OrderedMap,n=c("CandelaConstants").ScaleType,o=c("CandelaGroupScaleBuilder").group,p=i._("WHAT PEOPLE SAY"),q=5,r=12;j=babelHelpers.inherits(s,l);k=j&&j.prototype;function s(u){k.constructor.call(this,u);t.call(this);this.props.client.registerCallback(this.callback);var v="LOADING";if(this.props.client.isReady())v="READY";else if(this.props.client.isErrored())v="ERROR";this.state={state:v}}s.prototype.$LinkSharingURLDetailTalkingPointsCard1=function(){return c("React").createElement(c("LinkSharingDetailCard"),{title:p},c("React").createElement(c("FalcorLoadingCard"),{key:"loadingIndicator",showCard:false}))};s.prototype.$LinkSharingURLDetailTalkingPointsCard2=function(){return null};s.prototype.$LinkSharingURLDetailTalkingPointsCard3=function(){var u=this.props.client.getPhraseData();if(!u)return c("React").createElement(c("LinkSharingDetailCard"),{title:p},c("React").createElement(c("LinkSharingMissingContentCard"),{key:"PhrasesMissingData"}));u.sort(function(x,y){return y.count-x.count});u=u.slice(0,q);var v={phrase:{type:n.CATEGORY},count:{type:n.NUMBER}},w=c("CandelaStyleSheet").fromJS({'axis[orientation="horizontal"]':{visibility:"hidden"},'axis[orientation="vertical"]':{width:95},barlabel:{},bargroup:{fontFamily:"Helvetica, Arial, sans-serif",fontSize:"12px",color:"#4b4f56",margin:4},gridline:{visibility:"hidden"}});return c("React").createElement(c("LinkSharingDetailCard"),{title:p},c("React").createElement(c("GriffinResizableChart"),null,c("React").createElement(c("FalcorInsightsHorizontalBarChart"),{axisMarkFormatterFactory:c("FalcorChartFormatters").getEllipsisAxisFormatter(r),key:"LocationBarChart",data:u,height:160,width:160,plotY:o("phrase"),plotX:[o("count").from(0)],schema:v,styleSheet:w})))};var t=function t(){this.callback=function(u){var v="ERROR";if(u.isReady())v="READY";else if(u.isLoading())v="LOADING";this.setState({state:v})}.bind(this);this.render=function(){if(this.state.state=="LOADING")return this.$LinkSharingURLDetailTalkingPointsCard1();else if(this.state.state=="ERROR")return this.$LinkSharingURLDetailTalkingPointsCard2();else return this.$LinkSharingURLDetailTalkingPointsCard3()}.bind(this)};f.exports=s}),null);
__d("LinkSharingURLDetailTimeSeriesCard",["cx","fbt","AnalyticsCard","AnalyticsGKs","AnalyticsGKNames","BonsaiApiDataAdapter","BonsaiTooltip","CreateCustomAudienceComponent","FalcorLoadingCard","GriffinChartContainer","GriffinTimeSeriesChart","InsightsContext","LinkSharingMissingContentCard","React","Timezone","immutable","CandelaGroupScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component,m=c("immutable").OrderedSet,n=c("Timezone").UTC,o=c("CandelaGroupScaleBuilder").group;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$LinkSharingURLDetailTimeSeriesCard1=function(r){this.forceUpdate()}.bind(this);this.props.data.registerCallback(this.$LinkSharingURLDetailTimeSeriesCard1)}p.prototype.componentWillReceiveProps=function(q){q.data.registerCallback(this.$LinkSharingURLDetailTimeSeriesCard1)};p.prototype.$LinkSharingURLDetailTimeSeriesCard2=function(){var q=i._("Publicaciones"),r=i._("Comentarios"),s=i._("Total de veces compartido"),t=i._("This shows you all the shares for this URL, including shares in posts and comments."),u=c("React").createElement(c("BonsaiTooltip"),{aligntH:"left",position:"below",tooltip:t}),v={comments:{label:r,renderAs:"line",type:"number"},posts:{label:q,renderAs:"line",type:"number"},time:{timezoneID:n,type:"time"},total:{label:s,legendTooltip:u,renderAs:"line",type:"number"}},w=this.props.data.getShareTimeSeries();if(w==null||w.length===0)return this.$LinkSharingURLDetailTimeSeriesCard3();var x=this.props.data.isShareTimeSeriesAggregatedHourly(),y=0,z=0;if(w!=null&&w.length>0){y=w[0].time;z=w[w.length-1].time}var A=m([{key:"comments",label:r},{key:"posts",label:q},{key:"total",label:s}]);return c("React").createElement(c("GriffinChartContainer"),{chartKey:"link_sharing_url_time_series",dependentScaleName:"plotY"},c("React").createElement(c("GriffinTimeSeriesChart"),{data:w,isHourlyTimeSeries:x,items:A,plotX:o("time").from(y).to(z).extendInput(.3),plotY:[o("total","posts","comments")],schema:v,width:700}))};p.prototype.$LinkSharingURLDetailTimeSeriesCard3=function(){var q={display:"flex",flexDirection:"column",height:300,justifyContent:"center"};return c("React").createElement("div",{style:q},c("React").createElement(c("LinkSharingMissingContentCard"),{key:"BreakdownMissingData"}))};p.prototype.$LinkSharingURLDetailTimeSeriesCard4=function(){return c("React").createElement(c("FalcorLoadingCard"),null)};p.prototype.render=function(){if(this.props.data&&this.props.data.hasTimeSeriesData()){var q=i._("Contenido compartido"),r=c("AnalyticsGKs").get(c("AnalyticsGKNames").LINK_SHARING_CUSTOM_AUDIENCES)?c("React").createElement("div",null,c("React").createElement(c("CreateCustomAudienceComponent"),{queryData:{aln:"engagement_audience",alc:JSON.stringify({application:c("InsightsContext").getObjID().toString(),url:this.props.data.url})}})):null;return c("React").createElement(c("AnalyticsCard"),{showLine:true,title:q,buttons:r},this.$LinkSharingURLDetailTimeSeriesCard2())}else return this.$LinkSharingURLDetailTimeSeriesCard4()};f.exports=p}),null);
__d("FalcorMonetizeAdsNetworkCard",["cx","fbt","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiApiError","BonsaiApiPromise","BonsaiBreakdownChart","BonsaiConstants","BonsaiDownloadMixin","BonsaiErrorNotice","BonsaiSectionDataLoaderMixin","BonsaiStyle","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","FalcorPaginatedDataTable","InsightsNumUtils","InsightsPager.react","InsightsLoadingIndicator.react","InsightsInfoTip.react","React","ReactXUIMenu","PopoverMenu.react","XUIPopoverButton.react","PrettyNum","formatDate"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=c("React").createClass({displayName:"FalcorMonetizeAdsNetworkCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("BonsaiDownloadMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],_methods:{COUNT:"count",SUM:"payout"},_events:{revenue:"fb_ad_network_revenue",clicks:"fb_ad_network_click",impressions:"fb_ad_network_imp",requests:"fb_ad_network_request"},getInitialState:function l(){return babelHelpers["extends"]({},this._getInitialCardState("requests"),{placement:c("BonsaiConstants").ALL})},_fetchData:function l(m,n,o){Object.keys(this._methods).forEach(function(p){Object.keys(this._events).forEach(function(event){var q=this._events[event],r=[m,this._methods[p],q],s="app_event",t={breakdowns:m,event_name:q,aggregateBy:p};if(o)this.addRangeMetric(r,s,t,o);else this.addMetric(r,s,t)}.bind(this))}.bind(this));this.fetchMetrics(n)},_fetchCountryData:function l(m){var n=this._getCountryBreakdown(m);this._fetchData(n,true,m)},_getCountryBreakdown:function l(m){return[c("BonsaiApiBreakdown").PLACEMENT,c("BonsaiApiBreakdown").COUNTRY]},componentWillReceiveProps:function l(m){if(this.state.activeSection==="detailCountry")this._fetchCountryData(m.visibleDateRange)},componentWillMount:function l(){this._fetchData([c("BonsaiApiBreakdown").PLACEMENT]);this._fetchCountryData(this.props.visibleDateRange)},_payoutTab:function l(){var m=this.getData([c("BonsaiApiBreakdown").PLACEMENT,"payout",this._events.revenue]);return this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"payout",breakdown:c("BonsaiApiBreakdown").PLACEMENT,data:m,key:c("BonsaiApiBreakdown").PLACEMENT,currency:"USD",categories:[this._getHelptextMap().payout]})))},_metricTabs:function l(){var m={};["requests","impressions","clicks"].forEach(function(n){var o=this.getData([c("BonsaiApiBreakdown").PLACEMENT,"count",this._events[n]]);m[n]=this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:n,breakdown:c("BonsaiApiBreakdown").PLACEMENT,data:o,key:c("BonsaiApiBreakdown").PLACEMENT,categories:[this._getHelptextMap()[n]]})))}.bind(this));return m},_getExtraCardProps:function l(){if(this.state.activeSection==="detailDate")return{showLine:false,buttons:this._placementFilter()};if(this.state.activeSection==="detailCountry"){var m=this._getCountryBreakdown(this.props.visibleDateRange);return{showLine:false,buttons:this._placementFilter(m.toString()===[c("BonsaiApiBreakdown").COUNTRY].toString())}}return null},getFileName:function l(){var m="Audience Network Performance",n=m.replace(/ +/g,"")+"_"+c("BonsaiText").getBucketLabel(this.state.placement,c("BonsaiApiBreakdown").PLACEMENT).replace(/ +/g,"").toUpperCase();if(this.state.activeSection==="detailDate")return n;if(this.state.activeSection==="detailCountry"){n=n+"_COUNTRY";return n}return null},getCustomExportData:function l(){if(this.state.activeSection==="detailDate")return this._placementDetail()["export"];if(this.state.activeSection==="detailCountry"){var m=this._getCountryBreakdown(this.props.visibleDateRange);return this._geoDetail(m)["export"]}return this.getExportData()},_tableTab:function l(){var m=this._placementDetail(),n=this._getCountryBreakdown(this.props.visibleDateRange),o=this._geoDetail(n);return{detailDate:m.table,detailCountry:o.table}},_getHelptextMap:function l(){return{payout:"AdNetworkEstRevenue",requests:"AdNetworkRequests",impressions:"AdNetworkImpressions",clicks:"AdNetworkClicks",detailDate:"AdNetworkPerformanceDetails",detailCountry:"AdNetworkPerformanceDetails",video_views:"AdNetworkVideoViews",video_mrc:"AdNetworkVideoMRC",video_hqi:"AdNetworkVideoHQI",video_guarantee_revenue:"AdNetworkVideoGuaranteeRevenue"}},_getKeyToLabel:function l(){return{requests:c("BonsaiText").requests,impressions:c("BonsaiText").impressions,clicks:c("BonsaiText").clicks,payout:c("BonsaiText").payout,detailDate:c("BonsaiText").detail_date,detailCountry:c("BonsaiText").detail_country}},_getKeyToSection:function l(){return babelHelpers["extends"]({},this._metricTabs(),this._tableTab(),{payout:this._payoutTab()})},_renderCandela:function l(){if(this.state.activeSection==="detailDate"||this.state.activeSection==="detailCountry")return this._tableTab()[this.state.activeSection];var m=void 0,n=void 0;if(this.state.activeSection==="payout"){m=this.getData([c("BonsaiApiBreakdown").PLACEMENT,"payout",this._events.revenue]);n="USD"}else m=this.getData([c("BonsaiApiBreakdown").PLACEMENT,"count",this._events[this.state.activeSection]]);var o={data:m};this.setExportInfo([o],c("BonsaiApiBreakdown").PLACEMENT);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[o],activeBreakdown:c("BonsaiApiBreakdown").PLACEMENT,currentCard:this.props.cardKey,showBreakdownSelector:false,currency:n})},_title:function l(){return i._("Rendimiento de Audience Network")},_placementFilter:function l(m){var n=i._("Todas las ubicaciones de anuncios"),o=n,p=this.getData([c("BonsaiApiBreakdown").PLACEMENT,"count",this._events.requests]);if(!(p instanceof c("BonsaiApiDataAdapter")))return null;var q=p.getBreakdowns()[c("BonsaiApiBreakdown").PLACEMENT];if(!m&&this.state.placement&&this.state.placement!==c("BonsaiConstants").ALL){o=c("BonsaiText").getBucketLabel(this.state.placement,c("BonsaiApiBreakdown").PLACEMENT);q.unshift(c("BonsaiConstants").ALL)}var r=function r(u,v){this.setState({placement:v.item.getValue()})},s=null;if(q)s=q.map(function(u){var v=c("BonsaiText").getBucketLabel(u,c("BonsaiApiBreakdown").PLACEMENT);if(u!==c("BonsaiConstants").ALL)v=v+" ("+u+")";else v=n;return c("React").createElement(j,{className:"_2li5",value:u,key:u},v)});var t=c("React").createElement(c("ReactXUIMenu"),{className:"_2li4",onItemClick:r.bind(this)},s);return c("React").createElement("div",null,c("React").createElement(c("PopoverMenu.react"),{className:"_1il3",disabled:m,menu:t,align:"right"},c("React").createElement(c("XUIPopoverButton.react"),{className:"_5g1q _5gr9",label:o})))},_getBreakdownDataset:function l(m){var n=this.getData([m,"payout",this._events.revenue]),o=this.getData([m,"count",this._events.clicks]),p=this.getData([m,"count",this._events.impressions]),q=this.getData([m,"count",this._events.requests]),r=this.getData([m,this._methods.SUM,this._events.requests]);return[n,o,p,q,r]},_placementDetail:function l(){var m=this._getBreakdownDataset(c("BonsaiApiBreakdown").PLACEMENT);if(m.some(function(A){return A instanceof c("BonsaiApiPromise")}))return{table:c("React").createElement(c("InsightsLoadingIndicator.react"),null)};if(m.some(function(A){return A instanceof c("BonsaiApiError")})){var n=m.filter(function(A){return A instanceof c("BonsaiApiError")});return{table:c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:n[0].getMessage()})}}if(this.state.placement&&this.state.placement!==c("BonsaiConstants").ALL)m=m.map(function(A){return A.groupBy(c("BonsaiApiBreakdown").PLACEMENT)[this.state.placement]}.bind(this));var o=m[3].getTimes(),p=m.map(function(A){var B={};if(A instanceof c("BonsaiApiDataAdapter")){var C=A.getTimeSeries();C.forEach(function(D){B[D[0].getTime()]=D[1]})}return B});o.sort(function(A,B){return B-A});var q=o.map(function(A){var B=A.getTime(),m=p.map(function(C){return C[B]});m.unshift(A.getTime().toString());m.unshift(c("formatDate")(A,"D M d, Y",{utc:true}));return m}),r=null;if(q.length>0){r=[{header:c("BonsaiText").clicks,body:[]},{header:c("BonsaiText").impressions,body:[]},{header:c("BonsaiText").requests,body:[]},{header:c("BonsaiText").filled,body:[]},{header:c("BonsaiText").est_revenue,body:[]}];var s=void 0;for(var t=0;t<q.length;t++){var u=new Date(parseInt(q[t][1],10)),v=q[t][3]?c("InsightsNumUtils").prettyInt(q[t][3]):0,w=q[t][4]?c("InsightsNumUtils").prettyInt(q[t][4]):0,x=q[t][5]?c("InsightsNumUtils").prettyInt(q[t][5]):0,y=q[t][6]?c("InsightsNumUtils").prettyInt(q[t][6]):0,z=q[t][2]?c("InsightsNumUtils").prettyCurrency("USD",q[t][2]):0;r[0].body.push({time:u,value:v});r[1].body.push({time:u,value:w});r[2].body.push({time:u,value:x});r[3].body.push({time:u,value:y});r[4].body.push({time:u,value:z})}}return{table:this._detailTable(q,c("BonsaiText").date,"key"),"export":r}},_geoDetail:function l(m){var n,o=this,p=this._getBreakdownDataset(m);if(p.some(function(F){return F instanceof c("BonsaiApiPromise")}))return{table:c("React").createElement(c("InsightsLoadingIndicator.react"),null)};if(p.some(function(F){return F instanceof c("BonsaiApiError")})){var q=p.filter(function(F){return F instanceof c("BonsaiApiError")});return{table:c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:q[0].getMessage()})}}var r=function r(F,y){var G=F!=="u"&&F!=="REDACTED"?c("BonsaiText").getBucketLabel(F,c("BonsaiApiBreakdown").COUNTRY):c("BonsaiText").not_enough_data;y.unshift(G);y.unshift(G);return y},s=p.map(function(F){return F.groupBy(c("BonsaiApiBreakdown").COUNTRY)}),t=Object.keys(s[3]),u=[];if(m.toString()===[c("BonsaiApiBreakdown").PLACEMENT,c("BonsaiApiBreakdown").COUNTRY].toString())(function(){var F=null;if(o.state.placement&&o.state.placement!==c("BonsaiConstants").ALL)F=o.state.placement;var G=[];t.forEach(function(H){var I=s[3][H].groupBy(c("BonsaiApiBreakdown").PLACEMENT);Object.keys(I).forEach(function(J){if(!F||J===F)if(G.indexOf(J)===-1)G.push(J)},this)}.bind(o),o);if(G.length>0)u=t.map(function(H){var y=s.map(function(I){var J;if(I[H]){var J=function(){var K=I[H].groupBy(c("BonsaiApiBreakdown").PLACEMENT);return{v:G.map(function(L){return K[L]?K[L].getTotal():0}).reduce(function(L,M){return L+M},0)}}();if(typeof J==="object")return J.v}});return r(H,y)})})();else u=t.map(function(F){var y=s.map(function(G){return G[F]?G[F].getTotal():undefined});return r(F,y)});u=u.filter(function(F){return F[5]!==0});u.sort(function(F,G){return G[5]-F[5]});var v=null;if(u.length>0){var w=[];w.push([c("BonsaiText").country,c("BonsaiText").clicks,c("BonsaiText").impressions,c("BonsaiText").requests,c("BonsaiText").filled,c("BonsaiText").est_revenue]);for(var x=0;x<u.length;x++){var y=u[x],z=y[3]?c("InsightsNumUtils").prettyInt(y[3]):0,A=y[4]?c("InsightsNumUtils").prettyInt(y[4]):0,B=y[5]?c("InsightsNumUtils").prettyInt(y[5]):0,C=y[6]?c("InsightsNumUtils").prettyInt(y[6]):0,D=y[2]?c("InsightsNumUtils").prettyCurrency("USD",y[2]):0;w.push([y[0],z,A,B,C,D])}var E=[this.props.visibleDateRange.since,this.props.visibleDateRange.until];v={data:this._createCSVString(w),times:E}}return{table:this._detailTable(u,c("BonsaiText").country,"rqsts"),"export":v}},_detailTable:function l(m,n,o){var p="*",q=m.map(function(v){var w=v[0],x=v[1],y=v[2],z=v[3],A=v[4],B=v[5],C=v[6],D={};Object.assign(D,{key:w,key_val:x,rqsts:c("InsightsNumUtils").prettyInt(B),rqsts_val:B?B:0,filled_rqsts:C?c("InsightsNumUtils").prettyInt(C):p,filled_rqsts_val:C?C:0,imps:A?c("InsightsNumUtils").prettyInt(A):p,imps_val:A?A:0,clks:z?c("InsightsNumUtils").prettyInt(z):p,clks_val:z?z:0,fill_rate:B&&C?new(c("PrettyNum"))(C/B,10,2).toPrettyPercentage():p,fill_rate_val:C&&B?C/B:0,ctr:A&&z?new(c("PrettyNum"))(z/A,10,2).toPrettyPercentage():p,ctr_val:A&&z?z/A:0});if(y===0||isNaN(y))D=Object.assign(D,{rpm:p,rpm_val:0,pay:p,pay_val:0});else D=Object.assign(D,{rpm:A?c("InsightsNumUtils").prettyCurrency("USD",1e3*y/A):p,rpm_val:A?y/A:0,pay:c("InsightsNumUtils").prettyCurrency("USD",y),pay_val:y});return D}),r=i._("Solicitudes que ha recibido un anuncio"),s=i._("Anuncios vistos por un usuario"),t=[{id:"key",label:n,sortable:true,comparator:function v(w,x){return x.key_val.localeCompare(w.key_val)}},{id:"rqsts",label:c("BonsaiText").requests,sortable:true,comparator:function v(w,x){return x.rqsts_val-w.rqsts_val}},{id:"filled_rqsts",sortable:true,comparator:function v(w,x){return x.filled_rqsts_val-w.filled_rqsts_val},label:c("React").createElement(c("InsightsInfoTip.react"),{tip:r},c("BonsaiText").filled)},{id:"imps",label:c("React").createElement(c("InsightsInfoTip.react"),{tip:s},c("BonsaiText").impressions),sortable:true,comparator:function v(w,x){return x.imps_val-w.imps_val}},{id:"clks",label:c("BonsaiText").clicks,sortable:true,comparator:function v(w,x){return x.clks_val-w.clks_val}},{id:"fill_rate",label:i._("Tasa de relleno"),sortable:true,comparator:function v(w,x){return x.fill_rate_val-w.fill_rate_val}},{id:"ctr",sortable:true,comparator:function v(w,x){return x.ctr_val-w.ctr_val},label:c("React").createElement(c("InsightsInfoTip.react"),{tip:c("BonsaiText").ctr},i._("CTR"))},{id:"rpm",sortable:true,comparator:function v(w,x){return x.rpm_val-w.rpm_val},label:c("React").createElement(c("InsightsInfoTip.react"),{tip:c("BonsaiText").rpm},i._("eCPM"))},{id:"pay",sortable:true,comparator:function v(w,x){return x.pay_val-w.pay_val},label:c("BonsaiText").est_revenue}],u=null;if(!this.state.showAll)u=c("React").createElement(c("InsightsPager.react"),{key:"pager",onClick:function(){this.setState({showAll:true})}.bind(this)});return c("React").createElement("div",{width:"100%"},c("React").createElement(c("FalcorPaginatedDataTable"),{key:n,columns:t,columnToSortBy:o,rows:q,pagination:false,pageSize:this.state.showAll?Infinity:c("BonsaiStyle").TABLE_TOP_ROWS_ONE_WEEK}),u)},_getParamsToLog:function l(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function l(m,n){return this.state.activeSection!==n.activeSection}});f.exports=k}),null);
__d("FalcorMonetizePaymentCard",["fbt","BonsaiApiBreakdown","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorMonetizePaymentCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],metrics:[["spend","payments_daily_spend"],["chargebacks","payments_daily_chargebacks"],["refunds","payments_daily_refunds"]],getInitialState:function j(){return this._getInitialCardState("spend")},componentWillMount:function j(){this.metrics.forEach(function(k){this.addMetric(k[0],k[1])}.bind(this));this.fetchMetrics()},_getHelptextMap:function j(){return{spend:"MonetizePaymentsPerformance",chargebacks:"MonetizePaymentsPerformance",refunds:"MonetizePaymentsPerformance"}},_getKeyToSection:function j(){var k={};this.metrics.forEach(function(l){var m=l[0];k[m]=this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:m,data:[this.getData(m)],titles:[c("BonsaiText")[m]],categories:[this._getHelptextMap()[m]]})))}.bind(this));return k},_renderCandela:function j(){var k={data:this.getData(this.state.activeSection),title:c("BonsaiText")[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([k],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[k],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false})},_getKeyToLabel:function j(){return{spend:c("BonsaiText").spend,chargebacks:c("BonsaiText").chargebacks,refunds:c("BonsaiText").refunds}},_title:function j(){return h._("Juegos en Facebook: pagos - detalles del rendimiento")}});f.exports=i}),null);
__d("FalcorMonetizeSectionController",["GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","InsightsContext","FalcorMonetizeAdsNetworkCard","FalcorMonetizePaymentCard","OverviewMoneyBar","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorMonetizeSectionController",statics:{getKey:function i(){return c("GriffinSections").MONETIZE}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange,m=j.platformMetricsConfig;return c("React").createElement(c("OverviewMoneyBar"),{fullDateRange:k,platformMetricsConfig:m,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig,o=[];if(c("InsightsContext").getHasAdsNetwork())o.push(c("React").createElement(c("FalcorMonetizeAdsNetworkCard"),{cardKey:"ads_network",fullDateRange:l,key:"ads_network",visibleDateRange:m}));if(n.hasPayments)o.push(c("React").createElement(c("FalcorMonetizePaymentCard"),{cardKey:"payment",fullDateRange:l,key:"payment",visibleDateRange:m}));if(o.length===0)return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Monetize"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),o)}});f.exports=h}),null);
__d("OverviewMoneyBar",["fbt","BonsaiOverviewBarMixin","BonsaiSectionDateRangeMixin","BonsaiText","GriffinSections","InsightsContext","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewMoneyBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").MONETIZE},getTitle:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&l)return h._("Juegos en Facebook: pagos y Audience Network");else if(k)return h._("Audience Network");else return h._("Juegos en Facebook: pagos")},getMetrics:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&!l)return[{aggregateBy:"SUM",event_name:"fb_ad_network_revenue"},{aggregateBy:"COUNT",event_name:"fb_ad_network_imp"},{aggregateBy:"COUNT",event_name:"fb_ad_network_click"}];else if(!k&&l)return["payments_daily_spend","payments_daily_chargebacks","payments_daily_refunds"];else return[{aggregateBy:"SUM",event_name:"fb_ad_network_revenue"},{aggregateBy:"COUNT",event_name:"fb_ad_network_imp"},"payments_daily_spend"]},getDataAdapters:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments,m=this.getMetrics();if(k&&!l)return[this.getData(this.appEventMetricKey(m[0])),this.getData(this.appEventMetricKey(m[1])),this.getData(this.appEventMetricKey(m[2]))];else if(!k&&l)return[this.getData(0),this.getData(1),this.getData(2)];else return[this.getData(this.appEventMetricKey(m[0])),this.getData(this.appEventMetricKey(m[1])),this.getData(2)]},getChartLocations:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&!l)return[{card:"ads_network",tab:"payout"},{card:"ads_network",tab:"impressions"},{card:"ads_network",tab:"clicks"}];else if(!k&&l)return[{card:"payment",tab:"spend"},{card:"payment",tab:"chargebacks"},{card:"payment",tab:"refunds"}];else return[{card:"ads_network",tab:"payout"},{card:"ads_network",tab:"impressions"},{card:"payment",tab:"spend"}]},getFormats:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&!l)return["$%s","%s","%s"];else if(!k&&l)return["$%s","$%s","$%s"];else return["$%s","%s","$%s"]},getLabels:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&!l)return[h._("Ingresos de Audience Network"),h._("Impresiones de Audience Network"),h._("Clics de redes de p\u00fablicos")];else if(!k&&l)return[c("BonsaiText").spend,c("BonsaiText").chargebacks,c("BonsaiText").refunds];else return[h._("Ingresos de Audience Network"),h._("Impresiones de Audience Network"),c("BonsaiText").spend]},getReverseDeltas:function j(){var k=c("InsightsContext").getHasAdsNetwork(),l=this.props.platformMetricsConfig.hasPayments;if(k&&!l)return[false,false,false];else if(!k&&l)return[false,true,true];else return[false,false,false]}});f.exports=i}),null);
__d("FalcorOverviewSparklineWidget",["cx","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiColors","BonsaiSparkLinesChart","CandelaStyleSheet","FalcorLoadingAndErrorChart","FalcorOverviewGraphMixin","InsightsContext","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("CandelaStyleSheet").fromJS({'gridline[orientation="horizontal"]':{visibility:"hidden"}}),k=c("React").createClass({displayName:"FalcorOverviewSparklineWidget",mixins:[c("FalcorOverviewGraphMixin")],propTypes:babelHelpers["extends"]({},c("BonsaiSparkLinesChart").propTypes,{legendValues:i.arrayOf(i.string),unitLabel:i.string}),renderChart:function l(m){var n=[],o=[];for(var p=0;p<m.length;p++)if(m[p]instanceof c("BonsaiApiDataAdapter")){var q={data:m[p],color:c("BonsaiColors").OVERVIEW_LINE_COLORS[p]},r={data:m[p],key:"bucket_"+p};if(this.props.legendValues){q.legendValue=this.props.legendValues[p];r.title=this.props.legendValues[p]}else r.title=this.props.tooltipTitle;n[p]=q;o.push(r)}var s=c("InsightsContext").isDevsite()?this.props.width:this.state.chartWidth;return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:o,activeBreakdown:c("BonsaiApiBreakdown").NONE,cardKey:this.props.widgetKey,currentCard:"overview",formatValue:this.props.formatValue,height:this.props.height,width:s,hideLegend:!this.props.legendValues,showBreakdownSelector:false,styleSheet:this.props.legendValues?null:j,isSeconds:this.props.widgetKey==="app_time",unitLabel:this.props.unitLabel})}});f.exports=k}),null);
__d("OverviewDeveloperAdsAPIBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewDeveloperAdsAPIBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").ADS_APIS},getTitle:function j(){return h._("API de marketing")},getMetrics:function j(){return["ads_api_calls","ads_api_errors"]},getDataAdapters:function j(){var k=this.getData(1).divideBy(this.getData(0));return[this.getData(0),this.getData(1),k]},getChartLocations:function j(){return[{card:"dev_api_breakdown",tab:"ads_api_calls"},{card:"dev_api_breakdown",tab:"ads_api_errors"},{card:"dev_api_breakdown",tab:"ads_api_error_rate"}]},getPercentages:function j(){return[false,false,true]},getReverseDeltas:function j(){return[true,true,true]},getLabels:function j(){return[h._("Llamadas a la API de marketing"),h._("Errores"),h._("Tasa de errores")]}});f.exports=i}),null);
__d("FalcorReferralsInstallsCard",["fbt","AnalyticsCard","BonsaiApiBreakdown","BonsaiBreakdownChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorBreakdownChartSwitcher","FalcorExportDataMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","GriffinPinButton","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorReferralsInstallsCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLogCardViewMixin")],_metrics:{mobile_referral_installs:"mobile_referral_installs"},_breakdowns:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").SPONSORED],getInitialState:function j(){return{activeBreakdown:c("BonsaiApiBreakdown").NONE}},componentWillMount:function j(){Object.keys(this._metrics).forEach(function(k){this.addMetric(k,this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").SPONSORED]})}.bind(this));this.fetchMetrics()},_onExportClick:function j(){return this.getExportData()},_renderCandela:function j(k){var l={data:k,title:c("BonsaiText").mobile_referral_installs,key:"mobile_referral_installs"};this.setExportInfo([l],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:this.state.activeBreakdown,allBreakdowns:this._breakdowns,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},render:function j(){var k=this.getData("mobile_referral_installs"),l=c("React").createElement(c("GriffinPinButton"),{key:"pin",chartKey:"mobile_referral_installs"});return c("React").createElement(c("AnalyticsCard"),{exportFilename:"mobile_referral_installs",getExportData:this._onExportClick,helpText:{key:"MobileReferralInstalls",title:this._title()},pinButton:l,title:this._title()},this._renderCandela(k))},_title:function j(){return h._("Descargas con el m\u00f3vil desde referencias de Facebook")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorReferralsOpensCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiSectionDataLoaderMixin","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorReferralsOpensCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],_breakdowns:{app_total_referrals:[c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").SPONSORED],story_newsfeed_clicks:[c("BonsaiApiBreakdown").AUTH_STATE],requests_accepted:[c("BonsaiApiBreakdown").AUTH_STATE]},_candelaBreakdowns:{app_total_referrals:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").SPONSORED],story_newsfeed_clicks:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE],requests_accepted:[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE]},getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("app_total_referrals"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},getMetrics:function j(){var k={app_total_referrals:"total_referrals",story_newsfeed_clicks:"story_referrals"};if(this.props.platformMetricsConfig.hasGameRequests)k.requests_accepted="request_accepts";return k},componentWillMount:function j(){var k=this.getMetrics();Object.keys(k).forEach(function(l){var m=this._breakdowns[l];if(m.length===0){this.addMetric(l,k[l]);return}var n=0;for(;n<m.length;n++)this.addMetric([l,m[n]],k[l],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,m[n]]})}.bind(this));this.fetchMetrics()},_getHelptextMap:function j(){return{app_total_referrals:"ReferralsTotal",story_newsfeed_clicks:"ReferralsStoriesClicks",requests_accepted:"ReferralsRequestsAccepted"}},_getKeyToLabel:function j(){var k={app_total_referrals:h._("Total de referencias"),story_newsfeed_clicks:h._("Referencias de los clics de una historia")};if(this.props.platformMetricsConfig.hasGameRequests)k.requests_accepted=h._("Referencias de las solicitudes");return k},_getKeyToSection:function j(){var k={},l=this._getKeyToLabel();Object.keys(this.getMetrics()).forEach(function(m){var n,o=this,p=this._breakdowns[m],q=p.length===0?m:[m,p[0]],r=[c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getData(q),key:c("BonsaiApiBreakdown").NONE,title:l[m]})];if(p.length>0)(function(){var s=c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:o.props.cardKey,data:o.getData([m,p[0]]),key:c("BonsaiApiBreakdown").CLIENT}),t=0;p.forEach(function(u){if(t===0&&m!=="requests_accepted")r.push(s);r.push(c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:u,currentCard:this.props.cardKey,data:this.getData([m,u]),key:u}));t++}.bind(o))})();k[m]=c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:m,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,categories:[this._getHelptextMap()[m]]},r)}.bind(this));return k},_renderCandela:function j(){var k=this.state.activeSection,l=void 0;if(this.state.activeBreakdown===c("BonsaiApiBreakdown").NONE||this.state.activeBreakdown===c("BonsaiApiBreakdown").CLIENT)l=this.getData([k,this._breakdowns[k][0]]);else l=this.getData([k,this.state.activeBreakdown]);var m={data:l,title:this._getKeyToLabel()[k],key:k};this.setExportInfo([m],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[m],activeBreakdown:this.state.activeBreakdown,allBreakdowns:this._candelaBreakdowns[this.state.activeSection],currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},_title:function j(){return h._("Referencias desde Facebook a tu aplicaci\u00f3n")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorReferralsSectionController",["FalcorReferralsInstallsCard","FalcorReferralsOpensCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","OverviewReferralsBar","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorReferralsSectionController",statics:{getKey:function i(){return c("GriffinSections").REFERRALS}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewReferralsBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig;if(!n.hasReferrals)return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Referrals"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),c("React").createElement(c("FalcorReferralsOpensCard"),{cardKey:"referrals_opens",fullDateRange:l,key:"referrals_opens",platformMetricsConfig:n,visibleDateRange:m}),c("React").createElement(c("FalcorReferralsInstallsCard"),{cardKey:"referrals_installs",fullDateRange:l,key:"referrals_installs",visibleDateRange:m}))}});f.exports=h}),null);
__d("OverviewReferralsBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewReferralsBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").REFERRALS},getTitle:function j(){return h._("Referencias desde Facebook")},getMetrics:function j(){return["total_referrals","story_clicks","mobile_referral_installs"]},getChartLocations:function j(){return[{card:"referrals_opens",tab:"app_total_referrals"},{card:"referrals_opens",tab:"story_newsfed_clicks"},{card:"referrals_installs"}]},getLabels:function j(){return[h._("N\u00famero total de referencias"),h._("Clics en historias"),h._("Instalaciones en m\u00f3viles")]}});f.exports=i}),null);
__d("FalcorRequestsFunnelCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiConfig","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorRequestsFunnelCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("clicks"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},componentWillMount:function j(){this.addMetric("sends","request_sends",{breakdowns:[c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem("imps","request_impressions",{breakdowns:[c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem("clicks","request_accepts",{breakdowns:[c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").CLIENT]});this.addMetric("sends_cohort","request_sends",{breakdowns:[c("BonsaiApiBreakdown").LABEL_COHORT]});this.addMetric("clicks_cohort","request_accepts",{breakdowns:[c("BonsaiApiBreakdown").LABEL_COHORT]});this.addMetric("sends_ref","request_sends",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.addMetric("clicks_ref","request_accepts",{breakdowns:[c("BonsaiApiBreakdown").REF]});this.fetchMetrics()},_title:function j(){return h._("Solicitudes de juegos")},_getHelptextMap:function j(){return{clicks:"RequestsClicks",sends:"RequestsSends",clicks_per_send:"RequestsAcceptRate"}},_getKeyToLabel:function j(){return{clicks:c("BonsaiText").clicks,sends:c("BonsaiText").requests_sent,clicks_per_send:c("BonsaiText").clicks_per_send}},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getKeyToSection:function j(){var k=[c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getData("sends"),key:c("BonsaiApiBreakdown").NONE,title:c("BonsaiText").requests_sent}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:this.props.cardKey,data:this.getData("sends"),key:c("BonsaiApiBreakdown").CLIENT,title:c("BonsaiText").requests_sent}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").AUTH_STATE,currentCard:this.props.cardKey,data:this.getData("sends"),key:c("BonsaiApiBreakdown").AUTH_STATE,title:c("BonsaiText").requests_sent}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").REF,currentCard:this.props.cardKey,data:this.getData("sends_ref"),key:c("BonsaiApiBreakdown").REF,shouldStack:false,showTotal:false}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").LABEL_COHORT,currentCard:this.props.cardKey,data:this.getData("sends_cohort"),key:c("BonsaiApiBreakdown").LABEL_COHORT,shouldStack:false,showTotal:false})],l=[c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getData("clicks"),key:c("BonsaiApiBreakdown").NONE,title:c("BonsaiText").clicks}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:this.props.cardKey,data:this.getData("clicks"),key:c("BonsaiApiBreakdown").CLIENT}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").AUTH_STATE,currentCard:this.props.cardKey,data:this.getData("clicks"),key:c("BonsaiApiBreakdown").AUTH_STATE}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").REF,currentCard:this.props.cardKey,data:this.getData("clicks_ref"),key:c("BonsaiApiBreakdown").REF,shouldStack:false,showTotal:false}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").LABEL_COHORT,currentCard:this.props.cardKey,data:this.getData("clicks_cohort"),key:c("BonsaiApiBreakdown").LABEL_COHORT,shouldStack:false,showTotal:false})];return{clicks:c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:"clicks",currentCard:this.props.cardKey,categories:[this._getHelptextMap().clicks]},l),sends:c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:"sends",currentCard:this.props.cardKey,categories:[this._getHelptextMap().sends]},k),clicks_per_send:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"clicks_per_send",data:[this.getDataWithEcosystem("clicks").divideBy(this.getDataWithEcosystem("sends"))],titles:[c("BonsaiText").clicks_per_send],percentage:true,caregories:[this._getHelptextMap().clicks_per_send]})))}},_renderCandela:function j(){var k=void 0,l={};if(this.state.activeSection==="clicks_per_send")l={data:this.getDataWithEcosystem("clicks").divideBy(this.getDataWithEcosystem("sends")),title:c("BonsaiText").clicks_per_send,key:"clicks_per_send"};else{k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT];switch(this.state.activeBreakdown){case c("BonsaiApiBreakdown").REF:l={data:this.getData(this.state.activeSection+"_ref")};break;case c("BonsaiApiBreakdown").LABEL_COHORT:l={data:this.getData(this.state.activeSection+"_cohort")};break;default:l={data:this.getData(this.state.activeSection),title:this.state.activeSection==="sends"?c("BonsaiText").requests_sent:c("BonsaiText").clicks,key:this.state.activeSection};break}}this.setExportInfo([l],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true,isPercent:this.state.activeSection==="clicks_per_send"})}});f.exports=i}),null);
__d("FalcorRequestsNegativeCard",["fbt","BonsaiApiBreakdown","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorRequestsNegativeCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],getInitialState:function j(){return this._getInitialCardState("blocks")},componentWillMount:function j(){this.addMetric("blocks","request_blocks");this.fetchMetrics()},_getHelptextMap:function j(){return{blocks:"RequestsAppBlocks"}},_getKeyToLabel:function j(){return{blocks:c("BonsaiText").blocks}},_getKeyToSection:function j(){return{blocks:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"blocks",data:[this.getData("blocks")],titles:[c("BonsaiText").blocks],categories:[this._getHelptextMap().blocks]})))}},_renderCandela:function j(){var k={data:this.getData(this.state.activeSection),title:c("BonsaiText")[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([k],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[k],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false})},_title:function j(){return h._("Interacci\u00f3n negativa")}});f.exports=i}),null);
__d("FalcorRequestsSectionController",["GriffinSections","GriffinEmptyStateCard","GriffinDefaultSectionController","GriffinSectionController","OverviewRequestsBar","React","FalcorRequestsFunnelCard","FalcorRequestsNegativeCard","FalcorRequestsStructuredCard"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorRequestsSectionController",statics:{getKey:function i(){return c("GriffinSections").REQUESTS}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewRequestsBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig,o=[];if(n.hasGameRequests)o.push(c("React").createElement(c("FalcorRequestsFunnelCard"),{cardKey:"requests_funnel",fullDateRange:l,key:"requests_funnel",visibleDateRange:m}));if(n.hasStructuredRequests)o.push(c("React").createElement(c("FalcorRequestsStructuredCard"),{cardKey:"requests_structured",fullDateRange:l,key:"requests_structured",visibleDateRange:m}));if(o.length>0)o.push(c("React").createElement(c("FalcorRequestsNegativeCard"),{cardKey:"requests_negative",fullDateRange:l,key:"requests_negative",visibleDateRange:m}));else return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"GameRequests"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},this.getSummary(),o)}});f.exports=h}),null);
__d("FalcorRequestsStructuredCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorRequestsStructuredCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin")],_getHelptextMap:function j(){return{clicks:"StructuredAccepts",sends:"StructuredSends",clicks_per_send:"StructuredAcceptRate"}},_label:{clicks:c("BonsaiText").clicks,sends:c("BonsaiText").requests_sent,clicks_per_send:c("BonsaiText").clicks_per_send},getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("clicks"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},componentWillMount:function j(){this.addMetric("sends","structured_request_sends",{breakdowns:[c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").OG_OBJECT_TYPE,c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem("accepts","structured_request_accepts",{breakdowns:[c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").OG_OBJECT_TYPE,c("BonsaiApiBreakdown").CLIENT]});this.fetchMetrics()},_title:function j(){return h._("Rendimiento de acciones\/objetos")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getBreakdownChartSwitcher:function j(k,l,m,n){var o={currentCard:this.props.cardKey,data:l,percentage:m,shouldStack:n};return c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:k,currentCard:this.props.cardKey,categories:[this._getHelptextMap()[k]]},c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},o,{breakdown:c("BonsaiApiBreakdown").NONE,key:c("BonsaiApiBreakdown").NONE,title:this._label[k]})),c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},o,{breakdown:c("BonsaiApiBreakdown").CLIENT,key:c("BonsaiApiBreakdown").CLIENT})),c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},o,{breakdown:c("BonsaiApiBreakdown").ACTION_TYPE,key:c("BonsaiApiBreakdown").ACTION_TYPE})),c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},o,{breakdown:c("BonsaiApiBreakdown").OG_OBJECT_TYPE,key:c("BonsaiApiBreakdown").OG_OBJECT_TYPE})))},_getKeyToLabel:function j(){return{clicks:this._label.clicks,sends:this._label.sends,clicks_per_send:this._label.clicks_per_send}},_getKeyToSection:function j(){return{clicks:this._getBreakdownChartSwitcher("clicks",this.getData("accepts"),false,true),sends:this._getBreakdownChartSwitcher("sends",this.getData("sends"),false,true),clicks_per_send:this._getBreakdownChartSwitcher("clicks_per_send",this.getDataWithEcosystem("accepts").divideBy(this.getDataWithEcosystem("sends")),true,false)}},_renderCandela:function j(){var k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").OG_OBJECT_TYPE],l=void 0;if(this.state.activeSection==="clicks_per_send")l=this.getDataWithEcosystem("accepts").divideBy(this.getDataWithEcosystem("sends"));else if(this.state.activeSection==="clicks")l=this.getData("accepts");else l=this.getData(this.state.activeSection);var m={data:l,title:this._label[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([m],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[m],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})}});f.exports=i}),null);
__d("OverviewRequestsBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewRequestsBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").REQUESTS},getTitle:function j(){return h._("Solicitudes de juegos")},getMetrics:function j(){return["request_accepts","request_sends"]},getDataAdapters:function j(){var k=this.getData(0).divideBy(this.getData(1));return[this.getData(0),this.getData(1),k]},getChartLocations:function j(){return[{card:"requests_funnel",tab:"clicks"},{card:"requests_funnel",tab:"sends"},{card:"requests_funnel",tab:"accept_rate"}]},getPercentages:function j(){return[false,false,true]},getPrecision:function j(){return[0,0,1]},getLabels:function j(){return[h._("Clics en solicitudes"),h._("Solicitudes enviadas"),h._("Clics por env\u00edo")]}});f.exports=i}),null);
__d("XBusinessOverviewIndexController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/overview/",{business_creation_redirect_uri:{type:"String"}})}),null);
__d("AnalyticsEntityManagementInfoComponent",["cx","fbt","AnalyticsEntityActions","AnalyticsEntityStore","AnalyticsEntityType","AnalyticsNavigationUtils","ExternalEventSourceTypes","BizSiteIdentifier.brands","BusinessConf","FalcorLoadingCard","FalcorRefChannels","FluxContainer","InsightsGraphAPI","InsightsGraphAPIConstants","Link.react","React","XAdsManagerPixelsController","XAppAnalyticsMainController","XBusinessOverviewIndexController","immutable"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("immutable").List,m="owner_business",n="owner_ad_account";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.getStores=function(){return[c("AnalyticsEntityStore")]};o.calculateState=function(p){var q=c("AnalyticsEntityStore").getEventSourceGroup();if(q)return{loaded:true,businessId:q.ownerBusiness?q.ownerBusiness.id:0,eventSources:q.eventSources};return{}};function o(p,q){var r;k.constructor.call(this,p,q);this.state={loaded:false,businessId:0,adAccountIdForPixel:0,eventSources:l()};this.sourceTypeToFbt=(r={},r[c("ExternalEventSourceTypes").APP]=i._("Aplicaciones"),r[c("ExternalEventSourceTypes").PIXEL]=i._("P\u00edxeles de Facebook"),r[c("ExternalEventSourceTypes").PAGE]=i._("P\u00e1ginas de Facebook"),r[c("ExternalEventSourceTypes").OFFLINE_CONVERSION_DATA_SET]=i._("Conjuntos de eventos fuera de internet"),r);if(p.entityType===c("AnalyticsEntityType").EVENT_SOURCE_GROUP)c("AnalyticsEntityActions").fetchEventSourceGroup()}o.prototype.componentWillReceiveProps=function(p){if(this.props.entityId!==p.entityId&&p.entityType===c("AnalyticsEntityType").EVENT_SOURCE_GROUP)c("AnalyticsEntityActions").fetchEventSourceGroup()};o.prototype.render=function(){if(!this.state.loaded){this.$AnalyticsEntityManagementInfoComponent1(this.props);return c("React").createElement(c("FalcorLoadingCard"),{showCard:false})}return this.$AnalyticsEntityManagementInfoComponent2()};o.prototype.$AnalyticsEntityManagementInfoComponent1=function(p){if(p.entityType===c("AnalyticsEntityType").EVENT_SOURCE_GROUP)return;c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,this.props.entityId,{fields:this.$AnalyticsEntityManagementInfoComponent3(this.props.entityType)}).done(function(q){var r={loaded:true,businessId:0,adAccountIdForPixel:0},s=q[m];if(s&&s.id)r.businessId=s.id;var t=q[n];if(t&&t.account_id)r.adAccountIdForPixel=t.account_id;this.setState(r)}.bind(this),function(q){this.setState({loaded:true})}.bind(this))};o.prototype.$AnalyticsEntityManagementInfoComponent3=function(p){switch(p){case c("AnalyticsEntityType").ADS_PIXEL:return[m,n];default:return[m]}};o.prototype.$AnalyticsEntityManagementInfoComponent2=function(){var p={};p.manageAnalyticsEntityMsg=this.$AnalyticsEntityManagementInfoComponent4();if(this.props.entityType===c("AnalyticsEntityType").EVENT_SOURCE_GROUP)p.eventSourceDetailsMsg=this.$AnalyticsEntityManagementInfoComponent5();else p.createEventSourceGroupMsg=this.$AnalyticsEntityManagementInfoComponent6();var q=Object.keys(p).map(function(r){return c("React").createElement("div",{key:r,className:"_3svj"},p[r])});return c("React").createElement("div",{key:"additionalSettings",className:"_40tx"},q)};o.prototype.$AnalyticsEntityManagementInfoComponent4=function(){switch(this.props.entityType){case c("AnalyticsEntityType").APPLICATION:return this.$AnalyticsEntityManagementInfoComponent7();case c("AnalyticsEntityType").ADS_PIXEL:return this.$AnalyticsEntityManagementInfoComponent8();case c("AnalyticsEntityType").EVENT_SOURCE_GROUP:return this.$AnalyticsEntityManagementInfoComponent9();default:return null}};o.prototype.$AnalyticsEntityManagementInfoComponent7=function(){return i._("Usa {Link to app developer dashboard} para administrar tu aplicaci\u00f3n.",[i.param("Link to app developer dashboard",c("React").createElement(c("Link.react"),{href:c("AnalyticsNavigationUtils").getDevCenterURI()},"app dashboard"))])};o.prototype.$AnalyticsEntityManagementInfoComponent8=function(){if(!this.state.adAccountIdForPixel)return null;return i._("Usa {Link to ads manager} para administrar tu p\u00edxel de Facebook.",[i.param("Link to ads manager",c("React").createElement(c("Link.react"),{href:c("XAdsManagerPixelsController").getURIBuilder().setInt("act",this.state.adAccountIdForPixel).getURI()},"Ads Manager"))])};o.prototype.$AnalyticsEntityManagementInfoComponent9=function(){if(!this.state.businessId)return null;return i._("Usa {Link to business manager} para administrar tu grupo de or\u00edgenes de eventos.",[i.param("Link to business manager",c("React").createElement(c("Link.react"),{href:c("BizSiteIdentifier.brands").createBusinessURL("/settings/event-source-groups/"+this.props.entityId,this.state.businessId.toString())},"Business Manager"))])};o.prototype.$AnalyticsEntityManagementInfoComponent6=function(){if(!this.state.businessId){var p=c("XBusinessOverviewIndexController").getURIBuilder().getURI().setSubdomain(c("BusinessConf").DOMAIN);return i._("Para crear un grupo de or\u00edgenes de eventos y combinar tus or\u00edgenes de eventos (aplicaciones, p\u00edxeles, p\u00e1ginas, etc.), es necesario que una cuenta de Facebook Business Manager los haya reclamado previamente. Crea {=an account} o ponte en contacto con tu administrador para obtener acceso a una cuenta de Business Manager existente.",[i.param("=an account",c("React").createElement(c("Link.react"),{href:p,target:"_blank"},i._("una cuenta")))])}return i._("Puedes {Link to create an event source group} para ver las estad\u00edsticas de todos tus p\u00edxeles y aplicaciones de Facebook en un solo sitio.",[i.param("Link to create an event source group",c("React").createElement(c("Link.react"),{href:c("BizSiteIdentifier.brands").createBusinessURL("/settings/event-source-groups",this.state.businessId.toString())},i._("crear un grupo de or\u00edgenes de eventos en Business Manager")))])};o.prototype.$AnalyticsEntityManagementInfoComponent5=function(){if(this.state.eventSources.size===0)return null;var p={};this.state.eventSources.forEach(function(r){var s=r.sourceType;if(!Object.prototype.hasOwnProperty.call(p,s))p[s]=[];p[s].push(r)});var q=[];Object.keys(p).sort().forEach(function(r){var s=p[r].map(function(t){return c("React").createElement("li",{className:"_1j-d",key:t.id},this.$AnalyticsEntityManagementInfoComponent10(t))}.bind(this));q.push(c("React").createElement("div",{key:"eventSourceDetailsContent-"+r},c("React").createElement("div",{className:"_1j-e"},i._("{header text}:",[i.param("header text",this.sourceTypeToFbt[r])])),c("React").createElement("ul",{className:"_gqq",key:r},s)))}.bind(this));return c("React").createElement("div",{key:"eventSourceDetailsContent"},c("React").createElement("div",{key:"eventSourceDetailsContentHeader",className:"_1j-h"},i._("En tu grupo de or\u00edgenes de eventos tambi\u00e9n puedes ver an\u00e1lisis \u00fanicamente de un origen. Para ello, selecci\u00f3nalo a continuaci\u00f3n:")),q)};o.prototype.$AnalyticsEntityManagementInfoComponent10=function(p){return c("React").createElement(c("Link.react"),{href:c("XAppAnalyticsMainController").getURIBuilder().setInt("obj_id",p.id).setString("__aref_src",c("FalcorRefChannels").ANALYTICS_SETTINGS).setString("__aref_id",this.props.entityId).getURI()},p.name)};f.exports=c("FluxContainer").create(o)}),null);
__d("AnalyticsSettingsActions",["AnalyticsActionType","AnalyticsDispatcher","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("AnalyticsActionType").SETTINGS,i=["log_implicit_purchase_events","log_android_implicit_purchase_events","is_any_role_able_to_see_restricted_insights","is_implicit_purchase_logging_on_ios_supported","is_implicit_purchase_logging_on_android_supported","session_timeout_interval","log_automatic_analytics_events","query_timezone","aws_kinesis_firehose_setting"],j={fetchSettings:function k(){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_SETTINGS_START});c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,c("InsightsContext").getObjID(),{fields:[c("InsightsGraphAPIConstants").ANALYTICS_CONFIG_NODE+"{"+i.join(",")+"}"]}).done(function(l){var m=l[c("InsightsGraphAPIConstants").ANALYTICS_CONFIG_NODE];c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_SETTINGS_COMPLETE,data:{settings:m}})},function(l){c("AnalyticsDispatcher").dispatchAction({type:h.FETCH_SETTINGS_ERROR,data:{error:true}})})},writeSetting:function k(l,m,n){var o={key:l,oldValue:m,newValue:n};c("AnalyticsDispatcher").dispatchAction({type:h.UPDATE_START,data:o});c("InsightsGraphAPI").cachedObjectGet(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,c("InsightsContext").getObjID(),{fields:[c("InsightsGraphAPIConstants").ANALYTICS_EVENT_CONFIG+"{id}"]}).done(function(p){var q,r=p[c("InsightsGraphAPIConstants").ANALYTICS_EVENT_CONFIG].id;c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").APP_EVENT_CONFIG_NODE,r,(q={},q[l]=n,q)).done(function(p){c("AnalyticsDispatcher").dispatchAction({type:h.UPDATE_COMPLETE})},function(s){this._updateError(o)}.bind(this))}.bind(this),function(p){this._updateError(o)}.bind(this))},_updateError:function k(l){c("AnalyticsDispatcher").dispatchAction({type:h.UPDATE_ERROR,data:l})}};f.exports=j}),null);
__d("AnalyticsSettingsStore",["invariant","AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=c("AnalyticsActionType").SETTINGS,n={log_automatic_analytics_events:false,log_implicit_purchase_events:false,log_android_implicit_purchase_events:false,is_any_role_able_to_see_restricted_insights:false,is_implicit_purchase_logging_on_ios_supported:false,is_implicit_purchase_logging_on_android_supported:false,session_timeout_interval:60,query_timezone:"",aws_kinesis_firehose_setting:null},o={loaded:false,settings:n,error:false,updated:false};i=babelHelpers.inherits(p,c("immutable").Record(o));j=i&&i.prototype;function p(){i.apply(this,arguments)}k=babelHelpers.inherits(q,c("FluxReduceStore"));l=k&&k.prototype;q.prototype.getInitialState=function(){return new p()};q.prototype.reduce=function(r,s){var t=s.action,u=t.type,v=t.data;switch(u){case m.FETCH_SETTINGS_START:return r.set("loaded",false).set("updated",false).set("error",false);case m.FETCH_SETTINGS_COMPLETE:return r.set("loaded",true).set("updated",false).set("settings",v.settings||n).set("error",false);case m.FETCH_SETTINGS_ERROR:return r.set("loaded",true).set("updated",false).set("error",true);case m.UPDATE_START:return r.set("loaded",true).set("updated",false).set("settings",this.$AnalyticsSettingsStore1(v.key,v.newValue)).set("error",false);case m.UPDATE_COMPLETE:return r.set("loaded",true).set("updated",true).set("error",false);case m.UPDATE_ERROR:return r.set("loaded",true).set("settings",this.$AnalyticsSettingsStore1(v.key,v.oldValue)).set("updated",false).set("error",true);default:return r}};q.prototype.$AnalyticsSettingsStore1=function(r,s){var t={},u=this.getState().settings;u||h(0);Object.keys(u).forEach(function(v){return t[v]=v===r?s:u[v]});return t};q.prototype.isLoaded=function(){return this.getState().loaded};q.prototype.isUpdated=function(){return this.getState().updated};q.prototype.isError=function(){return this.getState().error};q.prototype.getSettings=function(){return this.getState().settings};function q(){k.apply(this,arguments)}f.exports=new q(c("AnalyticsDispatcher"))}),null);
__d("XAnalyticsAwsKinesisFirehoseController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/analytics/aws_kinesis_firehose/",{stream_name:{type:"String",required:true},region:{type:"String",required:true},key:{type:"String",required:true},secret:{type:"String",required:true}})}),null);
__d("AwsKinesisFirehoseSettingsCard",["cx","fbt","Promise","AnalyticsCard","AnalyticsSettingConstants","AnalyticsSettingsActions","AnalyticsSettingsStore","AsyncRequest","DevappSwitchButton.react","FluxContainer","Grid.react","GriffinComposerField","GriffinSelector","GriffinSelectorOption","React","SUIAnalyticsGriffinTheme","SUIAtlasTheme","SUIButton.react","SUINotice.react","SUITextInput.react","XAnalyticsAwsKinesisFirehoseController"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("Grid.react").GridItem,m=/^\w{16,128}$/,n={enabled:false,last_error:"",config:{stream_name:"",regions:[""],key:"",secret:""}},o=/^[a-zA-Z0-9_.-]{1,64}$/;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.getStores=function(){"use strict";return[c("AnalyticsSettingsStore")]};p.calculateState=function(q,r){"use strict";var s=q&&q.isUpdating,t=s&&c("AnalyticsSettingsStore").isUpdated(),u=s&&c("AnalyticsSettingsStore").isError();return{isUpdated:t,isUpdateError:u,isUpdating:t||u?false:s,firehoseSetting:this.getFirehoseSettingFromStore()}};p.getFirehoseSettingFromStore=function(){"use strict";var q=Object.assign({},n),r=c("AnalyticsSettingsStore").getSettings();if(!r||!r.aws_kinesis_firehose_setting)return q;Object.assign(q,r.aws_kinesis_firehose_setting);var s=q.config||n.config;q.config=Object.assign({},s);return q};function p(q){"use strict";k.constructor.call(this,q);this.state={firehoseSetting:Object.assign({},n),streamNameError:null,keyError:null,isValidating:false,validationError:null,isUpdating:false,isUpdated:false,isUpdateError:false};var r=p.getFirehoseSettingFromStore();Object.assign(this.state.firehoseSetting,r)}p.prototype.render=function(){"use strict";var q=null;if(this.state.firehoseSetting.enabled)q=this.$AwsKinesisFirehoseSettingsCard1();var r=c("React").createElement("div",null,this.$AwsKinesisFirehoseSettingsCard2(),c("React").createElement("div",null,c("React").createElement("br",null)),q,this.$AwsKinesisFirehoseSettingsCard3());return c("React").createElement(c("AnalyticsCard"),{title:i._("AWS Kinesis Firehose")},r)};p.prototype.$AwsKinesisFirehoseSettingsCard3=function(){"use strict";var q=null,r=null;if(!this.state.firehoseSetting.enabled&&this.state.firehoseSetting.last_error){r="error";q=this.state.firehoseSetting.last_error}else if(this.state.validationError){r="error";q=this.state.validationError}else if(this.state.isUpdateError){r="error";q=i._("Error al guardar la configuraci\u00f3n de Firehose")}else if(this.state.isUpdated&&this.state.firehoseSetting.enabled){r="success";q=i._("Se ha enviado un evento de prueba a Firehose y se ha guardado la configuraci\u00f3n.")}if(r!==null)return c("React").createElement(c("SUINotice.react"),{type:r,theme:c("SUIAtlasTheme")},q);return null};p.prototype.$AwsKinesisFirehoseSettingsCard2=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,spacing:"pas"},c("React").createElement(l,null,c("React").createElement(c("DevappSwitchButton.react"),{labels:"onoff",checked:this.state.firehoseSetting.enabled,onChange:function(event){return this.$AwsKinesisFirehoseSettingsCard4(event)}.bind(this),disabled:this.state.isUpdating||this.state.isValidating,size:"small"})),c("React").createElement(l,null,this.$AwsKinesisFirehoseSettingsCard5(),this.$AwsKinesisFirehoseSettingsCard6()))};p.prototype.$AwsKinesisFirehoseSettingsCard5=function(){"use strict";return c("React").createElement("div",{className:"_35ie"},i._("Configuraci\u00f3n")," ",c("React").createElement("a",{href:"https://aws.amazon.com/kinesis/firehose/",target:"_blank"},i._("AWS Kinesis Firehose"))," ",i._("para transmitir eventos sin muestrear en tiempo real en AWS."))};p.prototype.$AwsKinesisFirehoseSettingsCard6=function(){"use strict";var q=i._("Activar para habilitar la transmisi\u00f3n y su configuraci\u00f3n");if(this.state.firehoseSetting.enabled)q=i._("Desactivar para inhabilitar la transmisi\u00f3n");return c("React").createElement("div",{className:"_35if"},q)};p.prototype.$AwsKinesisFirehoseSettingsCard4=function(event){"use strict";var q=this.$AwsKinesisFirehoseSettingsCard7({enabled:event.target.checked,last_error:""});this.setState({firehoseSetting:q,isUpdated:false,validationError:null});if(!event.target.checked)this.$AwsKinesisFirehoseSettingsCard8(q);else if(this.$AwsKinesisFirehoseSettingsCard9(q.config))this.$AwsKinesisFirehoseSettingsCard10().done(function(r,s){return this.$AwsKinesisFirehoseSettingsCard8(q)}.bind(this))};p.prototype.$AwsKinesisFirehoseSettingsCard11=function(q){"use strict";var r=null;if(!this.$AwsKinesisFirehoseSettingsCard12(q)&&!q.match(o))r=i._("Los nombres de la transmisi\u00f3n de entrega solo pueden contener letras may\u00fasculas o min\u00fasculas (a-Z), n\u00fameros (0-9), guiones (_, -) y puntos (.), y no deben superar los 64 caracteres");var s=this.$AwsKinesisFirehoseSettingsCard7({last_error:"",config:{stream_name:q}});this.setState({firehoseSetting:s,isUpdated:false,isUpdateError:false,streamNameError:r,validationError:null})};p.prototype.$AwsKinesisFirehoseSettingsCard13=function(q){"use strict";var r=null;if(!this.$AwsKinesisFirehoseSettingsCard12(q)&&!q.match(m))r=i._("La clave de AWS solo puede incluir las letras (a-z, may\u00fasculas o min\u00fasculas), n\u00fameros (0-9) o guiones bajos (_), y debe tener una longitud de entre 16 y 128 caracteres");var s=this.$AwsKinesisFirehoseSettingsCard7({last_error:"",config:{key:q}});this.setState({firehoseSetting:s,isUpdated:false,isUpdateError:false,keyError:r,validationError:null})};p.prototype.$AwsKinesisFirehoseSettingsCard1=function(){"use strict";var q=this.state.firehoseSetting.config;if(!q)return null;var r=c("React").createElement(c("SUITextInput.react"),{className:"_4xwt",onChange:function(w){return this.$AwsKinesisFirehoseSettingsCard11(w)}.bind(this),placeholder:i._("Introduce el nombre de transmisi\u00f3n de Kinesis Firehose..."),value:q.stream_name,theme:c("SUIAnalyticsGriffinTheme"),errorMessage:this.state.streamNameError,disabled:this.state.isUpdating||this.state.isValidating}),s=c("React").createElement(c("GriffinSelector"),{value:q.regions[0]||null,width:400,disabled:this.state.isUpdating||this.state.isValidating,onChange:function(w){var x=this.$AwsKinesisFirehoseSettingsCard7({last_error:"",config:{regions:[w]}});this.setState({firehoseSetting:x,validationError:null,isUpdated:false,isUpdateError:false})}.bind(this)},this.$AwsKinesisFirehoseSettingsCard14()),t=c("React").createElement(c("SUITextInput.react"),{className:"_4xwt",onChange:function(w){return this.$AwsKinesisFirehoseSettingsCard13(w)}.bind(this),placeholder:i._("Introduce el identificador de clave de acceso de AWS..."),value:q.key,theme:c("SUIAnalyticsGriffinTheme"),errorMessage:this.state.keyError,disabled:this.state.isUpdating||this.state.isValidating}),u=c("React").createElement(c("SUITextInput.react"),{className:"_4xwt",onChange:function(w){var x=this.$AwsKinesisFirehoseSettingsCard7({last_error:"",config:{secret:w}});this.setState({firehoseSetting:x,validationError:null,isUpdated:false,isUpdateError:false})}.bind(this),placeholder:i._("Introduce la clave secreta de acceso a AWS..."),value:q.secret,theme:c("SUIAnalyticsGriffinTheme"),isMaxLengthHidden:true,maxLength:1024,disabled:this.state.isUpdating||this.state.isValidating}),v=c("React").createElement(c("SUIButton.react"),{label:i._("Validar y guardar"),theme:c("SUIAnalyticsGriffinTheme"),use:"confirm",onClick:function(){this.$AwsKinesisFirehoseSettingsCard10().done(function(w,x){return this.$AwsKinesisFirehoseSettingsCard8(this.$AwsKinesisFirehoseSettingsCard7({}))}.bind(this))}.bind(this),disabled:!this.$AwsKinesisFirehoseSettingsCard15()});return c("React").createElement("div",null,c("React").createElement(c("GriffinComposerField"),{label:i._("Nombre de la transmisi\u00f3n"),input:r}),c("React").createElement(c("GriffinComposerField"),{label:i._("Regi\u00f3n"),input:s}),c("React").createElement(c("GriffinComposerField"),{label:i._("Clave de acceso a AWS"),input:t}),c("React").createElement(c("GriffinComposerField"),{label:i._("Clave secreta de acceso a AWS"),input:u}),c("React").createElement(c("GriffinComposerField"),{label:i._("Validar y guardar"),input:v}))};p.prototype.$AwsKinesisFirehoseSettingsCard14=function(){"use strict";var q=[];for(var r in c("AnalyticsSettingConstants").AWS_KINESIS_FIREHOSE_REGION){var s=c("AnalyticsSettingConstants").AWS_KINESIS_FIREHOSE_REGION[r];q.push(c("React").createElement(c("GriffinSelectorOption"),{key:s,value:s},s))}return q};p.prototype.$AwsKinesisFirehoseSettingsCard10=function(){"use strict";var q=this.state.firehoseSetting.config,r=null;if(!q){r=i._("La configuraci\u00f3n est\u00e1 vac\u00eda");this.setState({validationError:r});return new(c("Promise"))(function(t,u){u(r)})}this.setState({isValidating:true});var s=c("XAnalyticsAwsKinesisFirehoseController").getURIBuilder().setString("region",q.regions[0]).setString("stream_name",q.stream_name).setString("key",q.key).setString("secret",q.secret).getURI();return new(c("Promise"))(function(t,u){new(c("AsyncRequest"))(s).setMethod("POST").setHandler(function(v){var r=null;if(v.payload.error){r=v.payload.message;u(v.payload.message)}else t(v.payload);this.setState({validationError:r,isValidating:false})}.bind(this)).setErrorHandler(function(v){this.setState({validationError:v.errorDescription,isValidating:false});u(v.errorDescription)}.bind(this)).send()}.bind(this))};p.prototype.$AwsKinesisFirehoseSettingsCard8=function(q){"use strict";this.setState({isUpdating:true});var r=c("AnalyticsSettingsStore").getSettings(),s=r?r.aws_kinesis_firehose_setting:null,t=Object.assign({},q);if(this.$AwsKinesisFirehoseSettingsCard9(t.config))t.config=Object.assign({},t.config);else t.config=null;c("AnalyticsSettingsActions").writeSetting("aws_kinesis_firehose_setting",s,t)};p.prototype.$AwsKinesisFirehoseSettingsCard15=function(){"use strict";return!this.state.isValidating&&!this.state.isUpdating&&this.$AwsKinesisFirehoseSettingsCard16(this.state.firehoseSetting.config)&&this.$AwsKinesisFirehoseSettingsCard9(this.state.firehoseSetting.config)};p.prototype.$AwsKinesisFirehoseSettingsCard9=function(q){"use strict";if(!q)return false;return!this.$AwsKinesisFirehoseSettingsCard12(q.stream_name)&&!this.$AwsKinesisFirehoseSettingsCard12(q.regions[0])&&!this.$AwsKinesisFirehoseSettingsCard12(q.key)&&!this.$AwsKinesisFirehoseSettingsCard12(q.secret)&&q.stream_name.search(o)>=0&&q.key.search(m)>=0};p.prototype.$AwsKinesisFirehoseSettingsCard12=function(q){"use strict";return q==null||q.trim()==""};p.prototype.$AwsKinesisFirehoseSettingsCard16=function(q){"use strict";var r=p.getFirehoseSettingFromStore().config;if(!r||!q)return false;return r.stream_name!==q.stream_name||r.key!==q.key||r.secret!==q.secret||r.regions[0]!==q.regions[0]};p.prototype.$AwsKinesisFirehoseSettingsCard7=function(q){"use strict";var r=Object.assign({},this.state.firehoseSetting,q);r.config=Object.assign({},this.state.firehoseSetting.config);if(q.config)Object.assign(r.config,q.config);return r};f.exports=c("FluxContainer").create(p)}),null);
__d("FalcorIOSSharedSecretSettings",["cx","fbt","FalcorCustomEventsSettingsText","InsightsContext","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsLoadingIndicator.react","React","XUIButton.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=/^([a-z0-9]{32})?$/,m="ios_purchase_secret",n=null,o=c("React").PropTypes;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={savedValidationSecret:this.props.savedValidationSecret,textBoxValue:"",loaded:this.props.savedValidationSecret!==undefined,showSecret:false,enteredBadSecret:false,gotWriteRequestError:false},this.$FalcorIOSSharedSecretSettings6=function(){if(this.props.allowSave||!this.state.showSecret)return c("React").createElement(c("XUIButton.react"),{onClick:this.$FalcorIOSSharedSecretSettings7,label:this.$FalcorIOSSharedSecretSettings8(),className:"_531j _3ikm _3ikw"})}.bind(this),this.$FalcorIOSSharedSecretSettings1=function(){c("InsightsGraphAPI").objectGet(c("InsightsGraphAPIConstants").ANALYTICS_ENTITY_NODE,c("InsightsContext").getObjID(),{fields:[c("InsightsGraphAPIConstants").ANALYTICS_CONFIG_NODE+"{ios_purchase_validation_secret}"]}).done(this.$FalcorIOSSharedSecretSettings9)}.bind(this),this.$FalcorIOSSharedSecretSettings9=function(v){var w=v[c("InsightsGraphAPIConstants").ANALYTICS_CONFIG_NODE]||{};this.setState({savedValidationSecret:w.ios_purchase_validation_secret,loaded:true})}.bind(this),this.$FalcorIOSSharedSecretSettings10=function(v){return c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").APP_EVENT_CONFIG_NODE,c("InsightsContext").getAnalyticsEventConfigID(),v)},this.$FalcorIOSSharedSecretSettings7=function(){var v,w=this;if(this.state.showSecret&&this.props.allowSave)(function(){var x=w.state.textBoxValue;if(l.test(x)){w.$FalcorIOSSharedSecretSettings10({ios_purchase_validation_secret:x}).done(function(y){return this.$FalcorIOSSharedSecretSettings11(x)}.bind(w),function(y){return this.$FalcorIOSSharedSecretSettings12()}.bind(w));w.setState({enteredBadSecret:false})}else w.setState({enteredBadSecret:true})})();else this.setState({showSecret:true})}.bind(this),this.$FalcorIOSSharedSecretSettings8=function(){if(this.state.showSecret)return i._("Guardar");else return i._("Editar")}.bind(this),this.$FalcorIOSSharedSecretSettings5=function(event){if(n)clearTimeout(n);var v=event.target;n=setTimeout(function(){var w=l.test(v.value.toLowerCase());this.setState({enteredBadSecret:!w})}.bind(this),500);this.setState({textBoxValue:v.value.toLowerCase()})}.bind(this),this.$FalcorIOSSharedSecretSettings11=function(v){this.setState({savedValidationSecret:v,showSecret:false})}.bind(this),this.$FalcorIOSSharedSecretSettings12=function(){this.setState({gotWriteRequestError:true})}.bind(this),this.$FalcorIOSSharedSecretSettings4=function(){if(this.state.enteredBadSecret)return c("FalcorCustomEventsSettingsText").sharedSecret.badSecretMessage;return null}.bind(this),this.$FalcorIOSSharedSecretSettings2=function(){return"_5320"+(!this.state.showSecret?" _532z":"")+(this.state.showSecret?" _532-":"")}.bind(this),this.$FalcorIOSSharedSecretSettings3=function(){if(this.state.showSecret)return"";else return"password"}.bind(this),r}p.prototype.componentWillMount=function(){"use strict";if(!this.state.loaded)this.$FalcorIOSSharedSecretSettings1()};p.prototype.render=function(){"use strict";if(!this.state.loaded)return c("React").createElement(c("InsightsLoadingIndicator.react"),null);var q=void 0;if(this.state.gotWriteRequestError)q=c("React").createElement("div",{className:"_531c"},c("FalcorCustomEventsSettingsText").sharedSecret.writeRequestError);return c("React").createElement("div",{className:"_531e"},c("React").createElement("div",{className:"_3nil _5u04"},c("FalcorCustomEventsSettingsText").sharedSecret.header),c("React").createElement("div",{className:"_3nim _5u06"},c("FalcorCustomEventsSettingsText").sharedSecret.description),c("React").createElement("div",null,c("React").createElement(c("XUITextInput.react"),{className:this.$FalcorIOSSharedSecretSettings2(),type:this.$FalcorIOSSharedSecretSettings3(),name:m,height:"tall",defaultValue:this.state.savedValidationSecret,xuiError:this.$FalcorIOSSharedSecretSettings4(),readonly:!this.state.showSecret,onChange:this.$FalcorIOSSharedSecretSettings5}),this.$FalcorIOSSharedSecretSettings6()),q)};p.propTypes={allowSave:o.bool,savedValidationSecret:o.string};p.defaultProps={allowSave:true};f.exports=p}),null);
__d("FalcorSettingsCard",["cx","fbt","AnalyticsCard","AnalyticsDateRangeStore","AnalyticsEntityManagementInfoComponent","AnalyticsEntityType","AnalyticsGKNames","AnalyticsGKs","AnalyticsSettingsActions","AnalyticsSettingsStore","AwsKinesisFirehoseSettingsCard","DevappSwitchButton.react","FalcorCustomEventsSettingsText","FalcorLoadingCard","FluxContainer","Grid.react","GriffinSessionTimeoutSetting","GriffinTimezoneSettingsCard","InsightsContext","InsightsEventLogger","DevsiteIOSSettingImplicitPurchaseWarningDialog","DevsiteAndroidSettingImplicitPurchaseWarningDialog","FalcorIOSSharedSecretSettings","React","Timezone"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("Grid.react").GridItem,m={LOG_IMPLICIT_PURCHASES:"log_implicit_purchases",LOG_ANDROID_IMPLICIT_PURCHASES:"log_android_implicit_purchases",IN_APP_PURCHASE_SHARED_SECRET:"in_app_purchase_shared_secret",VIEW_PURCHASE_INFO:"view_purchase_info",AUTOMATIC_ANALYTICS:"automatic_analytics",SESSION_TIMEOUT_INTERVAL:"session_timeout_interval"},n="_2o23";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.getStores=function(){"use strict";return[c("AnalyticsSettingsStore")]};o.calculateState=function(p,q){"use strict";return{loaded:c("AnalyticsSettingsStore").isLoaded(),settings:c("AnalyticsSettingsStore").getSettings()}};function o(p,q){"use strict";k.constructor.call(this,p,q);this.$FalcorSettingsCard3=function(){var r=c("FalcorCustomEventsSettingsText").iOSImplicitPurchaseEvents,s=null;if(c("InsightsContext").getShowIOSPurchaseValidation())s=c("FalcorCustomEventsSettingsText").iOSImplicitPurchaseEvents.purchaseValidationNotice;return[c("React").createElement(l,null,c("React").createElement(c("DevappSwitchButton.react"),{checked:this.state.settings.log_implicit_purchase_events,disabled:c("InsightsContext").isReadOnly(),onChange:this.$FalcorSettingsCard9,size:"small"})),c("React").createElement(l,null,c("React").createElement("div",{className:"_3nil"},r.header),c("React").createElement("div",{className:"_3nim"},r.description,s),c("React").createElement("div",{className:"_3nim"},c("React").createElement("span",{className:n},r.noticeHeader),r.notice))]}.bind(this);this.$FalcorSettingsCard4=function(){if(c("AnalyticsGKs").get(c("AnalyticsGKNames").INSIGHTS_ANDROID_IMPLICIT_PURCHASE_EVENTS)){var r=c("FalcorCustomEventsSettingsText").AndroidImplicitPurchaseEvents;return[c("React").createElement(l,null,c("React").createElement(c("DevappSwitchButton.react"),{checked:this.state.settings.log_android_implicit_purchase_events,disabled:c("InsightsContext").isReadOnly(),onChange:this.$FalcorSettingsCard10,size:"small"})),c("React").createElement(l,null,c("React").createElement("div",{className:"_3nil"},r.header),c("React").createElement("div",{className:"_3nim"},r.description),c("React").createElement("div",{className:"_3nim"},c("React").createElement("span",{className:n},r.noticeHeader),r.notice))]}return[]}.bind(this);this.$FalcorSettingsCard5=function(){if(c("InsightsContext").getShowIOSPurchaseValidation())if(this.state.settings.log_implicit_purchase_events)return[c("React").createElement(l,{key:"sharedSecretEmptyCell"}),c("React").createElement(l,{key:"sharedSecretInputCell"},c("React").createElement(c("FalcorIOSSharedSecretSettings"),null))];return[]}.bind(this);this.$FalcorSettingsCard6=function(){var r=c("FalcorCustomEventsSettingsText").viewRestrictedInsights;return[c("React").createElement(l,null,c("React").createElement(c("DevappSwitchButton.react"),{checked:this.state.settings.is_any_role_able_to_see_restricted_insights,disabled:!c("InsightsContext").isUserAdmin(),onChange:this.$FalcorSettingsCard11,size:"small"})),c("React").createElement(l,null,c("React").createElement("div",{className:"_3nil"},r.header),c("React").createElement("div",{className:"_3nim"},r.description))]}.bind(this);this.$FalcorSettingsCard7=function(){var r=c("FalcorCustomEventsSettingsText").automaticAnalyticsEvents;if(c("InsightsContext").showAutoAnalyticsSection())return[c("React").createElement(l,{key:"automaticAnalyticsSwitchButton"},c("React").createElement(c("DevappSwitchButton.react"),{checked:this.state.settings.log_automatic_analytics_events,disabled:c("InsightsContext").isReadOnly(),onChange:this.$FalcorSettingsCard12,size:"small"})),c("React").createElement(l,{key:"automaticAnalyticsText"},c("React").createElement("div",{className:"_3nil"},r.header),c("React").createElement("div",{className:"_3nim"},r.description))];return[]}.bind(this);this.$FalcorSettingsCard8=function(){return[c("React").createElement(l,{key:"timeoutEmptyCell"}),c("React").createElement(l,{key:"timeoutInputCell"},c("React").createElement(c("GriffinSessionTimeoutSetting"),{allowSave:true,savedValue:this.state.settings.session_timeout_interval}))]}.bind(this);this.$FalcorSettingsCard9=function(){var r=this.state.settings.log_implicit_purchase_events,s=!r;if(!r)if(this.state.settings.is_implicit_purchase_logging_on_ios_supported)c("DevsiteIOSSettingImplicitPurchaseWarningDialog").showSupportedSDKWarning();else c("DevsiteIOSSettingImplicitPurchaseWarningDialog").showUnsupportedSDKWarning();c("AnalyticsSettingsActions").writeSetting("log_implicit_purchase_events",r,s);c("InsightsEventLogger").logEvent({eventName:"toggle_does_log_implicit_purchase_events",value:s})}.bind(this);this.$FalcorSettingsCard10=function(){var r=this.state.settings.log_android_implicit_purchase_events,s=!r;if(!r)if(this.state.settings.is_implicit_purchase_logging_on_android_supported)c("DevsiteAndroidSettingImplicitPurchaseWarningDialog").showSupportedSDKWarning();else c("DevsiteAndroidSettingImplicitPurchaseWarningDialog").showUnsupportedSDKWarning();c("AnalyticsSettingsActions").writeSetting("log_android_implicit_purchase_events",r,s);c("InsightsEventLogger").logEvent({eventName:"toggle_does_log_android_imp_purchase",value:s})}.bind(this);this.$FalcorSettingsCard12=function(){if(c("InsightsContext").showAutoAnalyticsSection()){var r=this.state.settings.log_automatic_analytics_events,s=!r;c("InsightsEventLogger").logEvent({eventName:"toggle_does_log_auto_analytics_events",value:s});c("AnalyticsSettingsActions").writeSetting("log_automatic_analytics_events",r,s)}}.bind(this);this.$FalcorSettingsCard11=function(){var r=this.state.settings.is_any_role_able_to_see_restricted_insights,s=!r;c("InsightsEventLogger").logEvent({eventName:"toggle_any_role_see_restricted_insights",value:s});c("AnalyticsSettingsActions").writeSetting("is_any_role_able_to_see_restricted_insights",r,s)}.bind(this);c("AnalyticsSettingsActions").fetchSettings();c("InsightsEventLogger").logCardView("settings",{})}o.prototype.render=function(){"use strict";var p=void 0,q=void 0;if(!this.state.loaded)p=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else{p=this.$FalcorSettingsCard1();q=this.$FalcorSettingsCard2()}var r=c("Timezone").getName(c("AnalyticsDateRangeStore").getTimezoneID());return c("React").createElement("div",null,p,c("React").createElement(c("GriffinTimezoneSettingsCard"),{savedTimezone:r,analyticsEntityType:c("InsightsContext").getAnalyticsEntityType()}),q)};o.prototype.$FalcorSettingsCard2=function(){"use strict";if(c("InsightsContext").isApp()&&c("AnalyticsGKs").get(c("AnalyticsGKNames").AWS_KINESIS_FIREHOSE_CONFIG))return c("React").createElement(c("AwsKinesisFirehoseSettingsCard"),null);return null};o.prototype.$FalcorSettingsCard1=function(){var p;"use strict";var q=(p={},p[m.LOG_IMPLICIT_PURCHASES]=this.$FalcorSettingsCard3,p[m.LOG_ANDROID_IMPLICIT_PURCHASES]=this.$FalcorSettingsCard4,p[m.IN_APP_PURCHASE_SHARED_SECRET]=this.$FalcorSettingsCard5,p[m.VIEW_PURCHASE_INFO]=this.$FalcorSettingsCard6,p[m.AUTOMATIC_ANALYTICS]=this.$FalcorSettingsCard7,p[m.SESSION_TIMEOUT_INTERVAL]=this.$FalcorSettingsCard8,p),r=[];switch(c("InsightsContext").getAnalyticsEntityType()){case c("AnalyticsEntityType").APPLICATION:r=[m.LOG_IMPLICIT_PURCHASES,m.LOG_ANDROID_IMPLICIT_PURCHASES,m.IN_APP_PURCHASE_SHARED_SECRET,m.VIEW_PURCHASE_INFO,m.AUTOMATIC_ANALYTICS,m.SESSION_TIMEOUT_INTERVAL];break;case c("AnalyticsEntityType").EVENT_SOURCE_GROUP:case c("AnalyticsEntityType").PAGE:r=[];break;default:r=[m.VIEW_PURCHASE_INFO]}var s=r.length>0?c("React").createElement(c("Grid.react"),{cols:2,alignv:"middle",spacing:"_2pi8 _2pi5"},r.map(function(t){return q[t]()})):null;return c("React").createElement(c("AnalyticsCard"),{title:i._("Configuraci\u00f3n")},c("React").createElement(c("AnalyticsEntityManagementInfoComponent"),{entityId:c("InsightsContext").getObjID(),entityType:c("InsightsContext").getAnalyticsEntityType()}),s)};f.exports=c("FluxContainer").create(o)}),null);
__d("FalcorSettingsSectionController",["AnalyticsDateUtils","FalcorSettingsCard","GEPushSettingsCard","GriffinDefaultSectionController","GriffinSections","InsightsContext","React"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=c("InsightsContext").isApp()?c("React").createElement(c("GEPushSettingsCard"),{key:"push_settings"}):null,l=c("AnalyticsDateUtils").DateRangeTypes.LAST_7_DAYS,m=c("AnalyticsDateUtils").getDateRange(l);return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:l,fullDateRange:m,showCompare:false,showDatePicker:false,showSegments:false,visibleDateRange:m},c("React").createElement(c("FalcorSettingsCard"),{key:"settings",cardKey:"settings"}),k)};j.getKey=function(){"use strict";return c("GriffinSections").SETTINGS};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("GEPushSettingsCredential",["cx","fbt","React","SUIAtlasTheme","SUICloseButton.react","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("GEPushUtils").getFormattedDate,m=c("React").PropTypes,n={IOS_DEV:i._("Desarrollo de iOS"),IOS_PROD:i._("Producci\u00f3n de iOS"),IOS_UNIVERSAL:i._("iOS Universal")};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){"use strict";var p=this.props,q=p.bundle_identifier,r=p.cred_type,s=p.expiration_time,t=s===undefined?null:s,u=p.is_valid,v=p.id,w=p.onClick;return c("React").createElement("div",{className:"_4zvm"},c("React").createElement("div",{className:"_4zvn"},c("React").createElement(c("SUICloseButton.react"),{theme:c("SUIAtlasTheme"),className_DEPRECATED:"_4zvo",onClick:function(x){function w(){return x.apply(this,arguments)}w.toString=function(){return x.toString()};return w}(function(){return w(v)}),useLegacyPadding:true})),c("React").createElement("div",{className:"_4zvp"},c("React").createElement("span",{className:"_4zvq"+(u?" _4zvr":"")+(!u?" _4zvs":"")}),q),c("React").createElement("div",{className:"_4zvp"},c("React").createElement("span",{className:"_4zvt"},r?n[r]:"")),t?c("React").createElement("div",{className:"_4zvp"},c("React").createElement("span",{className:"_4zvt"},l(new Date(t*1e3)))):null)};function o(){"use strict";j.apply(this,arguments)}o.propTypes={bundle_identifier:m.string.isRequired,cred_type:m.string,expiration_time:m.number,is_valid:m.bool.isRequired,id:m.string,onClick:m.func.isRequired};f.exports=o}),null);
__d("GEPushAndroidGCMCard",["cx","fbt","FalcorLoadingCard","GriffinComposerField","GEPushGCMActions","GEPushGCMReduceStore","GEPushSettingsCredential","InsightsEventLogger","React","SUIButton.react","SUITextInput.react","FluxContainer","immutable"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("immutable").List,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={loading:false,id:null,modifiedApiKey:"",credentials:l(),GCMError:null},this.mounted=false,this.$GEPushAndroidGCMCard2=function(){return this.state.modifiedApiKey.trim()!==""}.bind(this),this.$GEPushAndroidGCMCard4=function(){this.setState({modifiedApiKey:""});c("GEPushGCMActions").handleDelete({id:this.state.credentials.get(0).id});c("InsightsEventLogger").logEvent({eventName:"push_settings_gcm_cred_delete"})}.bind(this),this.$GEPushAndroidGCMCard3=function(){this.setState({modifiedApiKey:"",GCMError:null});c("InsightsEventLogger").logEvent({eventName:"push_settings_gcm_cred_cancel"})}.bind(this),this.$GEPushAndroidGCMCard1=function(){c("GEPushGCMActions").handleCreate({apiKey:this.state.modifiedApiKey});c("InsightsEventLogger").logEvent({eventName:"push_settings_gcm_cred_create"})}.bind(this),p}n.getStores=function(){"use strict";return[c("GEPushGCMReduceStore")]};n.calculateState=function(o){"use strict";return{loading:c("GEPushGCMReduceStore").isLoading(),credentials:c("GEPushGCMReduceStore").getCreds()||l(),GCMError:c("GEPushGCMReduceStore").getErrorMessage()}};n.prototype.componentDidMount=function(){"use strict";this.mounted=true;c("GEPushGCMActions").handleFetch()};n.prototype.componentWillUnmount=function(){"use strict";this.mounted=false};n.prototype.render=function(){"use strict";var o=void 0,p=this.props.theme,q=c("React").createElement("div",{className:"_4uwh"},c("React").createElement("div",{className:"_1hwg"},c("React").createElement(c("SUITextInput.react"),{className:"_2sc9",onChange:function(t){this.setState({modifiedApiKey:t})}.bind(this),placeholder:i._("Introduce la clave de la API..."),value:this.state.modifiedApiKey,theme:p,errorMessage:this.state.GCMError})),c("React").createElement(c("SUIButton.react"),{className_DEPRECATED:"_4uwi",label:i._("Guardar"),theme:p,use:"confirm",onClick:function(){this.$GEPushAndroidGCMCard1()}.bind(this),disabled:!this.$GEPushAndroidGCMCard2()}),c("React").createElement(c("SUIButton.react"),{className_DEPRECATED:"_4uwi",label:i._("Cancelar"),theme:p,onClick:this.$GEPushAndroidGCMCard3,disabled:!this.$GEPushAndroidGCMCard2()})),r=this.state.credentials?this.state.credentials.get(0):null,s=r?c("React").createElement(c("GEPushSettingsCredential"),{is_valid:r.valid,bundle_identifier:r.api_key,onClick:this.$GEPushAndroidGCMCard4}):null;if(this.state.loading)o=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else o=c("React").createElement("div",null,c("React").createElement("div",{className:"_41im",dir:"ltr"},i._("Servicio de mensajer\u00eda Firebase Cloud (FCM)")),c("React").createElement("div",{className:"_12b5"},i._("A\u00f1ade tu API key del servicio de mensajer\u00eda de Firebase Cloud para enviar notificaciones de inserci\u00f3n a los dispositivos Android.")," ",c("React").createElement("a",{href:"https://firebase.google.com/docs/cloud-messaging/"},i._("M\u00e1s informaci\u00f3n."))),c("React").createElement(c("GriffinComposerField"),{label:i._("API KEY"),input:!r?q:s}));return o};n.propTypes={theme:m.object.isRequired};f.exports=c("FluxContainer").create(n)}),null);
__d("GEPushAppleCertificatesCard",["cx","fbt","FalcorLoadingCard","FBDragDropBox.react","FluxContainer","GEPushAPNSActions","GEPushAPNSReduceStore","GriffinComposerField","GEPushSettingsCredential","InsightsEventLogger","React","immutable"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("immutable").List;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={loading:false,certificates:l(),id:null,appleCertificateError:null,APNSLoading:false},this.mounted=false,this.$GEPushAppleCertificatesCard1=function(s){var t=s.target?s.target.files:s,u=t[0];if(t&&u){var v=new FileReader();v.onload=function(w){var x=w.target.result,y=x.split(",")[1];this.$GEPushAppleCertificatesCard3(y)}.bind(this);v.readAsDataURL(u)}}.bind(this),this.$GEPushAppleCertificatesCard2=function(s){c("GEPushAPNSActions").handleDelete({id:s});c("InsightsEventLogger").logEvent({eventName:"push_settings_apns_cert_delete"})},this.$GEPushAppleCertificatesCard3=function(s){c("GEPushAPNSActions").handleCreate({base64String:s});c("InsightsEventLogger").logEvent({eventName:"push_settings_apns_cert_create"})},o}m.getStores=function(){"use strict";return[c("GEPushAPNSReduceStore")]};m.calculateState=function(n){"use strict";return{loading:c("GEPushAPNSReduceStore").isLoading(),certificates:c("GEPushAPNSReduceStore").getCreds()||l(),appleCertificateError:c("GEPushAPNSReduceStore").getErrorMessage(),APNSLoading:c("GEPushAPNSReduceStore").isUploadInProgress()}};m.prototype.componentDidMount=function(){"use strict";this.mounted=true;c("GEPushAPNSActions").handleFetch()};m.prototype.componentWillUnmount=function(){"use strict";this.mounted=false};m.prototype.render=function(){"use strict";var n=void 0;if(this.state.loading)n=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else{var o=this.state.APNSLoading?c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true}):c("React").createElement(c("FBDragDropBox.react"),{onFilesSelection:this.$GEPushAppleCertificatesCard1,onFileChange:this.$GEPushAppleCertificatesCard1,onFileRemove:function p(){},hasError:!!this.state.appleCertificateError,allowedFileTypes:["application/x-pkcs12"]});n=c("React").createElement("div",null,c("React").createElement("div",{className:"_41im",dir:"ltr"},i._("Apple Push Notification service (APNs)")),c("React").createElement("div",{className:"_12b5"},i._("Sube los certificados de APNs para tu aplicaci\u00f3n en el formato de archivo .p12 para enviar notificaciones de inserci\u00f3n a dispositivos Apple iOS. Puedes generar un certificado en Apple Push Certificates Portal. Aseg\u00farate de que tu certificado no est\u00e9 asociado a una contrase\u00f1a; en caso contrario, el sistema no podr\u00e1 aceptarlo.")," ",c("React").createElement("a",{href:"https://identity.apple.com/pushcert/"},i._("Obt\u00e9n m\u00e1s informaci\u00f3n."))),c("React").createElement(c("GriffinComposerField"),{label:i._("SUBIR CERTIFICADOS"),input:c("React").createElement("div",{className:"_4ns2"},o,this.state.appleCertificateError?c("React").createElement("span",{className:"_rc6"},this.state.appleCertificateError):null)}),this.state.certificates.size>0?c("React").createElement(c("GriffinComposerField"),{label:i._("CERTIFICADOS SUBIDOS"),input:this.state.certificates.map(function(p,q){return c("React").createElement(c("GEPushSettingsCredential"),babelHelpers["extends"]({},p,{key:"certificate"+q,onClick:function(r){this.$GEPushAppleCertificatesCard2(r)}.bind(this)}))}.bind(this))}):null)}return n};f.exports=c("FluxContainer").create(m)}),null);
__d("GEPushSettingsCard",["fbt","AnalyticsPushCampaignVerification","AnalyticsCard","GEPushAppleCertificatesCard","GEPushAndroidGCMCard","React","SUIAnalyticsGriffinTheme"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("AnalyticsCard"),{title:h._("Credenciales de la campa\u00f1a de inserci\u00f3n")},c("React").createElement(c("GEPushAppleCertificatesCard"),null),c("React").createElement(c("GEPushAndroidGCMCard"),{theme:c("SUIAnalyticsGriffinTheme")})),c("React").createElement(c("AnalyticsCard"),{title:h._("Verificaci\u00f3n de configuraci\u00f3n de la campa\u00f1a de inserci\u00f3n")},c("React").createElement(c("AnalyticsPushCampaignVerification"),null)))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("GriffinTimezoneSettingsCard",["cx","fbt","AdsTimezone","AnalyticsCard","AnalyticsDateRangeActions","AnalyticsEntityType","AnalyticsProductName","InsightsEventLogger","GriffinComposerField","GriffinSearchableSelector","React","SearchableEntry","StaticSearchSource"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=c("AdsTimezone").sortedTimezones.map(function(q){var r=c("AdsTimezone").timezoneDataByID[q.id],s="(GMT"+r.offset+")",t=s+" "+r.displayName;return{key:r.name,displayName:t,value:r.name}}),n=m.map(function(q){return new(c("SearchableEntry"))({title:q.displayName,uniqueID:q.value})}),o=300;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(q){"use strict";k.constructor.call(this,q);this.$GriffinTimezoneSettingsCard1=function(r){var s=r.getUniqueID();this.setState({selectedTimezone:s});c("InsightsEventLogger").logEvent({eventName:"change_analytics_query_timezone",value:s});c("AnalyticsDateRangeActions").updateTimezone(s)}.bind(this);this.state={selectedTimezone:q.savedTimezone}}p.prototype.render=function(){"use strict";var q=new(c("StaticSearchSource"))(n),r=this.props.analyticsEntityType===c("AnalyticsEntityType").EVENT_SOURCE_GROUP,s=c("React").createElement(c("GriffinSearchableSelector"),{dropdownWidth:"auto",isDisabled:r,maxHeight:o,onChange:this.$GriffinTimezoneSettingsCard1,searchSource:q,value:this.$GriffinTimezoneSettingsCard2()}),t=c("React").createElement(c("GriffinComposerField"),{className:"_4os6",input:s,inputClass:"_4os7",label:i._("ZONA HORARIA"),labelClass:"_4os8"}),u=i._("Administra el ajuste de zona horaria de un origen de eventos concreto en esta p\u00e1gina de configuraci\u00f3n."),v=this.$GriffinTimezoneSettingsCard3(this.props.analyticsEntityType),w=c("React").createElement("div",null,c("React").createElement("div",null,v),r?c("React").createElement("div",null,u):null,c("React").createElement("div",null,t));return c("React").createElement(c("AnalyticsCard"),{title:i._("Zona horaria")},w)};p.prototype.$GriffinTimezoneSettingsCard2=function(){"use strict";return n.find(function(q){return q.getUniqueID()===this.state.selectedTimezone}.bind(this))};p.prototype.$GriffinTimezoneSettingsCard3=function(q){"use strict";switch(q){case c("AnalyticsEntityType").APPLICATION:return i._("Esta configuraci\u00f3n se usar\u00e1 para mostrar datos relacionados con la hora en {Analytics product name} a todos los usuarios de esta aplicaci\u00f3n.",[i.param("Analytics product name",c("AnalyticsProductName").shortName)]);case c("AnalyticsEntityType").ADS_PIXEL:return i._("Esta configuraci\u00f3n se usar\u00e1 para mostrar datos relacionados con la hora en {Analytics product name} a todos los usuarios de este p\u00edxel de Facebook.",[i.param("Analytics product name",c("AnalyticsProductName").shortName)]);case c("AnalyticsEntityType").EVENT_SOURCE_GROUP:return i._("Esta configuraci\u00f3n se usar\u00e1 para mostrar datos relacionados con la hora en {Analytics product name} a todos los usuarios de este grupo de or\u00edgenes de eventos.",[i.param("Analytics product name",c("AnalyticsProductName").shortName)]);case c("AnalyticsEntityType").PAGE:return i._("Esta configuraci\u00f3n se usar\u00e1 para mostrar datos relacionados con la hora en {Analytics product name} a todos los usuarios de esta p\u00e1gina de Facebook.",[i.param("Analytics product name",c("AnalyticsProductName").shortName)]);case c("AnalyticsEntityType").OFFLINE_CONVERSION_DATA_SET:return i._("Esta configuraci\u00f3n se usar\u00e1 para mostrar datos relacionados con la hora en {Analytics product name} a todos los usuarios de este conjunto de eventos fuera de internet.",[i.param("Analytics product name",c("AnalyticsProductName").shortName)]);default:return null}};p.propTypes={savedTimezone:l.string};f.exports=p}),null);
__d("FalcorStoriesDemographicsCard",["cx","fbt","BonsaiApiBreakdown","BonsaiApiError","BonsaiApiPromise","BonsaiConstants","BonsaiDemoDataProcessMixin","BonsaiErrorNotice","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorLegendSelectorMixin","FalcorLoadingCard","FalcorLogCardViewMixin","FalcorSideBySideColumnsChart","MenuSeparator.react","PopoverMenu.react","React","ReactXUIMenu","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=c("React").createClass({displayName:"FalcorStoriesDemographicsCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("BonsaiDemoDataProcessMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],_metrics:{publishes:"story_publishes",impressions:"story_impressions",clicks:"story_clicks"},_breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE],getInitialState:function l(){return babelHelpers["extends"]({},this._getInitialCardState("publishes"),{bucket:c("BonsaiConstants").ALL,breakdown:c("BonsaiApiBreakdown").CLIENT})},componentWillMount:function l(){Object.keys(this._metrics).forEach(function(m){this._breakdowns.map(function(n){this.addMetric([m+n,"age_gender"],this._metrics[m],{breakdowns:[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER,n]})}.bind(this))}.bind(this));this.fetchMetrics()},_title:function l(){return c("BonsaiText").demo},_getHelptextMap:function l(){return{publishes:"StoriesPublishesGenderAndAge",impressions:"StoriesImpressionsGenderAndAge",clicks:"StoriesClicksGenderAndAge"}},_sectionTitles:{publishes:i._("Editores"),impressions:i._("Espectadores"),clicks:i._("Personas que han hecho clic")},_onBucketSelected:function l(m){return function(n,o){var p=o.item.getValue();if(this.state.breakdown===m&&this.state.bucket===p)return;this.setState({bucket:p,breakdown:m})}.bind(this)},_selectorText:function l(m){switch(m){case c("BonsaiApiBreakdown").CLIENT:return i._("INCLUIR");default:return null}},_renderSelector:function l(m,n){var o=this.getData([m+n,"age_gender"]).groupBy(n);if(!o||o instanceof c("BonsaiApiError"))return null;var p=[];if(this.state.bucket!==c("BonsaiConstants").ALL){p.push(c("React").createElement(j,{key:c("BonsaiConstants").ALL,value:c("BonsaiConstants").ALL},c("BonsaiText").getBucketLabel(c("BonsaiConstants").ALL,n)));p.push(c("React").createElement(c("MenuSeparator.react"),{key:"SEPARATOR"}))}var q=Object.keys(o).sort();q.map(function(u){p.push(c("React").createElement(j,{key:u,value:u},c("BonsaiText").getBucketLabel(u,n)))});var r=c("React").createElement(c("ReactXUIMenu"),{onItemClick:this._onBucketSelected(n)},p),s=void 0,t=this._selectorText(n);if(t)s=c("React").createElement("div",{className:"mbs"},t);return c("React").createElement("div",{className:"_5tj4 pts",key:m+n},s,c("React").createElement(c("PopoverMenu.react"),{align:"right",menu:r},c("React").createElement(c("XUIPopoverButton.react"),{depressed:this.state.breakdown===n,haschevron:true,label:this.state.breakdown===n?c("BonsaiText").getBucketLabel(this.state.bucket,n):c("BonsaiText").getBucketLabel(c("BonsaiConstants").ALL,n)})))},_getKeyToLabel:function l(){return{publishes:this._sectionTitles.publishes,impressions:this._sectionTitles.impressions,clicks:this._sectionTitles.clicks}},_getKeyToSection:function l(){var m={};Object.keys(this._metrics).forEach(function(n){var o=this.getData([n+this.state.breakdown,"age_gender"]),p=void 0;if(this.state.bucket===c("BonsaiConstants").ALL)p=this.processFalcorGenderAgeData(o,false);else{p=o.groupBy(this.state.breakdown)[this.state.bucket];if(p)p=this.processFalcorGenderAgeData(p,false);else p=new(c("BonsaiApiError"))({error:{code:"no_data"}})}var q=this._breakdowns.map(function(v){return this._renderSelector(n,v)}.bind(this));if(p instanceof c("BonsaiApiPromise"))m[n]=c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else if(p instanceof c("BonsaiApiError"))m[n]=c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8j",message:p.getMessage()});else{var r=c("React").createElement("div",{className:"_5tj3 _3-98"},q),s=p,t=s.chartData,u=this._getTotalFromChartData(t);m[n]=c("React").createElement(c("FalcorSideBySideColumnsChart"),{ref:n,xAxisValues:p.ages,legendValues:p.legend,chartData:p.chartData,exportData:p["export"],totalCount:u,selectors:r})}}.bind(this));return m},_getTotalFromChartData:function l(m){return m.reduce(function(n,o){return n.concat(o)},[]).reduce(function(n,o){return n+o},0)},_renderCandela:function l(){return this._getKeyToSection()[this.state.activeSection]},_getExtraCardProps:function l(){return{className:"_1iq4"}},_supportsProgressiveDataLoading:function l(){return false},_getParamsToLog:function l(){return{card_breakdown:this.state.breakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase(),card_bucket:this.state.bucket.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function l(m,n){return this.state.activeSection!==n.activeSection||this.state.breakdown!==n.breakdown||this.state.bucket!==n.bucket}});f.exports=k}),null);
__d("FalcorStoriesFunnelCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorStoriesFunnelCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("ctr"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},_metrics:{publishes:"story_publishes",impressions:"story_impressions",ctr:"story_clicks"},_getHelptextMap:function j(){return{publishes:"StoryLifecyclePublishes",impressions:"StoryLifecycleImpressions",ctr:"StoryLifecycleCTR"}},componentWillMount:function j(){Object.keys(this._metrics).forEach(function(k){this.addMetric(k,this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE]})}.bind(this));Object.keys(this._metrics).forEach(function(k){this.addMetric(k+"_ref",this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").REF]})}.bind(this));Object.keys(this._metrics).forEach(function(k){this.addMetric(k+"_cohort",this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").LABEL_COHORT]})}.bind(this));this.addMetric("impressions_sponsored",this._metrics.impressions,{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").SPONSORED]});this.addMetric("ctr_sponsored",this._metrics.ctr,{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").SPONSORED]});this.fetchMetrics()},getChartData:function j(k,l,m){if(m){k=k+m;if(l)l=l+m}var n=this.getData(k);if(l)n=n.divideBy(this.getData(l));return n},renderBreakdownCharts:function j(k,l,m){var n=[c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getChartData(k,l),key:c("BonsaiApiBreakdown").NONE,title:c("BonsaiText")[k],ratio:l!=null,shouldStack:l==null}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:this.props.cardKey,data:this.getChartData(k,l),key:c("BonsaiApiBreakdown").CLIENT,ratio:l!=null,shouldStack:l==null}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").ACTION_TYPE,currentCard:this.props.cardKey,data:this.getChartData(k,l),key:c("BonsaiApiBreakdown").ACTION_TYPE,ratio:l!=null,shouldStack:l==null,sort:l==null?"total":"numerator"}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").AUTH_STATE,currentCard:this.props.cardKey,data:this.getChartData(k,l),key:c("BonsaiApiBreakdown").AUTH_STATE,ratio:l!=null,shouldStack:l==null}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").REF,currentCard:this.props.cardKey,data:this.getChartData(k,l,"_ref"),key:c("BonsaiApiBreakdown").REF,shouldStack:false,showTotal:false,ratio:l!=null,sort:l==null?"total":"numerator"}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").LABEL_COHORT,currentCard:this.props.cardKey,data:this.getChartData(k,l,"_cohort"),key:c("BonsaiApiBreakdown").LABEL_COHORT,shouldStack:false,showTotal:false,ratio:l!=null})];if(m)n.push(c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").SPONSORED,currentCard:this.props.cardKey,data:this.getChartData(k,l,"_sponsored"),key:c("BonsaiApiBreakdown").SPONSORED,ratio:l!=null,shouldStack:l==null}));return c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,categories:[this._getHelptextMap[k]]},n)},_getKeyToLabel:function j(){return{ctr:c("BonsaiText").ctr,impressions:c("BonsaiText").impressions,publishes:c("BonsaiText").publishes}},_getKeyToSection:function j(){return{ctr:this.renderBreakdownCharts("ctr","impressions",true),impressions:this.renderBreakdownCharts("impressions",null,true),publishes:this.renderBreakdownCharts("publishes",null,false)}},_renderCandela:function j(){var k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT];if(this.state.activeSection==="ctr"||this.state.activeSection==="impressions")k.push(c("BonsaiApiBreakdown").SPONSORED);var l=void 0,m=this.state.activeSection==="ctr"?"impressions":null;switch(this.state.activeBreakdown){case c("BonsaiApiBreakdown").SPONSORED:l=this.getChartData(this.state.activeSection,m,"_sponsored");break;case c("BonsaiApiBreakdown").REF:l=this.getChartData(this.state.activeSection,m,"_ref");break;case c("BonsaiApiBreakdown").LABEL_COHORT:l=this.getChartData(this.state.activeSection,m,"_cohort");break;default:l=this.getChartData(this.state.activeSection,m);break}var n={data:l,title:c("BonsaiText")[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([n],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[n],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true,isPercent:this.state.activeSection==="ctr"})},_title:function j(){return h._("Distribuci\u00f3n de la historia")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorStoriesNegativeCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLogCardViewMixin","FalcorLoadingAndErrorChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorStoriesNegativeCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("spam_rate"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},componentWillMount:function j(){this.addMetricWithEcosystem("spam_rate","story_spam_rate",{breakdowns:[c("BonsaiApiBreakdown").ACTION_TYPE]});this.addMetric("blocks","app_blocks");this.fetchMetrics()},_getHelptextMap:function j(){return{spam_rate:"StoriesSpamRates",blocks:"StoriesAppBlocks"}},_getKeyToLabel:function j(){return{spam_rate:c("BonsaiText").spam_rate,blocks:c("BonsaiText").blocks}},_getKeyToSection:function j(){return{spam_rate:c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:"spam_rate",currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,categories:[this._getHelptextMap().spam_rate]},c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getDataWithEcosystem("spam_rate"),key:c("BonsaiApiBreakdown").NONE,ratio:true,title:c("BonsaiText").spam_rate}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").ACTION_TYPE,currentCard:this.props.cardKey,data:this.getDataWithEcosystem("spam_rate"),key:c("BonsaiApiBreakdown").ACTION_TYPE,ratio:true})),blocks:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},this._getLegendProps(),{ref:"blocks",data:[this.getData("blocks")],titles:[c("BonsaiText").blocks],categories:[this._getHelptextMap().blocks]})))}},_renderCandela:function j(){if(this.state.activeSection==="spam_rate"){var k={data:this.getDataWithEcosystem("spam_rate"),title:c("BonsaiText").spam_rate,key:"spam_rate"};this.setExportInfo([k],this.state.activeBreakdown);var l=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").ACTION_TYPE];return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[k],activeBreakdown:this.state.activeBreakdown,allBreakdowns:l,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})}var m={data:this.getData("blocks"),title:c("BonsaiText").blocks,key:"blocks"};this.setExportInfo([m],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[m],activeBreakdown:this.state.activeBreakdown,currentCard:this.props.cardKey,showBreakdownSelector:false})},_title:function j(){return h._("Interacci\u00f3n negativa con las historias")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorStoriesPositiveCard",["fbt","BonsaiApiBreakdown","BonsaiBreakdownChart","FalcorBreakdownChartSwitcher","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorStoriesPositiveCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("clicks"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},_metrics:{clicks:"story_clicks",likes:"story_likes",comments:"story_comments"},_getHelptextMap:function j(){return{clicks:"StoryLifecycleClicks",likes:"StoriesLikes",comments:"StoriesComments"}},componentWillMount:function j(){Object.keys(this._metrics).forEach(function(k){this.addMetricWithEcosystem(k,this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE]});this.addMetric(k+"_sponsored",this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").SPONSORED]})}.bind(this));Object.keys(this._metrics).forEach(function(k){this.addMetric(k+"_ref",this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").REF]})}.bind(this));Object.keys(this._metrics).forEach(function(k){this.addMetric(k+"_cohort",this._metrics[k],{breakdowns:[c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").LABEL_COHORT]})}.bind(this));this.fetchMetrics()},renderBreakdownCharts:function j(k){var l=[c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,data:this.getDataWithEcosystem(k),key:c("BonsaiApiBreakdown").NONE,title:c("BonsaiText")[k]}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").CLIENT,currentCard:this.props.cardKey,data:this.getDataWithEcosystem(k),key:c("BonsaiApiBreakdown").CLIENT}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").ACTION_TYPE,currentCard:this.props.cardKey,data:this.getDataWithEcosystem(k),key:c("BonsaiApiBreakdown").ACTION_TYPE}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").AUTH_STATE,currentCard:this.props.cardKey,data:this.getDataWithEcosystem(k),key:c("BonsaiApiBreakdown").AUTH_STATE}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").SPONSORED,currentCard:this.props.cardKey,data:this.getDataWithEcosystem(k+"_sponsored"),key:c("BonsaiApiBreakdown").SPONSORED}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").REF,currentCard:this.props.cardKey,data:this.getData(k+"_ref"),key:c("BonsaiApiBreakdown").REF,shouldStack:false,showTotal:false}),c("React").createElement(c("BonsaiBreakdownChart"),{breakdown:c("BonsaiApiBreakdown").LABEL_COHORT,currentCard:this.props.cardKey,data:this.getData(k+"_cohort"),key:c("BonsaiApiBreakdown").LABEL_COHORT,shouldStack:false,showTotal:false})];return c("React").createElement(c("FalcorBreakdownChartSwitcher"),{ref:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,categories:[this._getHelptextMap()[k]]},l)},_getKeyToLabel:function j(){return{clicks:c("BonsaiText").clicks,likes:c("BonsaiText").likes,comments:c("BonsaiText").comments}},_getKeyToSection:function j(){return{clicks:this.renderBreakdownCharts("clicks"),likes:this.renderBreakdownCharts("likes"),comments:this.renderBreakdownCharts("comments")}},_renderCandela:function j(){var k=[c("BonsaiApiBreakdown").NONE,c("BonsaiApiBreakdown").CLIENT,c("BonsaiApiBreakdown").ACTION_TYPE,c("BonsaiApiBreakdown").AUTH_STATE,c("BonsaiApiBreakdown").SPONSORED,c("BonsaiApiBreakdown").REF,c("BonsaiApiBreakdown").LABEL_COHORT],l=void 0;switch(this.state.activeBreakdown){case c("BonsaiApiBreakdown").SPONSORED:l=this.getDataWithEcosystem(this.state.activeSection+"_sponsored");break;case c("BonsaiApiBreakdown").REF:l=this.getData(this.state.activeSection+"_ref");break;case c("BonsaiApiBreakdown").LABEL_COHORT:l=this.getData(this.state.activeSection+"_cohort");break;default:l=this.getDataWithEcosystem(this.state.activeSection);break}var m={data:l,title:c("BonsaiText")[this.state.activeSection],key:this.state.activeSection};this.setExportInfo([m],this.state.activeBreakdown);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[m],activeBreakdown:this.state.activeBreakdown,allBreakdowns:k,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},_title:function j(){return h._("Interacci\u00f3n positiva con las historias")},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("FalcorStoriesSectionController",["GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSections","OverviewStoriesBar","React","FalcorStoriesDemographicsCard","FalcorStoriesFunnelCard","FalcorStoriesNegativeCard","FalcorStoriesPositiveCard"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorStoriesSectionController",statics:{getKey:function i(){return c("GriffinSections").STORIES}},getSummary:function i(){var j=this.props,k=j.fullDateRange,l=j.visibleDateRange;return c("React").createElement(c("OverviewStoriesBar"),{fullDateRange:k,visibleDateRange:l})},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig,o=n.hasStories?null:c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Stories"});return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},c("React").createElement("div",null,o,this.getSummary(),c("React").createElement(c("FalcorStoriesFunnelCard"),{cardKey:"stories_funnel",fullDateRange:l,key:"stories_funnel",visibleDateRange:m}),c("React").createElement(c("FalcorStoriesPositiveCard"),{cardKey:"stories_positive",fullDateRange:l,key:"stories_positive",visibleDateRange:m}),c("React").createElement(c("FalcorStoriesNegativeCard"),{cardKey:"stories_negative",fullDateRange:l,key:"stories_negative",visibleDateRange:m}),c("React").createElement(c("FalcorStoriesDemographicsCard"),{cardKey:"stories_demographics",fullDateRange:l,key:"stories_demographics",visibleDateRange:m})))}});f.exports=h}),null);
__d("OverviewStoriesBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewStoriesBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").STORIES},getTitle:function j(){return h._("Historias")},getMetrics:function j(){return["story_impressions","story_publishes","story_clicks"]},getChartLocations:function j(){return[{card:"stories_funnel",tab:"impressions"},{card:"stories_funnel",tab:"publishes"},{card:"stories_positive",tab:"clicks"}]},getLabels:function j(){return[h._("Impresiones de historias"),h._("Historias publicadas"),h._("Clics en historias")]}});f.exports=i}),null);
__d("FalcorAppCenterCard",["fbt","invariant","BonsaiApiBreakdown","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").createClass({displayName:"FalcorAppCenterCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function k(){return this._getInitialCardState("ctr")},componentWillMount:function k(){this.addMetricWithEcosystem(["installs","impressions"],"app_center_initial_permission_requests");this.addMetricWithEcosystem(["installs","accepts"],"app_center_initial_permission_grants");this.fetchMetrics()},_getHelptextMap:function k(){return{ctr:"AppCenterAcceptRate",impressions:"AppCenterImpressions",accepts:"AppCenterAccepts"}},_title:function k(){return h._("Nuevos inicios de sesi\u00f3n del centro de aplicaciones")},_getKeyToLabel:function k(){return{ctr:c("BonsaiText").accept_rate,impressions:c("BonsaiText").impressions,accepts:c("BonsaiText").accepts}},_getKeyToSection:function k(){var l=this.getDataWithEcosystem(["installs","impressions"]),m=this.getDataWithEcosystem(["installs","accepts"]),n=this._getLegendProps();return{ctr:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},n,{ref:"ctr",data:[m.divideBy(l)],titles:[c("BonsaiText").accept_rate],percentage:true,categories:[this._getHelptextMap().ctr]}))),impressions:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},n,{ref:"impressions",data:[l],titles:[c("BonsaiText").impressions],disableEcosystem:true,categories:[this._getHelptextMap().impressions]}))),accepts:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},n,{ref:"accepts",data:[m],titles:[c("BonsaiText").accepts],disableEcosystem:true,categories:[this._getHelptextMap().accepts]})))}},_renderCandela:function k(){var l=this.getDataWithEcosystem(["installs","impressions"]),m=this.getDataWithEcosystem(["installs","accepts"]),n={};switch(this.state.activeSection){case"ctr":n={data:m.divideBy(l),title:c("BonsaiText").accept_rate,key:"ctr"};break;case"impressions":n={data:l,title:c("BonsaiText").impressions,key:"impressions"};break;case"accepts":n={data:m,title:c("BonsaiText").accepts,key:"accepts"};break;default:i(0)}this.setExportInfo([n],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[n],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false,isPercent:this.state.activeSection==="ctr"})},_supportsProgressiveDataLoading:function k(){return false},_getParamsToLog:function k(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function k(l,m){return this.state.activeBreakdown!==m.activeBreakdown}});f.exports=j}),null);
__d("FalcorLoginDialogCard",["cx","fbt","invariant","BonsaiSectionDataLoaderMixin","BonsaiApiBreakdown","BonsaiBreakdownChart","BonsaiText","FalcorErrorNotice","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","FalcorMenuSelector","GriffinSelector","GriffinSelectorOption","React","ReactXUIMenu","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=c("ReactXUIMenu").Item,l=c("React").createClass({displayName:"FalcorLoginDialogCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],installs:"installs",permissions:"existing_user_permissions",publish:"publish_permissions",getInitialState:function m(){return babelHelpers["extends"]({},this._getInitialCardState("ctr"),{mode:this.installs})},componentWillMount:function m(){this.addMetricWithEcosystem(["existing_user_permissions","impressions"],"login_dialog_additional_permission_requests",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem(["installs","impressions"],"login_dialog_initial_permission_requests",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem(["publish_permissions","impressions"],"login_dialog_publish_permission_requests",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem(["existing_user_permissions","accepts"],"login_dialog_additional_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem(["installs","accepts"],"login_dialog_initial_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetricWithEcosystem(["publish_permissions","accepts"],"login_dialog_publish_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.fetchMetrics()},componentWillReceiveProps:function m(n){this.setState({shouldRefresh:true})},_onModeChangeTo:function m(n){this.setState({mode:n.activeValue,shouldRefresh:true})},_onGriffinModeChange:function m(n){this.setState({mode:n})},_renderGriffinSelectorOptions:function m(){return[c("React").createElement(c("GriffinSelectorOption"),{key:this.installs,label:c("BonsaiText").installs,value:this.installs},c("BonsaiText").installs),c("React").createElement(c("GriffinSelectorOption"),{key:this.permissions,label:c("BonsaiText").new_permissions,value:this.permissions},c("BonsaiText").new_permissions),c("React").createElement(c("GriffinSelectorOption"),{key:this.publish,label:c("BonsaiText").publish_permissions,value:this.publish},c("BonsaiText").publish_permissions)]},_renderPermissionSelector:function m(){var n=i._("MOSTRAR POR"),o=c("React").createElement(c("FalcorMenuSelector"),{className:"_5gr9",buttonClass:"_3-8x _3-9a",activeValue:this.state.mode,onItemChange:this._onModeChangeTo},c("React").createElement(k,{className:"_2li5",value:this.installs,label:c("BonsaiText").installs}),c("React").createElement(k,{className:"_2li5",value:this.permissions,label:c("BonsaiText").new_permissions}),c("React").createElement(k,{className:"_2li5",value:this.publish,label:c("BonsaiText").publish_permissions}));return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_2pis",shade:"light",size:"small",display:"block",weight:"bold"},n),o)},_title:function m(){return i._("Cuadro de di\u00e1logo de inicio de sesi\u00f3n")},_chartOrError:function m(n){if(this.refs[n.ref]){var o=this.refs[n.ref].getErrorMessages();if(o.length)return c("React").createElement(c("FalcorErrorNotice"),{message:o[0]})}return n},_getHelptextMap:function m(){var n={existing_user_permissions:{ctr:"LoginDialogExistingPermissionAcceptRate",impressions:"LoginDialogExistingPermissionImpressions",accepts:"LoginDialogExistingPermissionAccepts"},installs:{ctr:"LoginDialogNewLoginAcceptRate",impressions:"LoginDialogNewLoginImpressions",accepts:"LoginDialogNewLoginAccepts"},publish_permissions:{ctr:"LoginDialogPublishAcceptRate",impressions:"LoginDialogPublishImpressions",accepts:"LoginDialogPublishAccepts"}};return n[this.state.mode]},_getKeyToLabel:function m(){return{ctr:c("BonsaiText").accept_rate,impressions:c("BonsaiText").impressions,accepts:c("BonsaiText").accepts}},_getKeyToSection:function m(){var n=this.state.mode,o=this.getDataWithEcosystem([n,"accepts"]),p=this.getDataWithEcosystem([n,"impressions"]),q=o.divideBy(p),r=q.filterBy("client","!=",["mob_unknown","unknown"]),s=babelHelpers["extends"]({},this._getLegendProps(),{breakdown:c("BonsaiApiBreakdown").CLIENT});return{ctr:this._chartOrError(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},s,{ref:"ctr",data:r,percentage:true,shouldStack:false,categories:[this._getHelptextMap().ctr],rightColumnControl:this._renderPermissionSelector()}))),impressions:this._chartOrError(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},s,{ref:"impressions",data:p,disableEcosystem:true,categories:[this._getHelptextMap().imps],rightColumnControl:this._renderPermissionSelector()}))),accepts:this._chartOrError(c("React").createElement(c("BonsaiBreakdownChart"),babelHelpers["extends"]({},s,{ref:"accepts",data:o,disableEcosystem:true,categories:[this._getHelptextMap().accepts],rightColumnControl:this._renderPermissionSelector()})))}},_getErrorSelector:function m(){return c("React").createElement(c("GriffinSelector"),{onChange:this._onGriffinModeChange,value:this.state.mode,width:150},this._renderGriffinSelectorOptions())},_getErrorLabel:function m(){return i._("MOSTRAR POR")},_renderCandela:function m(){var n=this.state.mode,o=this.getDataWithEcosystem([n,"accepts"]),p=this.getDataWithEcosystem([n,"impressions"]),q=o.divideBy(p),r=q.filterBy("client","!=",["mob_unknown","unknown"]),s={};switch(this.state.activeSection){case"ctr":s={data:r};break;case"impressions":s={data:p};break;case"accepts":s={data:o};break;default:j(0)}this.setExportInfo([s],c("BonsaiApiBreakdown").CLIENT);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[s],activeBreakdown:c("BonsaiApiBreakdown").CLIENT,activeCustomSelectorOption:this.state.mode,currentCard:this.props.cardKey,errorSelector:this._getErrorSelector(),errorLabel:this._getErrorLabel(),customSelectorOptions:this._renderGriffinSelectorOptions(),onBreakdownChange:this._onGriffinModeChange,showBreakdownSelector:true,isPercent:this.state.activeSection==="ctr"})},_getParamsToLog:function m(){return{card_breakdown:this.state.mode.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function m(n,o){return this.state.activeSection!==o.activeSection||this.state.mode!==o.mode}});f.exports=l}),null);
__d("FalcorUsersDemoCard",["fbt","BonsaiApiBreakdown","BonsaiApiError","BonsaiApiPromise","BonsaiDemoDataProcessMixin","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorErrorNotice","FalcorGeoLocaleTable","FalcorLegendSelectorMixin","FalcorLoadingCard","FalcorLogCardViewMixin","FalcorSideBySideColumnsChart","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorUsersDemoCard",mixins:[c("BonsaiDemoDataProcessMixin"),c("BonsaiSectionDataLoaderMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return this._getInitialCardState("gender_age")},componentWillMount:function j(){this.addMetric("age_gender","initial_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").AGE,c("BonsaiApiBreakdown").GENDER]});this.addMetric("country","initial_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").COUNTRY]});this.addMetric("locale","initial_permission_grants",{breakdowns:[c("BonsaiApiBreakdown").LOCALE]});this.fetchMetrics()},_title:function j(){return h._("Datos demogr\u00e1ficos de nuevos inicios de sesi\u00f3n con Facebook")},_getHelptextMap:function j(){return{gender_age:"UserDemoGenderAndAge",country:"UserDemoGeography",locale:"UserDemoLanguage"}},_getKeyToLabel:function j(){return{gender_age:c("BonsaiText").gender_age,country:c("BonsaiText").country,locale:c("BonsaiText").locale}},_getKeyToSection:function j(){var k=h._("login_countries"),l=h._("login_locales"),m=this.processGeoLocaleData();return{gender_age:this._getGenderAgeChart(),country:c("React").createElement(c("FalcorGeoLocaleTable"),{ref:"country",breakdown:c("BonsaiApiBreakdown").COUNTRY,currentCard:this.props.cardKey,data:m[c("BonsaiApiBreakdown").COUNTRY],downloadFileName:k,key:this.props.cardKey}),locale:c("React").createElement(c("FalcorGeoLocaleTable"),{ref:"locale",breakdown:c("BonsaiApiBreakdown").LOCALE,currentCard:this.props.cardKey,data:m[c("BonsaiApiBreakdown").LOCALE],downloadFileName:l,key:this.props.cardKey})}},_renderCandela:function j(){return this._getKeyToSection()[this.state.activeSection]},_getGenderAgeChart:function j(){var k=this.getData("age_gender");if(k instanceof c("BonsaiApiPromise"))return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});else if(k instanceof c("BonsaiApiError"))return c("React").createElement(c("FalcorErrorNotice"),{message:k.getMessage()});else{if(!k.getData().length)return c("React").createElement(c("FalcorErrorNotice"),{message:c("BonsaiText").errors.unavailable});k=this.processFalcorGenderAgeData(k);return c("React").createElement(c("FalcorSideBySideColumnsChart"),{breakdownType:"GENDER",ref:"gender_age",xAxisValues:k.ages,legendValues:k.legend,chartData:k.chartData,exportData:k["export"],totalCount:k.totalCount})}},_getParamsToLog:function j(){return{card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection},_supportsProgressiveDataLoading:function j(){return false}});f.exports=i}),null);
__d("FalcorUsersSectionController",["FalcorAppCenterCard","GriffinDefaultSectionController","GriffinEmptyStateCard","GriffinSectionController","GriffinSections","InsightsContext","FalcorLoginDialogCard","OverviewLoginBar","React","FalcorUsersDemoCard","FalcorUsersTrendCard"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"FalcorUsersSectionController",statics:{getKey:function i(){return c("GriffinSections").LOGIN}},render:function i(){var j=this.props,k=j.dateRangeType,l=j.fullDateRange,m=j.visibleDateRange,n=j.platformMetricsConfig,o=[];o.push(c("React").createElement(c("OverviewLoginBar"),{fullDateRange:l,key:"users_overview",visibleDateRange:m}));if(n.hasFBLogin){o.push(c("React").createElement(c("FalcorUsersTrendCard"),{cardKey:"users_trend",fullDateRange:l,key:"users_trend",visibleDateRange:m}));o.push(c("React").createElement(c("FalcorLoginDialogCard"),{cardKey:"login_dialog",fullDateRange:l,key:"login_dialog",visibleDateRange:m}))}if(c("InsightsContext").isAppCenterApproved())o.push(c("React").createElement(c("FalcorAppCenterCard"),{cardKey:"app_center",fullDateRange:l,key:"app_center",visibleDateRange:m}));if(o.length>0)o.push(c("React").createElement(c("FalcorUsersDemoCard"),{cardKey:"users_demo",fullDateRange:l,key:"users_demo",visibleDateRange:m}));else return c("React").createElement(c("GriffinSectionController"),null,c("React").createElement(c("GriffinEmptyStateCard"),{key:"empty",cmsKey:"Login"}));return c("React").createElement(c("GriffinDefaultSectionController"),{dateRangeType:k,fullDateRange:l,showCompare:false,showDatePicker:true,showSegments:false,visibleDateRange:m},o)}});f.exports=h}),null);
__d("FalcorUsersTrendCard",["fbt","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiBreakdownChart","BonsaiLinesTimeSeriesChart","BonsaiSectionDataLoaderMixin","BonsaiText","FalcorExportDataMixin","FalcorLegendSelectorMixin","FalcorLoadingAndErrorChart","FalcorLogCardViewMixin","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"FalcorUsersTrendCard",mixins:[c("BonsaiSectionDataLoaderMixin"),c("FalcorExportDataMixin"),c("FalcorLegendSelectorMixin"),c("FalcorLogCardViewMixin")],getInitialState:function j(){return babelHelpers["extends"]({},this._getInitialCardState("newLogin"),{activeBreakdown:c("BonsaiApiBreakdown").NONE})},componentWillMount:function j(){this.addMetric("dau","facebook_features_daily_active_users",{summary:true});this.addMetric("wau","facebook_features_weekly_active_users",{summary:true});this.addMetric("mau","facebook_features_monthly_active_users",{summary:true});this.addMetric("installs_facebook","initial_permission_grants_facebook",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetric("installs_anonymous","initial_permission_grants_anonymous",{breakdowns:[c("BonsaiApiBreakdown").CLIENT]});this.addMetric("uninstalls_facebook","permission_revocations_facebook");this.addMetric("uninstalls_anonymous","permission_revocations_anonymous");this.fetchMetrics()},_title:function j(){return h._("Actividad de inicio de sesi\u00f3n con Facebook")},_getNewLoginsChart:function j(){var k=c("BonsaiApiDataAdapter").mergeAsBreakdown(c("BonsaiApiBreakdown").LOGIN_TYPE,{facebook:this.getData("installs_facebook"),anonymous:this.getData("installs_anonymous")}).filterSingleDataPointsForBreakdown(c("BonsaiApiBreakdown").LOGIN_TYPE),l={data:k},m=c("BonsaiApiBreakdown").CLIENT;this.setExportInfo([l],m);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:m,currentCard:this.props.cardKey,onBreakdownChange:this._onBreakdownChange,showBreakdownSelector:true})},_getPermissionRemovalsChart:function j(){var k=c("BonsaiApiDataAdapter").mergeAsBreakdown(c("BonsaiApiBreakdown").LOGIN_TYPE,{facebook:this.getData("uninstalls_facebook"),anonymous:this.getData("uninstalls_anonymous")}).filterZeroValues().filterSingleDataPointsForBreakdown(c("BonsaiApiBreakdown").LOGIN_TYPE),l={data:k};this.setExportInfo([l],c("BonsaiApiBreakdown").LOGIN_TYPE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[l],activeBreakdown:c("BonsaiApiBreakdown").LOGIN_TYPE,currentCard:this.props.cardKey,showBreakdownSelector:false})},_getHelptextMap:function j(){return{newLogin:"NewLogins",removal:"UsersTrend",active:"ActiveUsers"}},_getKeyToLabel:function j(){var k=h._("Nuevos inicios de sesi\u00f3n"),l=h._("Eliminaciones de permisos");return{newLogin:k,removal:l,active:c("BonsaiText").users_active}},_getKeyToSection:function j(){var k=babelHelpers["extends"]({},this._getLegendProps(),{disableRangeSelection:true});return{newLogin:this._getNewLoginsChart(),removal:this._buildTimeSeriesChartGroup(this._getPermissionRemovalsChart()),active:this._buildTimeSeriesChartGroup(c("React").createElement(c("BonsaiLinesTimeSeriesChart"),babelHelpers["extends"]({},k,{ref:"active",data:[this.getData("mau"),this.getData("wau"),this.getData("dau")],titles:[c("BonsaiText").users_monthly,c("BonsaiText").users_weekly,c("BonsaiText").users_daily]})))}},_renderCandela:function j(){switch(this.state.activeSection){case"newLogin":return this._getNewLoginsChart();case"removal":return this._getPermissionRemovalsChart();case"active":var k={data:this.getData("mau"),title:c("BonsaiText").users_monthly,key:"mau"},l={data:this.getData("wau"),title:c("BonsaiText").users_weekly,key:"wau"},m={data:this.getData("dau"),title:c("BonsaiText").users_daily,key:"dau"};this.setExportInfo([k,l,m],c("BonsaiApiBreakdown").NONE);return c("React").createElement(c("FalcorLoadingAndErrorChart"),{activeConfigs:[k,l,m],activeBreakdown:c("BonsaiApiBreakdown").NONE,currentCard:this.props.cardKey,showBreakdownSelector:false})}return c("React").createElement("div",null)},_onBreakdownChange:function j(k){this.setState({activeBreakdown:k})},_getParamsToLog:function j(){return{card_breakdown:this.state.activeBreakdown.toLowerCase(),card_section:this.state.activeSection.toLowerCase()}},_shouldLogAfterComponentDidUpdate:function j(k,l){return this.state.activeSection!==l.activeSection||this.state.activeBreakdown!==l.activeBreakdown}});f.exports=i}),null);
__d("OverviewLoginBar",["fbt","GriffinSections","BonsaiSectionDateRangeMixin","BonsaiOverviewBarMixin","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"OverviewLoginBar",mixins:[c("BonsaiSectionDateRangeMixin"),c("BonsaiOverviewBarMixin")],getSection:function j(){return c("GriffinSections").LOGIN},getTitle:function j(){return h._("Inicio de sesi\u00f3n con Facebook")},getMetrics:function j(){return["initial_permission_grants","facebook_features_daily_active_users","facebook_features_monthly_active_users"]},getChartLocations:function j(){return[{card:"users_trend",tab:"new"},{card:"users_trend",tab:"active"},{card:"users_trend",tab:"active"}]},getLatest:function j(){return[false,true,true]},getLabels:function j(){return[h._("Nuevos inicios de sesi\u00f3n"),h._("Usuarios activos por d\u00eda"),h._("Usuarios activos por mes")]}});f.exports=i}),null);
__d("CreateCustomAudienceComponent",["cx","fbt","AnalyticsUserAdAccountsActions","AnalyticsUserAdAccountsStore","FalcorAdAccountPickerDialog","FluxContainer","GriffinButton","InsightsEventLogger","React","ReactFragment","isEmpty"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={CADialogVisible:false,adAccounts:null},this.$CreateCustomAudienceComponent1=function(r){this.setState({CADialogVisible:r})}.bind(this),this.$CreateCustomAudienceComponent2=function(){this.setState({CADialogVisible:false})}.bind(this),this.renderLayers=function(){return c("ReactFragment").create({CADialog:this.$CreateCustomAudienceComponent3()})}.bind(this),this.onCreateCustomAudienceButtonClick=function(){this.setState({CADialogVisible:true})}.bind(this),n}l.getStores=function(){return[c("AnalyticsUserAdAccountsStore")]};l.calculateState=function(m){var n=c("AnalyticsUserAdAccountsStore").getAdAccounts(),o={};if(n)n.forEach(function(p){return o[p.id]=p.name});return babelHelpers["extends"]({},m,{adAccounts:o})};l.prototype.componentWillMount=function(){c("AnalyticsUserAdAccountsActions").fetchAdAccounts()};l.prototype.componentDidUpdate=function(m,n){if(this.state.CADialogVisible&&!n.CADialogVisible)c("InsightsEventLogger").logEvent({eventName:"custom_audience_create_click"})};l.prototype.$CreateCustomAudienceComponent3=function(){var m=this.state.adAccounts;if(!c("isEmpty")(m))return c("React").createElement(c("FalcorAdAccountPickerDialog"),{adAccounts:m,causalElementRef:function(){return this.refs.createAudienceButton}.bind(this),queryData:this.props.queryData,shown:this.state.CADialogVisible,onToggle:this.$CreateCustomAudienceComponent1,onEscapeKey:this.$CreateCustomAudienceComponent2});return null};l.prototype.render=function(){var m=this.state.adAccounts;if(!m)return null;var n=i._("Crear p\u00fablico personalizado");return c("React").createElement("span",null,c("React").createElement(c("GriffinButton"),{className:"_m81",disabled:c("isEmpty")(m),key:"create_button",use:"confirm",label:n,onClick:this.onCreateCustomAudienceButtonClick,ref:"createAudienceButton"}),this.renderLayers())};f.exports=c("FluxContainer").create(l)}),null);
__d("FalcorAdAccountPickerDialog",["cx","fbt","ix","invariant","GriffinSearchableSelector","Image.react","InsightsEventLogger","LayerFadeOnHide","React","SearchableEntry","StaticSearchSource","SUIAnalyticsGriffinTheme","URI","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react","SUICloseButton.react","Keys"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p,q){"use strict";m.constructor.call(this,p,q);this.$FalcorAdAccountPickerDialog4=function(){return c("React").createElement(c("SUICloseButton.react"),{shade:"dark",size:"large",theme:c("SUIAnalyticsGriffinTheme"),className_DEPRECATED:"_39fn",onClick:this.props.onEscapeKey,useLegacyPadding:true})}.bind(this);this.$FalcorAdAccountPickerDialog7=function(s){this.setState({selectedEntry:s})}.bind(this);this.$FalcorAdAccountPickerDialog6=function(){c("InsightsEventLogger").logEvent({eventName:"custom_audience_ad_account_select",account_id:this.state.selectedEntry.getUniqueID()})}.bind(this);this.$FalcorAdAccountPickerDialog5=function(){var s=babelHelpers["extends"]({},this.props.queryData,{act:this.state.selectedEntry.getUniqueID()});return new(c("URI"))("/ads/manage/audiences.php").addQueryData(s).toString()}.bind(this);Object.keys(p.adAccounts).length>0||k(0);var r=this.$FalcorAdAccountPickerDialog1();this.state={searchableAdAccounts:new(c("StaticSearchSource"))(r),selectedEntry:r[0]}}o.prototype.render=function(){"use strict";var p=Object.keys(this.props.adAccounts).length===1?this.$FalcorAdAccountPickerDialog2():this.$FalcorAdAccountPickerDialog3(),q=this.props.onEscapeKey,r=function r(event){if(event.keyCode==c("Keys").ESC){q();document.removeEventListener("keydown",r,true)}};document.addEventListener("keydown",r,true);return c("React").createElement(c("XUIDialog.react"),babelHelpers["extends"]({behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:1e3},this.props),this.$FalcorAdAccountPickerDialog4(),c("React").createElement(c("XUIDialogBody.react"),{className:"_1_il _2pi1",useCustomPadding:true},c("React").createElement(c("Image.react"),{src:j("96532")}),p))};o.prototype.$FalcorAdAccountPickerDialog2=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_1_im"},i._("Crea tu p\u00fablico en el administrador de anuncios")),c("React").createElement("p",{className:"_1_in _2pi6"},i._("Ve al administrador de anuncios para crear tu p\u00fablico personalizado en la cuenta: {Name of ad account}.",[i.param("Name of ad account",c("React").createElement(c("XUIText.react"),{weight:"bold"},this.props.adAccounts[Object.keys(this.props.adAccounts)[0]]))])),c("React").createElement("div",{className:"_1_io"},c("React").createElement(c("XUIButton.react"),{label:i._("Aceptar"),href:this.$FalcorAdAccountPickerDialog5(),onClick:this.$FalcorAdAccountPickerDialog6,size:"xlarge",target:"_blank",use:"confirm"})))};o.prototype.$FalcorAdAccountPickerDialog1=function(){"use strict";var p=Object.keys(this.props.adAccounts).map(function(q){return new(c("SearchableEntry"))({title:this.props.adAccounts[q]+" ("+q+")",uniqueID:q})}.bind(this));return p};o.prototype.$FalcorAdAccountPickerDialog3=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_1_im"},i._("Elige la cuenta publicitaria para tu p\u00fablico")),c("React").createElement("p",{className:"_1_in _2pi6"},i._("Esta es la cuenta que usar\u00e1s para anunciarte a tu nuevo p\u00fablico. Elige una cuenta y, a continuaci\u00f3n, dir\u00edgete al administrador de anuncios para crear tu p\u00fablico personalizado.")),c("React").createElement("div",{className:"_1_io"},c("React").createElement(c("GriffinSearchableSelector"),{className:"_1_ip _2pil",dropdownWidth:300,onChange:this.$FalcorAdAccountPickerDialog7,searchSource:this.state.searchableAdAccounts,theme:c("SUIAnalyticsGriffinTheme"),value:this.state.selectedEntry}),c("React").createElement(c("XUIButton.react"),{label:i._("Aceptar"),href:this.$FalcorAdAccountPickerDialog5(),onClick:this.$FalcorAdAccountPickerDialog6,size:"xlarge",target:"_blank",use:"confirm"})))};o.propTypes=babelHelpers["extends"]({},c("XUIDialog.react").propTypes,{adAccounts:n.object.isRequired,queryData:n.object.isRequired});f.exports=o}),null);
__d("FalcorAppEventRuleDataBuilder",["CustomEventStore","GriffinAppEventRuleBuilder","React","update"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$FalcorAppEventRuleDataBuilder1=function(q){var r=this.props.requireRuleName?c("CustomEventStore").getAppEventDisplayName(q.event_name):this.props.eventRuleData.name||"",s=c("update")(this.props.eventRuleData,{name:{$set:r},event_rule:{$set:q}});this.props.onChange(s)}.bind(this),this.$FalcorAppEventRuleDataBuilder2=function(q){var r=c("update")(this.props.eventRuleData,{negate_rule:{$set:q}});this.props.onChange(r)}.bind(this),this.$FalcorAppEventRuleDataBuilder3=function(q){var r=c("update")(this.props.eventRuleData,{name:{$set:q}});this.props.onChange(r)}.bind(this),m}k.prototype.render=function(){var l=this.props.eventRuleData,m=this.props.requireRuleName,n=this.props.requireNegationSelector;return c("React").createElement(c("GriffinAppEventRuleBuilder"),{appID:this.props.appID,disablePushConditions:this.props.disablePushConditions,ruleName:l.name,eventRule:l.event_rule,negateRule:l.negate_rule,onChangeEventRule:this.$FalcorAppEventRuleDataBuilder1,onChangeNegation:n?this.$FalcorAppEventRuleDataBuilder2:null,onChangeRuleName:m?this.$FalcorAppEventRuleDataBuilder3:null,onRemoveRule:this.props.onRemoveRule})};k.propTypes={appID:j.string.isRequired,disablePushConditions:j.bool,eventRuleData:j.shape({name:j.string,event_rule:j.object,negate_rule:j.bool}).isRequired,onChange:j.func.isRequired,onRemoveRule:j.func.isRequired,requireRuleName:j.bool,requireNegationSelector:j.bool};k.defaultProps={requireRuleName:false,requireNegationSelector:false};f.exports=k}),null);
__d("FalcorFeatureTableCard",["cx","AnalyticsCard","CustomEventStore","FalcorObjectTable","FalcorLoadingCard","GriffinEmptyStateCard","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$FalcorFeatureTableCard7=function(m){this.setState({searchString:m.target.value});this.refs.dataTable.onSearchChange(m)}.bind(this);this.state={searchString:""}}k.prototype.render=function(){return c("React").createElement("div",null,this.$FalcorFeatureTableCard1())};k.prototype.$FalcorFeatureTableCard1=function(){if(!c("CustomEventStore").hasEvents())return this.$FalcorFeatureTableCard2();var l=this.props.data;if(!l)return this.$FalcorFeatureTableCard3();return l.length===0?this.$FalcorFeatureTableCard4():this.$FalcorFeatureTableCard5(l)};k.prototype.$FalcorFeatureTableCard3=function(){return c("React").createElement(c("FalcorLoadingCard"),null)};k.prototype.$FalcorFeatureTableCard2=function(){return this.$FalcorFeatureTableCard6(false)};k.prototype.$FalcorFeatureTableCard4=function(){return this.$FalcorFeatureTableCard6(true)};k.prototype.$FalcorFeatureTableCard6=function(l){var m=this.props.section,n=l?m+"CreateFirst":m;return c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:n})};k.prototype.$FalcorFeatureTableCard5=function(l){var m=this.state.searchString||"";return c("React").createElement(c("AnalyticsCard"),{title:this.props.title,searchString:m,onSearchChange:this.$FalcorFeatureTableCard7,helpText:{key:this.props.helpKey,title:this.props.title}},c("React").createElement(c("FalcorObjectTable"),{className:"_2pdk",data:l,pageSize:Infinity,section:this.props.section,showEditButton:this.props.showEditButton,ref:"dataTable"}))};k.defaultProps={showEditButton:true};f.exports=k}),null);
__d("FalcorGeoLocaleTable",["cx","BonsaiApiBreakdown","BonsaiApiError","BonsaiApiPromise","BonsaiErrorNotice","BonsaiText","AnalyticsUIUtils","FalcorPaginatedDataTable","InsightsContext","InsightsLoadingIndicator.react","InsightsNumUtils","ObjectSort","React","getObjectValues"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FalcorGeoLocaleTable1=function(){var r=this.props.data;if(r instanceof c("BonsaiApiError"))return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:this.props.data.getMessage()});if(!r.length)return c("React").createElement(c("BonsaiErrorNotice"),{className:"_3-8t _3-96",message:c("BonsaiText").errors.unavailable});if(r instanceof c("BonsaiApiPromise"))return c("React").createElement(c("InsightsLoadingIndicator.react"),null);if(!r.length)return null;var s=[{id:"title",label:c("BonsaiText")[this.props.breakdown],sortable:true,comparator:c("ObjectSort").getStringSortFunction("title"),width:300},{id:"count",label:c("BonsaiText").count,sortable:true,cellRenderer:function t(u){return c("InsightsNumUtils").prettyInt(u)},comparator:c("ObjectSort").getReverseNumericSortFunction("count"),width:300},{id:"change",label:this.$FalcorGeoLocaleTable2(),sortable:true,cellRenderer:this.$FalcorGeoLocaleTable3,comparator:this.$FalcorGeoLocaleTable4("change"),width:300}];return c("React").createElement(c("FalcorPaginatedDataTable"),{columns:s,key:this.props.breakdown,rows:this.$FalcorGeoLocaleTable5(r)})}.bind(this),n}l.prototype.render=function(){var m=this.props.data,n=false;Object.keys(m).forEach(function(p){if(m[p]instanceof c("BonsaiApiPromise"))n=true});if(n)return c("React").createElement("div",{className:"_5r8_"},c("React").createElement(c("InsightsLoadingIndicator.react"),null));var o=this.$FalcorGeoLocaleTable1();return o};l.prototype.getExportData=function(){if(Array.isArray(this.props.data))return this.props.data;return null};l.prototype.$FalcorGeoLocaleTable4=function(m,n){return function(o,p){if(!p||!p[m])return-1;if(!o||!o[m])return 1;if(n)return p[m].value.localeCompare(o[m].value);return(p[m].value||0)-(o[m].value||0)}};l.prototype.$FalcorGeoLocaleTable3=function(m){if(m.string){var n=m.value<0?"- "+m.string:"+ "+m.string;return c("React").createElement("div",{className:m.className},n)}else return c("React").createElement("div",null)};l.prototype.$FalcorGeoLocaleTable2=function(){var m=c("InsightsContext").getVisibleDateRange();if(m)return c("BonsaiText").getPoPLabelFromTimesWithDelta(m.since.getTime(),m.until.getTime(),1);else return c("BonsaiText").change};l.prototype.$FalcorGeoLocaleTable5=function(m){var n=void 0;return m.map(function(o){n=o.body.reduce(function(r,s){return r+s.value},0);var p=o.header,q=c("AnalyticsUIUtils").calculatePercentageChange(o.oldest,o.latest);return{title:p,count:n,change:q}})};l.propTypes={breakdown:k.oneOf(c("getObjectValues")(c("BonsaiApiBreakdown"))).isRequired,data:k.oneOfType([k.object,k.array]).isRequired,downloadFileName:k.string.isRequired};f.exports=l}),null);
__d("FalcorButtonShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({disabled:h.bool,href:h.string,onClick:h.func,text:h.string.isRequired,target:h.string});f.exports=i}),null);
__d("GriffinHeaderButton",["React","SUIAnalyticsGriffinHeaderTheme","SUIButton.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},this.props,{style:babelHelpers["extends"]({height:34},this.props.style||{}),theme:c("SUIAnalyticsGriffinHeaderTheme"),use:"special"}),this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("SUIAnalyticsGriffinHeaderTitleBaseTheme",["cssVar","React","SUIAtlasIcon.react","SUITheme","SUITypeStyle"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="Helvetica, Arial, sans-serif",l={black:"#000000",white:"#ffffff",gray:"#4E5665",grayText:"#898F9C",grayBorder:"#D7D7D7",grayDark:"#666E7C",blue:"#3A84C5",buttonBackground:"transparent",buttonBorder:"#9BC0E4",buttonDisabledBackground:"transparent",buttonDisabledBorder:"#6BA2D4",closeButtonBackground:"#85B9E6"},m={typeBlack:new(c("SUITypeStyle"))({fontSize:"12px",color:l.black,fontFamily:k,fontWeight:"400"}),typeBlackBig:new(c("SUITypeStyle"))({fontSize:"24px",color:l.black,fontFamily:k,fontWeight:"400"}),typeBlackBold:new(c("SUITypeStyle"))({fontSize:"12px",color:l.black,fontFamily:k,fontWeight:"600"}),typeWhite:new(c("SUITypeStyle"))({fontSize:"12px",color:l.white,fontFamily:k,fontWeight:"400"}),typeWhiteBold:new(c("SUITypeStyle"))({fontSize:"12px",color:l.white,fontFamily:k,fontWeight:"600"}),typeGrayBold:new(c("SUITypeStyle"))({fontSize:"12px",color:l.gray,fontFamily:k,fontWeight:"600"})},n={SUIButton:{height:{normal:48,"short":48,tall:56},padding:{normal:{button:"16px",icon:"6px",onlyIcon:"19px"},"short":{button:"16px",icon:"6px",onlyIcon:"19px"},tall:{button:"16px",icon:"6px",onlyIcon:"19px"}},typeStyle:m.typeWhiteBold,use:{"default":{active:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white},disabled:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonDisabledBackground,color:l.buttonDisabledBorder},hover:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white},normal:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white}},confirm:{active:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white},disabled:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonDisabledBackground,color:l.buttonDisabledBorder},hover:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white},normal:{border:"0",borderColor:"transparent",background:l.buttonBackground,color:l.white}},special:{active:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.blue,color:l.white},disabled:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonDisabledBackground,color:l.buttonDisabledBorder},hover:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.buttonBackground,color:l.white},normal:{border:"0",borderColor:"transparent",boxShadow:"none",background:l.blue,color:l.white}}}},SUIHighlightedText:{backgroundColor:l.white},SUISelectorButton:{chevron:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.white,colorDisabled:l.buttonDisabledBorder,name:"chevronDown",size:12}),padding:"0"},SUIInlineTypeahead:{dividerBorderColor:l.grayBorder,searchIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.grayText,name:"search"})},SUISearchableSelector:{disabledSubtitleTypeStyle:m.typeGrayBold,disabledTitleTypeStyle:m.typeGrayBold,dropdownBackgroundColor:l.white,dropdownBorderColor:l.grayBorder,headerBackgroundColor:l.white,headerTypeStyle:m.typeWhiteBold,subtitleColor:l.white,subtitleTypeStyle:m.typeWhite,titleTypeStyle:m.typeWhiteBold},SUITokenizerItem:{disabled:{color:l.gray,subtitleColor:l.gray},highlighted:{backgroundColor:l.white,color:l.black,subtitleColor:l.black},normal:{color:l.grayDark,subtitleColor:l.grayDark},remove:{disabledIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.gray,name:"delete",size:14}),highlightedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.black,name:"delete",size:14}),normalIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.grayDark,name:"delete",size:14}),selectedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.black,name:"delete",size:14})},selected:{backgroundColor:l.white,color:l.black,disabledIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.gray,name:"check",size:14}),highlightedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.black,name:"check",size:14}),isIconShownForSingleSelection:false,normalIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.grayDark,name:"check",size:14}),selectedIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.black,name:"check",size:14}),subtitleColor:l.white}},SUITokenizerItemList:{backgroundColor:l.white,borderColor:l.grayBorder,categoryHeader:{borderColor:l.gray,typeStyle:m.typeBlackBig},typeStyle:m.typeBlackBold}};i=babelHelpers.inherits(o,c("SUITheme"));j=i&&i.prototype;function o(p,q){var r=new(c("SUITypeStyle"))(p);n.SUISearchableSelector.headerTypeStyle=r;n.SUISearchableSelector.titleTypeStyle=r;n.SUISelectorButton.chevron=c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:l.white,colorDisabled:l.buttonDisabledBorder,name:"chevronDown",size:q});j.constructor.call(this,{id:"analytics_griffin_header_title",components:n})}f.exports=o}),null);
__d("SUIAnalyticsGriffinHeaderTitleCollapsedTheme",["cssVar","SUIAnalyticsGriffinHeaderTitleBaseTheme"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="#ffffff",l="Helvetica, Arial, sans-serif",m={fontSize:"24px",color:k,fontFamily:l,fontWeight:"200"},n=16;i=babelHelpers.inherits(o,c("SUIAnalyticsGriffinHeaderTitleBaseTheme"));j=i&&i.prototype;function o(){j.constructor.call(this,m,n)}f.exports=o}),null);
__d("SUIAnalyticsGriffinHeaderTitleExpandedTheme",["cssVar","SUIAnalyticsGriffinHeaderTitleBaseTheme"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="#ffffff",l="Helvetica, Arial, sans-serif",m={fontSize:"32px",color:k,fontFamily:l,fontWeight:"200"},n=18;i=babelHelpers.inherits(o,c("SUIAnalyticsGriffinHeaderTitleBaseTheme"));j=i&&i.prototype;function o(){j.constructor.call(this,m,n)}f.exports=o}),null);
__d("FalcorHeader.react",["ix","cssVar","cx","invariant","CSS","FalcorButtonShape","FalcorSearchSource","FluxContainer","GriffinHeaderButton","GriffinLightweightSegmentTray","Image.react","LeftRight.react","LightweightSegmentActions","LightweightSegmentStore","React","SearchableEntry","SUIAnalyticsGriffinHeaderTitleExpandedTheme","SUIAnalyticsGriffinHeaderTitleCollapsedTheme","SUISearchableSelector.react","URI","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){var l=c("React").PropTypes,m={Mini:0,OneLevel:1,TwoLevel:2},n=75,o=105,p=c("React").createClass({displayName:"FalcorHeader",statics:{getStores:function q(){return[c("LightweightSegmentStore")]},calculateState:function q(r){return{showConditions:c("LightweightSegmentStore").getShowConditions(),isSelectorShown:c("LightweightSegmentStore").isSelectorShown()}}},propTypes:{activeSubsection:l.string,buttons:l.arrayOf(c("FalcorButtonShape")),control:l.node,disableMiniMode:l.bool,optionsButtonURL:l.string,hasRightRail:l.bool,hasSideNavPadding:l.bool,subtitle:l.node,title:l.node.isRequired,dateSelector:l.element,enableDateSelector:l.bool,toggles:l.node,selectorLinks:l.arrayOf(l.shape({id:l.string.isRequired,displayName:l.string.isRequired,url:l.string})),subsections:l.shape({tabs:l.arrayOf(l.shape({key:l.string.isRequired,label:l.string.isRequired})).isRequired})},getDefaultProps:function q(){return{disableMiniMode:false,enableDateSelector:true}},getInitialState:function q(){return{inMiniMode:false,searchSource:null}},componentDidMount:function q(){this._onScroll()},componentWillMount:function q(){window.addEventListener("scroll",this._onScroll);if(this.props.hasRightRail)window.addEventListener("resize",this._onResize);if(this.props.selectorLinks){var r=this.props.selectorLinks.map(function(t){return{id:t.id,name:t.displayName,url:t.url}}),s=new(c("FalcorSearchSource"))(r);this.setState({searchSource:s})}},componentWillReceiveProps:function q(r){var s=this.state.searchSource;if(r.selectorLinks){var t=r.selectorLinks.map(function(u){return{id:u.id,name:u.displayName,url:u.url}});if(!s)s=new(c("FalcorSearchSource"))(t);else s.updateOptions(t)}this.setState({searchSource:s})},componentWillUnmount:function q(){window.removeEventListener("scroll",this._onScroll);window.removeEventListener("resize",this._onResize)},render:function q(){return c("React").createElement("div",null,this.renderHeader(true),this.renderHeader(false))},renderHeader:function q(r){var s=this.props,t=s.enableDateSelector&&s.dateSelector||false,u=t?s.dateSelector:null,v=m.OneLevel,w=this._renderButtons(r);if(r){v=m.Mini;if(t)w=[]}else if(s.control){v=m.TwoLevel;(s.control?!s.subsections:s.subsections)||k(0)}else if(w.length>0&&t)v=m.TwoLevel;else if(s.toggles)v=m.TwoLevel;var x=c("React").createElement(c("Image.react"),{src:h("141325")}),y=s.selectorLinks&&s.selectorLinks.length>0,z=s.title;if(y)z=this._renderMenu(s.title,x);var A="_ljg _3h1l",B=s.subtitle?c("React").createElement("div",{className:A},s.subtitle):null,C="_5ubn";if(v<=m.OneLevel&&t&&u){w.push(u);C="_4xam"}var D=c("React").createElement("div",{className:C},w),E=null;if(v===m.TwoLevel){var F=s.control;E=[c("React").createElement("div",{className:"_5ubp",key:"_TopDivider"}),c("React").createElement(c("LeftRight.react"),{key:"_content"},c("React").createElement("div",null,F),c("React").createElement("div",null,s.toggles,u))]}var G="_4xan"+(!r&&this._shouldHaveFixedWidth()?" _ikb":"")+(v===m.Mini?" _4ou7":"")+(s.hasSideNavPadding?" _5d-6":"")+(r&&!this.state.inMiniMode?" invisible_elem":""),H=v===m.TwoLevel?{paddingBottom:"10px"}:null;return c("React").createElement("div",null,c("React").createElement("div",{className:G,style:H,ref:r?"miniheader":"header"},c("React").createElement("div",{className:"_4xao"},B,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_ljf _5ubl"},z),D),E)),this.state.showConditions&&this.state.isSelectorShown&&!r?c("React").createElement(c("GriffinLightweightSegmentTray"),{actions:c("LightweightSegmentActions"),store:c("LightweightSegmentStore")}):null)},_renderButtons:function q(r){var s=this.props.buttons||[],t={height:r?30:36};return s.filter(function(u){return!!u}).map(function(u,v){return c("React").createElement(c("GriffinHeaderButton"),{className:"_3-99",disabled:u.disabled,key:v+u.text,label:u.text,onClick:function w(x){u.onClick&&u.onClick(x);if(u.href){var y=u.href.indexOf("/")===0?new(c("URI"))(c("URI").getNextURI().getOrigin()).setPath(u.href):new(c("URI"))(u.href);y.go()}},style:t})})},_renderMenu:function q(r,s){if(!r)return null;var t=new(c("SearchableEntry"))({uniqueID:c("URI").getNextURI().toString(),title:this.props.title.toString()}),u=this.state.inMiniMode?new(c("SUIAnalyticsGriffinHeaderTitleCollapsedTheme"))():new(c("SUIAnalyticsGriffinHeaderTitleExpandedTheme"))();return c("React").createElement(c("SUISearchableSelector.react"),{dropdownWidth:300,onChange:this._onEventSelect,searchSource:this.state.searchSource,theme:u,value:t})},_onEventSelect:function q(r){var s=new(c("URI"))(r.getAuxiliaryData().url);s.go()},_onResize:function q(){if(!this.isMounted())return;if(this._shouldHaveFixedWidth())c("CSS").addClass(this.refs.header,"_ikb");else c("CSS").removeClass(this.refs.header,"_ikb")},_onScroll:function q(){if(!this.isMounted()||this.props.disableMiniMode)return;var r=window.scrollY||document.documentElement.scrollTop||0;if(r>n)this._setMiniMode(true);else if(r<=n)this._setMiniMode(false)},_setMiniMode:function q(r){if(this.state.inMiniMode!==r)this.setState({inMiniMode:r})},_shouldHaveFixedWidth:function q(){return Boolean(this.props.hasRightRail&&window.innerWidth<=parseInt("1400",10))}});f.exports=c("FluxContainer").create(p);f.exports.MINI_HEADER_HEIGHT=o}),null);
__d("FalcorTimeSeriesChart",["fbt","invariant","AnalyticsDateRangeStore","BonsaiApiBreakdown","CandelaTimeScale","DateTime","FalcorBreakdownsTextUtils","FalcorInsightsHoverCardChart","FalcorInsightsLineAreaChart.react","InsightsFormatterFactories","InsightsTimeUtils","PeriodUnit","React","AppEventQueryAggregationPeriod","Timezone","CandelaConstants","immutable","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=c("CandelaConstants").Orientation,n=c("CandelaConstants").RenderAs,o=c("CandelaConstants").ScaleType,p=c("immutable").Map,q=c("immutable").OrderedSet,r=c("Timezone").UTC,s=c("CandelaGroupScaleBuilder").group,t=c("CandelaStackScaleBuilder").stack,u="time",v=300,w=300;j=babelHelpers.inherits(x,c("React").Component);k=j&&j.prototype;function x(){var y,z;for(var A=arguments.length,B=Array(A),C=0;C<A;C++)B[C]=arguments[C];return z=(y=k.constructor).call.apply(y,[this].concat(B)),this.$FalcorTimeSeriesChart3=function(D){if(!D||!D.data||!D.data[u])return;var E=this.$FalcorTimeSeriesChart2(D.data[u].value);if(E!==this.state.date)this.setState({date:E})}.bind(this),this.state={date:this.$FalcorTimeSeriesChart2(Date.now()/1e3)},z}x.prototype.getCandelaData=function(y,z,A){if(!y.length)return{};var B={},C={},D={};y.forEach(function(E){B[E.time]=B[E.time]||0;B[E.time]+=Number(E.value)});if(z){z.forEach(function(E){C[E.time]=(C[E.time]||0)+Number(E.value)});Object.keys(B).forEach(function(E){if(C[E]!==0)B[E]/=C[E]})}if(A){A.forEach(function(E){D[E.time]=(D[E.time]||0)+Number(E.value)});Object.keys(B).forEach(function(E){if(D[E]!==0)B[E]*=D[E]})}return B};x.prototype.formatData=function(){var y,z=this,A={},B=this.props.configs[0].data.getDateRange();if(this.props.breakdown===c("BonsaiApiBreakdown").NONE)this.props.configs.forEach(function(E,F){var G=E.data,H=G.getDenomData(),I=G.getFactorData();A[E.key]=this.getCandelaData(G.getRawData(),H?H.getRawData():null,I?I.getRawData():null)}.bind(this));else(function(){var E=z.props.configs[0].data.groupBy(z.props.breakdown);Object.keys(E).forEach(function(F){var G=E[F].getDenomData(),H=E[F].getFactorData();A[F]=this.getCandelaData(E[F].getRawData(),G?G.getRawData():null,H?H.getRawData():null)}.bind(z))})();var C=this.props.configs[0].data.getUnformattedTimes(B,this.props.timeGranularity),D=C.map(function(E,F){var G={time:E};Object.keys(A).forEach(function(H){var I=A[H][E]||0;if(I>this.props.maxValue)I=this.props.maxValue;if(this.props.isSeconds)G[H]=c("InsightsTimeUtils").getValueConverterFunction("minutes")(I);else G[H]=I}.bind(this));return G}.bind(this));return D};x.prototype.$FalcorTimeSeriesChart1=function(){return this.props.isHourlyTimeSeries||this.props.timeGranularity===c("AppEventQueryAggregationPeriod").HOUR};x.prototype.$FalcorTimeSeriesChart2=function(y){var z=this.props,A=z.timeGranularity,B=z.until,C=c("AnalyticsDateRangeStore").getTimezoneID(),D=c("DateTime").create(y,C),E=c("DateTime").create(B/1e3,r),F=void 0;if(this.$FalcorTimeSeriesChart1())return D.format("D M j, Y g:ia");else if(A===c("AppEventQueryAggregationPeriod").DAY)return D.format("D M d, Y");else if(A===c("AppEventQueryAggregationPeriod").WEEK)F=D.addWeeks(1).startOfWeek();else if(A===c("AppEventQueryAggregationPeriod").MONTH)F=D.addMonths(1).startOfMonth().subtractDays(1);else i(0);if(F.getUnixTimestamp()>E.getUnixTimestamp())F=E;return h._("{start-date}{date range en-dash separator}{end-date}",[h.param("start-date",D.format("M j, Y")),h.param("date range en-dash separator"," \u2013 "),h.param("end-date",F.format("M j, Y"))])};x.prototype.render=function(){var y=this.formatData(),z={};Object.keys(y[0]).forEach(function(H){if(H===u)z[H]={timezoneID:c("AnalyticsDateRangeStore").getTimezoneID(),type:o.TIME};else{if(this.props.currency)z[H]={type:o.CURRENCY,currencyCode:this.props.currency};else if(this.props.isSeconds)z[H]={type:o.NUMBER};else if(this.props.isPercent)z[H]={type:o.PERCENTAGE};else z[H]={type:o.NUMBER};var I=this.props.configs.find(function(I){return I.key===H}),J=I?I.title:c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(this.props.breakdown,H);z[H].label=J;z[H].renderAs=this.props.isAreaChart?n.AREA:n.LINE}}.bind(this));var A=null;if(this.props.shownTitles)A=this.props.shownTitles.toArray();else A=Object.keys(y[0]).filter(function(H){return H!==u});var B=function(H){if(H instanceof c("CandelaTimeScale")){if(this.$FalcorTimeSeriesChart1())return function(I){return I.format("g:ia")};return function(I){var J=I,K=I.getHours();if(K!==0)J=K<=12?I.floor(c("PeriodUnit").day):I.ceil(c("PeriodUnit").day);return J.format("M d")}}if(this.props.isSeconds)return function(I){return c("InsightsTimeUtils").minutesToDisplay(I,true).toString()};return c("InsightsFormatterFactories").axisMarkFormatterFactory(H,m.HORIZONTAL)}.bind(this),C=s(u).extendInput(0,.3).niceStepOnly();if(this.props.timeGranularity===c("AppEventQueryAggregationPeriod").MONTH)C.roundInput();var D=this.props.width||0;if(D<v)C.stepCountHint(2);var E=q(Object.keys(y[0]).filter(function(H){return H!==u}).map(function(H){var I=y[0][H];return{label:this.props.unitLabel,key:H,value:I}}.bind(this))),F=this.props.formatValue?function(H,I){return this.props.formatValue}.bind(this):this.props.isSeconds?function(H,I){return c("InsightsTimeUtils").minutesToDisplay}:undefined,G=q([{key:"date",value:this.state.date}]);return c("React").createElement(c("FalcorInsightsHoverCardChart"),{auxiliaryItems:G,hoverCardPosition:"right",items:E,formatterFactory:F},c("React").createElement(c("FalcorInsightsLineAreaChart.react"),{autoColors:new p(this.props.colors),axisMarkFormatterFactory:B,data:y,height:this.props.height,onMouseMove:this.$FalcorTimeSeriesChart3,plotX:C,plotY:[this.props.isAreaChart?t.apply(undefined,A).from(0):s.apply(undefined,A).from(0).roundInput()],schema:z,styleSheet:this.props.styleSheet,width:D,ref:"chart"}))};x.propTypes={breakdown:l.string.isRequired,configs:l.array.isRequired,currency:l.string,formatValue:l.func,height:l.number,isAreaChart:l.bool,isHourlyTimeSeries:l.bool,isPercent:l.bool,isSeconds:l.bool,styleSheet:l.object,shownTitles:l.instanceOf(q),unitLabel:l.string,width:l.number,timeGranularity:l.oneOf(Object.values(c("AppEventQueryAggregationPeriod"))),until:l.instanceOf(Date)};x.defaultProps={isHourlyTimeSeries:false,width:window.outerWidth,height:w,timeGranularity:c("AppEventQueryAggregationPeriod").DAY};f.exports=x}),null);
__d("FalcorChartContainer",["cx","fbt","AppEventsAggregatingColumn","BonsaiApiBreakdown","BonsaiColors","BonsaiDevsiteStyle","BonsaiText","DeveloperInsightsLogger","FalcorBreakdownsTextUtils","GriffinCandelaTheme","FalcorTimeSeriesChart","GriffinResizableChart","GriffinSelector","GriffinSelectorOption","GriffinChartLayout","immutable","InsightsContext","InsightsLegendAreaKey.react","InsightsLegendCheckboxKey.react","InsightsLegendScrollableVert.react","Link.react","React","AppEventQueryAggregationPeriod","URI","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=c("immutable").List,n=c("immutable").OrderedSet,o=c("getObjectValues")(c("BonsaiApiBreakdown")).concat(c("getObjectValues")(c("AppEventsAggregatingColumn"))),p=c("GriffinCandelaTheme").colors.toArray(),q={width:150,height:215},r=p.length;j=babelHelpers.inherits(s,c("React").Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.onBreakdownChangeTo=function(w){c("InsightsContext").setActiveCardName(this.props.currentCard);c("InsightsContext").setActiveBreakdownName(w);c("InsightsContext").addCardState(this.props.currentCard,{breakdown:w});c("DeveloperInsightsLogger").logAction("breakdown_transition");if(this.props.onBreakdownChange)this.props.onBreakdownChange(w)}.bind(this);var v=this.$FalcorChartContainer1(t.activeConfigs,t.activeBreakdown);if(v)this.state=v}s.prototype.componentWillReceiveProps=function(t){var u=this.$FalcorChartContainer1(t.activeConfigs,t.activeBreakdown);if(u)this.setState(u)};s.prototype.$FalcorChartContainer1=function(t,u){var v=u!==c("BonsaiApiBreakdown").NONE,w=n(),x=null,y={};if(v)x=t[0].data.getBreakdowns()[u];else x=t.map(function(C){return C.key});var z=m(x.map(function(C,D){var E=null;if(!this.props.hideLegend){var F=v?C:t[D].title,G=t[D]&&t[D].titleTooltip;if(!(typeof F==="string"||F instanceof i)||G)E=G?c("React").createElement("span",null," ",F," ",G," "):F;else E=c("FalcorBreakdownsTextUtils").getBreakdownValueDisplayString(u,F)}var H=v?p[D]||c("BonsaiColors").ANALYTICS_GRAY:t[D].color||p[D]||c("BonsaiColors").ANALYTICS_GRAY;y[C]=H;var I={title:E,key:C,color:H};if(D<r)w=w.add(C);return I}.bind(this)));if(this.state&&this.state.activeConfigs){var A=this.state.activeConfigs.map(function(C){return C.key}).join(),B=z.map(function(C){return C.key}).join();if(A===B)return null}return{activeConfigs:z,colorsMap:y,visibleBuckets:w}};s.prototype.$FalcorChartContainer2=function(){var t=this.state.activeConfigs.filter(function(u){return u.color!==c("BonsaiColors").ANALYTICS_GRAY});return t.map(function(u){return u.color})};s.prototype.$FalcorChartContainer3=function(){var t=this.$FalcorChartContainer2();return p.find(function(u){return t.indexOf(u)===-1})};s.prototype.$FalcorChartContainer4=function(t){var u=this.state,v=u.activeConfigs,w=u.colorsMap,x=u.visibleBuckets;v=new m(v.map(function(y){if(y.key===t)if(x.has(t)){if(x.size>1){x=x["delete"](t);y.color=c("BonsaiColors").ANALYTICS_GRAY}}else if(x.size<r){var z=Object.keys(w).length;x=x.add(t);if(this.props.isDynamicColorMode&&z>r)y.color=this.$FalcorChartContainer3();else y.color=w[t]}return y}.bind(this)));this.setState({visibleBuckets:x,activeConfigs:v})};s.prototype.renderLegend=function(){if(this.props.hideLegend)return null;var t=this.state.activeConfigs.size<=1,u=this.state.activeConfigs.map(function(y,z){var A=y.key;if(t)return c("React").createElement(c("InsightsLegendAreaKey.react"),{className:"_83g",color:y.color,key:A},y.title);var B=this.state.visibleBuckets.has(A);return c("React").createElement(c("InsightsLegendCheckboxKey.react"),{color:y.color,checked:B,isInline:false,key:A,size:"medium",onChange:this.$FalcorChartContainer4.bind(this,A)},y.title)}.bind(this)),v=c("InsightsContext").isDevsite()?c("BonsaiDevsiteStyle").LEGEND:q,w=v.width,x=v.height;return c("React").createElement(c("InsightsLegendScrollableVert.react"),{className:"_47tf",height:x,width:w},u)};s.prototype.getBreakdownSelectorOptions=function(){if(!this.props.showBreakdownSelector)return[];if(this.props.customSelectorOptions)return this.props.customSelectorOptions;if(!this.props.allBreakdowns)return[];return this.props.allBreakdowns.map(function(t){var u=c("FalcorBreakdownsTextUtils").getBreakdownTypeDisplayString(t),v=false;if(this.props.activeBreakdown===t)v=true;var w=c("BonsaiText").getBreakdownTooltip(t,v);return c("React").createElement(c("GriffinSelectorOption"),{key:t,label:u,tooltip:w,value:t},u)}.bind(this))};s.prototype.render=function(){var t={};this.state.activeConfigs.forEach(function(z){if(z.color!==c("BonsaiColors").ANALYTICS_GRAY)t[z.key]=z.color});var u=c("React").createElement(c("GriffinResizableChart"),{initialWidth:this.props.width},c("React").createElement(c("FalcorTimeSeriesChart"),{breakdown:this.props.activeBreakdown,colors:t,configs:this.props.activeConfigs,currency:this.props.currency,formatValue:this.props.formatValue,height:this.props.height,isAreaChart:this.props.isAreaChart,isHourlyTimeSeries:this.props.isHourlyTimeSeries,isPercent:this.props.isPercent,isSeconds:this.props.isSeconds,maxValue:this.props.maxValue,shownTitles:this.state.visibleBuckets,styleSheet:this.props.styleSheet,timeGranularity:this.props.timeGranularity,unitLabel:this.props.unitLabel,until:this.props.until}));if(this.props.url||this.props.onClick)u=c("React").createElement(c("Link.react"),{className:"_2bqc",href:this.props.url,onClick:this.props.onClick,onMouseEnter:this.props.onMouseOver,onMouseLeave:this.props.onMouseOut},u);var v=this.props.selectorTitle||i._("MOSTRAR POR"),w=this.props.activeCustomSelectorOption||this.props.activeBreakdown,x=this.getBreakdownSelectorOptions(),y=void 0;if(x.length)y=c("React").createElement(c("GriffinSelector"),{onChange:this.onBreakdownChangeTo,value:w,width:150},x);return c("React").createElement(c("GriffinChartLayout"),{chart:u,chartKey:this.props.chartKey,legend:this.renderLegend(),selector:y,selectorLabel:v})};s.propTypes={activeConfigs:l.array.isRequired,activeBreakdown:l.oneOf(o).isRequired,activeCustomSelectorOption:l.string,allBreakdowns:l.arrayOf(l.string),currentCard:l.string.isRequired,customSelectorOptions:l.arrayOf(l.node),exportData:l.func,formatValue:l.func,hideLegend:l.bool,onBreakdownChange:l.func,showBreakdownSelector:l.bool,chartKey:l.string,currency:l.string,height:l.number,isAreaChart:l.bool,isDynamicColorMode:l.bool,isHourlyTimeSeries:l.bool,isPercent:l.bool,isSeconds:l.bool,onClick:l.func,selectorTitle:l.string,styleSheet:l.object,timeGranularity:l.oneOf(Object.values(c("AppEventQueryAggregationPeriod"))),unitLabel:l.string,url:l.instanceOf(c("URI")),width:l.number,onMouseOver:l.func,onMouseOut:l.func};s.defaultProps={hideLegend:false,isHourlyTimeSeries:false,isDynamicColorMode:true,showBreakdownSelector:true};f.exports=s}),null);
__d("FalcorLoadingAndErrorChart",["BonsaiApiError","BonsaiApiPromise","FalcorChartContainer","FalcorErrorNotice","FalcorLoadingCard","GriffinChartLayout","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.activeConfigs.some(function(q){return q.data instanceof c("BonsaiApiPromise")});if(k)return c("React").createElement(c("FalcorLoadingCard"),{showCard:false});var l=0,m=this.props.activeConfigs.some(function(q,r){if(q.data instanceof c("BonsaiApiError"))l=r;return q.data instanceof c("BonsaiApiError")}),n=this.props.chartKey||"",o=void 0;if(m){o=c("React").createElement(c("FalcorErrorNotice"),{message:this.props.activeConfigs[l].data.getMessage()});return c("React").createElement(c("GriffinChartLayout"),{chartKey:n+"_error",errorNotice:o,selector:this.props.errorSelector,selectorLabel:this.props.errorLabel})}var p=this.props.activeConfigs.every(function(q){return!q.data||q.data.getData().length===0});if(p){o=c("React").createElement(c("FalcorErrorNotice"),{"short":true});return c("React").createElement(c("GriffinChartLayout"),{chartKey:n+"_empty",errorNotice:o,selector:this.props.errorSelector,selectorLabel:this.props.errorLabel})}return c("React").createElement(c("FalcorChartContainer"),this.props)};j.prototype.shouldComponentUpdate=function(k,l){return!(this.props.onMouseOver&&this.props.onMouseOut)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FalcorLoadingCard",["cx","fbt","AnalyticsCard","ProgressBar.react","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.height,p=n.onlySpinner,q=n.progress,r=n.showCard,s=n.text,t=c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")});if(p)return c("React").createElement("div",{className:"_64o","data-testid":"loading",style:{height:o}},c("React").createElement("div",{className:"_2fuf"},t));var u=q!==null&&q!==undefined?c("React").createElement(c("ProgressBar.react"),{className:"_5m-_ _3-8-",max:q>1?100:1,value:q}):null,v=c("React").createElement("div",{className:"_2fud"},s),w=c("React").createElement("div",{className:"_2fuf"},t,v,u);if(r)return c("React").createElement(c("AnalyticsCard"),{"data-testid":"loading",style:{height:o}},w);return c("React").createElement("div",{className:"_64o",style:{height:o}},w)};function m(){j.apply(this,arguments)}m.propTypes={height:l.number,onlySpinner:l.bool,progress:l.number,showCard:l.bool,text:l.node};m.defaultProps={onlySpinner:false,showCard:true,text:i._("Cargando...")};f.exports=m}),null);
__d("FalcorNoticePropTypes",["FalcorNoticeKeys","FalcorButtonShape","FalcorNoticeTypes","React","getObjectValues"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={noticeType:h.oneOf(Object.keys(c("FalcorNoticeTypes"))).isRequired,noticeKey:h.oneOf(c("getObjectValues")(c("FalcorNoticeKeys"))),message:h.node,subtext:h.node,firstButton:c("FalcorButtonShape"),secondButton:c("FalcorButtonShape"),dismissButton:c("FalcorButtonShape"),href:h.string,hrefMessage:h.string};f.exports=i}),null);
__d("FalcorNotice",["ix","cx","FalcorNoticePropTypes","Image.react","InsightsEventLogger","LeftRight.react","React","XUIButton.react","XUIButtonGroup.react","XUICard.react","XUICloseButton.react","fbglyph","joinClasses","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l={ERROR:{background:"_2ijh",image:h("140187")},INFORMATION:{background:"_2iji",image:h("140764")},SUCCESS:{background:"_2ijj",image:h("140202")},WARNING:{background:"_2ijk",image:h("140187")}};j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={dismissed:false},this.$FalcorNotice1=function(){this.setState({dismissed:true});this.props.dismissButton.onClick()}.bind(this),o}m.prototype.componentWillMount=function(){if(this.props.noticeKey)c("InsightsEventLogger").logEvent({eventName:"notice_shown",notice_key:this.props.noticeKey})};m.prototype.render=function(){var n=null,o=null,p=[];if(this.state.dismissed)return null;if(this.props.dismissButton)n=c("React").createElement(c("XUICloseButton.react"),{className:"_2ijl",href:this.props.dismissButton.href,onClick:this.$FalcorNotice1});if(this.props.firstButton)p.push(c("React").createElement(c("XUIButton.react"),{key:"_firstButton",className:"_2ijm",label:this.props.firstButton.text,href:this.props.firstButton.href,onClick:function(u){this.$FalcorNotice2("first");this.props.firstButton.onClick&&this.props.firstButton.onClick(u)}.bind(this),target:this.props.firstButton.target,size:"large"}));if(this.props.secondButton)p.push(c("React").createElement(c("XUIButton.react"),{key:"_secondButton",className:"_2ijm",label:this.props.secondButton.text,href:this.props.secondButton.href,onClick:function(u){this.$FalcorNotice2("second");this.props.secondButton.onClick&&this.props.secondButton.onClick(u)}.bind(this),target:this.props.secondButton.target,size:"large"}));if(this.props.subtext)o=c("React").createElement("div",{className:"_2ijn"},this.props.subtext);var q=l[this.props.noticeType],r=null,s=p.length,t=null;if(this.props.href!=null)t=c("React").createElement("a",{href:this.props.href},this.props.hrefMessage);if(s>0)r=c("React").createElement(c("LeftRight.react"),{className:(s===1?"_5jsq":"")+(s===2?" _5jss":"")},c("React").createElement("div",null,this.$FalcorNotice3(),o,t),c("React").createElement(c("XUIButtonGroup.react"),{className:"_2ijp"},p));else r=c("React").createElement("div",null,this.$FalcorNotice3(),o,t);return c("React").createElement("div",{className:"_2ijq"},c("React").createElement(c("XUICard.react"),null,c("React").createElement("div",{className:c("joinClasses")("_2ijr",q.background)},c("React").createElement(c("Image.react"),{className:"_2ijs",src:q.image})),n,c("React").createElement("div",{className:"_2ijt"},r)))};m.prototype.$FalcorNotice3=function(){var n=this.props.message,o="_2ijo";if(n instanceof Object&&Object.prototype.hasOwnProperty.call(n,"__html"))return c("React").createElement("div",{className:o,dangerouslySetInnerHTML:n});else return c("React").createElement("div",{className:o},n)};m.prototype.$FalcorNotice2=function(n){if(this.props.noticeKey)c("InsightsEventLogger").logEvent({eventName:"notice_button_clicked",notice_key:this.props.noticeKey,button:n})};m.propTypes=c("FalcorNoticePropTypes");m.NoticeTypes=c("keyMirror")(l);f.exports=m}),null);
__d("FalcorObjectTable",["cx","fbt","AnalyticsNavigationUtils","FalcorCommonViews","FalcorPaginatedDataTable","Image.react","InsightsEventLogger","Link.react","React","Tooltip","formatDate"],(function a(b,c,d,e,f,g,h,i){var j,k,l={header_name:i._("Nombre"),header_description:i._("Descripci\u00f3n"),header_last_seen:i._("Vistos por \u00faltima vez"),header_last_updated:i._("\u00daltima actualizaci\u00f3n")};function m(p,q){if(p)return q?q-p:-1;else return q?1:0}function n(p){if(!p)return c("React").createElement("div",null);return c("React").createElement("div",c("Tooltip").propsFor(p.toLocaleString()),c("formatDate")(p,"M d, Y"))}j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){"use strict";return c("React").createElement(c("FalcorPaginatedDataTable"),{className:this.props.className,columns:this.$FalcorObjectTable1(),columnToSortBy:"time_last_seen",pageSize:this.props.pageSize,ref:"dataTable",rows:this.props.data,searchFieldName:"name"})};o.prototype.onSearchChange=function(p){"use strict";this.refs.dataTable.onSearchChange(p)};o.prototype.getSearchString=function(){"use strict";return this.refs.dataTable.getSearchString()};o.prototype.$FalcorObjectTable1=function(){"use strict";var p=[{cellRenderer:function(q,r,s){var t=s.is_internal?c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor("Internally visible only"),{className:"_2pii",src:"/images/icons/platform/analytics/facebook.png"})):null,u=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,s.id,c("FalcorCommonViews").DETAILS);return c("React").createElement(c("Link.react"),{href:u,onClick:function(){return this.$FalcorObjectTable2(s.id)}.bind(this)},t,q)}.bind(this),comparator:function q(r,s){return r.name.localeCompare(s.name)},id:"name",label:l.header_name,sortable:true,width:300},{id:"description",label:l.header_description,comparator:function q(r,s){var t=(r.description||"").toString(),u=(s.description||"").toString();return t.localeCompare(u)},sortable:true},{cellRenderer:n,comparator:function q(r,s){return m(r.time_last_seen,s.time_last_seen)},id:"time_last_seen",label:l.header_last_seen,sortable:true,width:120}];if(this.props.showEditButton)p.push({id:"id",cellRenderer:function(q){var r=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,q,c("FalcorCommonViews").EDIT);return c("React").createElement("div",{className:"_52jv"},c("React").createElement(c("Link.react"),{href:r,onClick:function(){return this.$FalcorObjectTable3(q)}.bind(this)},c("React").createElement(c("Image.react"),{src:"/images/icons/platform/analytics/Edit.png"})))}.bind(this),sortable:false,width:20});return p};o.prototype.$FalcorObjectTable3=function(p){"use strict";c("InsightsEventLogger").logEvent({eventName:this.props.section.toLowerCase()+"_table_link_click",action:"edit",feature_id:p})};o.prototype.$FalcorObjectTable2=function(p){"use strict";c("InsightsEventLogger").logEvent({eventName:this.props.section.toLowerCase()+"_table_link_click",action:"view_details",feature_id:p})};function o(){"use strict";j.apply(this,arguments)}o.defaultProps={pageSize:25};f.exports=o}),null);
__d("FalcorPaginatedDataTable",["cx","fbt","BonsaiContextualHelp","BonsaiPopoverMenu","DOM","AnalyticsExportUtils","InsightsContext","InsightsEventLogger","React","ReactDOM","StickyHeader.react","ReactXUIMenu","XUISortableDataTable.react","joinClasses","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("ReactXUIMenu").Item,m=c("React").PropTypes,n=15;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$FalcorPaginatedDataTable3=function(){this.setState({pageNumber:this.state.pageNumber+1})}.bind(this);this.$FalcorPaginatedDataTable4=function(){this.setState({pageNumber:this.state.pageNumber-1})}.bind(this);this.$FalcorPaginatedDataTable5=function(q){this.setState({pageNumber:0});var r=c("InsightsContext").getActiveSectionName().toLowerCase();c("InsightsEventLogger").logEvent({eventName:"object_table_sort",column:q,section:r});if(this.props.onSort)this.props.onSort(q)}.bind(this);this.state={pageNumber:0}}o.prototype.componentDidMount=function(){if(this.$FalcorPaginatedDataTable1)this.$FalcorPaginatedDataTable2(false)};o.prototype.componentDidUpdate=function(){if(this.$FalcorPaginatedDataTable1)this.$FalcorPaginatedDataTable2(true)};o.prototype.$FalcorPaginatedDataTable6=function(){var p=void 0,q=void 0;p=[this.$FalcorPaginatedDataTable7(this.props.exportData,this.props.downloadFileName)];if(!c("InsightsContext").isDevsite())p.push(this.$FalcorPaginatedDataTable8());q=c("React").createElement(c("ReactXUIMenu"),null,p.map(function(r){return c("React").createElement(l,null,r)}));return c("React").createElement(c("BonsaiPopoverMenu"),{menu:q,buttonClass:"_3-99"})};o.prototype.onSearchChange=function(p){var q=p;if(p&&p.target)q=p.target.value;this.setState({searchString:q,pageNumber:0})};o.prototype.getSearchString=function(){return this.state.searchString||""};o.prototype.$FalcorPaginatedDataTable2=function(p){var q=c("ReactDOM").findDOMNode(this.$FalcorPaginatedDataTable9),r=c("ReactDOM").findDOMNode(this.$FalcorPaginatedDataTable1),s=c("DOM").scry(q,"th");c("DOM").scry(r,"th").forEach(function(t,u){var v=s[u];t.style.width=(v.clientWidth||v.offsetWidth)+"px";if(!p)t.addEventListener("click",function(w){return v.click(w)},false)})};o.prototype.$FalcorPaginatedDataTable10=function(){var p=[];this.props.rows.forEach(function(q){if(q.children){p.push(babelHelpers["extends"]({},q,{className:"_1w1l"}));q.children.map(function(r){p.push(babelHelpers["extends"]({},r,{className:"_1w1n"}))})}else p.push(babelHelpers["extends"]({},q,{className:"_1w1o"}))});return p};o.prototype.render=function(){var p=this.$FalcorPaginatedDataTable11(),q=Math.ceil(p.length/this.props.pageSize),r=Math.min(q-1,this.state.pageNumber),s=this.props.pageSize===Infinity,t=c("React").createElement("div",{className:"_3_oh _3-8t _3-96"},i._("No hay resultados para esta b\u00fasqueda")),u=null;if(p&&p.length){var v=this.props,w=v.columns,x=v.fixTableLayout;if(w.length&&w[0].widthWeight!==undefined)w=this.$FalcorPaginatedDataTable12(w);var y=this.props.showHeader&&this.props.fixHeaderAt!==null&&this.props.fixHeaderAt!==undefined,z="_58_u"+(this.props.compactRowsAndHeader?" _4n6u":"")+(x?" _222m":"")+" _5p5s";t=c("React").createElement(c("XUISortableDataTable.react"),{className:c("joinClasses")(z,y?"_cz0":""),ref:function(G){return this.$FalcorPaginatedDataTable9=G}.bind(this),outerBorder:false,onSort:this.$FalcorPaginatedDataTable5,columns:w,columnToSortBy:this.props.columnToSortBy,reverseSort:this.props.reverseSort,rows:p,onRowClick:this.props.onRowClick,showHeader:this.props.showHeader,viewStart:s?0:r*this.props.pageSize,viewLength:s?null:this.props.pageSize});if(y)u=c("React").createElement(c("XUISortableDataTable.react"),{ref:function(G){return this.$FalcorPaginatedDataTable1=G}.bind(this),className:c("joinClasses")(z,"_cz1"),outerBorder:false,onSort:this.$FalcorPaginatedDataTable5,columns:w,columnToSortBy:this.props.columnToSortBy,reverseSort:this.props.reverseSort,rows:[],showHeader:true})}var A=c("React").createElement("noscript",null);if(q>1&&this.props.pagination){var B=i._("Viendo p\u00e1gina {page number} de {total pages}",[i.param("page number",r+1),i.param("total pages",q)]),C=i._("Anterior"),D=i._("Siguiente");A=c("React").createElement("span",null,B," \xb7"," ",r===0?c("React").createElement("span",{className:"fcg"},C):c("React").createElement("a",{href:"#",onClick:this.$FalcorPaginatedDataTable4},C)," ","\xb7"," ",r===q-1?c("React").createElement("span",{className:"fcg"},D):c("React").createElement("a",{href:"#",onClick:this.$FalcorPaginatedDataTable3},D))}var E=t;if(u)E=c("React").createElement(c("StickyHeader.react"),{header:u,headerTopOffset:this.props.fixHeaderAt},t);var F={};if(this.props.height)F={height:this.props.height};return c("React").createElement("div",babelHelpers["extends"]({},this.props,{style:F}),A,E,c("React").createElement("div",{className:"_5x4g"},this.$FalcorPaginatedDataTable13()))};o.prototype.$FalcorPaginatedDataTable12=function(p){var q=p.map(function(r){return r.widthWeight||0}).reduce(function(r,s){return r+s},0);return p.map(function(r){var s=r.widthWeight/q*100;return babelHelpers["extends"]({},r,{width:s+"%"})})};o.prototype.$FalcorPaginatedDataTable13=function(){if(this.props.helptext)return c("React").createElement(c("BonsaiContextualHelp"),{helpKey:this.props.helptext});else return null};o.prototype.$FalcorPaginatedDataTable11=function(){var p,q=this,r=this.$FalcorPaginatedDataTable10();if(this.state.searchString)(function(){var s=q.state.searchString.toLocaleLowerCase();r=r.filter(function(t){if(!t||!t[this.props.searchFieldName])return false;var u=t[this.props.searchFieldName].toLocaleLowerCase();return u.indexOf(s)!=-1}.bind(q))})();return r.map(function(s,t){return babelHelpers["extends"]({},s,{key:s.key+" "+t})})};o.prototype.getExportData=function(){var p=[];p.push(this.props.columns.map(function(r){var s=r.exportLabel||r.label;return c("AnalyticsExportUtils").escapeString(s)}).join(","));var q=this.$FalcorPaginatedDataTable11();q.forEach(function(r){return p.push(this.props.columns.map(function(s){if(s.exportID){var t=r[s.exportID]||"";return c("AnalyticsExportUtils").escapeString(t.toString())}var u=r[s.id]?r[s.id]:"";if(this.props.getExportValueFromCell)return c("AnalyticsExportUtils").escapeString(this.props.getExportValueFromCell(u));else return c("AnalyticsExportUtils").escapeString(u.toString())}.bind(this)).join(","))}.bind(this));return p.join("\n")};o.propTypes={columns:m.array.isRequired,columnToSortBy:m.string,fixTableLayout:m.bool,helptext:m.string,searchFieldName:m.string,reverseSort:m.bool,rows:m.array.isRequired,pageSize:m.number,onSort:m.func,pagination:m.bool,getExportValueFromCell:m.func,showHeader:m.bool,onRowClick:m.func,fixHeaderAt:m.number,compactRowsAndHeader:m.bool,height:m.number};o.defaultProps={pagination:true,pageSize:n,showHeader:true,onRowClick:c("emptyFunction")};f.exports=o}),null);
__d("GEPushFeatureTableCard",["cx","AnalyticsCard","FalcorHeaderSelector","FalcorLoadingCard","GEPushObjectTable","GriffinEmptyStateCard","GriffinSections","InsightsEventLogger","React","getObjectValues","GEPushConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("FalcorHeaderSelector").Item,l=c("GEPushConstants").ONE_OFF,m=c("GEPushConstants").CONTINUOUS,n=c("GEPushConstants").CAMPAIGN_TYPE_LABEL,o=c("React").PropTypes;i=babelHelpers.inherits(p,c("React").Component);j=i&&i.prototype;p.prototype.componentDidMount=function(){c("InsightsEventLogger").logCardView("campaign_overview",{})};p.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("AnalyticsCard"),{dropDown:this.$GEPushFeatureTableCard1(),title:"Campaigns",onSearchChange:function(q){return this.refs.dataTable.onSearchChange(q)}.bind(this),showLine:false},this.$GEPushFeatureTableCard2()))};p.prototype.$GEPushFeatureTableCard2=function(){var q=this.props.section===c("GriffinSections").GEPUSH_IN_APP?"PushNotificationsCampaigns":"InAppNotificationsCampaigns";if(!this.props.data||this.props.listTransition)return c("React").createElement(c("FalcorLoadingCard"),{onlySpinner:true});if(this.props.data.length===0)return c("React").createElement(c("GriffinEmptyStateCard"),{cmsKey:q});return c("React").createElement(c("GEPushObjectTable"),{appID:this.props.appID,data:this.props.data,ref:"dataTable",section:this.props.section,campaignType:this.props.campaignType,onClickEndCampaign:this.props.onClickEndCampaign,onClickCopyCampaign:this.props.onClickCopyCampaign,visibleDateRange:this.props.visibleDateRange})};p.prototype.$GEPushFeatureTableCard1=function(){var q=[c("React").createElement(k,{key:l,value:l,label:n[l]}),c("React").createElement(k,{key:m,value:m,label:n[m]})];return c("React").createElement(c("FalcorHeaderSelector"),{headerKey:"campaignType",activeTabKey:this.props.campaignType,maxWidth:30,onItemChange:this.props.onChangeCampaignType},q)};function p(){i.apply(this,arguments)}p.propTypes={appID:o.string.isRequired,data:o.any,section:o.oneOf(c("getObjectValues")(c("GriffinSections"))).isRequired,campaignType:o.string.isRequired,onClickEndCampaign:o.func.isRequired,onClickCopyCampaign:o.func.isRequired,onChangeCampaignType:o.func.isRequired,listTransition:o.bool.isRequired,visibleDateRange:o.object.isRequired};f.exports=p}),null);
__d("GEPushObjectTable",["cx","fbt","AnalyticsNavigationUtils","GriffinSections","GEPushMetricsCell","FalcorCommonViews","FalcorPaginatedDataTable","Image.react","InsightsEventLogger","Link.react","PopoverMenu.react","React","ReactXUIMenu","Tooltip","getObjectValues","GEPushConstants","GEPushUtils"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("ReactXUIMenu").Item,m=c("React").PropTypes,n={header_name:i._("Nombre de la campa\u00f1a"),header_open_count:i._("Operaciones de inserci\u00f3n abiertas"),header_push_count:i._("Operaciones de inserci\u00f3n entregadas"),headers_delivery_time:i._("Hora de env\u00edo"),headers_start_time:i._("Hora de inicio"),header_status:i._("Estado")},o=c("GEPushConstants").STATE_MAP,p=c("GEPushConstants").CONTINUOUS,q=c("GEPushUtils").getFormattedTime,r=c("GEPushUtils").getFormattedDateTime,s=c("GEPushUtils").getMetricsFilter,t={DRAFT:true,SCHEDULED:true,ACTIVE:true,CANCELLED:false,COMPLETED:false};function u(z,A){if(z)return A?A-z:-1;else return A?1:0}function v(z){var A=z.delivery_time,B=z.delivery_time_is_local,C=z.isContinuous;return x(A,B,C)}function w(z){return x(z)}function x(z,A,B){if(!z)return c("React").createElement("div",null);var C=null;if(A)C=[c("React").createElement("span",{key:"empty space"}," "),c("React").createElement("span",{key:"local time"},i._("(Hora local del destinatario)"))];var D=void 0;if(B)D=!A?i._("Enviar de inmediato"):q(z);else D=r(z,A);return c("React").createElement("div",c("Tooltip").propsFor(z.toLocaleString()),D,C)}j=babelHelpers.inherits(y,c("React").Component);k=j&&j.prototype;function y(){var z,A;"use strict";for(var B=arguments.length,C=Array(B),D=0;D<B;D++)C[D]=arguments[D];return A=(z=k.constructor).call.apply(z,[this].concat(C)),this.onSearchChange=function(E){this.refs.dataTable.onSearchChange(E)}.bind(this),this.$GEPushObjectTable3=function(E,F){c("InsightsEventLogger").logEvent({eventName:this.props.section.toLowerCase()+"_table_link_click",action:F,feature_id:E})}.bind(this),this.$GEPushObjectTable2=function(E){c("InsightsEventLogger").logEvent({eventName:"object_table_sort",column:E,section:this.props.section.toLowerCase()})}.bind(this),A}y.prototype.render=function(){"use strict";return c("React").createElement(c("FalcorPaginatedDataTable"),{columns:this.$GEPushObjectTable1(),columnToSortBy:"delivery_time_info",pageSize:25,ref:"dataTable",rows:this.props.data,searchFieldName:"name",onSort:this.$GEPushObjectTable2})};y.prototype.$GEPushObjectTable1=function(){"use strict";var z=[];z.push({cellRenderer:function(A){var B=c("AnalyticsNavigationUtils").getSectionInsightsURI(this.props.section,A.id,c("FalcorCommonViews").DETAILS),C=A.isInternal?c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor("Internally visible only"),{className:"_2pii",src:"/images/icons/platform/analytics/facebook.png"})):null;return c("React").createElement(c("Link.react"),{href:B,onClick:function(){return this.$GEPushObjectTable3(A.id,"view_details")}.bind(this)},C,A.name)}.bind(this),comparator:function A(B,C){return B.name.localeCompare(C.name)},id:"name_data",label:n.header_name,sortable:true,width:300});z.push({cellRenderer:function(A){var B=[{aggregateBy:"COUNT",event_name:"fb_gepush_push_delivered",filter:s("fb_gepush_push_delivered",A.id)}];return c("React").createElement(c("GEPushMetricsCell"),{metrics:B,visibleDateRange:this.props.visibleDateRange,key:"_metricsDeliveryCountWidget"+A.id,widgetKey:"listViewDeliveryCount"+A.id,cellValueCallback:function C(D){return A.count=D}})}.bind(this),id:"delivery_count_data",label:n.header_push_count});z.push({cellRenderer:function(A){var B=[{aggregateBy:"COUNT",event_name:"fb_mobile_push_opened",filter:s("fb_mobile_push_opened",A.id)}];return c("React").createElement(c("GEPushMetricsCell"),{metrics:B,visibleDateRange:this.props.visibleDateRange,key:"_metricsOpenCountWidget"+A.id,widgetKey:"listViewOpenCount"+A.id,cellValueCallback:function C(D){return A.count=D}})}.bind(this),id:"open_count_data",label:n.header_open_count});if(this.props.campaignType===p)z.push({cellRenderer:w,comparator:function A(B,C){return u(B.start_time,C.start_time)},id:"start_time",label:n.headers_start_time,sortable:true,width:300});z.push({cellRenderer:v,comparator:function A(B,C){return u(B.delivery_time_info.delivery_time,C.delivery_time_info.delivery_time)},id:"delivery_time_info",label:n.headers_delivery_time,sortable:true,width:400});z.push({cellRenderer:function A(B){return B?o[B]:i._("No disponible")},id:"state",label:n.header_status,sortable:true});z.push({id:"actions_data",cellRenderer:function(A){var B=c("React").createElement(c("ReactXUIMenu"),{onItemClick:function(C,D){switch(D.item.getValue()){case"endCampaign":this.$GEPushObjectTable3(A.id,"cancel");this.props.onClickEndCampaign.call(undefined,A.id);break;case"copyCampaign":this.$GEPushObjectTable3(A.id,"copy");this.props.onClickCopyCampaign.call(undefined,A);break;default:break}}.bind(this)},c("React").createElement(l,{value:"copyCampaign"},i._("Copiar campa\u00f1a")),A&&A.state&&t[A.state]?c("React").createElement(l,{value:"endCampaign"},i._("Cancelar campa\u00f1a")):null);return c("React").createElement("div",{className:"_52jv"},c("React").createElement(c("PopoverMenu.react"),{onClick:function(){return this.$GEPushObjectTable3(A.id,"edit")}.bind(this),alignv:"baseline",menu:B,alignh:"right"},c("React").createElement(c("Image.react"),{src:"/images/icons/platform/analytics/Edit.png"})))}.bind(this),sortable:false,width:20});return z};y.propTypes={appID:m.string.isRequired,data:m.array.isRequired,section:m.oneOf(c("getObjectValues")(c("GriffinSections"))).isRequired,campaignType:m.string.isRequired,onClickEndCampaign:m.func.isRequired,onClickCopyCampaign:m.func.isRequired,visibleDateRange:m.object.isRequired};f.exports=y}),null);
__d("AnalyticsEntityUserConfigDismissNoticeMutation",["CurrentUser","RelayFBEnvironment","RelayModern","AnalyticsEntityUserConfigDismissNoticeMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("AnalyticsEntityUserConfigDismissNoticeMutation.graphql")};function k(l,m,n){return h(c("RelayFBEnvironment"),{mutation:j,onCompleted:m,onError:n,variables:{input:{actor_id:c("CurrentUser").getAccountID(),client_mutation_id:c("CurrentUser").getAccountID(),notice_key:l.noticeKey,entity_id:l.entityID}}})}f.exports={commit:k}}),null);
__d("FalcorNoticeDismissalUtils",["invariant","AnalyticsEntityUserConfigDismissNoticeMutation","InsightsContext","InsightsEventLogger","InsightsGraphAPI","InsightsGraphAPIConstants"],(function a(b,c,d,e,f,g,h){var i={onNoticeDismissal:function j(k){c("InsightsContext").getAnalyticsEventConfigID()||h(0);k||h(0);c("InsightsEventLogger").logEvent({eventName:"notice_dismissed",notice_key:k});var l=c("InsightsContext").getAllNotices(),m=l.findIndex(function(o,p,l){return o.noticeKey===k});m>=0||h(0);var n=l[m].isPerUserAndAnalyticsEntity;l.splice(m,1);c("InsightsContext").setNoticesToShow(l);if(n)c("AnalyticsEntityUserConfigDismissNoticeMutation").commit({noticeKey:k,entityID:c("InsightsContext").getObjID()});else c("InsightsGraphAPI").objectPost(c("InsightsGraphAPIConstants").APP_EVENT_CONFIG_NODE,c("InsightsContext").getAnalyticsEventConfigID(),{dismissed_notices:[k]})}};f.exports=i}),null);
__d("FBAMetaEventCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASE_EVENT:"BaseEvent",STANDARD:"Standard"})}),null);
__d("FBAMetaLoggerConstants",["AnalyticsGKNames","AnalyticsGKs","AppCustomEventType"],(function a(b,c,d,e,f,g){"use strict";var h="page_load",i=[h];if(c("AnalyticsGKs").get(c("AnalyticsGKNames").ANALYTICS_META_APP_BASE_EVENTS))i.push(c("AppCustomEventType").FB_PAGE_VIEW);var j={BASE_EVENTS:i};f.exports=j}),null);
__d("FBAMetaLogger",["FBAMetaEventCategory","FBAMetaLoggerConstants","Queue"],(function a(b,c,d,e,f,g){"use strict";var h=c("FBAMetaLoggerConstants").BASE_EVENTS;function i(){this.$FBAMetaLogger1=[];this.$FBAMetaLogger2=[]}i.prototype.addLoggingStrategy=function(j){var k=new(c("Queue"))({processor:function m(n){j.logRawEvent(n)}});this.$FBAMetaLogger1.push(k);var l=new(c("Queue"))({processor:function m(n){j.updateUserProperties(n)}});this.$FBAMetaLogger2.push(l);j.isReady().done(function(){k.start();l.start()})};i.prototype.logEvent=function(j,k,l){var m=this.$FBAMetaLogger3(j),n={eventName:m,params:k,valueToSum:l,eventCategory:c("FBAMetaEventCategory").STANDARD};this.$FBAMetaLogger1.forEach(function(o){o.enqueue(n)})};i.prototype.logBaseEvents=function(){h.forEach(function(j){this.$FBAMetaLogger1.forEach(function(k){k.enqueue({eventName:j,eventCategory:c("FBAMetaEventCategory").BASE_EVENT})})}.bind(this))};i.prototype.updateUserProperties=function(j){this.$FBAMetaLogger2.forEach(function(k){k.enqueue(j)})};i.prototype.$FBAMetaLogger3=function(j){var k=j.namespace,l=j.component,m=j.action,n=j.status;return[k,l,m,n].filter(function(o){return o!=null}).join("_")};f.exports=i}),null);
__d("FBAMetaLoggerWWW",["FBAMetaLogger","FBAMetaLoggingSDKStrategy"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("FBAMetaLogger"))();function i(j){h.addLoggingStrategy(new(c("FBAMetaLoggingSDKStrategy"))(j))}f.exports={initMetaLogger:i,META_LOGGER:h}}),null);
__d("FBAMetaLoggingStrategy",["invariant","Promise"],(function a(b,c,d,e,f,g,h){"use strict";function i(){this.isReady=function(){return this.$FBAMetaLoggingStrategy2}.bind(this);this.$FBAMetaLoggingStrategy2=new(c("Promise"))(function(j){this.$FBAMetaLoggingStrategy1=j}.bind(this))}i.prototype.logRawEvent=function(j){h(0)};i.prototype.updateUserProperties=function(j){h(0)};i.prototype.__ready=function(){this.$FBAMetaLoggingStrategy1(true)};f.exports=i}),null);
__d("FBAMetaLoggingSDKStrategy",["invariant","AnalyticsEventLoggerStore","AnalyticsGraphAPIConfig","AnalyticsStore","BonsaiConfig","CurrentUser","Env","FBAMetaEventCategory","FBAMetaLoggingStrategy","InsightsNumUtils","Set","URI","WebStorage"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AnalyticsGraphAPIConfig").GRAPH_API_VERSION,l=c("BonsaiConfig").isEmployee,m=c("BonsaiConfig").isInternal,n=c("BonsaiConfig").META_APP_ID,o=c("BonsaiConfig").INTERNAL_META_APP_ID,p=c("InsightsNumUtils").prettyShortInt,q="analytics_ref_src",r="analytics_ref_id",s=/^[0-9a-zA-Z_][0-9a-zA-Z _-]{0,39}$/,t=40,u=new(c("Set"))(["event"]),v=/^[A-Z][0-9a-zA-Z]*(_[A-Z][0-9a-zA-Z]*){2,3}$/;i=babelHelpers.inherits(w,c("FBAMetaLoggingStrategy"));j=i&&i.prototype;function w(x){j.constructor.call(this);this._initSDK=function(){var y=this.__getMetaAppID();window.FB.init({appId:y,xfbml:true,version:"v"+k});window.FB.AppEvents.setUserID(c("CurrentUser").getID());this.__ready()}.bind(this);this._analyticsEntity=x;this._setAttributionInfo();window.fbAsyncInit=this._initSDK;(function(y,z,A){var B=void 0,C=y.getElementsByTagName(z)[0];if(y.getElementById(A))return;B=y.createElement(z);B.id=A;B.src="https://connect.facebook.net/en_US/sdk.js";C.parentNode.insertBefore(B,C)})(document,"script","facebook-jssdk")}w.prototype.__getMetaAppID=function(){return l?o:n};w.prototype.__getDebuggingPrefix=function(){return"META_V1"};w.prototype.logRawEvent=function(x){var y=x.eventName,z=x.params,A=x.valueToSum,B=x.eventCategory,C=babelHelpers["extends"]({},this._sanitizeParams(z),this._getCommonParams());this._logDebugEventToConsole(y,C,A);window.FB.AppEvents.logEvent(y,A,C)};w.prototype.updateUserProperties=function(x){this._logDebugUserPropertiesToConsole(x);window.FB.AppEvents.updateUserProperties(babelHelpers["extends"]({},x,{last_viewed_analytics_entity_id:String(this._analyticsEntity.id),last_view_time:Math.round(Date.now()/1e3)}))};w.prototype._setAttributionInfo=function(){var x=c("URI").getNextURI().getQueryData();this._setAnalyticsPropertyCookie(q,x.__aref_src);this._setAnalyticsPropertyCookie(r,x.__aref_id)};w.prototype._setAnalyticsPropertyCookie=function(x,y){if(!c("Env").no_cookies){var z=c("WebStorage").getLocalStorage();if(z)if(y)z.setItem(x,y);else z.removeItem(x)}};w.prototype._logDebugEventToConsole=function(x,y,z){this._logDebugInfoToConsole("EVENT",x,babelHelpers["extends"]({eventName:x},y,{valueToSum:z}))};w.prototype._logDebugInfoToConsole=function(x,y,z){if(this._isDebugLoggingEventsToConsoleAllowed()){var A=c("URI").getNextURI();if(A.getQueryData().log_meta_app_events_to_console){console.groupCollapsed("["+this.__getDebuggingPrefix()+" "+x+"]: "+y);console.groupEnd()}}};w.prototype._isDebugLoggingEventsToConsoleAllowed=function(){return l&&m};w.prototype._getCommonParams=function(){var x=c("AnalyticsEventLoggerStore").getMAU();return{_app_user_id:c("CurrentUser").getID(),entity_id:this._analyticsEntity.id,entity_category:this._analyticsEntity.category,event_source_type:this._analyticsEntity.type,raw_entity_mau:x,bucketed_entity_mau:this._getMauBucket(x),ref_id:this._getAnalyticsPropertyCookie(r),ref_source:this._getAnalyticsPropertyCookie(q),section:this._getSection()}};w.prototype._getAnalyticsPropertyCookie=function(x){if(!c("Env").no_cookies){var y=c("WebStorage").getLocalStorageForRead();return y?y.getItem(x):null}return null};w.prototype._getSection=function(){return c("AnalyticsStore").getState().navigation.section};w.prototype._getMauBucket=function(x){return x?">= "+p(Math.pow(10,Math.floor(Math.log10(x)))):null};w.prototype._logDebugUserPropertiesToConsole=function(x){this._logDebugInfoToConsole("USER PROPS",c("CurrentUser").getID(),x)};w.prototype._sanitizeParams=function(x){var y={};for(var z in x)if(u.has(z))y[z+"_"]=x[z];else y[z]=x[z];return y};w.prototype._isValidEventName=function(x,y){switch(y){case c("FBAMetaEventCategory").STANDARD:return v.test(x)&&x.length<=t;case c("FBAMetaEventCategory").BASE_EVENT:return s.test(x);default:return false}};f.exports=w}),null);
__d("InsightsEventDebounceLogger",["InsightsEventLogger"],(function a(b,c,d,e,f,g){var h=1500,i={},j={logEvent:function k(l,m){var n=m||l._eventName;if(i[n]===undefined)i[n]=null;if(i[n])clearTimeout(i[n]);i[n]=setTimeout(c("InsightsEventLogger").logEvent.bind(undefined,l),h)}};f.exports=j}),null);
__d("InsightsEventLogger",["AnalyticsEventLoggerStore","AnalyticsStore","BonsaiConfig","CurrentUser","Env","FBAppEvents","InsightsContext","InsightsNumUtils","Queue","URI","WebStorage","FBAMetaLoggerConstants","DateConsts","Set"],(function a(b,c,d,e,f,g){"use strict";var h=c("FBAMetaLoggerConstants").BASE_EVENTS,i=c("DateConsts").MS_PER_DAY,j=/^[0-9a-zA-Z_][0-9a-zA-Z _-]{0,39}$/,k="analytics_ref_src",l="analytics_ref_id",m=new(c("Set"))(["event"]),n=c("Queue").get("_logEventQueue"),o=c("Queue").get("_userPropQueue"),p=null,q=null,r=null,s=null;function t(S){var T=babelHelpers["extends"]({},S,{last_viewed_analytics_entity_id:c("InsightsContext").getObjID(),last_view_time:Math.round(Date.now()/1e3)});B(T)}function u(S){var T=c("InsightsNumUtils").prettyShortInt;return">= "+T(Math.pow(10,Math.floor(Math.log10(S))))}function v(){h.forEach(function(S){return K({eventName:S})})}function w(K){var S=K.eventName,T=K.valueToSum,U=K.params;c("FBAppEvents").logEvent(y(),S,U,T);D(K)}function x(S){c("FBAppEvents").updateUserProperties(c("CurrentUser").getID(),String(y()),S)}function y(){return c("BonsaiConfig").isEmployee?c("BonsaiConfig").metaAppIdInternal_DEPRECATED:c("BonsaiConfig").metaAppId_DEPRECATED}function z(S,T,U){p=S;q=T;r=U;F();s=c("AnalyticsEventLoggerStore").getMAU();n.start(w);o.start(x);A()}function A(){if(!E())return;var S=new(c("URI"))(window.location.href),T=S.getQueryData();if(T.log_meta_app_events_to_console)return;T.log_meta_app_events_to_console=1;S.setQueryData(T);console.groupCollapsed("Click here to enable logging meta app events to the console");console.groupEnd()}function B(S){o.enqueue(S)}function C(S){var T=babelHelpers["extends"]({},S,I()),U=T._eventName,V=T.valueToSum,W=babelHelpers.objectWithoutProperties(T,["_eventName","valueToSum"]);n.enqueue({eventName:U,valueToSum:V,params:W})}function D(K){try{if(!E())return;var S=new(c("URI"))(window.location.href);if(!S.getQueryData().log_meta_app_events_to_console)return;console.groupCollapsed("[META EVENT]: "+K.eventName);console.groupEnd()}catch(T){}}function E(){return c("BonsaiConfig").isEmployee&&c("BonsaiConfig").isInternal}function F(){var S=c("URI").getNextURI().getQueryData();Q(k,S.__aref_src);Q(l,S.__aref_id)}function G(S){var T={};Object.keys(S).forEach(function(U){var V=S[U];if(V!==null)T[U]=V});return T}function H(){return c("AnalyticsStore").getState().navigation.section}function I(){return G({_app_user_id:c("CurrentUser").getID(),app_id:p,entity_category:r,event_source_type:q,raw_entity_mau:s,bucketed_entity_mau:s?u(s):null,ref_id:P(l),ref_source:P(k),section:H()})}function J(S){var T={};for(var U in S)if(m.has(U))T[U+"_"]=S[U];else T[U]=S[U];return T}function K(S){var T=S.eventName,U=babelHelpers.objectWithoutProperties(S,["eventName"]),V=babelHelpers["extends"]({_eventName:T},J(U));C(V)}function L(S,T,U){var V=babelHelpers["extends"]({},R(S,T),{eventName:"date_range_change",preset:U});K(V)}function M(S,T){var U=c("InsightsContext").getActiveSectionName().toLowerCase(),V={eventName:U+"_card_view",card:S};for(var W in T)if(Object.prototype.hasOwnProperty.call(T,W)&&V[W]===undefined)V[W]=T[W];K(V)}function N(S,T,U){var V=babelHelpers["extends"]({},R(T.since.getTime(),T.until.getTime()),U);M(S,V)}function O(S){return j.test(S)}function P(S){if(!c("Env").no_cookies){var T=c("WebStorage").getLocalStorageForRead();return T?T.getItem(S):null}return null}function Q(S,T){if(!c("Env").no_cookies){var U=c("WebStorage").getLocalStorage();if(U)if(T)U.setItem(S,T);else U.removeItem(S)}}function R(S,T){return{days_in_range:Math.floor(T/i)-Math.floor(S/i)+1,range_end_days_before_now:Math.floor(Date.now()/i)-Math.floor(T/i)}}f.exports={init:z,logCardView:M,logCardViewWithDateRange:N,logEvent:K,logDateRangeChange:L,logBaseEvents:v,logUserProperty:t,TESTING_ONLY_isValidEventName:O,TESTING_ONLY_setAnalyticsPropertyCookie:Q,TESTING_ONLY_getAnalyticsPropertyCookie:P,TESTING_ONLY_getMauBucket:u}}),null);
__d("XBonsaiMainController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/insights/{obj_id}/",{obj_id:{type:"Int",required:true},section:{type:"String"},subsection:{type:"String"},custom_event_name:{type:"String"}})}),null);
__d("AppInsightsURI",["XBonsaiMainController","XAppAnalyticsMainController"],(function a(b,c,d,e,f,g){var h={getURIBuilder:function i(j,k){var l=c("XAppAnalyticsMainController").getURIBuilder();return l.setInt("obj_id",parseInt(j,10))},getURI:function i(j,k){return h.getURIBuilder(j,k).getURI()}};f.exports=h}),null);